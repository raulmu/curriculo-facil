"use strict";(self.webpackChunkcurriculo_facil=self.webpackChunkcurriculo_facil||[]).push([[179],{2011:(ht,ke,L)=>{L.d(ke,{Dh:()=>me,GT:()=>ye,cc:()=>Ne,hO:()=>Ge,on:()=>W,pX:()=>de,xv:()=>we});var a=L(4650),H=L(127),P=L(5813);ht=L.hmd(ht);const ce=["ngOnDestroy"],de=(_e,it,rt,Fe={})=>new Proxy(_e,{get:(Re,Se)=>rt.runOutsideAngular(()=>{var We;if(_e[Se])return!(null===(We=Fe?.spy)||void 0===We)&&We.get&&Fe.spy.get(Se,_e[Se]),_e[Se];if(ce.indexOf(Se)>-1)return()=>{};const le=it.toPromise().then(he=>{const be=he&&he[Se];return"function"==typeof be?be.bind(he):be&&be.then?be.then(J=>rt.run(()=>J)):rt.run(()=>be)});return new Proxy(()=>{},{get:(he,be)=>le[be],apply:(he,be,J)=>le.then(ne=>{var ge;const ue=ne&&ne(...J);return!(null===(ge=Fe?.spy)||void 0===ge)&&ge.apply&&Fe.spy.apply(Se,J,ue),ue})})})}),ye=(_e,it)=>{it.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Fe=>{Object.defineProperty(_e.prototype,Fe,Object.getOwnPropertyDescriptor(rt.prototype||rt,Fe))})})};class ae{constructor(it){return it}}const me=new a.OlP("angularfire2.app.options"),we=new a.OlP("angularfire2.app.name");function W(_e,it,rt){const Re="object"==typeof rt&&rt||{};Re.name=Re.name||"string"==typeof rt&&rt||"[DEFAULT]";const We=H.Z.apps.filter(le=>le&&le.name===Re.name)[0]||it.runOutsideAngular(()=>H.Z.initializeApp(_e,Re));try{JSON.stringify(_e)!==JSON.stringify(We.options)&&Z("error",`${We.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ae(We)}const Z=(_e,...it)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...it)},ee={provide:ae,useFactory:W,deps:[me,a.R0b,[new a.FiY,we]]};let Ge=(()=>{class _e{constructor(rt){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",a.q4F.full,rt.toString())}static initializeApp(rt,Fe){return{ngModule:_e,providers:[{provide:me,useValue:rt},{provide:we,useValue:Fe}]}}}return _e.\u0275fac=function(rt){return new(rt||_e)(a.LFG(a.Lbi))},_e.\u0275mod=a.oAB({type:_e}),_e.\u0275inj=a.cJS({providers:[ee]}),_e})();function Ne(_e,it,rt,Fe,Re){const[,Se,We]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===_e)||[];if(Se)return function Ie(_e,it){try{return _e.toString()===it.toString()}catch{return _e===it}}(Re,We)||(Ee("error",`${it} was already initialized on the ${rt} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),Ee("warn",{is:Re,was:We})),Se;{const le=Fe();return globalThis.\u0275AngularfireInstanceCache.push([_e,le,Re]),le}}const lt=!!ht.hot,Ee=(_e,...it)=>{(0,a.X6Q)()&&typeof console<"u"&&console[_e](...it)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,ke,L)=>{L.d(ke,{q4:()=>yr,iC:()=>qr,fc:()=>Ha,HU:()=>Ba,vb:()=>kc,JM:()=>Mc});var a=L(4650),H=L(5867),P=L(5861),ce=L(9681),de=L(2090),ye=L(4859),ae=L(1877),me=L(8766);const we="@firebase/installations",W="0.5.12",ee=`w:${W}`,Ge="FIS_v2",it=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function rt(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function Fe({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Re(S){return{token:S.token,requestStatus:2,expiresIn:ne(S.expiresIn),creationTime:Date.now()}}function Se(S,T){return We.apply(this,arguments)}function We(){return(We=(0,P.Z)(function*(S,T){const U=(yield T.json()).error;return it.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function le({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function he(S,{refreshToken:T}){const k=le(S);return k.append("Authorization",function ge(S){return`${Ge} ${S}`}(T)),k}function be(S){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function ne(S){return Number(S.replace("s","000"))}function ue(S,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:k}){const U=Fe(S),te=le(S),fe=T.getImmediate({optional:!0});if(fe){const kt=yield fe.getHeartbeatsHeader();kt&&te.append("x-firebase-client",kt)}const Ke={method:"POST",headers:te,body:JSON.stringify({fid:k,authVersion:Ge,appId:S.appId,sdkVersion:ee})},wt=yield be(()=>fetch(U,Ke));if(wt.ok){const kt=yield wt.json();return{fid:kt.fid||k,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Re(kt.authToken)}}throw yield Se("Create Installation",wt)})).apply(this,arguments)}function He(S){return new Promise(T=>{setTimeout(T,S)})}const en=/^[cdef][\w-]{21}$/;function Ye(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function Dn(S){return function yt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return en.test(k)?k:""}catch{return""}}function $n(S){return`${S.appName}!${S.appId}`}const ln=new Map;function tn(S,T){const k=$n(S);Ri(k,T),function Do(S,T){const k=function Nn(){return!Oi&&"BroadcastChannel"in self&&(Oi=new BroadcastChannel("[Firebase] FID Change"),Oi.onmessage=S=>{Ri(S.data.key,S.data.fid)}),Oi}();k&&k.postMessage({key:S,fid:T}),function Cs(){0===ln.size&&Oi&&(Oi.close(),Oi=null)}()}(k,T)}function Ri(S,T){const k=ln.get(S);if(k)for(const U of k)U(T)}let Oi=null;const Gn="firebase-installations-store";let Hr=null;function os(){return Hr||(Hr=(0,me.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(Gn)}})),Hr}function st(S,T){return Si.apply(this,arguments)}function Si(){return(Si=(0,P.Z)(function*(S,T){const k=$n(S),te=(yield os()).transaction(Gn,"readwrite"),fe=te.objectStore(Gn),Pe=yield fe.get(k);return yield fe.put(T,k),yield te.done,(!Pe||Pe.fid!==T.fid)&&tn(S,T.fid),T})).apply(this,arguments)}function zn(S){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(S){const T=$n(S),U=(yield os()).transaction(Gn,"readwrite");yield U.objectStore(Gn).delete(T),yield U.done})).apply(this,arguments)}function Ti(S,T){return as.apply(this,arguments)}function as(){return(as=(0,P.Z)(function*(S,T){const k=$n(S),te=(yield os()).transaction(Gn,"readwrite"),fe=te.objectStore(Gn),Pe=yield fe.get(k),Ke=T(Pe);return void 0===Ke?yield fe.delete(k):yield fe.put(Ke,k),yield te.done,Ke&&(!Pe||Pe.fid!==Ke.fid)&&tn(S,Ke.fid),Ke})).apply(this,arguments)}function kn(S){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(S){let T;const k=yield Ti(S.appConfig,U=>{const te=In(U),fe=pt(S,te);return T=fe.registrationPromise,fe.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function In(S){return Mt(S||{fid:Ye(),registrationStatus:0})}function pt(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(it.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function mt(S,T){return Nt.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:nr(S)}:{installationEntry:T}}function Nt(){return(Nt=(0,P.Z)(function*(S,T){try{const k=yield ue(S,T);return st(S.appConfig,k)}catch(k){throw rt(k)&&409===k.customData.serverCode?yield zn(S.appConfig):yield st(S.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function nr(S){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,P.Z)(function*(S){let T=yield Pi(S.appConfig);for(;1===T.registrationStatus;)yield He(100),T=yield Pi(S.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield kn(S);return U||k}return T})).apply(this,arguments)}function Pi(S){return Ti(S,T=>{if(!T)throw it.create("installation-not-found");return Mt(T)})}function Mt(S){return function Zi(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Lt(S,T){return fr.apply(this,arguments)}function fr(){return(fr=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:T},k){const U=Yt(S,k),te=he(S,k),fe=T.getImmediate({optional:!0});if(fe){const kt=yield fe.getHeartbeatsHeader();kt&&te.append("x-firebase-client",kt)}const Ke={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ee,appId:S.appId}})},wt=yield be(()=>fetch(U,Ke));if(wt.ok)return Re(yield wt.json());throw yield Se("Generate Auth Token",wt)})).apply(this,arguments)}function Yt(S,{fid:T}){return`${Fe(S)}/${T}/authTokens:generate`}function X(S){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(S,T=!1){let k;const U=yield Ti(S.appConfig,fe=>{if(!Ct(fe))throw it.create("not-registered");const Pe=fe.authToken;if(!T&&mn(Pe))return fe;if(1===Pe.requestStatus)return k=j(S,T),fe;{if(!navigator.onLine)throw it.create("app-offline");const Ke=li(fe);return k=Ae(S,Ke),Ke}});return k?yield k:U.authToken})).apply(this,arguments)}function j(S,T){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(S,T){let k=yield K(S.appConfig);for(;1===k.authToken.requestStatus;)yield He(100),k=yield K(S.appConfig);const U=k.authToken;return 0===U.requestStatus?X(S,T):U})).apply(this,arguments)}function K(S){return Ti(S,T=>{if(!Ct(T))throw it.create("not-registered");return function re(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ae(S,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(S,T){try{const k=yield Lt(S,T),U=Object.assign(Object.assign({},T),{authToken:k});return yield st(S.appConfig,U),k}catch(k){if(!rt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield st(S.appConfig,U)}else yield zn(S.appConfig);throw k}})).apply(this,arguments)}function Ct(S){return void 0!==S&&2===S.registrationStatus}function mn(S){return 2===S.requestStatus&&!function pn(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function li(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function q(){return(q=(0,P.Z)(function*(S){const T=S,{installationEntry:k,registrationPromise:U}=yield kn(T);return U?U.catch(console.error):X(T).catch(console.error),k.fid})).apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(S,T=!1){const k=S;return yield vt(k),(yield X(k,T)).token})).apply(this,arguments)}function vt(S){return It.apply(this,arguments)}function It(){return(It=(0,P.Z)(function*(S){const{registrationPromise:T}=yield kn(S);T&&(yield T)})).apply(this,arguments)}function Io(S){return it.create("missing-app-config-values",{valueName:S})}const So="installations",To=S=>{const T=S.getProvider("app").getImmediate(),k=function On(S){if(!S||!S.options)throw Io("App Configuration");if(!S.name)throw Io("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!S.options[k])throw Io(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},ua=S=>{const T=S.getProvider("app").getImmediate(),k=(0,ce._getProvider)(T,So).getImmediate();return{getId:()=>function $(S){return q.apply(this,arguments)}(k),getToken:te=>function Ce(S){return Ze.apply(this,arguments)}(k,te)}};(function fc(){(0,ce._registerComponent)(new ye.wA(So,To,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("installations-internal",ua,"PRIVATE"))})(),(0,ce.registerVersion)(we,W),(0,ce.registerVersion)(we,W,"esm2017");const Ds="@firebase/remote-config",ni=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class mc{constructor(T,k,U,te){this.client=T,this.storage=k,this.storageCache=U,this.logger=te}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,te=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${te}.`),te}fetch(T){var k=this;return(0,P.Z)(function*(){const[U,te]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(te&&k.isCachedDataFresh(T.cacheMaxAgeMillis,U))return te;T.eTag=te&&te.eTag;const fe=yield k.client.fetch(T),Pe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Pe.push(k.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Pe),fe})()}}function dl(S=navigator){return S.languages&&S.languages[0]||S.language}class xo{constructor(T,k,U,te,fe,Pe){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=U,this.projectId=te,this.apiKey=fe,this.appId=Pe}fetch(T){var k=this;return(0,P.Z)(function*(){var U,te,fe;const[Pe,Ke]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,$t={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Et={sdk_version:k.sdkVersion,app_instance_id:Pe,app_instance_id_token:Ke,app_id:k.appId,language_code:dl()},fi={method:"POST",headers:$t,body:JSON.stringify(Et)},Bi=fetch(kt,fi),Fl=new Promise((Bl,$a)=>{T.signal.addEventListener(()=>{const Ul=new Error("The operation was aborted.");Ul.name="AbortError",$a(Ul)})});let Ll;try{yield Promise.race([Bi,Fl]),Ll=yield Bi}catch(Bl){let $a="fetch-client-network";throw"AbortError"===(null===(U=Bl)||void 0===U?void 0:U.name)&&($a="fetch-timeout"),ni.create($a,{originalErrorMessage:null===(te=Bl)||void 0===te?void 0:te.message})}let Vl=Ll.status;const jo=Ll.headers.get("ETag")||void 0;let lo,Rc;if(200===Ll.status){let Bl;try{Bl=yield Ll.json()}catch($a){throw ni.create("fetch-client-parse",{originalErrorMessage:null===(fe=$a)||void 0===fe?void 0:fe.message})}lo=Bl.entries,Rc=Bl.state}if("INSTANCE_STATE_UNSPECIFIED"===Rc?Vl=500:"NO_CHANGE"===Rc?Vl=304:("NO_TEMPLATE"===Rc||"EMPTY_CONFIG"===Rc)&&(lo={}),304!==Vl&&200!==Vl)throw ni.create("fetch-status",{httpStatus:Vl});return{status:Vl,eTag:jo,config:lo}})()}}class Ts{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,P.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:U}){var te=this;return(0,P.Z)(function*(){yield function Sr(S,T){return new Promise((k,U)=>{const te=Math.max(T-Date.now(),0),fe=setTimeout(k,te);S.addEventListener(()=>{clearTimeout(fe),U(ni.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const fe=yield te.client.fetch(T);return yield te.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Mm(S){if(!(S instanceof de.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(fe))throw fe;const Pe={throttleEndTimeMillis:Date.now()+(0,de.$s)(U),backoffCount:U+1};return yield te.storage.setThrottleMetadata(Pe),te.attemptFetch(T,Pe)}})()}}class hl{constructor(T,k,U,te,fe){this.app=T,this._client=k,this._storageCache=U,this._storage=te,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function fl(S,T){var k;const U=S.target.error||void 0;return ni.create(T,{originalErrorMessage:U&&(null===(k=U)||void 0===k?void 0:k.message)})}const fa="app_namespace_store";class Td{constructor(T,k,U,te=function Rm(){return new Promise((S,T)=>{var k;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=te=>{T(fl(te,"storage-open"))},U.onsuccess=te=>{S(te.target.result)},U.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(fa,{keyPath:"compositeKey"})}}catch(U){T(ni.create("storage-open",{originalErrorMessage:null===(k=U)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=U,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,P.Z)(function*(){const U=yield k.openDbPromise;return new Promise((te,fe)=>{var Pe;const wt=U.transaction([fa],"readonly").objectStore(fa),kt=k.createCompositeKey(T);try{const $t=wt.get(kt);$t.onerror=Et=>{fe(fl(Et,"storage-get"))},$t.onsuccess=Et=>{const fi=Et.target.result;te(fi?fi.value:void 0)}}catch($t){fe(ni.create("storage-get",{originalErrorMessage:null===(Pe=$t)||void 0===Pe?void 0:Pe.message}))}})})()}set(T,k){var U=this;return(0,P.Z)(function*(){const te=yield U.openDbPromise;return new Promise((fe,Pe)=>{var Ke;const kt=te.transaction([fa],"readwrite").objectStore(fa),$t=U.createCompositeKey(T);try{const Et=kt.put({compositeKey:$t,value:k});Et.onerror=fi=>{Pe(fl(fi,"storage-set"))},Et.onsuccess=()=>{fe()}}catch(Et){Pe(ni.create("storage-set",{originalErrorMessage:null===(Ke=Et)||void 0===Ke?void 0:Ke.message}))}})})()}delete(T){var k=this;return(0,P.Z)(function*(){const U=yield k.openDbPromise;return new Promise((te,fe)=>{var Pe;const wt=U.transaction([fa],"readwrite").objectStore(fa),kt=k.createCompositeKey(T);try{const $t=wt.delete(kt);$t.onerror=Et=>{fe(fl(Et,"storage-delete"))},$t.onsuccess=()=>{te()}}catch($t){fe(ni.create("storage-delete",{originalErrorMessage:null===(Pe=$t)||void 0===Pe?void 0:Pe.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class pa{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const k=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),te=T.storage.getActiveConfig(),fe=yield k;fe&&(T.lastFetchStatus=fe);const Pe=yield U;Pe&&(T.lastSuccessfulFetchTimestampMillis=Pe);const Ke=yield te;Ke&&(T.activeConfig=Ke)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function wy(){return gc.apply(this,arguments)}function gc(){return(gc=(0,P.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Ad(){(0,ce._registerComponent)(new ye.wA("remote-config",function S(T,{instanceIdentifier:k}){const U=T.getProvider("app").getImmediate(),te=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ni.create("registration-window");if(!(0,de.hl)())throw ni.create("indexed-db-unavailable");const{projectId:fe,apiKey:Pe,appId:Ke}=U.options;if(!fe)throw ni.create("registration-project-id");if(!Pe)throw ni.create("registration-api-key");if(!Ke)throw ni.create("registration-app-id");const wt=new Td(Ke,U.name,k=k||"firebase"),kt=new pa(wt),$t=new ae.Yd(Ds);$t.logLevel=ae.in.ERROR;const Et=new xo(te,ce.SDK_VERSION,k,fe,Pe,Ke),fi=new Ts(Et,wt),Bi=new mc(fi,wt,kt,$t),Fl=new hl(U,Bi,kt,wt,$t);return function gn(S){const T=(0,de.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Fl),Fl},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Ds,"0.3.11"),(0,ce.registerVersion)(Ds,"0.3.11","esm2017")}();const Ni="/firebase-messaging-sw.js",ga="/firebase-cloud-messaging-push-scope",Xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",_c="google.c.a.c_id",fu="google.c.a.c_l",xd="google.c.a.ts",_a="google.c.a.e";var Tr=(()=>{return(S=Tr||(Tr={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Tr;var S})();function As(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gr(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),te=new Uint8Array(U.length);for(let fe=0;fe<U.length;++fe)te[fe]=U.charCodeAt(fe);return te}const Oo="fcm_token_details_db",ya="fcm_token_object_Store";function Om(S){return pu.apply(this,arguments)}function pu(){return pu=(0,P.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Oo))return null;let T=null;return(yield(0,me.X3)(Oo,5,{upgrade:(U=(0,P.Z)(function*(te,fe,Pe,Ke){var wt;if(fe<2||!te.objectStoreNames.contains(ya))return;const kt=Ke.objectStore(ya),$t=yield kt.index("fcmSenderId").get(S);if(yield kt.clear(),$t)if(2===fe){const Et=$t;if(!Et.auth||!Et.p256dh||!Et.endpoint)return;T={token:Et.fcmToken,createTime:null!==(wt=Et.createTime)&&void 0!==wt?wt:Date.now(),subscriptionOptions:{auth:Et.auth,p256dh:Et.p256dh,endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:"string"==typeof Et.vapidKey?Et.vapidKey:As(Et.vapidKey)}}}else if(3===fe){const Et=$t;T={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:As(Et.auth),p256dh:As(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:As(Et.vapidKey)}}}else if(4===fe){const Et=$t;T={token:Et.fcmToken,createTime:Et.createTime,subscriptionOptions:{auth:As(Et.auth),p256dh:As(Et.p256dh),endpoint:Et.endpoint,swScope:Et.swScope,vapidKey:As(Et.vapidKey)}}}}),function(fe,Pe,Ke,wt){return U.apply(this,arguments)})})).close(),yield(0,me.Lj)(Oo),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),Un(T)?T:null;var U}),pu.apply(this,arguments)}function Un(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const $r="firebase-messaging-store";let Fi=null;function yc(){return Fi||(Fi=(0,me.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore($r)}})),Fi}function Po(S){return ls.apply(this,arguments)}function ls(){return(ls=(0,P.Z)(function*(S){const T=Mr(S),U=yield(yield yc()).transaction($r).objectStore($r).get(T);if(U)return U;{const te=yield Om(S.appConfig.senderId);if(te)return yield un(S,te),te}})).apply(this,arguments)}function un(S,T){return vc.apply(this,arguments)}function vc(){return(vc=(0,P.Z)(function*(S,T){const k=Mr(S),te=(yield yc()).transaction($r,"readwrite");return yield te.objectStore($r).put(T,k),yield te.done,T})).apply(this,arguments)}function Js(S){return mu.apply(this,arguments)}function mu(){return(mu=(0,P.Z)(function*(S){const T=Mr(S),U=(yield yc()).transaction($r,"readwrite");yield U.objectStore($r).delete(T),yield U.done})).apply(this,arguments)}function Mr({appConfig:S}){return S.appId}const qn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pt(S,T){return ml.apply(this,arguments)}function ml(){return(ml=(0,P.Z)(function*(S,T){var k;const U=yield yl(S),te=Oe(T),fe={method:"POST",headers:U,body:JSON.stringify(te)};let Pe;try{Pe=yield(yield fetch(No(S.appConfig),fe)).json()}catch(Ke){throw qn.create("token-subscribe-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(Pe.error)throw qn.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw qn.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function Pm(S,T){return gl.apply(this,arguments)}function gl(){return(gl=(0,P.Z)(function*(S,T){var k;const U=yield yl(S),te=Oe(T.subscriptionOptions),fe={method:"PATCH",headers:U,body:JSON.stringify(te)};let Pe;try{Pe=yield(yield fetch(`${No(S.appConfig)}/${T.token}`,fe)).json()}catch(Ke){throw qn.create("token-update-failed",{errorInfo:null===(k=Ke)||void 0===k?void 0:k.toString()})}if(Pe.error)throw qn.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw qn.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function Od(S,T){return _l.apply(this,arguments)}function _l(){return(_l=(0,P.Z)(function*(S,T){var k;const te={method:"DELETE",headers:yield yl(S)};try{const Pe=yield(yield fetch(`${No(S.appConfig)}/${T}`,te)).json();if(Pe.error)throw qn.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(fe){throw qn.create("token-unsubscribe-failed",{errorInfo:null===(k=fe)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function No({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function yl(S){return va.apply(this,arguments)}function va(){return(va=(0,P.Z)(function*({appConfig:S,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Oe({p256dh:S,auth:T,endpoint:k,vapidKey:U}){const te={web:{endpoint:k,auth:T,p256dh:S}};return U!==Xs&&(te.web.applicationPubKey=U),te}const Kt=6048e5;function mf(S){return ba.apply(this,arguments)}function ba(){return(ba=(0,P.Z)(function*(S){const T=yield gf(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:As(T.getKey("auth")),p256dh:As(T.getKey("p256dh"))},U=yield Po(S.firebaseDependencies);if(U){if(Nm(U.subscriptionOptions,k))return Date.now()>=U.createTime+Kt?bc(S,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield Od(S.firebaseDependencies,U.token)}catch(te){console.warn(te)}return wc(S.firebaseDependencies,k)}return wc(S.firebaseDependencies,k)})).apply(this,arguments)}function ui(S){return wa.apply(this,arguments)}function wa(){return(wa=(0,P.Z)(function*(S){const T=yield Po(S.firebaseDependencies);T&&(yield Od(S.firebaseDependencies,T.token),yield Js(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function bc(S,T){return ir.apply(this,arguments)}function ir(){return(ir=(0,P.Z)(function*(S,T){try{const k=yield Pm(S.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield un(S.firebaseDependencies,U),k}catch(k){throw yield ui(S),k}})).apply(this,arguments)}function wc(S,T){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,P.Z)(function*(S,T){const U={token:yield Pt(S,T),createTime:Date.now(),subscriptionOptions:T};return yield un(S,U),U.token})).apply(this,arguments)}function gf(S,T){return vl.apply(this,arguments)}function vl(){return(vl=(0,P.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gr(T)})})).apply(this,arguments)}function Nm(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function Ms(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function di(S,T){if(!T.notification)return;S.notification={};const k=T.notification.title;k&&(S.notification.title=k);const U=T.notification.body;U&&(S.notification.body=U);const te=T.notification.image;te&&(S.notification.image=te)}(T,S),function cs(S,T){!T.data||(S.data=T.data)}(T,S),function bl(S,T){var k,U,te,fe,Pe;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const Ke=null!==(te=null===(U=T.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==te?te:null===(fe=T.notification)||void 0===fe?void 0:fe.click_action;Ke&&(S.fcmOptions.link=Ke);const wt=null===(Pe=T.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;wt&&(S.fcmOptions.analyticsLabel=wt)}(T,S),T}function wl(S){return"object"==typeof S&&!!S&&_c in S}function ks(S,T){const k=[];for(let U=0;U<S.length;U++)k.push(S.charAt(U)),U<T.length&&k.push(T.charAt(U));return k.join("")}function gu(S){return qn.create("missing-app-config-values",{valueName:S})}ks("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ks("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Nd{constructor(T,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function Pd(S){if(!S||!S.options)throw gu("App Configuration Object");if(!S.name)throw gu("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const U of T)if(!k[U])throw gu(U);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:te,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function _f(S){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,P.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register(Ni,{scope:ga}),S.swRegistration.update().catch(()=>{})}catch(k){throw qn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function _u(S,T){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,P.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield _f(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw qn.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function yu(S,T){return El.apply(this,arguments)}function El(){return(El=(0,P.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=Xs)})).apply(this,arguments)}function Da(){return(Da=(0,P.Z)(function*(S,T){if(!navigator)throw qn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw qn.create("permission-blocked");return yield yu(S,T?.vapidKey),yield _u(S,T?.serviceWorkerRegistration),mf(S)})).apply(this,arguments)}function yf(S,T,k){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,P.Z)(function*(S,T,k){const U=vf(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[_c],message_name:k[fu],message_time:k[xd],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function vf(S){switch(S){case Tr.NOTIFICATION_CLICKED:return"notification_open";case Tr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eo(){return(eo=(0,P.Z)(function*(S,T){const k=T.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===Tr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ms(k)):S.onMessageHandler.next(Ms(k)));const U=k.data;wl(U)&&"1"===U[_a]&&(yield yf(S,k.messageType,U))})).apply(this,arguments)}const to="@firebase/messaging",Ln=S=>{const T=new Nd(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Ld(S,T){return eo.apply(this,arguments)}(T,k)),T},xs=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:U=>function Fd(S,T){return Da.apply(this,arguments)}(T,U)}};function vu(){return bu.apply(this,arguments)}function bu(){return(bu=(0,P.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Vn(){(0,ce._registerComponent)(new ye.wA("messaging",Ln,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("messaging-internal",xs,"PRIVATE")),(0,ce.registerVersion)(to,"0.9.16"),(0,ce.registerVersion)(to,"0.9.16","esm2017")}();const Ta="analytics",jd="firebase_id",Du="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$d="https://www.googletagmanager.com/gtag/js",Wn=new ae.Yd("@firebase/analytics");function Cc(S){return Promise.all(S.map(T=>T.catch(k=>k)))}function Ec(S,T){const k=document.createElement("script");k.src=`${$d}?l=${S}&id=${T}`,k.async=!0,document.head.appendChild(k)}function bf(S,T,k,U,te,fe){return Il.apply(this,arguments)}function Il(){return(Il=(0,P.Z)(function*(S,T,k,U,te,fe){const Pe=U[te];try{if(Pe)yield T[Pe];else{const wt=(yield Cc(k)).find(kt=>kt.measurementId===te);wt&&(yield T[wt.appId])}}catch(Ke){Wn.error(Ke)}S("config",te,fe)})).apply(this,arguments)}function Rs(S,T,k,U,te){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,P.Z)(function*(S,T,k,U,te){try{let fe=[];if(te&&te.send_to){let Pe=te.send_to;Array.isArray(Pe)||(Pe=[Pe]);const Ke=yield Cc(k);for(const wt of Pe){const kt=Ke.find(Et=>Et.measurementId===wt),$t=kt&&T[kt.appId];if(!$t){fe=[];break}fe.push($t)}}0===fe.length&&(fe=Object.values(T)),yield Promise.all(fe),S("event",U,te||{})}catch(fe){Wn.error(fe)}})).apply(this,arguments)}function Gd(){const S=window.document.getElementsByTagName("script");for(const T of Object.values(S))if(T.src&&T.src.includes($d))return T;return null}const hi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Al=new class Su{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Aa(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Ef(S){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,P.Z)(function*(S){var T;const{appId:k,apiKey:U}=S,te={method:"GET",headers:Aa(U)},fe=Du.replace("{app-id}",k),Pe=yield fetch(fe,te);if(200!==Pe.status&&304!==Pe.status){let Ke="";try{const wt=yield Pe.json();null!==(T=wt.error)&&void 0!==T&&T.message&&(Ke=wt.error.message)}catch{}throw hi.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:Ke})}return Pe.json()})).apply(this,arguments)}function zd(S){return _r.apply(this,arguments)}function _r(){return(_r=(0,P.Z)(function*(S,T=Al,k){const{appId:U,apiKey:te,measurementId:fe}=S.options;if(!U)throw hi.create("no-app-id");if(!te){if(fe)return{measurementId:fe,appId:U};throw hi.create("no-api-key")}const Pe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ke=new Ml;return setTimeout((0,P.Z)(function*(){Ke.abort()}),void 0!==k?k:6e4),qd({appId:U,apiKey:te,measurementId:fe},Pe,Ke,T)})).apply(this,arguments)}function qd(S,T,k){return Os.apply(this,arguments)}function Os(){return(Os=(0,P.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:k},U,te=Al){var fe,Pe;const{appId:Ke,measurementId:wt}=S;try{yield Tu(U,T)}catch(kt){if(wt)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wt} provided in the "measurementId" field in the local Firebase config. [${null===(fe=kt)||void 0===fe?void 0:fe.message}]`),{appId:Ke,measurementId:wt};throw kt}try{const kt=yield Ef(S);return te.deleteThrottleMetadata(Ke),kt}catch(kt){const $t=kt;if(!Ic($t)){if(te.deleteThrottleMetadata(Ke),wt)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${wt} provided in the "measurementId" field in the local Firebase config. [${$t?.message}]`),{appId:Ke,measurementId:wt};throw kt}const Et=503===Number(null===(Pe=$t?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,de.$s)(k,te.intervalMillis,30):(0,de.$s)(k,te.intervalMillis),fi={throttleEndTimeMillis:Date.now()+Et,backoffCount:k+1};return te.setThrottleMetadata(Ke,fi),Wn.debug(`Calling attemptFetch again in ${Et} millis`),qd(S,fi,U,te)}})).apply(this,arguments)}function Tu(S,T){return new Promise((k,U)=>{const te=Math.max(T-Date.now(),0),fe=setTimeout(k,te);S.addEventListener(()=>{clearTimeout(fe),U(hi.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Ic(S){if(!(S instanceof de.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ml{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Fo,Tc;function Ma(){return(Ma=(0,P.Z)(function*(S,T,k,U,te){if(te&&te.global)S("event",k,U);else{const fe=yield T;S("event",k,Object.assign(Object.assign({},U),{send_to:fe}))}})).apply(this,arguments)}function Ra(S){Tc=S}function Au(S){Fo=S}function io(){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,P.Z)(function*(){var S;if(!(0,de.hl)())return Wn.warn(hi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(T){return Wn.warn(hi.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(S,T,k,U,te,fe,Pe){var Ke;const wt=zd(S);wt.then(Bi=>{k[Bi.measurementId]=Bi.appId,S.options.measurementId&&Bi.measurementId!==S.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Bi=>Wn.error(Bi)),T.push(wt);const kt=io().then(Bi=>{if(Bi)return U.getId()}),[$t,Et]=yield Promise.all([wt,kt]);Gd()||Ec(fe,$t.measurementId),Tc&&(te("consent","default",Tc),Ra(void 0)),te("js",new Date);const fi=null!==(Ke=Pe?.config)&&void 0!==Ke?Ke:{};return fi.origin="firebase",fi.update=!0,null!=Et&&(fi[jd]=Et),te("config",$t.measurementId,fi),Fo&&(te("set",Fo),Au(void 0)),$t.measurementId})).apply(this,arguments)}class Ac{constructor(T){this.app=T}_delete(){return delete Yi[this.app.options.appId],Promise.resolve()}}let Yi={},Na=[];const Vo={};let La,ds,Fa="dataLayer",Zd=!1;function Sf(S,T,k){!function Fm(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map((U,te)=>`(${te+1}) ${U}`).join(" "),k=hi.create("invalid-analytics-context",{errorInfo:T});Wn.warn(k.message)}}();const U=S.options.appId;if(!U)throw hi.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw hi.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yi[U])throw hi.create("already-exists",{id:U});if(!Zd){!function Dc(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(Fa);const{wrappedGtag:fe,gtagCore:Pe}=function Tl(S,T,k,U,te){let fe=function(...Pe){window[U].push(arguments)};return window[te]&&"function"==typeof window[te]&&(fe=window[te]),window[te]=function Iu(S,T,k,U){function fe(){return(fe=(0,P.Z)(function*(Pe,Ke,wt){try{"event"===Pe?yield Rs(S,T,k,Ke,wt):"config"===Pe?yield bf(S,T,k,U,Ke,wt):"consent"===Pe?S("consent","update",wt):S("set",Ke)}catch(kt){Wn.error(kt)}})).apply(this,arguments)}return function te(Pe,Ke,wt){return fe.apply(this,arguments)}}(fe,S,T,k),{gtagCore:fe,wrappedGtag:window[te]}}(Yi,Na,Vo,Fa,"gtag");ds=fe,La=Pe,Zd=!0}return Yi[U]=function If(S,T,k,U,te,fe,Pe){return Pa.apply(this,arguments)}(S,Na,Vo,T,La,Fa,k),new Ac(S)}function Ey(){return Tf.apply(this,arguments)}function Tf(){return(Tf=(0,P.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Yd="@firebase/analytics";!function Li(){(0,ce._registerComponent)(new ye.wA(Ta,(T,{options:k})=>Sf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new ye.wA("analytics-internal",function S(T){try{const k=T.getProvider(Ta).getImmediate();return{logEvent:(U,te,fe)=>function Bo(S,T,k,U){S=(0,de.m9)(S),function kl(S,T,k,U,te){return Ma.apply(this,arguments)}(ds,Yi[S.app.options.appId],T,k,U).catch(te=>Wn.error(te))}(k,U,te,fe)}}catch(k){throw hi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(Yd,"0.8.0"),(0,ce.registerVersion)(Yd,"0.8.0","esm2017")}();var hs=L(4408),Ho=L(7565);const Rl=new class zr extends Ho.v{}(class so extends hs.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,k,U):T.flush(this)}});var Af=L(4986),Ol=L(8505),Pl=L(5363),Kd=L(9468);const yr=new a.GfV("7.4.1"),Va="__angularfire_symbol__analyticsIsSupportedValue",Vi="__angularfire_symbol__analyticsIsSupported",Nl="__angularfire_symbol__remoteConfigIsSupportedValue",St="__angularfire_symbol__remoteConfigIsSupported",Sn="__angularfire_symbol__messagingIsSupportedValue",vi="__angularfire_symbol__messagingIsSupported";function Mc(S,T,k){if(T){if(1===T.length)return T[0];const fe=T.filter(Pe=>Pe.app===k);if(1===fe.length)return fe[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[Vi]||(globalThis[Vi]=Ey().then(S=>globalThis[Va]=S).catch(()=>globalThis[Va]=!1)),globalThis[vi]||(globalThis[vi]=vu().then(S=>globalThis[Sn]=S).catch(()=>globalThis[Sn]=!1)),globalThis[St]||(globalThis[St]=wy().then(S=>globalThis[Nl]=S).catch(()=>globalThis[Nl]=!1));const kc=(S,T)=>{const k=T?[T]:(0,H.C6)(),U=[];return k.forEach(te=>{te.container.getProvider(S).instances.forEach(Pe=>{U.includes(Pe)||U.push(Pe)})}),U};function ao(){}class Ki{constructor(T,k=Rl){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,U){const te=this.zone;return this.delegate.schedule(function(Pe){te.runGuarded(()=>{T.apply(this,[Pe])})},k,U)}}class ku{constructor(T){this.zone=T,this.task=null}call(T,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ao,{},ao,ao)),k.pipe((0,Ol.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ba=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Ki(Zone.current)),this.insideAngular=k.run(()=>new Ki(Zone.current,Af.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(a.LFG(a.R0b))},S.\u0275prov=a.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ns(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Ha(S){return S.pipe((0,Pl.Q)(Ns().outsideAngular))}function qr(S){return Ns(),function xc(S){return function(k){return(k=k.lift(new ku(S.ngZone))).pipe((0,Kd.R)(S.outsideAngular),(0,Pl.Q)(S.insideAngular))}}(Ns())(S)}},8554:(ht,ke,L)=>{L.d(ke,{$:()=>No,A:()=>Z,B:()=>Ne,G:()=>ua,H:()=>pr,J:()=>Ts,L:()=>mn,M:()=>gc,N:()=>kd,P:()=>Af,Q:()=>_c,R:()=>Lm,T:()=>fu,U:()=>Xs,V:()=>Tr,W:()=>As,X:()=>Om,Y:()=>pl,Z:()=>Pt,_:()=>Pm,a:()=>no,a0:()=>mf,a1:()=>ui,a2:()=>bc,a3:()=>wc,a4:()=>gf,a5:()=>Nm,a6:()=>di,a7:()=>cs,a8:()=>wl,a9:()=>ks,aA:()=>Bi,aB:()=>wt,aC:()=>Ha,aD:()=>Ua,aE:()=>bt,aI:()=>Aa,aL:()=>_a,aa:()=>_f,ab:()=>_u,ac:()=>yu,af:()=>yf,ag:()=>vf,ah:()=>Ld,ak:()=>$r,al:()=>wu,an:()=>$d,ao:()=>Il,ap:()=>Xt,aq:()=>be,ar:()=>at,as:()=>vt,at:()=>rt,au:()=>Xd,av:()=>jo,aw:()=>Fe,ax:()=>le,ay:()=>ne,az:()=>pn,b:()=>hi,c:()=>Sn,d:()=>et,e:()=>Ps,f:()=>xc,g:()=>U,h:()=>S,i:()=>Oa,j:()=>Pe,k:()=>xy,l:()=>Uo,m:()=>Ga,o:()=>me,r:()=>hs,s:()=>ii,u:()=>Rl});var a=L(5861),H=L(2090),P=L(9681),ce=L(655),de=L(1877),ye=L(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new de.Yd("@firebase/auth");function it(b,...g){_e.logLevel<=de.in.ERROR&&_e.error(`Auth (${P.SDK_VERSION}): ${b}`,...g)}function rt(b,...g){throw We(b,...g)}function Fe(b,...g){return We(b,...g)}function Re(b,g,y){const E=Object.assign(Object.assign({},Ie()),{[g]:y});return new H.LL("auth","Firebase",E).create(g,{appName:b.name})}function Se(b,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&rt(b,"argument-error"),Re(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function We(b,...g){if("string"!=typeof b){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=b.name),b._errorFactory.create(y,...E)}return lt.create(b,...g)}function le(b,g,...y){if(!b)throw We(g,...y)}function he(b){const g="INTERNAL ASSERTION FAILED: "+b;throw it(g),new Error(g)}function be(b,g){b||he(g)}const J=new Map;function ne(b){be(b instanceof Function,"Expected a class definition");let g=J.get(b);return g?(be(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,J.set(b,g),g)}function Ue(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function He(){return"http:"===yt()||"https:"===yt()}function yt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Ye{constructor(g,y){this.shortDelay=g,this.longDelay=y,be(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function en(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(b,g){be(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class $n{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ln={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},tn=new Ye(3e4,6e4);function Wt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function Ht(b,g,y,E){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,a.Z)(function*(b,g,y,E,x={}){return Do(b,x,(0,a.Z)(function*(){let V={},se={};E&&("GET"===g?se=E:V={body:JSON.stringify(E)});const xe=(0,H.xO)(Object.assign({key:b.config.apiKey},se)).slice(1),Je=yield b._getAdditionalHeaders();return Je["Content-Type"]="application/json",b.languageCode&&(Je["X-Firebase-Locale"]=b.languageCode),$n.fetch()(ss(b,b.config.apiHost,y,xe),Object.assign({method:g,headers:Je,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function Do(b,g,y){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,a.Z)(function*(b,g,y){b._canInitEmulator=!1;const E=Object.assign(Object.assign({},ln),g);try{const x=new hr(b),V=yield Promise.race([y(),x.promise]);x.clearNetworkTimeout();const se=yield V.json();if("needConfirmation"in se)throw Gn(b,"account-exists-with-different-credential",se);if(V.ok&&!("errorMessage"in se))return se;{const xe=V.ok?se.errorMessage:se.error.message,[Je,gt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Je)throw Gn(b,"credential-already-in-use",se);if("EMAIL_EXISTS"===Je)throw Gn(b,"email-already-in-use",se);if("USER_DISABLED"===Je)throw Gn(b,"user-disabled",se);const Zt=E[Je]||Je.toLowerCase().replace(/[_\s]+/g,"-");if(gt)throw Re(b,Zt,gt);rt(b,Zt)}}catch(x){if(x instanceof H.ZR)throw x;rt(b,"network-request-failed")}})).apply(this,arguments)}function Nn(b,g,y,E){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,a.Z)(function*(b,g,y,E,x={}){const V=yield Ht(b,g,y,E,x);return"mfaPendingCredential"in V&&rt(b,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function ss(b,g,y,E){const x=`${g}${y}?${E}`;return b.config.emulator?Dn(b.config,x):`${b.config.apiScheme}://${x}`}class hr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Fe(this.auth,"network-request-failed")),tn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gn(b,g,y){const E={appName:b.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const x=Fe(b,g,E);return x.customData._tokenResponse=y,x}function os(){return(os=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function st(b,g){return Si.apply(this,arguments)}function Si(){return(Si=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function zn(b,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ti(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function xn(){return(xn=(0,a.Z)(function*(b,g=!1){const y=(0,H.m9)(b),E=yield y.getIdToken(g),x=pt(E);le(x&&x.exp&&x.auth_time&&x.iat,y.auth,"internal-error");const V="object"==typeof x.firebase?x.firebase:void 0,se=V?.sign_in_provider;return{claims:x,token:E,authTime:Ti(In(x.auth_time)),issuedAtTime:Ti(In(x.iat)),expirationTime:Ti(In(x.exp)),signInProvider:se||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function In(b){return 1e3*Number(b)}function pt(b){var g;const[y,E,x]=b.split(".");if(void 0===y||void 0===E||void 0===x)return it("JWT malformed, contained fewer than 3 sections"),null;try{const V=(0,H.tV)(E);return V?JSON.parse(V):(it("Failed to decode base64 JWT payload"),null)}catch(V){return it("Caught error parsing JWT payload as JSON",null===(g=V)||void 0===g?void 0:g.toString()),null}}function Nt(b,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(b,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof H.ZR&&Ai(E)&&b.auth.currentUser===b&&(yield b.auth.signOut()),E}})).apply(this,arguments)}function Ai({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Pi{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,a.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,a.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class Mt{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ti(this.lastLoginAt),this.creationTime=Ti(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Zi(b){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(b){var g;const y=b.auth,E=yield b.getIdToken(),x=yield Nt(b,zn(y,{idToken:E}));le(x?.users.length,y,"internal-error");const V=x.users[0];b._notifyReloadListener(V);const se=null!==(g=V.providerUserInfo)&&void 0!==g&&g.length?G(V.providerUserInfo):[],xe=X(b.providerData,se),Zt=!!b.isAnonymous&&!(b.email&&V.passwordHash||xe?.length),Hn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:xe,metadata:new Mt(V.createdAt,V.lastLoginAt),isAnonymous:Zt};Object.assign(b,Hn)})).apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(b){const g=(0,H.m9)(b);yield Zi(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function X(b,g){return[...b.filter(E=>!g.some(x=>x.providerId===E.providerId)),...g]}function G(b){return b.map(g=>{var{providerId:y}=g,E=(0,ce._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Y(){return(Y=(0,a.Z)(function*(b,g){const y=yield Do(b,{},(0,a.Z)(function*(){const E=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:V}=b.config,se=ss(b,x,"/v1/token",`key=${V}`),xe=yield b._getAdditionalHeaders();return xe["Content-Type"]="application/x-www-form-urlencoded",$n.fetch()(se,{method:"POST",headers:xe,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){le(g.idToken,"internal-error"),le(typeof g.idToken<"u","internal-error"),le(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function mt(b){const g=pt(b);return le(g,"internal-error"),le(typeof g.exp<"u","internal-error"),le(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,a.Z)(function*(){return le(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,a.Z)(function*(){const{accessToken:x,refreshToken:V,expiresIn:se}=yield function j(b,g){return Y.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(x,V,Number(se))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:x,expirationTime:V}=y,se=new K;return E&&(le("string"==typeof E,"internal-error",{appName:g}),se.refreshToken=E),x&&(le("string"==typeof x,"internal-error",{appName:g}),se.accessToken=x),V&&(le("number"==typeof V,"internal-error",{appName:g}),se.expirationTime=V),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return he("not implemented")}}function Ae(b,g){le("string"==typeof b||typeof b>"u","internal-error",{appName:g})}class qe{constructor(g){var{uid:y,auth:E,stsTokenManager:x}=g,V=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new Mt(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,a.Z)(function*(){const E=yield Nt(y,y.stsTokenManager.getToken(y.auth,g));return le(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function kn(b){return xn.apply(this,arguments)}(this,g)}reload(){return function fr(b){return Yt.apply(this,arguments)}(this)}_assign(g){this!==g&&(le(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new qe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,a.Z)(function*(){let x=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),x=!0),y&&(yield Zi(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,a.Z)(function*(){const y=yield g.getIdToken();return yield Nt(g,function Hr(b,g){return os.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,x,V,se,xe,Je,gt,Zt;const Hn=null!==(E=y.displayName)&&void 0!==E?E:void 0,co=null!==(x=y.email)&&void 0!==x?x:void 0,Nc=null!==(V=y.phoneNumber)&&void 0!==V?V:void 0,$m=null!==(se=y.photoURL)&&void 0!==se?se:void 0,tE=null!==(xe=y.tenantId)&&void 0!==xe?xe:void 0,Jd=null!==(Je=y._redirectEventId)&&void 0!==Je?Je:void 0,Of=null!==(gt=y.createdAt)&&void 0!==gt?gt:void 0,Pf=null!==(Zt=y.lastLoginAt)&&void 0!==Zt?Zt:void 0,{uid:Oy,emailVerified:nE,isAnonymous:Gm,providerData:zm,stsTokenManager:Py}=y;le(Oy&&Py,g,"internal-error");const iE=K.fromJSON(this.name,Py);le("string"==typeof Oy,g,"internal-error"),Ae(Hn,g.name),Ae(co,g.name),le("boolean"==typeof nE,g,"internal-error"),le("boolean"==typeof Gm,g,"internal-error"),Ae(Nc,g.name),Ae($m,g.name),Ae(tE,g.name),Ae(Jd,g.name),Ae(Of,g.name),Ae(Pf,g.name);const qm=new qe({uid:Oy,auth:g,email:co,emailVerified:nE,displayName:Hn,isAnonymous:Gm,photoURL:$m,phoneNumber:Nc,tenantId:tE,stsTokenManager:iE,createdAt:Of,lastLoginAt:Pf});return zm&&Array.isArray(zm)&&(qm.providerData=zm.map(Ny=>Object.assign({},Ny))),Jd&&(qm._redirectEventId=Jd),qm}static _fromIdTokenResponse(g,y,E=!1){return(0,a.Z)(function*(){const x=new K;x.updateFromServerResponse(y);const V=new qe({uid:y.localId,auth:g,stsTokenManager:x,isAnonymous:E});return yield Zi(V),V})()}}const mn=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(y,E){var x=this;return(0,a.Z)(function*(){x.storage[y]=E})()}_get(y){var E=this;return(0,a.Z)(function*(){const x=E.storage[y];return void 0===x?null:x})()}_remove(y){var E=this;return(0,a.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return b.type="NONE",b})();function pn(b,g,y){return`firebase:${b}:${g}:${y}`}class li{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:x,name:V}=this.auth;this.fullUserKey=pn(this.userKey,x.apiKey,V),this.fullPersistenceKey=pn("persistence",x.apiKey,V),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,a.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?qe._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,a.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,a.Z)(function*(){if(!y.length)return new li(ne(mn),g,E);const x=(yield Promise.all(y.map(function(){var gt=(0,a.Z)(function*(Zt){if(yield Zt._isAvailable())return Zt});return function(Zt){return gt.apply(this,arguments)}}()))).filter(gt=>gt);let V=x[0]||ne(mn);const se=pn(E,g.config.apiKey,g.name);let xe=null;for(const gt of y)try{const Zt=yield gt._get(se);if(Zt){const Hn=qe._fromJSON(g,Zt);gt!==V&&(xe=Hn),V=gt;break}}catch{}const Je=x.filter(gt=>gt._shouldAllowMigration);return V._shouldAllowMigration&&Je.length?(V=Je[0],xe&&(yield V._set(se,xe.toJSON())),yield Promise.all(y.map(function(){var gt=(0,a.Z)(function*(Zt){if(Zt!==V)try{yield Zt._remove(se)}catch{}});return function(Zt){return gt.apply(this,arguments)}}())),new li(V,g,E)):new li(V,g,E)})()}}function re(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ze(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if($(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(It(g))return"Blackberry";if(Le(g))return"Webos";if(q(g))return"Safari";if((g.includes("chrome/")||Ce(g))&&!g.includes("edge/"))return"Chrome";if(vt(g))return"Android";{const E=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function $(b=(0,H.z$)()){return/firefox\//i.test(b)}function q(b=(0,H.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ce(b=(0,H.z$)()){return/crios\//i.test(b)}function Ze(b=(0,H.z$)()){return/iemobile/i.test(b)}function vt(b=(0,H.z$)()){return/android/i.test(b)}function It(b=(0,H.z$)()){return/blackberry/i.test(b)}function Le(b=(0,H.z$)()){return/webos/i.test(b)}function at(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function Xt(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function wn(b=(0,H.z$)()){return at(b)||vt(b)||Le(b)||It(b)||/windows phone/i.test(b)||Ze(b)}function On(b,g=[]){let y;switch(b){case"Browser":y=re((0,H.z$)());break;case"Worker":y=`${re((0,H.z$)())}-${b}`;break;default:y=b}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class Io{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=V=>new Promise((se,xe)=>{try{se(g(V))}catch(Je){xe(Je)}});E.onAbort=y,this.queue.push(E);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,a.Z)(function*(){var E;if(y.auth.currentUser===g)return;const x=[];try{for(const V of y.queue)yield V(g),V.onAbort&&x.push(V.onAbort)}catch(V){x.reverse();for(const se of x)try{se()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=V)||void 0===E?void 0:E.message})}})()}}class So{constructor(g,y,E){this.app=g,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new To(this),this.idTokenSubscription=new To(this),this.beforeStateQueue=new Io(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=ne(y)),this._initializationPromise=this.queue((0,a.Z)(function*(){var x,V;if(!E._deleted&&(E.persistenceManager=yield li.create(E,g),!E._deleted)){if(null!==(x=E._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(V=E.currentUser)||void 0===V?void 0:V.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,a.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,a.Z)(function*(){var E;const x=yield y.assertedPersistence.getCurrentUser();let V=x,se=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const xe=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,Je=V?._redirectEventId,gt=yield y.tryRedirectSignIn(g);(!xe||xe===Je)&&gt?.user&&(V=gt.user,se=!0)}if(!V)return y.directlySetCurrentUser(null);if(!V._redirectEventId){if(se)try{yield y.beforeStateQueue.runMiddleware(V)}catch(xe){V=x,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(xe))}return V?y.reloadAndSetCurrentUserOrClear(V):y.directlySetCurrentUser(null)}return le(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===V._redirectEventId?y.directlySetCurrentUser(V):y.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(g){var y=this;return(0,a.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,a.Z)(function*(){var E;try{yield Zi(g)}catch(x){if("auth/network-request-failed"!==(null===(E=x)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function qt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,a.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,a.Z)(function*(){const E=g?(0,H.m9)(g):null;return E&&le(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,a.Z)(function*(){if(!E._deleted)return g&&le(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,a.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,a.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,a.Z)(function*(){yield y.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,a.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(y);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,a.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&ne(g)||y._popupRedirectResolver;le(E,y,"argument-error"),y.redirectPersistenceManager=yield li.create(y,[ne(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,a.Z)(function*(){var E,x;return y._isInitialized&&(yield y.queue((0,a.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,a.Z)(function*(){if(g===y.currentUser)return y.queue((0,a.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,x){if(this._deleted)return()=>{};const V="function"==typeof y?y:y.next.bind(y),se=this._isInitialized?Promise.resolve():this._initializationPromise;return le(se,this,"internal-error"),se.then(()=>V(this.currentUser)),"function"==typeof y?g.addObserver(y,E,x):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,a.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=On(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,a.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return x&&(E["X-Firebase-Client"]=x),E})()}}function bt(b){return(0,H.m9)(b)}class To{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ua(b,g,y){const E=bt(b);le(E._canInitEmulator,E,"emulator-config-failed"),le(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const x=!!y?.disableWarnings,V=fc(g),{host:se,port:xe}=function Ds(b){const g=fc(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const V=x[1];return{host:V,port:ti(E.substr(V.length+1))}}{const[V,se]=E.split(":");return{host:V,port:ti(se)}}}(g);E.config.emulator={url:`${V}//${se}${null===xe?"":`:${xe}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:se,port:xe,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function Ao(){function b(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function fc(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function ti(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class pr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,y){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function Dr(b,g){return ni.apply(this,arguments)}function ni(){return(ni=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:resetPassword",Wt(b,g))})).apply(this,arguments)}function pc(b,g){return cn.apply(this,arguments)}function cn(){return(cn=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function hf(b,g){return cl.apply(this,arguments)}function cl(){return(cl=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",Wt(b,g))})).apply(this,arguments)}function Mo(){return(Mo=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithPassword",Wt(b,g))})).apply(this,arguments)}function jr(b,g){return ko.apply(this,arguments)}function ko(){return(ko=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:sendOobCode",Wt(b,g))})).apply(this,arguments)}function Is(b,g){return gn.apply(this,arguments)}function gn(){return(gn=(0,a.Z)(function*(b,g){return jr(b,g)})).apply(this,arguments)}function ff(b,g){return ci.apply(this,arguments)}function ci(){return(ci=(0,a.Z)(function*(b,g){return jr(b,g)})).apply(this,arguments)}function Ir(b,g){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,a.Z)(function*(b,g){return jr(b,g)})).apply(this,arguments)}function da(b,g){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.Z)(function*(b,g){return jr(b,g)})).apply(this,arguments)}function hu(){return(hu=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",Wt(b,g))})).apply(this,arguments)}function mc(){return(mc=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithEmailLink",Wt(b,g))})).apply(this,arguments)}class dl extends pr{constructor(g,y,E,x=null){super("password",E),this._email=g,this._password=y,this._tenantId=x}static _fromEmailAndPassword(g,y){return new dl(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new dl(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,a.Z)(function*(){switch(y.signInMethod){case"password":return function ul(b,g){return Mo.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function mr(b,g){return hu.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:rt(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,a.Z)(function*(){switch(E.signInMethod){case"password":return pc(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Am(b,g){return mc.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:rt(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function xo(b,g){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithIdp",Wt(b,g))})).apply(this,arguments)}class Ts extends pr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ts(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):rt("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x}=y,V=(0,ce._T)(y,["providerId","signInMethod"]);if(!E||!x)return null;const se=new Ts(E,x);return se.idToken=V.idToken||void 0,se.accessToken=V.accessToken||void 0,se.secret=V.secret,se.nonce=V.nonce,se.pendingToken=V.pendingToken||null,se}_getIdTokenResponse(g){return xo(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,xo(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,xo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,H.xO)(y)}return g}}function km(b,g){return Id.apply(this,arguments)}function Id(){return(Id=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:sendVerificationCode",Wt(b,g))})).apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,g))})).apply(this,arguments)}function Sd(){return(Sd=(0,a.Z)(function*(b,g){const y=yield Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,g));if(y.temporaryProof)throw Gn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const xm={USER_NOT_FOUND:"user-not-found"};function Td(){return(Td=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithPhoneNumber",Wt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),xm)})).apply(this,arguments)}class pa extends pr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new pa({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new pa({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function hl(b,g){return fl.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function fa(b,g){return Sd.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Rm(b,g){return Td.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:x}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:V}=g;return E||y||x||V?new pa({verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:V}):null}}class ma{constructor(g){var y,E,x,V,se,xe;const Je=(0,H.zd)((0,H.pd)(g)),gt=null!==(y=Je.apiKey)&&void 0!==y?y:null,Zt=null!==(E=Je.oobCode)&&void 0!==E?E:null,Hn=function Ad(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Je.mode)&&void 0!==x?x:null);le(gt&&Zt&&Hn,"argument-error"),this.apiKey=gt,this.operation=Hn,this.code=Zt,this.continueUrl=null!==(V=Je.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(se=Je.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(xe=Je.tenantId)&&void 0!==xe?xe:null}static parseLink(g){const y=function Md(b){const g=(0,H.zd)((0,H.pd)(b)).link,y=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,E=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(E?(0,H.zd)((0,H.pd)(E)).link:null)||E||y||g||b}(g);try{return new ma(y)}catch{return null}}}let gc=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,E){return dl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const x=ma.parseLink(E);return le(x,"argument-error"),dl._fromEmailAndCode(y,x.code,x.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Ni{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class ga extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Xs extends ga{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return le("providerId"in y&&"signInMethod"in y,"argument-error"),Ts._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return le(g.idToken||g.accessToken,"argument-error"),Ts._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Xs.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Xs.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:V,nonce:se,providerId:xe}=g;if(!E&&!x&&!y&&!V||!xe)return null;try{return new Xs(xe)._credential({idToken:y,accessToken:E,nonce:se,pendingToken:V})}catch{return null}}}let kd=(()=>{class b extends ga{constructor(){super("facebook.com")}static credential(y){return Ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),_c=(()=>{class b extends ga{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:x}=y;if(!E&&!x)return null;try{return b.credential(E,x)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),fu=(()=>{class b extends ga{constructor(){super("github.com")}static credential(y){return Ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class _a extends pr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return xo(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,xo(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,xo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x,pendingToken:V}=y;return E&&x&&V&&E===x?new _a(E,V):null}static _create(g,y){return new _a(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends Ni{constructor(g){le(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Tr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Tr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=_a.fromJSON(g);return le(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return _a._create(E,y)}catch{return null}}}let As=(()=>{class b extends ga{constructor(){super("twitter.com")}static credential(y,E){return Ts._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=y;if(!E||!x)return null;try{return b.credential(E,x)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function gr(b,g){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signUp",Wt(b,g))})).apply(this,arguments)}class Ar{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,x=!1){return(0,a.Z)(function*(){const V=yield qe._fromIdTokenResponse(g,E,x),se=ya(E);return new Ar({user:V,providerId:se,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,a.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const x=ya(E);return new Ar({user:g,providerId:x,_tokenResponse:E,operationType:y})})()}}function ya(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Om(b){return pu.apply(this,arguments)}function pu(){return(pu=(0,a.Z)(function*(b){var g;const y=bt(b);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Ar({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield gr(y,{returnSecureToken:!0}),x=yield Ar._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class Un extends H.ZR{constructor(g,y,E,x){var V;super(y.code,y.message),this.operationType=E,this.user=x,Object.setPrototypeOf(this,Un.prototype),this.customData={appName:g.name,tenantId:null!==(V=g.tenantId)&&void 0!==V?V:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,x){return new Un(g,y,E,x)}}function Rd(b,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?Un._fromErrorAndOperation(b,V,g,E):V})}function pf(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function $r(b,g){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,a.Z)(function*(b,g){const y=(0,H.m9)(b);yield ls(!0,y,g);const{providerUserInfo:E}=yield st(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),x=pf(E||[]);return y.providerData=y.providerData.filter(V=>x.has(V.providerId)),x.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function yc(b,g){return Po.apply(this,arguments)}function Po(){return(Po=(0,a.Z)(function*(b,g,y=!1){const E=yield Nt(b,g._linkToIdToken(b.auth,yield b.getIdToken()),y);return Ar._forOperation(b,"link",E)})).apply(this,arguments)}function ls(b,g,y){return un.apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(b,g,y){yield Zi(g);const x=!1===b?"provider-already-linked":"no-such-provider";le(pf(g.providerData).has(y)===b,g.auth,x)})).apply(this,arguments)}function vc(b,g){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(b,g,y=!1){var E;const{auth:x}=b,V="reauthenticate";try{const se=yield Nt(b,Rd(x,V,g,b),y);le(se.idToken,x,"internal-error");const xe=pt(se.idToken);le(xe,x,"internal-error");const{sub:Je}=xe;return le(b.uid===Je,x,"user-mismatch"),Ar._forOperation(b,V,se)}catch(se){throw"auth/user-not-found"===(null===(E=se)||void 0===E?void 0:E.code)&&rt(x,"user-mismatch"),se}})).apply(this,arguments)}function mu(b,g){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,a.Z)(function*(b,g,y=!1){const E="signIn",x=yield Rd(b,E,g),V=yield Ar._fromIdTokenResponse(b,E,x);return y||(yield b._updateCurrentUser(V.user)),V})).apply(this,arguments)}function pl(b,g){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(b,g){return mu(bt(b),g)})).apply(this,arguments)}function Pt(b,g){return ml.apply(this,arguments)}function ml(){return(ml=(0,a.Z)(function*(b,g){const y=(0,H.m9)(b);return yield ls(!1,y,g.providerId),yc(y,g)})).apply(this,arguments)}function Pm(b,g){return gl.apply(this,arguments)}function gl(){return(gl=(0,a.Z)(function*(b,g){return vc((0,H.m9)(b),g)})).apply(this,arguments)}function Od(b,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(b,g){return Nn(b,"POST","/v1/accounts:signInWithCustomToken",Wt(b,g))})).apply(this,arguments)}function No(b,g){return yl.apply(this,arguments)}function yl(){return(yl=(0,a.Z)(function*(b,g){const y=bt(b),E=yield Od(y,{token:g,returnSecureToken:!0}),x=yield Ar._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class va{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Oe._fromServerResponse(g,y):rt(g,"internal-error")}}class Oe extends va{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Oe(y)}}function Kt(b,g,y){var E;le((null===(E=y.url)||void 0===E?void 0:E.length)>0,b,"invalid-continue-uri"),le(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(le(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(le(y.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function mf(b,g,y){return ba.apply(this,arguments)}function ba(){return(ba=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b),x={requestType:"PASSWORD_RESET",email:g};y&&Kt(E,x,y),yield ff(E,x)})).apply(this,arguments)}function ui(b,g,y){return wa.apply(this,arguments)}function wa(){return(wa=(0,a.Z)(function*(b,g,y){yield Dr((0,H.m9)(b),{oobCode:g,newPassword:y})})).apply(this,arguments)}function bc(b,g){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(b,g){yield hf((0,H.m9)(b),{oobCode:g})})).apply(this,arguments)}function wc(b,g){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,a.Z)(function*(b,g){const y=(0,H.m9)(b),E=yield Dr(y,{oobCode:g}),x=E.requestType;switch(le(x,y,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(E.mfaInfo,y,"internal-error");default:le(E.email,y,"internal-error")}let V=null;return E.mfaInfo&&(V=va._fromServerResponse(bt(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:V},operation:x}})).apply(this,arguments)}function gf(b,g){return vl.apply(this,arguments)}function vl(){return(vl=(0,a.Z)(function*(b,g){const{data:y}=yield wc((0,H.m9)(b),g);return y.email})).apply(this,arguments)}function Nm(b,g,y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,a.Z)(function*(b,g,y){const E=bt(b),x=yield gr(E,{returnSecureToken:!0,email:g,password:y}),V=yield Ar._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(V.user),V})).apply(this,arguments)}function di(b,g,y){return pl((0,H.m9)(b),gc.credential(g,y))}function cs(b,g,y){return bl.apply(this,arguments)}function bl(){return(bl=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b),x={requestType:"EMAIL_SIGNIN",email:g};le(y.handleCodeInApp,E,"argument-error"),y&&Kt(E,x,y),yield Ir(E,x)})).apply(this,arguments)}function wl(b,g){return"EMAIL_SIGNIN"===ma.parseLink(g)?.operation}function ks(b,g,y){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b),x=gc.credentialWithLink(g,y||Ue());return le(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),pl(E,x)})).apply(this,arguments)}function gu(b,g){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:createAuthUri",Wt(b,g))})).apply(this,arguments)}function _f(b,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,a.Z)(function*(b,g){const E={identifier:g,continueUri:He()?Ue():"http://localhost"},{signinMethods:x}=yield gu((0,H.m9)(b),E);return x||[]})).apply(this,arguments)}function _u(b,g){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(b,g){const y=(0,H.m9)(b),x={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&Kt(y.auth,x,g);const{email:V}=yield Is(y.auth,x);V!==b.email&&(yield b.reload())})).apply(this,arguments)}function yu(b,g,y){return El.apply(this,arguments)}function El(){return(El=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};y&&Kt(E.auth,V,y);const{email:se}=yield da(E.auth,V);se!==b.email&&(yield b.reload())})).apply(this,arguments)}function Fd(b,g){return Da.apply(this,arguments)}function Da(){return(Da=(0,a.Z)(function*(b,g){return Ht(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function yf(b,g){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,a.Z)(function*(b,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,H.m9)(b),V={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},se=yield Nt(E,Fd(E.auth,V));E.displayName=se.displayName||null,E.photoURL=se.photoUrl||null;const xe=E.providerData.find(({providerId:Je})=>"password"===Je);xe&&(xe.displayName=E.displayName,xe.photoURL=E.photoURL),yield E._updateTokensIfNecessary(se)})).apply(this,arguments)}function vf(b,g){return eo((0,H.m9)(b),g,null)}function Ld(b,g){return eo((0,H.m9)(b),null,g)}function eo(b,g,y){return to.apply(this,arguments)}function to(){return(to=(0,a.Z)(function*(b,g,y){const{auth:E}=b,V={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(V.email=g),y&&(V.password=y);const se=yield Nt(b,pc(E,V));yield b._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class Ln{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class xs extends Ln{constructor(g,y,E,x){super(g,y,E),this.username=x}}class Vn extends Ln{constructor(g,y){super(g,"facebook.com",y)}}class vu extends xs{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class bu extends Ln{constructor(g,y){super(g,"google.com",y)}}class Bd extends xs{constructor(g,y,E){super(g,"twitter.com",y,E)}}function wu(b){const{user:g,_tokenResponse:y}=b;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Vd(b){var g,y;if(!b)return null;const{providerId:E}=b,x=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},V=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!E&&b?.idToken){const se=null===(y=null===(g=pt(b.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(se)return new Ln(V,"anonymous"!==se&&"custom"!==se?se:null)}if(!E)return null;switch(E){case"facebook.com":return new Vn(V,x);case"github.com":return new vu(V,x);case"google.com":return new bu(V,x);case"twitter.com":return new Bd(V,x,b.screenName||null);case"custom":case"anonymous":return new Ln(V,null);default:return new Ln(V,E,x)}}(y)}class kr{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new kr("enroll",g)}static _fromMfaPendingCredential(g){return new kr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return kr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return kr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Du{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=bt(g),x=y.customData._serverResponse,V=(x.mfaInfo||[]).map(xe=>va._fromServerResponse(E,xe));le(x.mfaPendingCredential,E,"internal-error");const se=kr._fromMfaPendingCredential(x.mfaPendingCredential);return new Du(se,V,function(){var xe=(0,a.Z)(function*(Je){const gt=yield Je._process(E,se);delete x.mfaInfo,delete x.mfaPendingCredential;const Zt=Object.assign(Object.assign({},x),{idToken:gt.idToken,refreshToken:gt.refreshToken});switch(y.operationType){case"signIn":const Hn=yield Ar._fromIdTokenResponse(E,y.operationType,Zt);return yield E._updateCurrentUser(Hn.user),Hn;case"reauthenticate":return le(y.user,E,"internal-error"),Ar._forOperation(y.user,y.operationType,Zt);default:rt(E,"internal-error")}});return function(Je){return xe.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,a.Z)(function*(){return y.signInResolver(g)})()}}function $d(b,g){var y;const E=(0,H.m9)(b),x=g;return le(g.customData.operationType,E,"argument-error"),le(null===(y=x.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Du._fromError(E,x)}function Wn(b,g){return Ht(b,"POST","/v2/accounts/mfaEnrollment:start",Wt(b,g))}class Dc{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>va._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Dc(g)}getSession(){var g=this;return(0,a.Z)(function*(){return kr._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var E=this;return(0,a.Z)(function*(){const x=g,V=yield E.getSession(),se=yield Nt(E.user,x._process(E.user.auth,V,y));return yield E.user._updateTokensIfNecessary(se),E.user.reload()})()}unenroll(g){var y=this;return(0,a.Z)(function*(){var E;const x="string"==typeof g?g:g.uid,V=yield y.user.getIdToken(),se=yield Nt(y.user,function Ec(b,g){return Ht(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Wt(b,g))}(y.user.auth,{idToken:V,mfaEnrollmentId:x}));y.enrolledFactors=y.enrolledFactors.filter(({uid:xe})=>xe!==x),yield y.user._updateTokensIfNecessary(se);try{yield y.user.reload()}catch(xe){if("auth/user-token-expired"!==(null===(E=xe)||void 0===E?void 0:E.code))throw xe}})()}}const bf=new WeakMap;function Il(b){const g=(0,H.m9)(b);return bf.has(g)||bf.set(g,Dc._fromUser(g)),bf.get(g)}const Rs="__sak";class Sl{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Rs,"1"),this.storage.removeItem(Rs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const hi=(()=>{class b extends Sl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Iu(){const b=(0,H.z$)();return q(b)||at(b)}()&&function Es(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),V=this.localCache[E];x!==V&&y(E,V,x)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((xe,Je,gt)=>{this.notifyListeners(xe,gt)});const x=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(x);if(y.newValue!==xe)null!==y.newValue?this.storage.setItem(x,y.newValue):this.storage.removeItem(x);else if(this.localCache[x]===y.newValue&&!E)return}const V=()=>{const xe=this.storage.getItem(x);!E&&this.localCache[x]===xe||this.notifyListeners(x,xe)},se=this.storage.getItem(x);!function Bt(){return(0,H.w1)()&&10===document.documentMode}()||se===y.newValue||y.newValue===y.oldValue?V():setTimeout(V,10)}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const V of Array.from(x))V(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var x=()=>super._set,V=this;return(0,a.Z)(function*(){yield x().call(V,y,E),V.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,x=this;return(0,a.Z)(function*(){const V=yield E().call(x,y);return x.localCache[y]=JSON.stringify(V),V})()}_remove(y){var E=()=>super._remove,x=this;return(0,a.Z)(function*(){yield E().call(x,y),delete x.localCache[y]})()}}return b.type="LOCAL",b})(),no=(()=>{class b extends Sl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return b.type="SESSION",b})();let Al=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(V=>V.isListeningto(y));if(E)return E;const x=new b(y);return this.receivers.push(x),x}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,a.Z)(function*(){const x=y,{eventId:V,eventType:se,data:xe}=x.data,Je=E.handlersMap[se];if(!Je?.size)return;x.ports[0].postMessage({status:"ack",eventId:V,eventType:se});const gt=Array.from(Je).map(function(){var Hn=(0,a.Z)(function*(co){return co(x.origin,xe)});return function(co){return Hn.apply(this,arguments)}}()),Zt=yield function Su(b){return Promise.all(b.map(function(){var g=(0,a.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(gt);x.ports[0].postMessage({status:"done",eventId:V,eventType:se,response:Zt})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function Aa(b="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return b+y}class Ef{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var x=this;return(0,a.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let se,xe;return new Promise((Je,gt)=>{const Zt=Aa("",20);V.port1.start();const Hn=setTimeout(()=>{gt(new Error("unsupported_event"))},E);xe={messageChannel:V,onMessage(co){const Nc=co;if(Nc.data.eventId===Zt)switch(Nc.data.status){case"ack":clearTimeout(Hn),se=setTimeout(()=>{gt(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),Je(Nc.data.response);break;default:clearTimeout(Hn),clearTimeout(se),gt(new Error("invalid_response"))}}},x.handlers.add(xe),V.port1.addEventListener("message",xe.onMessage),x.target.postMessage({eventType:g,eventId:Zt,data:y},[V.port2])}).finally(()=>{xe&&x.removeMessageHandler(xe)})})()}}function Zn(){return window}function _r(){return typeof Zn().WorkerGlobalScope<"u"&&"function"==typeof Zn().importScripts}function Os(){return(Os=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ml="firebaseLocalStorageDb",kl="firebaseLocalStorage",Ma="fbase_key";class Lo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ka(b,g){return b.transaction([kl],g?"readwrite":"readonly").objectStore(kl)}function Sc(){const b=indexedDB.open(Ml,1);return new Promise((g,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const E=b.result;try{E.createObjectStore(kl,{keyPath:Ma})}catch(x){y(x)}}),b.addEventListener("success",(0,a.Z)(function*(){const E=b.result;E.objectStoreNames.contains(kl)?g(E):(E.close(),yield function Wd(){const b=indexedDB.deleteDatabase(Ml);return new Lo(b).toPromise()}(),g(yield Sc()))}))})}function xl(b,g,y){return us.apply(this,arguments)}function us(){return(us=(0,a.Z)(function*(b,g,y){const E=ka(b,!0).put({[Ma]:g,value:y});return new Lo(E).toPromise()})).apply(this,arguments)}function xa(){return(xa=(0,a.Z)(function*(b,g){const y=ka(b,!1).get(g),E=yield new Lo(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Tc(b,g){const y=ka(b,!0).delete(g);return new Lo(y).toPromise()}const Oa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,a.Z)(function*(){return y.db||(y.db=yield Sc()),y.db})()}_withRetries(y){var E=this;return(0,a.Z)(function*(){let x=0;for(;;)try{const V=yield E._openDb();return yield y(V)}catch(V){if(x++>3)throw V;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,a.Z)(function*(){return _r()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,a.Z)(function*(){y.receiver=Al._getInstance(function Ic(){return _r()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,a.Z)(function*(x,V){return{keyProcessed:(yield y._poll()).includes(V.key)}});return function(x,V){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,a.Z)(function*(x,V){return["keyChanged"]});return function(x,V){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,a.Z)(function*(){var E,x;if(y.activeServiceWorker=yield function qd(){return Os.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Ef(y.activeServiceWorker);const V=yield y.sender._send("ping",{},800);!V||(null===(E=V[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=V[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,a.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Tu(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Sc();return yield xl(y,Rs,"1"),yield Tc(y,Rs),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,a.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var x=this;return(0,a.Z)(function*(){return x._withPendingWrite((0,a.Z)(function*(){return yield x._withRetries(V=>xl(V,y,E)),x.localCache[y]=E,x.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,a.Z)(function*(){const x=yield E._withRetries(V=>function Df(b,g){return xa.apply(this,arguments)}(V,y));return E.localCache[y]=x,x})()}_remove(y){var E=this;return(0,a.Z)(function*(){return E._withPendingWrite((0,a.Z)(function*(){return yield E._withRetries(x=>Tc(x,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,a.Z)(function*(){const E=yield y._withRetries(se=>{const xe=ka(se,!1).getAll();return new Lo(xe).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const x=[],V=new Set;for(const{fbase_key:se,value:xe}of E)V.add(se),JSON.stringify(y.localCache[se])!==JSON.stringify(xe)&&(y.notifyListeners(se,xe),x.push(se));for(const se of Object.keys(y.localCache))y.localCache[se]&&!V.has(se)&&(y.notifyListeners(se,null),x.push(se));return x})()}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const V of Array.from(x))V(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function If(b,g){return Ht(b,"POST","/v2/accounts/mfaSignIn:start",Wt(b,g))}function Yi(){return(Yi=(0,a.Z)(function*(b){return(yield Ht(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Vo(b){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",b),E.onload=g,E.onerror=x=>{const V=Fe("internal-error");V.customData=x,y(V)},E.type="text/javascript",E.charset="UTF-8",function Na(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(E)})}function Fa(b){return`__${b}${Math.floor(1e6*Math.random())}`}const ds=1e12;class Zd{constructor(g){this.auth=g,this.counter=ds,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new Rn(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||ds;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||ds))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,a.Z)(function*(){var E;return null===(E=y._widgets.get(g||ds))||void 0===E||E.execute(),""})()}}class Rn{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;le(x,"argument-error",{appName:y}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Fm(b){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<b;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sf=Fa("rcb"),HC=new Ye(3e4,6e4);class Ey{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Zn().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return le(function Tf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Zn().grecaptcha):new Promise((E,x)=>{const V=Zn().setTimeout(()=>{x(Fe(g,"network-request-failed"))},HC.get());Zn()[Sf]=()=>{Zn().clearTimeout(V),delete Zn()[Sf];const xe=Zn().grecaptcha;if(!xe)return void x(Fe(g,"internal-error"));const Je=xe.render;xe.render=(gt,Zt)=>{const Hn=Je(gt,Zt);return this.counter++,Hn},this.hostLanguage=y,E(xe)},Vo(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Sf,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(V),x(Fe(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=Zn().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class jC{load(g){return(0,a.Z)(function*(){return new Zd(g)})()}clearedOneInstance(){}}const ro="recaptcha",Dy={theme:"light",type:"image"};class Lm{constructor(g,y=Object.assign({},Dy),E){this.parameters=y,this.type=ro,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bt(E),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;le(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new jC:new Ey,this.validateStartingState()}verify(){var g=this;return(0,a.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(V=>{const se=xe=>{!xe||(g.tokenChangeListeners.delete(se),V(xe))};g.tokenChangeListeners.add(se),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=Zn()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,a.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,a.Z)(function*(){le(He()&&!_r(),g.auth,"internal-error"),yield function Mi(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Ac(b){return Yi.apply(this,arguments)}(g.auth);le(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bo{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=pa._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function ii(b,g,y){return Yd.apply(this,arguments)}function Yd(){return(Yd=(0,a.Z)(function*(b,g,y){const E=bt(b),x=yield Ho(E,g,(0,H.m9)(y));return new Bo(x,V=>pl(E,V))})).apply(this,arguments)}function Uo(b,g,y){return Li.apply(this,arguments)}function Li(){return(Li=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b);yield ls(!1,E,"phone");const x=yield Ho(E.auth,g,(0,H.m9)(y));return new Bo(x,V=>Pt(E,V))})).apply(this,arguments)}function hs(b,g,y){return so.apply(this,arguments)}function so(){return(so=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b),x=yield Ho(E.auth,g,(0,H.m9)(y));return new Bo(x,V=>Pm(E,V))})).apply(this,arguments)}function Ho(b,g,y){return zr.apply(this,arguments)}function zr(){return(zr=(0,a.Z)(function*(b,g,y){var E;const x=yield y.verify();try{let V;if(le("string"==typeof x,b,"argument-error"),le(y.type===ro,b,"argument-error"),V="string"==typeof g?{phoneNumber:g}:g,"session"in V){const se=V.session;if("phoneNumber"in V)return le("enroll"===se.type,b,"internal-error"),(yield Wn(b,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{le("signin"===se.type,b,"internal-error");const xe=(null===(E=V.multiFactorHint)||void 0===E?void 0:E.uid)||V.multiFactorUid;return le(xe,b,"missing-multi-factor-info"),(yield If(b,{mfaPendingCredential:se.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield km(b,{phoneNumber:V.phoneNumber,recaptchaToken:x});return se}}finally{y._reset()}})).apply(this,arguments)}function Rl(b,g){return oo.apply(this,arguments)}function oo(){return(oo=(0,a.Z)(function*(b,g){yield yc((0,H.m9)(b),g)})).apply(this,arguments)}let Af=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=bt(y)}verifyPhoneNumber(y,E){return Ho(this.auth,y,(0,H.m9)(E))}static credential(y,E){return pa._fromVerification(y,E)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:x}=y;return E&&x?pa._fromTokenResponse(E,x):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function Ol(b,g){return g?ne(g):(le(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class Pl extends pr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return xo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return xo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return xo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Kd(b){return mu(b.auth,new Pl(b),b.bypassAuthState)}function yr(b){const{auth:g,user:y}=b;return le(y,g,"internal-error"),vc(y,new Pl(b),b.bypassAuthState)}function Va(b){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,a.Z)(function*(b){const{auth:g,user:y}=b;return le(y,g,"internal-error"),yc(y,new Pl(b),b.bypassAuthState)})).apply(this,arguments)}class Nl{constructor(g,y,E,x,V=!1){this.auth=g,this.resolver=E,this.user=x,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,a.Z)(function*(E,x){g.pendingPromise={resolve:E,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(V){g.reject(V)}});return function(E,x){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,a.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:V,tenantId:se,error:xe,type:Je}=g;if(xe)return void y.reject(xe);const gt={auth:y.auth,requestUri:E,sessionId:x,tenantId:se||void 0,postBody:V||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Je)(gt))}catch(Zt){y.reject(Zt)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Kd;case"linkViaPopup":case"linkViaRedirect":return Va;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:rt(this.auth,"internal-error")}}resolve(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const St=new Ye(2e3,1e4);function Sn(b,g,y){return vi.apply(this,arguments)}function vi(){return(vi=(0,a.Z)(function*(b,g,y){const E=bt(b);Se(b,g,Ni);const x=Ol(E,y);return new Mc(E,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function Ps(b,g,y){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b);Se(E.auth,g,Ni);const x=Ol(E.auth,y);return new Mc(E.auth,"reauthViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}function et(b,g,y){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b);Se(E.auth,g,Ni);const x=Ol(E.auth,y);return new Mc(E.auth,"linkViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}let Mc=(()=>{class b extends Nl{constructor(y,E,x,V,se){super(y,E,V,se),this.provider=x,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,a.Z)(function*(){const E=yield y.execute();return le(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,a.Z)(function*(){be(1===y.filter.length,"Popup operations only handle one event");const E=Aa();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(x=>{y.reject(x)}),y.resolver._isIframeWebStorageSupported(y.auth,x=>{x||y.reject(Fe(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Fe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,x;this.pollId=null!==(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Fe(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,St.get())};y()}}return b.currentPopupAction=null,b})();const ao=new Map;class Ki extends Nl{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,a.Z)(function*(){let E=ao.get(y.auth._key());if(!E){try{const V=(yield function ku(b,g){return Ba.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(V)}catch(x){E=()=>Promise.reject(x)}ao.set(y.auth._key(),E)}return y.bypassAuthState||ao.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,a.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const x=yield E.auth._redirectUserForId(g.eventId);if(x)return E.user=x,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Ba(){return(Ba=(0,a.Z)(function*(b,g){const y=qr(g),E=rr(b);if(!(yield E._isAvailable()))return!1;const x="true"===(yield E._get(y));return yield E._remove(y),x})).apply(this,arguments)}function Ns(b,g){return Qd.apply(this,arguments)}function Qd(){return(Qd=(0,a.Z)(function*(b,g){return rr(b)._set(qr(g),"true")})).apply(this,arguments)}function Ua(){ao.clear()}function Ha(b,g){ao.set(b._key(),g)}function rr(b){return ne(b._redirectPersistence)}function qr(b){return pn("pendingRedirect",b.config.apiKey,b.name)}function xc(b,g,y){return function Bn(b,g,y){return ja.apply(this,arguments)}(b,g,y)}function ja(){return(ja=(0,a.Z)(function*(b,g,y){const E=bt(b);Se(b,g,Ni);const x=Ol(E,y);return yield Ns(x,E),x._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function S(b,g,y){return function T(b,g,y){return k.apply(this,arguments)}(b,g,y)}function k(){return(k=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b);Se(E.auth,g,Ni);const x=Ol(E.auth,y);yield Ns(x,E.auth);const V=yield $t(E);return x._openRedirect(E.auth,g,"reauthViaRedirect",V)})).apply(this,arguments)}function U(b,g,y){return function te(b,g,y){return fe.apply(this,arguments)}(b,g,y)}function fe(){return(fe=(0,a.Z)(function*(b,g,y){const E=(0,H.m9)(b);Se(E.auth,g,Ni);const x=Ol(E.auth,y);yield ls(!1,E,g.providerId),yield Ns(x,E.auth);const V=yield $t(E);return x._openRedirect(E.auth,g,"linkViaRedirect",V)})).apply(this,arguments)}function Pe(b,g){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,a.Z)(function*(b,g){return yield bt(b)._initializationPromise,wt(b,g,!1)})).apply(this,arguments)}function wt(b,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(b,g,y=!1){const E=bt(b),x=Ol(E,g),se=yield new Ki(E,x,y).execute();return se&&!y&&(delete se.user._redirectEventId,yield E._persistUserIfCurrent(se.user),yield E._setRedirectUser(null,g)),se})).apply(this,arguments)}function $t(b){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(b){const g=Aa(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Bi{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Vl(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ll(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!Ll(g)){const x=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Fe(this.auth,x))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fl(g))}saveEventToCache(g){this.cachedEventUids.add(Fl(g)),this.lastProcessedEventTime=Date.now()}}function Fl(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function Ll({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===g?.code}function jo(b){return lo.apply(this,arguments)}function lo(){return(lo=(0,a.Z)(function*(b,g={}){return Ht(b,"GET","/v1/projects",g)})).apply(this,arguments)}const Rc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bl=/^https?/;function Ul(){return(Ul=(0,a.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield jo(b);for(const y of g)try{if(fM(y))return}catch{}rt(b,"unauthorized-domain")})).apply(this,arguments)}function fM(b){const g=Ue(),{protocol:y,hostname:E}=new URL(g);if(b.startsWith("chrome-extension://")){const se=new URL(b);return""===se.hostname&&""===E?"chrome-extension:"===y&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&se.hostname===E}if(!Bl.test(y))return!1;if(Rc.test(b))return E===b;const x=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const $C=new Ye(3e4,6e4);function Iy(){const b=Zn().___jsl;if(b?.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let Oc=null;function Sy(b){return Oc=Oc||function GC(b){return new Promise((g,y)=>{var E,x,V;function se(){Iy(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Iy(),y(Fe(b,"network-request-failed"))},timeout:$C.get()})}if(null!==(x=null===(E=Zn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(V=Zn().gapi)||void 0===V||!V.load){const xe=Fa("iframefcb");return Zn()[xe]=()=>{gapi.load?se():y(Fe(b,"network-request-failed"))},Vo(`https://apis.google.com/js/api.js?onload=${xe}`).catch(Je=>y(Je))}se()}}).catch(g=>{throw Oc=null,g})}(b),Oc}const zC=new Ye(5e3,15e3),Ay={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vm(b){const g=b.config;le(g.authDomain,b,"auth-domain-config-required");const y=g.emulator?Dn(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:b.name,v:P.SDK_VERSION},x=mM.get(b.config.apiHost);x&&(E.eid=x);const V=b._getFrameworks();return V.length&&(E.fw=V.join(",")),`${y}?${(0,H.xO)(E).slice(1)}`}function kf(){return kf=(0,a.Z)(function*(b){const g=yield Sy(b),y=Zn().gapi;return le(y,b,"internal-error"),g.open({where:document.body,url:Vm(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ay,dontclear:!0},E=>new Promise(function(){var x=(0,a.Z)(function*(V,se){yield E.restyle({setHideOnLeave:!1});const xe=Fe(b,"network-request-failed"),Je=Zn().setTimeout(()=>{se(xe)},zC.get());function gt(){Zn().clearTimeout(Je),V(E)}E.ping(gt).then(gt,()=>{se(xe)})});return function(V,se){return x.apply(this,arguments)}}()))}),kf.apply(this,arguments)}const xf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class YC{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Xd(b,g,y,E,x,V){le(b.config.authDomain,b,"auth-domain-config-required"),le(b.config.apiKey,b,"invalid-api-key");const se={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:x};if(g instanceof Ni){g.setDefaultLanguage(b.languageCode),se.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Je,gt]of Object.entries(V||{}))se[Je]=gt}if(g instanceof ga){const Je=g.getScopes().filter(gt=>""!==gt);Je.length>0&&(se.scopes=Je.join(","))}b.tenantId&&(se.tid=b.tenantId);const xe=se;for(const Je of Object.keys(xe))void 0===xe[Je]&&delete xe[Je];return`${function Hl({config:b}){return b.emulator?Dn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,H.xO)(xe).slice(1)}`}const Hm="webStorageSupport",xy=class KC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=wt,this._overrideRedirectResult=Ha}_openPopup(g,y,E,x){var V=this;return(0,a.Z)(function*(){var se;be(null===(se=V.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const xe=Xd(g,y,E,Ue(),x);return function Rf(b,g,y,E=500,x=600){const V=Math.max((window.screen.availHeight-x)/2,0).toString(),se=Math.max((window.screen.availWidth-E)/2,0).toString();let xe="";const Je=Object.assign(Object.assign({},xf),{width:E.toString(),height:x.toString(),top:V,left:se}),gt=(0,H.z$)().toLowerCase();y&&(xe=Ce(gt)?"_blank":y),$(gt)&&(g=g||"http://localhost",Je.scrollbars="yes");const Zt=Object.entries(Je).reduce((co,[Nc,$m])=>`${co}${Nc}=${$m},`,"");if(function Fn(b=(0,H.z$)()){var g;return at(b)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(gt)&&"_self"!==xe)return function Um(b,g){const y=document.createElement("a");y.href=b,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",xe),new YC(null);const Hn=window.open(g||"",xe,Zt);le(Hn,b,"popup-blocked");try{Hn.focus()}catch{}return new YC(Hn)}(g,xe,Aa())})()}_openRedirect(g,y,E,x){var V=this;return(0,a.Z)(function*(){return yield V._originValidation(g),function zd(b){Zn().location.href=b}(Xd(g,y,E,Ue(),x)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:x,promise:V}=this.eventManagers[y];return x?Promise.resolve(x):(be(V,"If manager is not set, promise should be"),V)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,a.Z)(function*(){const E=yield function qC(b){return kf.apply(this,arguments)}(g),x=new Bi(g);return E.register("authEvent",V=>(le(V?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:x},y.iframes[g._key()]=E,x})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(Hm,{type:Hm},x=>{var V;const se=null===(V=x?.[0])||void 0===V?void 0:V[Hm];void 0!==se&&y(!!se),rt(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function $a(b){return Ul.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return wn()||q()||at()}};class jm extends class QC{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new jm(g)}_finalizeEnroll(g,y,E){return function Cc(b,g){return Ht(b,"POST","/v2/accounts/mfaEnrollment:finalize",Wt(b,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function Pa(b,g){return Ht(b,"POST","/v2/accounts/mfaSignIn:finalize",Wt(b,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Ga=(()=>{class b{constructor(){}static assertion(y){return jm._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var Pc="@firebase/auth";class XC{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,a.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var x;g((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function eE(b){(0,P._registerComponent)(new ye.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:V,authDomain:se}=E.options;return((xe,Je)=>{le(V&&!V.includes(":"),"invalid-api-key",{appName:xe.name}),le(!se?.includes(":"),"argument-error",{appName:xe.name});const gt={apiKey:V,authDomain:se,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:On(b)},Zt=new So(xe,Je,gt);return function ue(b,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(ne);g?.errorMap&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(E,g?.popupRedirectResolver)}(Zt,y),Zt})(E,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ye.wA("auth-internal",g=>{const y=bt(g.getProvider("auth").getImmediate());return new XC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Pc,"0.20.6",function JC(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(Pc,"0.20.6","esm2017")}("Browser")},2090:(ht,ke,L)=>{L.d(ke,{$s:()=>Zi,BH:()=>Ge,DV:()=>Ht,Dv:()=>Ti,G6:()=>le,GJ:()=>tn,L:()=>me,LL:()=>Ue,Mn:()=>Se,Pz:()=>qt,Sg:()=>Ne,UG:()=>Ee,UI:()=>Do,US:()=>ye,Wj:()=>xn,Yr:()=>We,ZB:()=>Z,ZR:()=>ue,b$:()=>rt,cI:()=>en,d:()=>Fe,dS:()=>pt,eu:()=>be,g5:()=>P,gK:()=>as,gQ:()=>Hr,h$:()=>ae,hl:()=>he,hu:()=>H,jU:()=>_e,lb:()=>In,m9:()=>Yt,ne:()=>os,p$:()=>W,pd:()=>Gn,r3:()=>Wt,ru:()=>it,tV:()=>we,uI:()=>lt,ug:()=>mt,vZ:()=>Oi,w1:()=>Re,w9:()=>ln,xO:()=>ss,xb:()=>Ri,z$:()=>Ie,zI:()=>J,zd:()=>hr});const H=function(X,G){if(!X)throw P(G)},P=function(X){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+X)},ce=function(X){const G=[];let j=0;for(let Y=0;Y<X.length;Y++){let K=X.charCodeAt(Y);K<128?G[j++]=K:K<2048?(G[j++]=K>>6|192,G[j++]=63&K|128):55296==(64512&K)&&Y+1<X.length&&56320==(64512&X.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&X.charCodeAt(++Y)),G[j++]=K>>18|240,G[j++]=K>>12&63|128,G[j++]=K>>6&63|128,G[j++]=63&K|128):(G[j++]=K>>12|224,G[j++]=K>>6&63|128,G[j++]=63&K|128)}return G},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,G){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<X.length;K+=3){const Ae=X[K],qe=K+1<X.length,Ct=qe?X[K+1]:0,mn=K+2<X.length,pn=mn?X[K+2]:0;let $=(15&Ct)<<2|pn>>6,q=63&pn;mn||(q=64,qe||($=64)),Y.push(j[Ae>>2],j[(3&Ae)<<4|Ct>>4],j[$],j[q])}return Y.join("")},encodeString(X,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(X):this.encodeByteArray(ce(X),G)},decodeString(X,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(X):function(X){const G=[];let j=0,Y=0;for(;j<X.length;){const K=X[j++];if(K<128)G[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const Ae=X[j++];G[Y++]=String.fromCharCode((31&K)<<6|63&Ae)}else if(K>239&&K<365){const mn=((7&K)<<18|(63&X[j++])<<12|(63&X[j++])<<6|63&X[j++])-65536;G[Y++]=String.fromCharCode(55296+(mn>>10)),G[Y++]=String.fromCharCode(56320+(1023&mn))}else{const Ae=X[j++],qe=X[j++];G[Y++]=String.fromCharCode((15&K)<<12|(63&Ae)<<6|63&qe)}}return G.join("")}(this.decodeStringToByteArray(X,G))},decodeStringToByteArray(X,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<X.length;){const Ae=j[X.charAt(K++)],Ct=K<X.length?j[X.charAt(K)]:0;++K;const pn=K<X.length?j[X.charAt(K)]:64;++K;const re=K<X.length?j[X.charAt(K)]:64;if(++K,null==Ae||null==Ct||null==pn||null==re)throw Error();Y.push(Ae<<2|Ct>>4),64!==pn&&(Y.push(Ct<<4&240|pn>>2),64!==re&&Y.push(pn<<6&192|re))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}},ae=function(X){const G=ce(X);return ye.encodeByteArray(G,!0)},me=function(X){return ae(X).replace(/\./g,"")},we=function(X){try{return ye.decodeString(X,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function W(X){return Z(void 0,X)}function Z(X,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!ee(j)||(X[j]=Z(X[j],G[j]));return X}function ee(X){return"__proto__"!==X}class Ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,Y)=>{j?this.reject(j):this.resolve(Y),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,Y))}}}function Ne(X,G){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=G||"demo-project",K=X.iat||0,Ae=X.sub||X.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},X);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(qe)),""].join(".")}function Ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function Ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function it(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function rt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Fe(){return Ie().indexOf("Electron/")>=0}function Re(){const X=Ie();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Se(){return Ie().indexOf("MSAppHost/")>=0}function We(){return!1}function le(){return!Ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function be(){return new Promise((X,G)=>{try{let j=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),j||self.indexedDB.deleteDatabase(Y),X(!0)},K.onupgradeneeded=()=>{j=!1},K.onerror=()=>{var Ae;G((null===(Ae=K.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(j){G(j)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ue extends Error{constructor(G,j,Y){super(j),this.code=G,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor(G,j,Y){this.service=G,this.serviceName=j,this.errors=Y}create(G,...j){const Y=j[0]||{},K=`${this.service}/${G}`,Ae=this.errors[G],qe=Ae?function He(X,G){return X.replace(yt,(j,Y)=>{const K=G[Y];return null!=K?String(K):`<${Y}?>`})}(Ae,Y):"Error";return new ue(K,`${this.serviceName}: ${qe} (${K}).`,Y)}}const yt=/\{\$([^}]+)}/g;function en(X){return JSON.parse(X)}function qt(X){return JSON.stringify(X)}const Ye=function(X){let G={},j={},Y={},K="";try{const Ae=X.split(".");G=en(we(Ae[0])||""),j=en(we(Ae[1])||""),K=Ae[2],Y=j.d||{},delete j.d}catch{}return{header:G,claims:j,data:Y,signature:K}},ln=function(X){const j=Ye(X).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},tn=function(X){const G=Ye(X).claims;return"object"==typeof G&&!0===G.admin};function Wt(X,G){return Object.prototype.hasOwnProperty.call(X,G)}function Ht(X,G){if(Object.prototype.hasOwnProperty.call(X,G))return X[G]}function Ri(X){for(const G in X)if(Object.prototype.hasOwnProperty.call(X,G))return!1;return!0}function Do(X,G,j){const Y={};for(const K in X)Object.prototype.hasOwnProperty.call(X,K)&&(Y[K]=G.call(j,X[K],K,X));return Y}function Oi(X,G){if(X===G)return!0;const j=Object.keys(X),Y=Object.keys(G);for(const K of j){if(!Y.includes(K))return!1;const Ae=X[K],qe=G[K];if(Nn(Ae)&&Nn(qe)){if(!Oi(Ae,qe))return!1}else if(Ae!==qe)return!1}for(const K of Y)if(!j.includes(K))return!1;return!0}function Nn(X){return null!==X&&"object"==typeof X}function ss(X){const G=[];for(const[j,Y]of Object.entries(X))Array.isArray(Y)?Y.forEach(K=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(K))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(Y));return G.length?"&"+G.join("&"):""}function hr(X){const G={};return X.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[K,Ae]=Y.split("=");G[decodeURIComponent(K)]=decodeURIComponent(Ae)}}),G}function Gn(X){const G=X.indexOf("?");if(!G)return"";const j=X.indexOf("#",G);return X.substring(G,j>0?j:void 0)}class Hr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,j){j||(j=0);const Y=this.W_;if("string"==typeof G)for(let re=0;re<16;re++)Y[re]=G.charCodeAt(j)<<24|G.charCodeAt(j+1)<<16|G.charCodeAt(j+2)<<8|G.charCodeAt(j+3),j+=4;else for(let re=0;re<16;re++)Y[re]=G[j]<<24|G[j+1]<<16|G[j+2]<<8|G[j+3],j+=4;for(let re=16;re<80;re++){const $=Y[re-3]^Y[re-8]^Y[re-14]^Y[re-16];Y[re]=4294967295&($<<1|$>>>31)}let pn,li,K=this.chain_[0],Ae=this.chain_[1],qe=this.chain_[2],Ct=this.chain_[3],mn=this.chain_[4];for(let re=0;re<80;re++){re<40?re<20?(pn=Ct^Ae&(qe^Ct),li=1518500249):(pn=Ae^qe^Ct,li=1859775393):re<60?(pn=Ae&qe|Ct&(Ae|qe),li=2400959708):(pn=Ae^qe^Ct,li=3395469782);const $=(K<<5|K>>>27)+pn+mn+li+Y[re]&4294967295;mn=Ct,Ct=qe,qe=4294967295&(Ae<<30|Ae>>>2),Ae=K,K=$}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Ae&4294967295,this.chain_[2]=this.chain_[2]+qe&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+mn&4294967295}update(G,j){if(null==G)return;void 0===j&&(j=G.length);const Y=j-this.blockSize;let K=0;const Ae=this.buf_;let qe=this.inbuf_;for(;K<j;){if(0===qe)for(;K<=Y;)this.compress_(G,K),K+=this.blockSize;if("string"==typeof G){for(;K<j;)if(Ae[qe]=G.charCodeAt(K),++qe,++K,qe===this.blockSize){this.compress_(Ae),qe=0;break}}else for(;K<j;)if(Ae[qe]=G[K],++qe,++K,qe===this.blockSize){this.compress_(Ae),qe=0;break}}this.inbuf_=qe,this.total_+=j}digest(){const G=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&j,j/=256;this.compress_(this.buf_);let Y=0;for(let K=0;K<5;K++)for(let Ae=24;Ae>=0;Ae-=8)G[Y]=this.chain_[K]>>Ae&255,++Y;return G}}function os(X,G){const j=new st(X,G);return j.subscribe.bind(j)}class st{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(Y=>{this.error(Y)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,Y){let K;if(void 0===G&&void 0===j&&void 0===Y)throw new Error("Missing Observer.");K=function zn(X,G){if("object"!=typeof X||null===X)return!1;for(const j of G)if(j in X&&"function"==typeof X[j])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:j,complete:Y},void 0===K.next&&(K.next=bn),void 0===K.error&&(K.error=bn),void 0===K.complete&&(K.complete=bn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Ae}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}const Ti=function(X,G,j,Y){let K;if(Y<G?K="at least "+G:Y>j&&(K=0===j?"none":"no more than "+j),K)throw new Error(X+" failed: Was called with "+Y+(1===Y?" argument.":" arguments.")+" Expects "+K+".")};function as(X,G){return`${X} failed: ${G} argument `}function xn(X,G,j,Y){if((!Y||j)&&"function"!=typeof j)throw new Error(as(X,G)+"must be a valid function.")}function In(X,G,j,Y){if((!Y||j)&&("object"!=typeof j||null===j))throw new Error(as(X,G)+"must be a valid context object.")}const pt=function(X){const G=[];let j=0;for(let Y=0;Y<X.length;Y++){let K=X.charCodeAt(Y);if(K>=55296&&K<=56319){const Ae=K-55296;Y++,H(Y<X.length,"Surrogate pair missing trail surrogate."),K=65536+(Ae<<10)+(X.charCodeAt(Y)-56320)}K<128?G[j++]=K:K<2048?(G[j++]=K>>6|192,G[j++]=63&K|128):K<65536?(G[j++]=K>>12|224,G[j++]=K>>6&63|128,G[j++]=63&K|128):(G[j++]=K>>18|240,G[j++]=K>>12&63|128,G[j++]=K>>6&63|128,G[j++]=63&K|128)}return G},mt=function(X){let G=0;for(let j=0;j<X.length;j++){const Y=X.charCodeAt(j);Y<128?G++:Y<2048?G+=2:Y>=55296&&Y<=56319?(G+=4,j++):G+=3}return G};function Zi(X,G=1e3,j=2){const Y=G*Math.pow(j,X),K=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+K)}function Yt(X){return X&&X._delegate?X._delegate:X}},7442:(ht,ke,L)=>{var a=L(4650);let H=null;function P(){return H}const ae=new a.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function we(){return(0,a.LFG)(Z)}()},providedIn:"platform"}),n})();const W=new a.OlP("Location Initialized");let Z=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ee()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ee()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Ge(){return new Z((0,a.LFG)(ae))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let Ee=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(it)},providedIn:"root"}),n})();const _e=new a.OlP("appBaseHref");let it=(()=>{class n extends Ee{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,a.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ne(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+lt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+lt(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+lt(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(me),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rt=(()=>{class n extends Ee{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ne(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+lt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+lt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(me),a.LFG(_e,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Fe=(()=>{class n{constructor(e){this._subject=new a.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(We(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lt(i))}normalize(e){return n.stripTrailingSlash(function Se(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,We(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Ne,n.stripTrailingSlash=Ie,n.\u0275fac=function(e){return new(e||n)(a.LFG(Ee))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function Re(){return new Fe((0,a.LFG)(Ee))}()},providedIn:"root"}),n})();function We(n){return n.replace(/\/index.html$/,"")}function pc(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let cn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Mo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let jr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Mo(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),ko(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{ko(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function ko(n,t){n.context.$implicit=t.item}let gn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new ff,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ci("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ci("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ff{constructor(){this.$implicit=null,this.ngIf=null}}function ci(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(t)}'.`)}class Ir{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ss=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),da=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Ir(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ss,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),ha=(()=>{class n{constructor(e,i,r){r._addDefault(new Ir(e,i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(Ss,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),mc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),c=-1===r.indexOf("-")?void 0:a.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();class Mm{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Ts{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const km=new Ts,Id=new Mm;let hl=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,a.QGY)(e))return km;if((0,a.F4k)(e))return Id;throw function Sr(n,t){return new a.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Tr="browser";function ya(n){return"server"===n}let Rd=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new pf((0,a.LFG)(ae),window)}),n})();class pf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Fi(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$r(this.window.history)||$r(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function $r(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Po{}class eo extends class Ld extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){H||(H=n)}(new eo)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Vd(){return to=to||document.querySelector("base"),to?to.getAttribute("href"):null}();return null==e?null:function xs(n){Ln=Ln||document.createElement("a"),Ln.setAttribute("href",n);const t=Ln.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){to=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return pc(document.cookie,t)}}let Ln,to=null;const Vn=new a.OlP("TRANSITION_ID"),bu=[{provide:a.ip1,useFactory:function vu(n,t,e){return()=>{e.get(a.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Vn,ae,a.zs3],multi:!0}];let wu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Cu=new a.OlP("EventManagerPlugins");let Ud=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Cu),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Eu{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Ia=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Sa=(()=>{class n extends Ia{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Hd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hd))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Hd(n){P().remove(n)}const Ta={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},jd=/%COMP%/g;function Ec(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ec(n,r,e):(r=r.replace(jd,n),e.push(r))}return e}function Dc(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Il=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Rs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case a.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Gd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case a.ifc.ShadowDom:return new wf(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ec(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Ud),a.LFG(Sa),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Rs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Ta[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Tl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Tl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Ta[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Ta[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(a.JOm.DashCase|a.JOm.Important)?t.style.setProperty(e,i,r&a.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&a.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Dc(i)):this.eventManager.addEventListener(t,e,Dc(i))}}function Tl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Gd extends Rs{constructor(t,e,i,r){super(t),this.component=i;const s=Ec(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Wn(n){return"_ngcontent-%COMP%".replace(jd,n)}(r+"-"+i.id),this.hostAttr=function Cc(n){return"_nghost-%COMP%".replace(jd,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class wf extends Rs{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Ec(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hi=(()=>{class n extends Eu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Cf=["alt","control","meta","shift"],no={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Su={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Al=(()=>{class n extends Eu{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Cf.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=no[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Cf.forEach(c=>{c!==r&&(0,Su[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ml=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:Tr},{provide:a.g9A,useValue:function qd(){eo.makeCurrent()},multi:!0},{provide:ae,useFactory:function Tu(){return(0,a.RDi)(document),document},deps:[]}]),Fo=new a.OlP(""),kl=[{provide:a.rWj,useClass:class Bd{addToWindow(t){a.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},a.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(i=>{const r=a.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:a.lri,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b,a.eoX,a.rWj]}],Ma=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function Os(){return new a.qLn},deps:[]},{provide:Cu,useClass:hi,multi:!0,deps:[ae,a.R0b,a.Lbi]},{provide:Cu,useClass:Al,multi:!0,deps:[ae]},{provide:Il,useClass:Il,deps:[Ud,Sa,a.AFp]},{provide:a.FYo,useExisting:Il},{provide:Ia,useExisting:Sa},{provide:Sa,useClass:Sa,deps:[ae]},{provide:Ud,useClass:Ud,deps:[Cu,a.R0b]},{provide:Po,useClass:wu,deps:[]},[]];let Lo=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:a.AFp,useValue:e.appId},{provide:Vn,useExisting:a.AFp},bu]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Fo,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[...Ma,...kl],imports:[Ro,a.hGG]}),n})(),us=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function xl(){return new us((0,a.LFG)(ae))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Bo,ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):a.LFG(Lm),i},providedIn:"root"}),n})(),Lm=(()=>{class n extends ro{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case a.q3G.NONE:return i;case a.q3G.HTML:return(0,a.qzn)(i,"HTML")?(0,a.z3N)(i):(0,a.EiD)(this._doc,String(i)).toString();case a.q3G.STYLE:return(0,a.qzn)(i,"Style")?(0,a.z3N)(i):i;case a.q3G.SCRIPT:if((0,a.qzn)(i,"Script"))return(0,a.z3N)(i);throw new Error("unsafe value used in a script context");case a.q3G.URL:return(0,a.qzn)(i,"URL")?(0,a.z3N)(i):(0,a.mCW)(String(i));case a.q3G.RESOURCE_URL:if((0,a.qzn)(i,"ResourceURL"))return(0,a.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,a.JVY)(e)}bypassSecurityTrustStyle(e){return(0,a.L6k)(e)}bypassSecurityTrustScript(e){return(0,a.eBb)(e)}bypassSecurityTrustUrl(e){return(0,a.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,a.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Dy(n){return new Lm(n.get(ae))}(a.LFG(a.zs3)),i},providedIn:"root"}),n})();try{Bo=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Bo=!1}let Uo,ii=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ar(n){return n===Tr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bo)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Li=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function hs(){if(Uo)return Uo;if("object"!=typeof document||!document)return Uo=new Set(Li),Uo;let n=document.createElement("input");return Uo=new Set(Li.filter(t=>(n.setAttribute("type",t),n.type===t))),Uo}let so,oo,Pl;function zr(n){return function Ho(){if(null==so&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>so=!0}))}finally{so=so||!1}return so}()?n:!!n.capture}function Af(){if(null==oo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return oo=!1,oo;if("scrollBehavior"in document.documentElement.style)oo=!0;else{const n=Element.prototype.scrollTo;oo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return oo}function Va(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Vi(n){return n.composedPath?n.composedPath()[0]:n.target}function Nl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var St=L(7579),Sn=L(727);class vi extends St.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Ps=L(3269),_n=L(8996);function et(...n){const t=(0,Ps.yG)(n);return(0,_n.D)(n,t)}const S=37,T=38,k=39,U=40;function Fc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Yn=L(8505),Lc=L(4986),bi=L(4482),Kn=L(5403);function Nf(n,t=Lc.z){return(0,bi.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,w=t.now();if(w<_)return r=this.schedule(void 0,_-w),void i.add(r);d()}e.subscribe((0,Kn.x)(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function pi(n,t){return(0,bi.e)((e,i)=>{let r=0;e.subscribe((0,Kn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var ct=L(4004),jl=L(515);function ri(n){return n<=0?()=>jl.E:(0,bi.e)((t,e)=>{let i=0;t.subscribe((0,Kn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function vM(n){return pi((t,e)=>n<=e)}var eh=L(4671);function th(n,t=eh.y){return n=n??oE,(0,bi.e)((e,i)=>{let r,s=!0;e.subscribe((0,Kn.x)(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function oE(n,t){return n===t}var $l=L(8421),Gl=L(5032);function sr(n){return(0,bi.e)((t,e)=>{(0,$l.Xf)(n).subscribe((0,Kn.x)(e,()=>e.complete(),Gl.Z)),!e.closed&&t.subscribe(e)})}function yn(n){return null!=n&&"false"!=`${n}`}function Ru(n,t=0){return aE(n)?Number(n):t}function aE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function nh(n){return Array.isArray(n)?n:[n]}function mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Wr(n){return n instanceof a.SBq?n.nativeElement:n}var Qi=L(9751);let cE=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bM=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Wr(e);return new Qi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new St.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(cE))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ly=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new a.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=yn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ru(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Nf(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(bM),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Vc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[cE]}),n})();const{isArray:wM}=Array,{getPrototypeOf:CM,prototype:EM,keys:DM}=Object;function Wm(n){if(1===n.length){const t=n[0];if(wM(t))return{args:t,keys:null};if(function IM(n){return n&&"object"==typeof n&&CM(n)===EM}(t)){const e=DM(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}const{isArray:uE}=Array;function Zm(n){return(0,ct.U)(t=>function SM(n,t){return uE(t)?n(...t):n(t)}(n,t))}function TM(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var AM=L(9672);function Ou(...n){const t=(0,Ps.yG)(n),e=(0,Ps.jO)(n),{args:i,keys:r}=Wm(n);if(0===i.length)return(0,_n.D)([],t);const s=new Qi.y(function MM(n,t,e=eh.y){return i=>{Pu(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)Pu(t,()=>{const _=(0,_n.D)(n[p],t);let w=!1;_.subscribe((0,Kn.x)(i,I=>{s[p]=I,w||(w=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>TM(r,c):eh.y));return e?s.pipe(Zm(e)):s}function Pu(n,t,e){n?(0,AM.f)(e,n,t):t()}var zl=L(8189);function Ym(...n){return function kM(){return(0,zl.J)(1)}()((0,_n.D)(n,(0,Ps.yG)(n)))}function vr(...n){const t=(0,Ps.yG)(n);return(0,bi.e)((e,i)=>{(t?Ym(n,e,t):Ym(n,e)).subscribe(i)})}const dE=new Set;let ih,hE=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Vy}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function fE(n){if(!dE.has(n))try{ih||(ih=document.createElement("style"),ih.setAttribute("type","text/css"),document.head.appendChild(ih)),ih.sheet&&(ih.sheet.insertRule(`@media ${n} {body{ }}`,0),dE.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ii))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Vy(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let By=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new St.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return pE(nh(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=Ou(pE(nh(e)).map(c=>this._registerQuery(c).observable));return s=Ym(s.pipe(ri(1)),s.pipe(vM(1),Nf(0))),s.pipe((0,ct.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Qi.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(vr(i),(0,ct.U)(({matches:c})=>({query:e,matches:c})),sr(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(hE),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pE(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class Hy{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new St.x,this._typeaheadSubscription=Sn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new St.x,this.change=new St.x,t instanceof a.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Yn.b)(e=>this._pressedLetters.push(e)),Nf(t),pi(()=>this._pressedLetters.length>0),(0,ct.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case U:if(this._vertical&&r){this.setNextItemActive();break}return;case T:if(this._vertical&&r){this.setPreviousItemActive();break}return;case k:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case S:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Fc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof a.n_E?this._items.toArray():this._items}}class _E extends Hy{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class yE extends Hy{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let PM=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Ff(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function jy(n){try{return n.frameElement}catch{return null}}(function UM(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===CE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=CE(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function BM(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function $y(n){return!function FM(n){return function bE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function NM(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function LM(n){return function VM(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ii))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function CE(n){if(!wE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class HM{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ri(1)).subscribe(t)}}let jM=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new HM(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(PM),a.LFG(a.R0b),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EE=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=yn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=yn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=Va(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(jM),a.Y36(ae))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[a.TTD]}),n})();function Lf(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function or(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const Vf=new a.OlP("cdk-input-modality-detector-options"),Gy={ignoreKeys:[18,17,224,91,16]},rh=zr({passive:!0,capture:!0});let SE=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new vi(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Vi(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Lf(c)?"keyboard":"mouse"),this._mostRecentTarget=Vi(c))},this._onTouchstart=c=>{or(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Vi(c))},this._options={...Gy,...s},this.modalityDetected=this._modality.pipe(vM(1)),this.modalityChanged=this.modalityDetected.pipe(th()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,rh),r.addEventListener("mousedown",this._onMousedown,rh),r.addEventListener("touchstart",this._onTouchstart,rh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,rh),document.removeEventListener("mousedown",this._onMousedown,rh),document.removeEventListener("touchstart",this._onTouchstart,rh))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ii),a.LFG(a.R0b),a.LFG(ae),a.LFG(Vf,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const GM=new a.OlP("liveAnnouncerElement",{providedIn:"root",factory:function TE(){return null}}),zM=new a.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Km=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GM,8),a.LFG(a.R0b),a.LFG(ae),a.LFG(zM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const qM=new a.OlP("cdk-focus-monitor-default-options"),Qm=zr({passive:!0,capture:!0});let Bf=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new St.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=Vi(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Wr(e);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const s=function yr(n){if(function Kd(){if(null==Pl){const n=typeof document<"u"?document.head:null;Pl=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Pl}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new St.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Wr(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Wr(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=Vi(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Qm),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Qm)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sr(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Qm),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Qm),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(ii),a.LFG(SE),a.LFG(ae,8),a.LFG(qM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WM=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new a.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bf))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const Nu="cdk-high-contrast-black-on-white",za="cdk-high-contrast-white-on-black",zy="cdk-high-contrast-active";let AE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,a.f3M)(By).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(zy,Nu,za),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(zy,Nu):2===i&&e.add(zy,za)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ii),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eV=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(AE))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Vc]}),n})();const tV=new a.OlP("cdk-dir-doc",{providedIn:"root",factory:function ME(){return(0,a.f3M)(ae)}}),nV=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let $o=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new a.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function qa(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?nV.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(tV,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function ZM(n,t){if(1&n&&a._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=a.oxw();a.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function YM(n,t){if(1&n&&(a.TgZ(0,"span",5),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.hij("(",e.group.label,")")}}const Wy=["*"],Zy=new a.OlP("mat-sanity-checks",{providedIn:"root",factory:function sh(){return!0}});let Qn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Nl()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(AE),a.LFG(Zy,8),a.LFG(ae))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Uf,Uf]}),n})();function eg(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=yn(t)}}}function Fu(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function tg(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=yn(t)}}}function RE(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ru(e):this.defaultTabIndex}}}function OE(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const ng=new a.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function PE(){return(0,a.f3M)(a.soG)}});class Xi{constructor(){this._localeChanges=new St.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Lu=new a.OlP("mat-date-formats"),XM=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function ig(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let NE=(()=>{class n extends Xi{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return ig(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return ig(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return ig(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(XM.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ng,8),a.LFG(ii))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Vu={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let FE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Xi,useClass:NE}]}),n})(),LE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:Lu,useValue:Vu}],imports:[FE]}),n})(),VE=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class BE{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const rg={enterDuration:225,exitDuration:150},ah=zr({passive:!0}),Hf=["mousedown","touchstart"],Ky=["mouseup","mouseleave","touchend","touchcancel"];class Qy{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Wr(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...rg,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function HE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=d-c+"px",w.style.top=p-c+"px",w.style.height=2*c+"px",w.style.width=2*c+"px",null!=i.color&&(w.style.backgroundColor=i.color),w.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(w);const I=window.getComputedStyle(w),O=I.transitionDuration,N="none"===I.transitionProperty||"0s"===O||"0s, 0s"===O,z=new BE(this,w,i,N);w.style.transform="scale3d(1, 1, 1)",z.state=0,i.persistent||(this._mostRecentTransientRipple=z);let ie=null;return!N&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Me=()=>this._finishRippleTransition(z),ze=()=>this._destroyRipple(z);w.addEventListener("transitionend",Me),w.addEventListener("transitioncancel",ze),ie={onTransitionEnd:Me,onTransitionCancel:ze}}),this._activeRipples.set(z,ie),(N||!_)&&this._finishRippleTransition(z),z}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...rg,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Wr(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Hf))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ky),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Lf(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!or(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,ah)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Hf.forEach(t=>{this._triggerElement.removeEventListener(t,this,ah)}),this._pointerUpEventsRegistered&&Ky.forEach(t=>{this._triggerElement.removeEventListener(t,this,ah)}))}}const Xy=new a.OlP("mat-ripple-global-options");let Wa=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new Qy(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(ii),a.Y36(Xy,8),a.Y36(a.QbO,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&a.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Qn,Qn]}),n})(),jE=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&a.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),ek=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Qn]}),n})();const $E=new a.OlP("MAT_OPTION_PARENT_COMPONENT"),ik=new a.OlP("MatOptgroup");let sk=0;class zE{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let ok=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+sk++,this.onSelectionChange=new a.vpe,this._stateChanges=new St.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=yn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Fc(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new zE(this,e))}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),qE=(()=>{class n extends ok{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36($E,8),a.Y36(ik,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),a.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[a.qOj],ngContentSelectors:Wy,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,ZM,1,2,"mat-pseudo-checkbox",0),a.TgZ(1,"span",1),a.Hsn(2),a.qZA(),a.YNc(3,YM,2,1,"span",2),a._UZ(4,"div",3)),2&e&&(a.Q6J("ngIf",i.multiple),a.xp6(3),a.Q6J("ngIf",i.group&&i.group._inert),a.xp6(1),a.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Wa,gn,jE],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function uo(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let Jy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[sg,Ro,Qn,ek]}),n})();const lk=["*",[["mat-toolbar-row"]]],ck=["*","mat-toolbar-row"],uk=Fu(class{constructor(n){this._elementRef=n}});let dk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),WE=(()=>{class n extends uk{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ii),a.Y36(ae))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,dk,5),2&e){let s;a.iGM(s=a.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&a.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[a.qOj],ngContentSelectors:ck,decls:2,vars:0,template:function(e,i){1&e&&(a.F$t(lk),a.Hsn(0),a.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),hk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Qn,Qn]}),n})();const fk=["mat-button",""],jt=["*"],YE=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],mk=Fu(eg(tg(class{constructor(n){this._elementRef=n}})));let ps=(()=>{class n extends mk{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of YE)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Bf),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&a.Gf(Wa,5),2&e){let r;a.iGM(r=a.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(a.uIk("disabled",i.disabled||null),a.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.qOj],attrs:fk,ngContentSelectors:jt,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"span",0),a.Hsn(1),a.qZA(),a._UZ(2,"span",1)(3,"span",2)),2&e&&(a.xp6(2),a.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),a.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Wa],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[sg,Qn,Qn]}),n})();class tv{}const ql="*";function Bu(n,t){return{type:7,name:n,definitions:t,options:{}}}function Fs(n,t=null){return{type:4,styles:t,timings:n}}function Bc(n,t=null){return{type:2,steps:n,options:t}}function gi(n){return{type:6,styles:n,offset:null}}function ho(n,t,e){return{type:0,name:n,styles:t,options:e}}function og(n){return{type:5,steps:n}}function Ls(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function cV(n=null){return{type:9,options:n}}function vk(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function wk(n){Promise.resolve(null).then(n)}class jf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){wk(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Uu{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?wk(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function $f(n){return new a.vHH(3e3,!1)}function pV(){return typeof window<"u"&&typeof window.document<"u"}function uv(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Uc(n){switch(n.length){case 0:return new jf;case 1:return n[0];default:return new Uu(n)}}function sD(n,t,e,i,r=new Map,s=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(w=>{const I=w.get("offset"),M=I==p,O=M&&_||new Map;w.forEach((N,z)=>{let ie=z,Me=N;if("offset"!==z)switch(ie=t.normalizePropertyName(ie,c),Me){case"!":Me=r.get(z);break;case ql:Me=s.get(z);break;default:Me=t.normalizeStyleValue(z,ie,Me,c)}O.set(ie,Me)}),M||d.push(O),_=O,p=I}),c.length)throw function sv(n){return new a.vHH(3502,!1)}();return d}function dv(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&ug(e,"start",n)));break;case"done":n.onDone(()=>i(e&&ug(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&ug(e,"destroy",n)))}}function ug(n,t,e){const s=oD(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function oD(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Vs(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function Ok(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let dg=(n,t)=>!1,hv=(n,t,e)=>[],aD=null;function Gf(n){const t=n.parentNode||n.host;return t===aD?null:t}(uv()||typeof Element<"u")&&(pV()?(aD=(()=>document.documentElement)(),dg=(n,t)=>{for(;t;){if(t===n)return!0;t=Gf(t)}return!1}):dg=(n,t)=>n.contains(t),hv=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let ch=null,Pk=!1;const Nk=dg,Fk=hv;let Zl=(()=>{class n{validateStyleProperty(e){return function gV(n){ch||(ch=function _V(){return typeof document<"u"?document.body:null}()||{},Pk=!!ch.style&&"WebkitAppearance"in ch.style);let t=!0;return ch.style&&!function mV(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ch.style,!t&&Pk&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ch.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return Nk(e,i)}getParentElement(e){return Gf(e)}query(e,i,r){return Fk(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new jf(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),zf=(()=>{class n{}return n.NOOP=new Zl,n})();const hg="ng-enter",uh="ng-leave",fg="ng-trigger",zo=".ng-trigger",mv="ng-animating",gv=".ng-animating";function Hc(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:pg(parseFloat(t[1]),t[2])}function pg(n,t){return"s"===t?1e3*n:n}function mg(n,t,e){return n.hasOwnProperty("duration")?n:function Vk(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push($f()),{duration:0,delay:0,easing:""};r=pg(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=pg(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function Ek(){return new a.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function KE(){return new a.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,$f())}return{duration:r,delay:s,easing:c}}(n,t,e)}function jc(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Hu(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function qo(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function dh(n,t,e){return e?t+":"+e+";":""}function lD(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=dh(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=dh(0,Uk(e),n.style[e]));n.setAttribute("style",t)}function Wo(n,t,e){n.style&&(t.forEach((i,r)=>{const s=vg(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),uv()&&lD(n))}function $c(n,t){n.style&&(t.forEach((e,i)=>{const r=vg(i);n.style[r]=""}),uv()&&lD(n))}function $u(n){return Array.isArray(n)?1==n.length?n[0]:Bc(n):n}const gg=new RegExp("{{\\s*(.+?)\\s*}}","g");function _g(n){let t=[];if("string"==typeof n){let e;for(;e=gg.exec(n);)t.push(e[1]);gg.lastIndex=0}return t}function yg(n,t,e){const i=n.toString(),r=i.replace(gg,(s,c)=>{let d=t[c];return null==d&&(e.push(function Ik(n){return new a.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function vv(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Bk=/-+([a-z0-9])/g;function vg(n){return n.replace(Bk,(...t)=>t[1].toUpperCase())}function Uk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bs(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Sk(n){return new a.vHH(3004,!1)}()}}function ms(n,t){return window.getComputedStyle(n)[t]}function $k(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function dD(n,t,e){if(":"==n[0]){const p=function Gk(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function ag(n){return new a.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function eD(n){return new a.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(hD(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(hD(c,r))}(i,e,t)):e.push(n),e}const Wf=new Set(["true","1"]),Cg=new Set(["false","0"]);function hD(n,t){const e=Wf.has(n)||Cg.has(n),i=Wf.has(t)||Cg.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Wf.has(n):Cg.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Wf.has(t):Cg.has(t)),c&&d}}const fD=new RegExp("s*:selfs*,?","g");function Cv(n,t,e,i){return new Ev(n).build(t,e,i)}class Ev{constructor(t){this._driver=t}build(t,e,i){const r=new bV(e);return this._resetContextStyleTimingState(r),Bs(this,$u(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function Ak(){return new a.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(w=>{p.name=w,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function QE(){return new a.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{_g(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(vv(s.values()),e.errors.push(function Mk(n,t){return new a.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Bs(this,$u(t.animation),e);return{type:1,matchers:$k(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Gu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Bs(this,i,e)),options:Gu(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=Bs(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:Gu(t.options)}}visitAnimate(t,e){const i=function Wk(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return Dv(mg(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Dv(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=mg(e,t);return Dv(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:gi({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=gi(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===ql?i.push(d):e.errors.push(new a.vHH(3002,!1)):i.push(Hu(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),w=_.get(p);let I=!0;w&&(s!=r&&s>=w.startTime&&r<=w.endTime&&(e.errors.push(function iv(n,t,e,i,r){return new a.vHH(3010,!1)}()),I=!1),s=w.startTime),I&&_.set(p,{startTime:s,endTime:r}),e.options&&function yv(n,t,e){const i=t.params||{},r=_g(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function Dk(n){return new a.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function uV(){return new a.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const w=t.steps.map(Me=>{const ze=this._makeStyleAst(Me,e);let Xe=null!=ze.offset?ze.offset:function pD(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ze.styles),Qe=0;return null!=Xe&&(s++,Qe=ze.offset=Xe),p=p||Qe<0||Qe>1,d=d||Qe<_,_=Qe,c.push(Qe),ze});p&&e.errors.push(function rv(){return new a.vHH(3012,!1)}()),d&&e.errors.push(function xk(){return new a.vHH(3200,!1)}());const I=t.steps.length;let M=0;s>0&&s<I?e.errors.push(function dV(){return new a.vHH(3202,!1)}()):0==s&&(M=1/(I-1));const O=I-1,N=e.currentTime,z=e.currentAnimateTimings,ie=z.duration;return w.forEach((Me,ze)=>{const Xe=M>0?ze==O?1:M*ze:c[ze],Qe=Xe*ie;e.currentTime=N+z.delay+Qe,z.duration=Qe,this._validateStyleAst(Me,e),Me.offset=Xe,i.styles.push(Me)}),i}visitReference(t,e){return{type:8,animation:Bs(this,$u(t.animation),e),options:Gu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Gu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Gu(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function zk(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fD,"")),n=n.replace(/@\*/g,zo).replace(/@\w+/g,e=>zo+"-"+e.slice(1)).replace(/:animating/g,gv),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Vs(e.collectedStyles,e.currentQuerySelector,new Map);const d=Bs(this,$u(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:Gu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function lh(){return new a.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:mg(t.timings,e.errors,!0);return{type:12,animation:Bs(this,$u(t.animation),e),timings:i,options:null}}}class bV{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Gu(n){return n?(n=jc(n)).params&&(n.params=function qk(n){return n?jc(n):null}(n.params)):n={},n}function Dv(n,t,e){return{duration:n,delay:t,easing:e}}function Zf(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Eg{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Iv=new RegExp(":enter","g"),Sv=new RegExp(":leave","g");function Ig(n,t,e,i,r,s=new Map,c=new Map,d,p,_=[]){return(new wV).buildKeyframes(n,t,e,i,r,s,c,d,p,_)}class wV{buildKeyframes(t,e,i,r,s,c,d,p,_,w=[]){_=_||new Eg;const I=new Yf(t,e,_,r,s,w,[]);I.options=p;const M=p.delay?Hc(p.delay):0;I.currentTimeline.delayNextStep(M),I.currentTimeline.setStyles([c],null,I.errors,p),Bs(this,i,I);const O=I.timelines.filter(N=>N.containsAnimation());if(O.length&&d.size){let N;for(let z=O.length-1;z>=0;z--){const ie=O[z];if(ie.element===e){N=ie;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([d],null,I.errors,p)}return O.length?O.map(N=>N.buildKeyframes()):[Zf(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?Hc(i.duration):null,d=null!=i.delay?Hc(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Bs(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Tv);const c=Hc(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Bs(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?Hc(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),Bs(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return mg(e.params?yg(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?Hc(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Tv);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,w)=>{e.currentQueryIndex=w;const I=e.createSubContext(t.options,_);s&&I.delayNextStep(s),_===e.element&&(p=I.currentTimeline),Bs(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const w=e.currentTimeline;p&&w.delayNextStep(p);const I=w.currentTime;Bs(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const Tv={};class Yf{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Tv,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new Av(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Hc(i.duration)),null!=i.delay&&(r.delay=Hc(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=yg(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new Yf(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=Tv,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new mD(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(Iv,"."+this._enterClassName)).replace(Sv,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function JE(n){return new a.vHH(3014,!1)}()),d}}class Av{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Av(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ql),this._currentKeyframe.set(e,ql);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function gD(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,ql)}else qo(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const _=yg(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??ql),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=qo(d,new Map,this._backFill);_.forEach((w,I)=>{"!"===w?t.add(I):w===ql&&e.add(I)}),i||_.set("offset",p/this.duration),r.push(_)});const s=t.size?vv(t.values()):[],c=e.size?vv(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return Zf(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class mD extends Av{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=qo(t[0]);p.set("offset",0),s.push(p);const _=qo(t[0]);_.set("offset",Mv(d)),s.push(_);const w=t.length-1;for(let I=1;I<=w;I++){let M=qo(t[I]);const O=M.get("offset");M.set("offset",Mv((e+O*i)/c)),s.push(M)}i=c,e=0,r="",t=s}return Zf(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Mv(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class Kf{}const Sg=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Tg extends Kf{normalizePropertyName(t,e){return vg(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(Sg.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Tk(n,t){return new a.vHH(3005,!1)}())}return c+s}}function hh(n,t,e,i,r,s,c,d,p,_,w,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:w,totalTime:I,errors:M}}const kv={};class Ag{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function Xk(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,d,p,_,w){const I=[],M=this.ast.options&&this.ast.options.params||kv,N=this.buildStyles(i,d&&d.params||kv,I),z=p&&p.params||kv,ie=this.buildStyles(r,z,I),Me=new Set,ze=new Map,Xe=new Map,Qe="void"===r,Dt={params:Jk(z,M),delay:this.ast.options?.delay},At=w?[]:Ig(t,e,this.ast.animation,s,c,N,ie,Dt,_,I);let an=0;if(At.forEach(la=>{an=Math.max(la.duration+la.delay,an)}),I.length)return hh(e,this._triggerName,i,r,Qe,N,ie,[],[],ze,Xe,an,I);At.forEach(la=>{const Dd=la.element,D6=Vs(ze,Dd,new Set);la.preStyleProps.forEach(Sm=>D6.add(Sm));const UC=Vs(Xe,Dd,new Set);la.postStyleProps.forEach(Sm=>UC.add(Sm)),Dd!==e&&Me.add(Dd)});const tr=vv(Me.values());return hh(e,this._triggerName,i,r,Qe,N,ie,At,tr,ze,Xe,an)}}function Jk(n,t){const e=jc(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Qf{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=jc(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=yg(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class CV{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Qf(r.style,r.options&&r.options.params||{},i))}),nx(this.states,"true","1"),nx(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Ag(t,r,this.states))}),this.fallbackTransition=function tx(n,t,e){return new Ag(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function nx(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const ix=new Eg;class rx{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=Cv(this._driver,e,i,[]);if(i.length)throw function Wl(n){return new a.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=sD(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=Ig(this._driver,e,s,hg,uh,new Map,new Map,i,ix,r),c.forEach(w=>{const I=Vs(d,w.element,new Map);w.postStyleProps.forEach(M=>I.set(M,null))})):(r.push(function ov(){return new a.vHH(3300,!1)}()),c=[]),r.length)throw function nD(n){return new a.vHH(3504,!1)}();d.forEach((w,I)=>{w.forEach((M,O)=>{w.set(O,this._driver.computeStyle(I,O,ql))})});const _=Uc(c.map(w=>{const I=d.get(w.element);return this._buildPlayer(w,new Map,I)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function av(n){return new a.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=oD(e,"","","");return dv(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const _D="ng-animate-queued",Mg="ng-animate-disabled",ax=[],yD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},lx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fo="__ng_removed";class Ov{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ux(n){return n??null}(i?t.value:t),i){const s=jc(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Xf="void",fh=new Ov(Xf);class zu{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ar(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function hV(n,t){return new a.vHH(3302,!1)}();if(null==i||0==i.length)throw function iD(n){return new a.vHH(3303,!1)}();if(!function dx(n){return"start"==n||"done"==n}(i))throw function fV(n,t){return new a.vHH(3400,!1)}();const s=Vs(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Vs(this._engine.statesByElement,t,new Map);return d.has(e)||(ar(t,fg),ar(t,fg+"-"+e),d.set(e,fh)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function lg(n){return new a.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new qu(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(ar(t,fg),ar(t,fg+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new Ov(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=fh),_.value!==Xf&&p.value===_.value){if(!function gh(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const z=[],ie=s.matchStyles(p.value,p.params,z),Me=s.matchStyles(_.value,_.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{$c(t,ie),Wo(t,Me)})}return}const M=Vs(this._engine.playersByElement,t,[]);M.forEach(z=>{z.namespaceId==this.id&&z.triggerName==e&&z.queued&&z.destroy()});let O=s.matchTransition(p.value,_.value,t,_.params),N=!1;if(!O){if(!r)return;O=s.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:O,fromState:p,toState:_,player:c,isFallbackTransition:N}),N||(ar(t,_D),c.onStart(()=>{Yl(t,_D)})),c.onDone(()=>{let z=this.players.indexOf(c);z>=0&&this.players.splice(z,1);const ie=this._engine.playersByElement.get(t);if(ie){let Me=ie.indexOf(c);Me>=0&&ie.splice(Me,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,zo,!0);i.forEach(r=>{if(r[fo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const w=this.trigger(t,_,Xf,r);w&&d.push(w)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&Uc(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||fh,w=new Ov(Xf),I=new qu(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:w,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[fo];(!s||s===yD)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ar(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=oD(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,dv(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class EV{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new zu(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(ph(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!ph(e))return;const s=e[fo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ar(t,Mg)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Yl(t,Mg))}removeNode(t,e,i,r){if(ph(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[fo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return ph(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,zo,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Uc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[fo];if(e&&e.setForRemoval){if(t[fo]=yD,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Mg)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ar(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Uc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function cg(n){return new a.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new Eg,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,w=new Set;this.disabledNodes.forEach(_t=>{w.add(_t);const Ot=this.driver.query(_t,".ng-animate-queued",!0);for(let Vt=0;Vt<Ot.length;Vt++)w.add(Ot[Vt])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=br(M,this.collectedEnterElements),N=new Map;let z=0;O.forEach((_t,Ot)=>{const Vt=hg+z++;N.set(Ot,Vt),_t.forEach(Tn=>ar(Tn,Vt))});const ie=[],Me=new Set,ze=new Set;for(let _t=0;_t<this.collectedLeaveElements.length;_t++){const Ot=this.collectedLeaveElements[_t],Vt=Ot[fo];Vt&&Vt.setForRemoval&&(ie.push(Ot),Me.add(Ot),Vt.hasAnimation?this.driver.query(Ot,".ng-star-inserted",!0).forEach(Tn=>Me.add(Tn)):ze.add(Ot))}const Xe=new Map,Qe=br(M,Array.from(Me));Qe.forEach((_t,Ot)=>{const Vt=uh+z++;Xe.set(Ot,Vt),_t.forEach(Tn=>ar(Tn,Vt))}),t.push(()=>{O.forEach((_t,Ot)=>{const Vt=N.get(Ot);_t.forEach(Tn=>Yl(Tn,Vt))}),Qe.forEach((_t,Ot)=>{const Vt=Xe.get(Ot);_t.forEach(Tn=>Yl(Tn,Vt))}),ie.forEach(_t=>{this.processLeaveNode(_t)})});const Dt=[],At=[];for(let _t=this._namespaceList.length-1;_t>=0;_t--)this._namespaceList[_t].drainQueuedTransitions(e).forEach(Vt=>{const Tn=Vt.player,Ur=Vt.element;if(Dt.push(Tn),this.collectedEnterElements.length){const ws=Ur[fo];if(ws&&ws.setForMove){if(ws.previousTriggersValues&&ws.previousTriggersValues.has(Vt.triggerName)){const Tm=ws.previousTriggersValues.get(Vt.triggerName),ll=this.statesByElement.get(Vt.element);if(ll&&ll.has(Vt.triggerName)){const hM=ll.get(Vt.triggerName);hM.value=Tm,ll.set(Vt.triggerName,hM)}}return void Tn.destroy()}}const du=!I||!this.driver.containsElement(I,Ur),ca=Xe.get(Ur),df=N.get(Ur),xi=this._buildInstruction(Vt,i,df,ca,du);if(xi.errors&&xi.errors.length)return void At.push(xi);if(du)return Tn.onStart(()=>$c(Ur,xi.fromStyles)),Tn.onDestroy(()=>Wo(Ur,xi.toStyles)),void r.push(Tn);if(Vt.isFallbackTransition)return Tn.onStart(()=>$c(Ur,xi.fromStyles)),Tn.onDestroy(()=>Wo(Ur,xi.toStyles)),void r.push(Tn);const T6=[];xi.timelines.forEach(ws=>{ws.stretchStartingKeyframe=!0,this.disabledNodes.has(ws.element)||T6.push(ws)}),xi.timelines=T6,i.append(Ur,xi.timelines),c.push({instruction:xi,player:Tn,element:Ur}),xi.queriedElements.forEach(ws=>Vs(d,ws,[]).push(Tn)),xi.preStyleProps.forEach((ws,Tm)=>{if(ws.size){let ll=p.get(Tm);ll||p.set(Tm,ll=new Set),ws.forEach((hM,LL)=>ll.add(LL))}}),xi.postStyleProps.forEach((ws,Tm)=>{let ll=_.get(Tm);ll||_.set(Tm,ll=new Set),ws.forEach((hM,LL)=>ll.add(LL))})});if(At.length){const _t=[];At.forEach(Ot=>{_t.push(function lv(n,t){return new a.vHH(3505,!1)}())}),Dt.forEach(Ot=>Ot.destroy()),this.reportError(_t)}const an=new Map,tr=new Map;c.forEach(_t=>{const Ot=_t.element;i.has(Ot)&&(tr.set(Ot,Ot),this._beforeAnimationBuild(_t.player.namespaceId,_t.instruction,an))}),r.forEach(_t=>{const Ot=_t.element;this._getPreviousPlayers(Ot,!1,_t.namespaceId,_t.triggerName,null).forEach(Tn=>{Vs(an,Ot,[]).push(Tn),Tn.destroy()})});const la=ie.filter(_t=>Zu(_t,p,_)),Dd=new Map;mh(Dd,this.driver,ze,_,ql).forEach(_t=>{Zu(_t,p,_)&&la.push(_t)});const UC=new Map;O.forEach((_t,Ot)=>{mh(UC,this.driver,new Set(_t),p,"!")}),la.forEach(_t=>{const Ot=Dd.get(_t),Vt=UC.get(_t);Dd.set(_t,new Map([...Array.from(Ot?.entries()??[]),...Array.from(Vt?.entries()??[])]))});const Sm=[],I6=[],S6={};c.forEach(_t=>{const{element:Ot,player:Vt,instruction:Tn}=_t;if(i.has(Ot)){if(w.has(Ot))return Vt.onDestroy(()=>Wo(Ot,Tn.toStyles)),Vt.disabled=!0,Vt.overrideTotalTime(Tn.totalTime),void r.push(Vt);let Ur=S6;if(tr.size>1){let ca=Ot;const df=[];for(;ca=ca.parentNode;){const xi=tr.get(ca);if(xi){Ur=xi;break}df.push(ca)}df.forEach(xi=>tr.set(xi,Ur))}const du=this._buildAnimation(Vt.namespaceId,Tn,an,s,UC,Dd);if(Vt.setRealPlayer(du),Ur===S6)Sm.push(Vt);else{const ca=this.playersByElement.get(Ur);ca&&ca.length&&(Vt.parentPlayer=Uc(ca)),r.push(Vt)}}else $c(Ot,Tn.fromStyles),Vt.onDestroy(()=>Wo(Ot,Tn.toStyles)),I6.push(Vt),w.has(Ot)&&r.push(Vt)}),I6.forEach(_t=>{const Ot=s.get(_t.element);if(Ot&&Ot.length){const Vt=Uc(Ot);_t.setRealPlayer(Vt)}}),r.forEach(_t=>{_t.parentPlayer?_t.syncPlayerEvents(_t.parentPlayer):_t.destroy()});for(let _t=0;_t<ie.length;_t++){const Ot=ie[_t],Vt=Ot[fo];if(Yl(Ot,uh),Vt&&Vt.hasAnimation)continue;let Tn=[];if(d.size){let du=d.get(Ot);du&&du.length&&Tn.push(...du);let ca=this.driver.query(Ot,gv,!0);for(let df=0;df<ca.length;df++){let xi=d.get(ca[df]);xi&&xi.length&&Tn.push(...xi)}}const Ur=Tn.filter(du=>!du.destroyed);Ur.length?po(this,Ot,Ur):this.processLeaveNode(Ot)}return ie.length=0,Sm.forEach(_t=>{this.players.push(_t),_t.onDone(()=>{_t.destroy();const Ot=this.players.indexOf(_t);this.players.splice(Ot,1)}),_t.play()}),Sm}elementContainsData(t,e){let i=!1;const r=e[fo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==Xf;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,w=_!==s,I=Vs(i,_,[]);this._getPreviousPlayers(_,w,c,d,e.toState).forEach(O=>{const N=O.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),O.destroy(),I.push(O)})}$c(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,_=[],w=new Set,I=new Set,M=e.timelines.map(N=>{const z=N.element;w.add(z);const ie=z[fo];if(ie&&ie.removedBeforeQueried)return new jf(N.duration,N.delay);const Me=z!==p,ze=function Pv(n){const t=[];return Wu(n,t),t}((i.get(z)||ax).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===z),Xe=s.get(z),Qe=c.get(z),Dt=sD(0,this._normalizer,0,N.keyframes,Xe,Qe),At=this._buildPlayer(N,Dt,ze);if(N.subTimeline&&r&&I.add(z),Me){const an=new qu(t,d,z);an.setRealPlayer(At),_.push(an)}return At});_.forEach(N=>{Vs(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function cx(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,N.element,N))}),w.forEach(N=>ar(N,mv));const O=Uc(M);return O.onDestroy(()=>{w.forEach(N=>Yl(N,mv)),Wo(p,e.toStyles)}),I.forEach(N=>{Vs(r,N,[]).push(O)}),O}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new jf(t.duration,t.delay)}}class qu{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new jf,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>dv(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Vs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function ph(n){return n&&1===n.nodeType}function Yo(n,t){const e=n.style.display;return n.style.display=t??"none",e}function mh(n,t,e,i,r){const s=[];e.forEach(p=>s.push(Yo(p)));const c=[];i.forEach((p,_)=>{const w=new Map;p.forEach(I=>{const M=t.computeStyle(_,I,r);w.set(I,M),(!M||0==M.length)&&(_[fo]=lx,c.push(_))}),n.set(_,w)});let d=0;return e.forEach(p=>Yo(p,s[d++])),c}function br(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function ar(n,t){n.classList?.add(t)}function Yl(n,t){n.classList?.remove(t)}function po(n,t,e){Uc(e).onDone(()=>n.processLeaveNode(t))}function Wu(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Uu?Wu(i.players,t):t.push(i)}}function Zu(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Kl{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new EV(t,e,i),this._timelineEngine=new rx(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],w=Cv(this._driver,s,p,[]);if(p.length)throw function Rk(n,t){return new a.vHH(3404,!1)}();d=function ex(n,t,e){return new CV(n,t,e)}(r,w,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=Ok(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=Ok(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let yh=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Wo(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wo(this._element,this._initialStyles),this._endStyles&&(Wo(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($c(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($c(this._element,this._endStyles),this._endStyles=null),Wo(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function zc(n){let t=null;return n.forEach((e,i)=>{(function vh(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Yu{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:ms(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class vD{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return Nk(t,e)}getParentElement(t){return Gf(t)}query(t,e,i){return Fk(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,w=c.filter(O=>O instanceof Yu);(function cD(n,t){return 0===n||0===t})(i,r)&&w.forEach(O=>{O.currentSnapshot.forEach((N,z)=>_.set(z,N))});let I=function _v(n){return n.length?n[0]instanceof Map?n:n.map(t=>Hu(t)):[]}(e).map(O=>qo(O));I=function uD(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,ms(n,d)))}}return t}(t,I,_);const M=function _h(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=zc(t[0]),t.length>1&&(i=zc(t[t.length-1]))):t instanceof Map&&(e=zc(t)),e||i?new yh(n,e,i):null}(t,I);return new Yu(t,I,p,M)}}let bD=(()=>{class n extends tv{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Bc(e):e;return Nv(this._renderer,null,i,"register",[r]),new wD(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class wD extends class _k{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new CD(this._id,t,e||{},this._renderer)}}class CD{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Nv(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Nv(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Fv="@.disabled";let ED=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let w=this._rendererCache.get(s);return w||(w=new Lv("",s,this.engine),this._rendererCache.set(s,w)),w}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=w=>{Array.isArray(w)?w.forEach(p):this.engine.registerTrigger(c,d,e,w.name,w)};return i.data.animation.forEach(p),new hx(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.FYo),a.LFG(Kl),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Lv{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Fv?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class hx extends Lv{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Fv?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function fx(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function DD(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let px=(()=>{class n extends Kl{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae),a.LFG(zf),a.LFG(Kf),a.LFG(a.z2F))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const kg=[{provide:tv,useClass:bD},{provide:Kf,useFactory:function ID(){return new Tg}},{provide:Kl,useClass:px},{provide:a.FYo,useFactory:function Vv(n,t,e){return new ED(n,t,e)},deps:[Il,Kl,a.R0b]}],Bv=[{provide:zf,useFactory:()=>new vD},{provide:a.QbO,useValue:"BrowserAnimations"},...kg],ep=[{provide:zf,useClass:Zl},{provide:a.QbO,useValue:"NoopAnimations"},...kg];let xg=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?ep:Bv}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Bv,imports:[Lo]}),n})();const tp=zr({passive:!0});let TD=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return jl.E;const i=Wr(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new St.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,tp),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,tp)}}),s}stopMonitoring(e){const i=Wr(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ii),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function jv(...n){const t=(0,Ps.jO)(n),{args:e,keys:i}=Wm(n),r=new Qi.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let w=0;w<c;w++){let I=!1;(0,$l.Xf)(e[w]).subscribe((0,Kn.x)(s,M=>{I||(I=!0,_--),d[w]=M},()=>p--,void 0,()=>{(!p||!I)&&(_||s.next(i?TM(i,d):d),s.complete())}))}});return t?r.pipe(Zm(t)):r}let Rg=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),Ql=(()=>{class n extends Rg{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const mo=new a.OlP("NgValueAccessor"),kD={provide:mo,useExisting:(0,a.Gpc)(()=>np),multi:!0},gx=new a.OlP("CompositionEventMode");let np=(()=>{class n extends Rg{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function xD(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(gx,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[a._Bn([kD]),a.qOj]}),n})();function Xl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ip(n){return null!=n&&"number"==typeof n.length}const Ji=new a.OlP("NgValidators"),Jl=new a.OlP("NgAsyncValidators"),OD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nn{static min(t){return function Gv(n){return t=>{if(Xl(t.value)||Xl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function zv(n){return t=>{if(Xl(t.value)||Xl(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return qv(t)}static requiredTrue(t){return function Wv(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function _x(n){return Xl(n.value)||OD.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function PD(n){return t=>Xl(t.value)||!ip(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ND(n){return t=>ip(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Zv(n){if(!n)return Og;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Xl(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Kv(t)}static composeAsync(t){return Ku(t)}}function qv(n){return Xl(n.value)?{required:!0}:null}function Og(n){return null}function Hi(n){return null!=n}function Yv(n){return(0,a.QGY)(n)?(0,_n.D)(n):n}function FD(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function LD(n,t){return t.map(e=>e(n))}function BD(n){return n.map(t=>function VD(n){return!n.validate}(t)?t:e=>t.validate(e))}function Kv(n){if(!n)return null;const t=n.filter(Hi);return 0==t.length?null:function(e){return FD(LD(e,t))}}function Pg(n){return null!=n?Kv(BD(n)):null}function Ku(n){if(!n)return null;const t=n.filter(Hi);return 0==t.length?null:function(e){return jv(LD(e,t).map(Yv)).pipe((0,ct.U)(FD))}}function Qv(n){return null!=n?Ku(BD(n)):null}function UD(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Xv(n){return n._rawValidators}function HD(n){return n._rawAsyncValidators}function Ng(n){return n?Array.isArray(n)?n:[n]:[]}function Jv(n,t){return Array.isArray(n)?n.includes(t):n===t}function Fg(n,t){const e=Ng(t);return Ng(n).forEach(r=>{Jv(e,r)||e.push(r)}),e}function Lg(n,t){return Ng(t).filter(e=>!Jv(n,e))}class Ko{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Pg(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Qv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Zr extends Ko{get formDirective(){return null}get path(){return null}}class Za extends Ko{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Qo{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eb=(()=>{class n extends Qo{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Za,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[a.qOj]}),n})(),Qu=(()=>{class n extends Qo{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zr,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&a.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[a.qOj]}),n})();const bh="VALID",rp="INVALID",Xu="PENDING",wh="DISABLED";function jg(n){return(Gg(n)?n.validators:n)||null}function ab(n){return Array.isArray(n)?Pg(n):n||null}function $g(n,t){return(Gg(t)?t.asyncValidators:n)||null}function lb(n){return Array.isArray(n)?Qv(n):n||null}function Gg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $D(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new a.vHH(1e3,"");if(!i[e])throw new a.vHH(1001,"")}function GD(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new a.vHH(1002,"")})}class cb{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ab(this._rawValidators),this._composedAsyncValidatorFn=lb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bh}get invalid(){return this.status===rp}get pending(){return this.status==Xu}get disabled(){return this.status===wh}get enabled(){return this.status!==wh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ab(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=lb(t)}addValidators(t){this.setValidators(Fg(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Fg(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Lg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Lg(t,this._rawAsyncValidators))}hasValidator(t){return Jv(this._rawValidators,t)}hasAsyncValidator(t){return Jv(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Xu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=wh,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bh,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bh||this.status===Xu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wh:bh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Xu,this._hasOwnPendingAsyncValidator=!0;const e=Yv(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?wh:this.errors?rp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xu)?Xu:this._anyControlsHaveStatus(rp)?rp:bh}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Gg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class zg extends cb{constructor(t,e,i){super(jg(e),$g(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){GD(this,0,t),Object.keys(t).forEach(i=>{$D(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function qg(n,t){return[...t.path,n]}function sp(n,t){ub(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function Ix(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&db(n,t)})}(n,t),function qD(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function zD(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&db(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Dx(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Wg(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Yg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Zg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ub(n,t){const e=Xv(n);null!==t.validator?n.setValidators(UD(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=HD(n);null!==t.asyncValidator?n.setAsyncValidators(UD(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Zg(t._rawValidators,r),Zg(t._rawAsyncValidators,r)}function Yg(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Xv(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=HD(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Zg(t._rawValidators,i),Zg(t._rawAsyncValidators,i),e}function db(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function hb(n,t){ub(n,t)}function op(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function qc(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function mb(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===np?e=s:function pb(n){return Object.getPrototypeOf(n.constructor)===Ql}(s)?i=s:r=s}),r||i||e||null}const kV={provide:Zr,useExisting:(0,a.Gpc)(()=>Kg)},Ju=(()=>Promise.resolve(null))();let Kg=(()=>{class n extends Zr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new a.vpe,this.form=new zg({},Pg(e),Qv(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Ju.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),sp(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Ju.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Ju.then(()=>{const i=this._findContainer(e.path),r=new zg({});hb(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Ju.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Ju.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,qc(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ji,10),a.Y36(Jl,10))},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([kV]),a.qOj]}),n})();function gb(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function _b(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ji=class extends cb{constructor(t=null,e,i){super(jg(e),$g(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Gg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=_b(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){gb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){gb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){_b(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let YD=(()=>{class n extends Zr{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return qg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})(),Ch=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),XD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const Cb=new a.OlP("NgModelWithFormControlWarning"),Rx={provide:Za,useExisting:(0,a.Gpc)(()=>Eh)};let Eh=(()=>{class n extends Za{constructor(e,i,r,s){super(),this._ngModelWarningConfig=s,this.update=new a.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(i),this.valueAccessor=mb(0,r)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const i=e.form.previousValue;i&&Wg(i,this,!1),sp(this.form,this),this.form.updateValueAndValidity({emitEvent:!1})}op(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Wg(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Ji,10),a.Y36(Jl,10),a.Y36(mo,10),a.Y36(Cb,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[a._Bn([Rx]),a.qOj,a.TTD]}),n})();const tI={provide:Zr,useExisting:(0,a.Gpc)(()=>ed)};let ed=(()=>{class n extends Zr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Yg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return sp(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wg(e.control||null,e,!1),function Ax(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,qc(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Wg(i||null,e),(n=>n instanceof ji)(r)&&(sp(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);hb(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function WD(n,t){return Yg(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ub(this.form,this),this._oldForm&&Yg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Ji,10),a.Y36(Jl,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&a.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([tI]),a.qOj,a.TTD]}),n})();const nI={provide:Zr,useExisting:(0,a.Gpc)(()=>Eb)};let Eb=(()=>{class n extends YD{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){iI(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zr,13),a.Y36(Ji,10),a.Y36(Jl,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[a._Bn([nI]),a.qOj]}),n})();const up={provide:Zr,useExisting:(0,a.Gpc)(()=>Wc)};let Wc=(()=>{class n extends Zr{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return qg(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){iI(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Zr,13),a.Y36(Ji,10),a.Y36(Jl,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[a._Bn([up]),a.qOj]}),n})();function iI(n){return!(n instanceof Eb||n instanceof ed||n instanceof Wc)}const Ox={provide:Za,useExisting:(0,a.Gpc)(()=>Db)};let Db=(()=>{class n extends Za{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=mb(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),op(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return qg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(a.Y36(Zr,13),a.Y36(Ji,10),a.Y36(Jl,10),a.Y36(mo,10),a.Y36(Cb,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([Ox]),a.qOj,a.TTD]}),n})(),td=(()=>{class n{constructor(){this._validator=Og}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Og,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,features:[a.TTD]}),n})();const Fx={provide:Ji,useExisting:(0,a.Gpc)(()=>Xg),multi:!0};let Xg=(()=>{class n extends td{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.D6c,this.createValidator=e=>qv}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&a.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[a._Bn([Fx]),a.qOj]}),n})(),Rb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[XD]}),n})(),hI=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Cb,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Rb]}),n})();class Jg extends cb{constructor(t,e,i){super(jg(e),$g(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){GD(this,0,t),t.forEach((i,r)=>{$D(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}var gs=L(6451),wr=L(5577),$x=L(1144),Qa=L(576);const Gx=["addListener","removeListener"],zx=["addEventListener","removeEventListener"],qx=["on","off"];function Dh(n,t,e,i){if((0,Qa.m)(e)&&(i=e,e=void 0),i)return Dh(n,t,e).pipe(Zm(i));const[r,s]=function pI(n){return(0,Qa.m)(n.addEventListener)&&(0,Qa.m)(n.removeEventListener)}(n)?zx.map(c=>d=>n[c](t,d,e)):function Wx(n){return(0,Qa.m)(n.addListener)&&(0,Qa.m)(n.removeListener)}(n)?Gx.map(Ob(n,t)):function Zx(n){return(0,Qa.m)(n.on)&&(0,Qa.m)(n.off)}(n)?qx.map(Ob(n,t)):[];if(!r&&(0,$x.z)(n))return(0,wr.z)(c=>Dh(c,t,e))((0,$l.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Qi.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function Ob(n,t){return e=>i=>n[e](t,i)}const Yx=["connectionContainer"],Kx=["inputContainer"],Qx=["label"];function Pb(n,t){1&n&&(a.ynx(0),a.TgZ(1,"div",14),a._UZ(2,"div",15)(3,"div",16)(4,"div",17),a.qZA(),a.TgZ(5,"div",18),a._UZ(6,"div",15)(7,"div",16)(8,"div",17),a.qZA(),a.BQk())}function Nb(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",19),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.Hsn(1,1),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function mI(n,t){if(1&n&&(a.ynx(0),a.Hsn(1,2),a.TgZ(2,"span"),a._uU(3),a.qZA(),a.BQk()),2&n){const e=a.oxw(2);a.xp6(3),a.Oqu(e._control.placeholder)}}function Fb(n,t){1&n&&a.Hsn(0,3,["*ngSwitchCase","true"])}function Xx(n,t){1&n&&(a.TgZ(0,"span",23),a._uU(1," *"),a.qZA())}function Jx(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"label",20,21),a.NdJ("cdkObserveContent",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.updateOutlineGap())}),a.YNc(2,mI,4,1,"ng-container",12),a.YNc(3,Fb,1,0,"ng-content",12),a.YNc(4,Xx,2,0,"span",22),a.qZA()}if(2&n){const e=a.oxw();a.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),a.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),a.uIk("for",e._control.id)("aria-owns",e._control.id),a.xp6(2),a.Q6J("ngSwitchCase",!1),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Lb(n,t){1&n&&(a.TgZ(0,"div",24),a.Hsn(1,4),a.qZA())}function eR(n,t){if(1&n&&(a.TgZ(0,"div",25),a._UZ(1,"span",26),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function gI(n,t){if(1&n&&(a.TgZ(0,"div"),a.Hsn(1,5),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Ih(n,t){if(1&n&&(a.TgZ(0,"div",30),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Q6J("id",e._hintLabelId),a.xp6(1),a.Oqu(e.hintLabel)}}function _I(n,t){if(1&n&&(a.TgZ(0,"div",27),a.YNc(1,Ih,2,2,"div",28),a.Hsn(2,6),a._UZ(3,"div",29),a.Hsn(4,7),a.qZA()),2&n){const e=a.oxw();a.Q6J("@transitionMessages",e._subscriptAnimationState),a.xp6(1),a.Q6J("ngIf",e.hintLabel)}}const tR=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],GV=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Vb=new a.OlP("MatError"),Bb={transitionMessages:Bu("transitionMessages",[ho("enter",gi({opacity:1,transform:"translateY(0%)"})),Ls("void => enter",[gi({opacity:0,transform:"translateY(-5px)"}),Fs("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let e_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n}),n})(),vI=0;const Ub=new a.OlP("MatHint");let bI=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+vI++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(a.uIk("id",i.id)("align",null),a.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[a._Bn([{provide:Ub,useExisting:n}])]}),n})(),id=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-label"]]}),n})(),sR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const oR=new a.OlP("MatPrefix"),Hb=new a.OlP("MatSuffix");let WV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matSuffix",""]],features:[a._Bn([{provide:Hb,useExisting:n}])]}),n})(),jb=0;const ZV=Fu(class{constructor(n){this._elementRef=n}},"primary"),YV=new a.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),t_=new a.OlP("MatFormField");let fp=(()=>{class n extends ZV{constructor(e,i,r,s,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+jb++,this._labelId="mat-form-field-label-"+jb++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=yn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(vr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(sr(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(sr(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,gs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(vr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(vr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(sr(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Dh(this._label.nativeElement,"transitionend").pipe(ri(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const w=i.querySelectorAll(`${r}, ${s}`);for(let I=0;I<w.length;I++)w[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const w=i.getBoundingClientRect();if(0===w.width&&0===w.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(w),M=e.children,O=this._getStartEnd(M[0].getBoundingClientRect());let N=0;for(let z=0;z<M.length;z++)N+=M[z].offsetWidth;c=Math.abs(O-I)-5,d=N>0?.75*N+10:0}for(let w=0;w<p.length;w++)p[w].style.width=`${c}px`;for(let w=0;w<_.length;w++)_[w].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36($o,8),a.Y36(YV,8),a.Y36(ii),a.Y36(a.R0b),a.Y36(a.QbO,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,e_,5),a.Suo(r,e_,7),a.Suo(r,id,5),a.Suo(r,id,7),a.Suo(r,sR,5),a.Suo(r,Vb,5),a.Suo(r,Ub,5),a.Suo(r,oR,5),a.Suo(r,Hb,5)),2&e){let s;a.iGM(s=a.CRH())&&(i._controlNonStatic=s.first),a.iGM(s=a.CRH())&&(i._controlStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildNonStatic=s.first),a.iGM(s=a.CRH())&&(i._labelChildStatic=s.first),a.iGM(s=a.CRH())&&(i._placeholderChild=s.first),a.iGM(s=a.CRH())&&(i._errorChildren=s),a.iGM(s=a.CRH())&&(i._hintChildren=s),a.iGM(s=a.CRH())&&(i._prefixChildren=s),a.iGM(s=a.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(a.Gf(Yx,7),a.Gf(Kx,5),a.Gf(Qx,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._connectionContainerRef=r.first),a.iGM(r=a.CRH())&&(i._inputContainerRef=r.first),a.iGM(r=a.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&a.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[a._Bn([{provide:t_,useExisting:n}]),a.qOj],ngContentSelectors:GV,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(a.F$t(tR),a.TgZ(0,"div",0)(1,"div",1,2),a.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),a.YNc(3,Pb,9,0,"ng-container",3),a.YNc(4,Nb,2,1,"div",4),a.TgZ(5,"div",5,6),a.Hsn(7),a.TgZ(8,"span",7),a.YNc(9,Jx,5,16,"label",8),a.qZA()(),a.YNc(10,Lb,2,0,"div",9),a.qZA(),a.YNc(11,eR,2,4,"div",10),a.TgZ(12,"div",11),a.YNc(13,gI,2,1,"div",12),a.YNc(14,_I,5,2,"div",13),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngIf","outline"==i.appearance),a.xp6(1),a.Q6J("ngIf",i._prefixChildren.length),a.xp6(5),a.Q6J("ngIf",i._hasFloatingLabel()),a.xp6(1),a.Q6J("ngIf",i._suffixChildren.length),a.xp6(1),a.Q6J("ngIf","outline"!=i.appearance),a.xp6(1),a.Q6J("ngSwitch",i._getDisplayedMessages()),a.xp6(1),a.Q6J("ngSwitchCase","error"),a.xp6(1),a.Q6J("ngSwitchCase","hint"))},dependencies:[gn,Ss,da,Ly],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Bb.transitionMessages]},changeDetection:0}),n})(),$b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ro,Qn,Vc,Qn]}),n})();const CI=new a.OlP("MAT_INPUT_VALUE_ACCESSOR"),cR=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let uR=0;const dR=OE(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new St.x}});let pp=(()=>{class n extends dR{constructor(e,i,r,s,c,d,p,_,w,I){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=I,this._uid="mat-input-"+uR++,this.focused=!1,this.stateChanges=new St.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>hs().has(N)),this._iOSKeyupListener=N=>{const z=N.target;!z.value&&0===z.selectionStart&&0===z.selectionEnd&&(z.setSelectionRange(1,1),z.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,O=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&w.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=yn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(nn.required)??!1}set required(e){this._required=yn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&hs().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=yn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){cR.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ii),a.Y36(Za,10),a.Y36(Kg,8),a.Y36(ed,8),a.Y36(VE),a.Y36(CI,10),a.Y36(TD),a.Y36(a.R0b),a.Y36(t_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&a.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(a.Ikx("disabled",i.disabled)("required",i.required),a.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),a.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[a._Bn([{provide:e_,useExisting:n}]),a.qOj,a.TTD]}),n})(),hR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[VE],imports:[Hv,$b,Qn,Hv,$b]}),n})();function Sh(n,t){const e=(0,Qa.m)(n)?n:()=>n,i=r=>r.error(e());return new Qi.y(t?r=>t.schedule(i,0,r):i)}function ec(n){return(0,bi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Kn.x)(e,void 0,void 0,c=>{s=(0,$l.Xf)(n(c,ec(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function Zc(n){return(0,bi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var n_=L(3099);function tc(n,t){return(0,Qa.m)(t)?(0,wr.z)(n,t,1):(0,wr.z)(n,1)}class Gb{}class zb{}class Xa{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Xa?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Xa;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Xa?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class pR{encodeKey(t){return DI(t)}encodeValue(t){return DI(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const EI=/%(\d[a-f0-9])/gi,mR={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function DI(n){return encodeURIComponent(n).replace(EI,(t,e)=>mR[e]??t)}function i_(n){return`${n}`}class Yc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new pR,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function KV(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(i_):[i_(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Yc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(i_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(i_(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class gR{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Xo(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function II(n){return typeof Blob<"u"&&n instanceof Blob}function mp(n){return typeof FormData<"u"&&n instanceof FormData}class _p{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function qb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new Xa),this.context||(this.context=new gR),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new Yc,this.urlWithParams=e}serializeBody(){return null===this.body?null:Xo(this.body)||II(this.body)||mp(this.body)||function gp(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Yc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mp(this.body)?null:II(this.body)?this.body.type||null:Xo(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Yc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const w=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((I,M)=>I.set(M,t.setHeaders[M]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((I,M)=>I.set(M,t.setParams[M]),_)),new _p(e,i,s,{params:_,headers:p,context:w,reportProgress:d,responseType:r,withCredentials:c})}}var $i=(()=>(($i=$i||{})[$i.Sent=0]="Sent",$i[$i.UploadProgress=1]="UploadProgress",$i[$i.ResponseHeader=2]="ResponseHeader",$i[$i.DownloadProgress=3]="DownloadProgress",$i[$i.Response=4]="Response",$i[$i.User=5]="User",$i))();class Wb{constructor(t,e=200,i="OK"){this.headers=t.headers||new Xa,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Th extends Wb{constructor(t={}){super(t),this.type=$i.ResponseHeader}clone(t={}){return new Th({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class rd extends Wb{constructor(t={}){super(t),this.type=$i.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new rd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class SI extends Wb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Zb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let yp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof _p)s=e;else{let p,_;p=r.headers instanceof Xa?r.headers:new Xa(r.headers),r.params&&(_=r.params instanceof Yc?r.params:new Yc({fromObject:r.params})),s=new _p(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=et(s).pipe(tc(p=>this.handler.handle(p)));if(e instanceof _p||"events"===r.observe)return c;const d=c.pipe(pi(p=>p instanceof rd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,ct.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,ct.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,ct.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,ct.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Yc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Zb(r,i))}post(e,i,r={}){return this.request("POST",e,Zb(r,i))}put(e,i,r={}){return this.request("PUT",e,Zb(r,i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Gb))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Yb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const s_=new a.OlP("HTTP_INTERCEPTORS");let TI=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const yR=/^\)\]\}',?\n/;let RI=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Qi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((O,N)=>r.setRequestHeader(O,N.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const O=e.detectContentTypeHeader();null!==O&&r.setRequestHeader("Content-Type",O)}if(e.responseType){const O=e.responseType.toLowerCase();r.responseType="json"!==O?O:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const O=r.statusText||"OK",N=new Xa(r.getAllResponseHeaders()),z=function vR(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Th({headers:N,status:r.status,statusText:O,url:z}),c},p=()=>{let{headers:O,status:N,statusText:z,url:ie}=d(),Me=null;204!==N&&(Me=typeof r.response>"u"?r.responseText:r.response),0===N&&(N=Me?200:0);let ze=N>=200&&N<300;if("json"===e.responseType&&"string"==typeof Me){const Xe=Me;Me=Me.replace(yR,"");try{Me=""!==Me?JSON.parse(Me):null}catch(Qe){Me=Xe,ze&&(ze=!1,Me={error:Qe,text:Me})}}ze?(i.next(new rd({body:Me,headers:O,status:N,statusText:z,url:ie||void 0})),i.complete()):i.error(new SI({error:Me,headers:O,status:N,statusText:z,url:ie||void 0}))},_=O=>{const{url:N}=d(),z=new SI({error:O,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(z)};let w=!1;const I=O=>{w||(i.next(d()),w=!0);let N={type:$i.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),"text"===e.responseType&&!!r.responseText&&(N.partialText=r.responseText),i.next(N)},M=O=>{let N={type:$i.UploadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),i.next(N)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",I),null!==s&&r.upload&&r.upload.addEventListener("progress",M)),r.send(s),i.next({type:$i.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",I),null!==s&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Po))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const o_=new a.OlP("XSRF_COOKIE_NAME"),vp=new a.OlP("XSRF_HEADER_NAME");class Kb{}let OI=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=pc(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae),a.LFG(a.Lbi),a.LFG(o_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),a_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Kb),a.LFG(vp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),PI=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(s_,[]);this.chain=i.reduceRight((r,s)=>new Yb(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(zb),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),NI=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:a_,useClass:TI}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:o_,useValue:e.cookieName}:[],e.headerName?{provide:vp,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[a_,{provide:s_,useExisting:a_,multi:!0},{provide:Kb,useClass:OI},{provide:o_,useValue:"XSRF-TOKEN"},{provide:vp,useValue:"X-XSRF-TOKEN"}]}),n})(),wR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[yp,{provide:Gb,useClass:PI},RI,{provide:zb,useExisting:RI}],imports:[NI.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const Yr=["*"];let nc;function bp(n){return function DR(){if(void 0===nc&&(nc=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(nc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return nc}()?.createHTML(n)||n}function IR(n){return Error(`Unable to find icon with the name "${n}"`)}function Qb(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Xb(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Jo{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let wp=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new Jo(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(a.q3G.HTML,r);if(!c)throw Xb(r);const d=bp(c);return this._addSvgIconConfig(e,i,new Jo("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Jo(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(a.q3G.HTML,i);if(!s)throw Xb(i);const c=bp(s);return this._addSvgIconSetConfig(e,new Jo("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,e);if(!i)throw Qb(e);const r=this._cachedIconsByUrl.get(i);return r?et(Cp(r)):this._loadSvgIconFromConfig(new Jo(e,null)).pipe((0,Yn.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ct.U)(s=>Cp(s)))}getNamedSvgIcon(e,i=""){const r=FI(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Sh(IR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?et(Cp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ct.U)(i=>Cp(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?et(r):jv(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ec(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(a.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),et(null)})))).pipe((0,ct.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw IR(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Yn.b)(i=>e.svgText=i),(0,ct.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?et(null):this._fetchIcon(e).pipe((0,Yn.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(bp("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(bp("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function tB(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(a.q3G.RESOURCE_URL,i);if(!c)throw Qb(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ct.U)(_=>bp(_)),Zc(()=>this._inProgressUrlFetches.delete(c)),(0,n_.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(FI(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return SR(s)?new Jo(s.url,null,s.options):new Jo(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(yp,8),a.LFG(ro),a.LFG(ae,8),a.LFG(a.qLn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cp(n){return n.cloneNode(!0)}function FI(n,t){return n+":"+t}function SR(n){return!(!n.url||!n.options)}const TR=Fu(class{constructor(n){this._elementRef=n}}),ew=new a.OlP("MAT_ICON_DEFAULT_OPTIONS"),LI=new a.OlP("mat-icon-location",{providedIn:"root",factory:function VI(){const n=(0,a.f3M)(ae),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Ep=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tw=Ep.map(n=>`[${n}]`).join(", "),iB=/^url\(['"]?#(.*?)['"]?\)$/;let Kc=(()=>{class n extends TR{constructor(e,i,r,s,c,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Sn.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=yn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(tw),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Ep.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(iB):null;if(_){let w=r.get(d);w||(w=[],r.set(d,w)),w.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ri(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(wp),a.$8M("aria-hidden"),a.Y36(LI),a.Y36(a.qLn),a.Y36(ew,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(a.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),a.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[a.qOj],ngContentSelectors:Yr,decls:1,vars:0,template:function(e,i){1&e&&(a.F$t(),a.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),AR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Qn,Qn]}),n})();var nw=L(4408);const Ja={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Ja;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Sn.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Ja;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Ja;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var iw=L(7565);new class rw extends iw.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class MR extends nw.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Ja.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Ja.cancelAnimationFrame(e),t._scheduled=void 0)}});let sw,oB=1;const l_={};function BI(n){return n in l_&&(delete l_[n],!0)}const UI={setImmediate(n){const t=oB++;return l_[t]=!0,sw||(sw=Promise.resolve()),sw.then(()=>BI(t)&&n()),t},clearImmediate(n){BI(n)}},{setImmediate:xR,clearImmediate:HI}=UI,Dp={setImmediate(...n){const{delegate:t}=Dp;return(t?.setImmediate||xR)(...n)},clearImmediate(n){const{delegate:t}=Dp;return(t?.clearImmediate||HI)(n)},delegate:void 0},c_=new class OR extends iw.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class RR extends nw.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Dp.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Dp.clearImmediate(e),t._scheduled=void 0)}});var $I=L(3532);function ow(n=0,t,e=Lc.P){let i=-1;return null!=t&&((0,$I.K)(t)?e=t:i=t),new Qi.y(r=>{let s=function GI(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function zI(n,t=Lc.z){return function jI(n){return(0,bi.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,Kn.x)(e,_=>{i=!0,r=_,s||(0,$l.Xf)(n(_)).subscribe(s=(0,Kn.x)(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>ow(n,t))}let uB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new St.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(zI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(pi(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Wr(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Dh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.R0b),a.LFG(ii),a.LFG(ae,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qI=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new St.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(zI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ii),a.LFG(a.R0b),a.LFG(ae,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),cw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Uf,Ip,Uf,Ip]}),n})();class ZI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class u_ extends ZI{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class dw extends ZI{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class BR extends ZI{constructor(t){super(),this.element=t instanceof a.SBq?t.nativeElement:t}}class hw{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof u_?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof dw?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof BR?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class _B extends hw{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||a.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let fw=(()=>{class n extends hw{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new a.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ae))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[a.qOj]}),n})(),pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function KI(n,t=!1){return(0,bi.e)((e,i)=>{let r=0;e.subscribe((0,Kn.x)(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}const Us=Af();class jR{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=mi(-this._previousScrollPosition.left),t.style.top=mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Us&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Us&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class $R{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class XI{enable(){}disable(){}attach(){}}function Sp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function mw(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class JI{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Sp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let GR=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new XI,this.close=c=>new $R(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new jR(this._viewportRuler,this._document),this.reposition=c=>new JI(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(uB),a.LFG(qI),a.LFG(a.R0b),a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ah{constructor(t){if(this.scrollStrategy=new XI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class eS{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let ic=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nS=(()=>{class n extends ic{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gw=(()=>{class n extends ic{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Vi(s)},this._clickListener=s=>{const c=Vi(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const w=p[_];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(c)||w.overlayElement.contains(d))break;const I=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae),a.LFG(ii),a.LFG(a.R0b,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tl=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Nl()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),Nl()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ae),a.LFG(ii))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qR{constructor(t,e,i,r,s,c,d,p,_,w=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new St.x,this._attachments=new St.x,this._detachments=new St.x,this._locationChanges=Sn.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new St.x,this._outsidePointerEvents=new St.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ri(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=mi(this._config.width),t.height=mi(this._config.height),t.minWidth=mi(this._config.minWidth),t.minHeight=mi(this._config.minHeight),t.maxWidth=mi(this._config.maxWidth),t.maxHeight=mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=nh(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(sr((0,gs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const WR="cdk-overlay-connected-position-bounding-box",ZR=/([A-Za-z%]+)$/;class iS{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new St.x,this._resizeSubscription=Sn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(WR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),w=this._getOverlayFit(_,e,i,d);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(w,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<w.visibleArea)&&(c={overlayFit:w,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const w=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);w>p&&(p=w,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&sd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(WR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=_w(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let M=0-d,O=d+s.height-i.height,N=this._subtractOverflows(s.width,0-c,c+s.width-i.width),z=this._subtractOverflows(s.height,M,O),ie=N*z;return{visibleArea:ie,isCompletelyWithinViewport:s.width*s.height===ie,fitsInViewportVertically:z===s.height,fitsInViewportHorizontally:N==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=rS(this._overlayRef.getConfig().minHeight),d=rS(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=_w(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let w=0,I=0;return w=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,I=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:w,y:I},{x:t.x+w,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new eS(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,w,I,M;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const O=Math.min(i.bottom-t.y+i.top,t.y),N=this._lastBoundingBoxSize.height;s=2*O,c=t.y-O,s>N&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-N/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,w=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,w=i.right-t.x;else{const O=Math.min(i.right-t.x+i.left,t.x),N=this._lastBoundingBoxSize.width;w=2*O,I=t.x-O,w>N&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-N/2)}return{top:c,left:I,bottom:d,right:M,width:w,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=mi(i.height),r.top=mi(i.top),r.bottom=mi(i.bottom),r.width=mi(i.width),r.left=mi(i.left),r.right=mi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=mi(s)),c&&(r.maxWidth=mi(c))}this._lastBoundingBoxSize=i,sd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){sd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){sd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();sd(i,this._getExactOverlayY(e,t,w)),sd(i,this._getExactOverlayX(e,t,w))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=mi(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=mi(c.maxWidth):s&&(i.maxWidth="")),sd(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=mi(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=mi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:mw(t,i),isOriginOutsideView:Sp(t,i),isOverlayClipped:mw(e,i),isOverlayOutsideView:Sp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&nh(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof a.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function sd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function rS(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(ZR);return e&&"px"!==e?null:parseFloat(t)}return n||null}function _w(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const sS="cdk-global-overlay-wrapper";class oS{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(sS),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),w=this._xPosition,I=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let O="",N="",z="";p?z="flex-start":"center"===w?(z="center",M?N=I:O=I):M?"left"===w||"end"===w?(z="flex-end",O=I):("right"===w||"start"===w)&&(z="flex-start",N=I):"left"===w||"start"===w?(z="flex-start",O=I):("right"===w||"end"===w)&&(z="flex-end",N=I),t.position=this._cssPosition,t.marginLeft=p?"0":O,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":N,e.justifyContent=z,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(sS),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let wB=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new oS}flexibleConnectedTo(e){return new iS(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(qI),a.LFG(ae),a.LFG(ii),a.LFG(tl))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yw=0,ea=(()=>{class n{constructor(e,i,r,s,c,d,p,_,w,I,M,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=w,this._location=I,this._outsideClickDispatcher=M,this._animationsModuleType=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Ah(e);return c.direction=c.direction||this._directionality.value,new qR(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+yw++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(a.z2F)),new _B(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(GR),a.LFG(tl),a.LFG(a._Vd),a.LFG(wB),a.LFG(nS),a.LFG(a.zs3),a.LFG(a.R0b),a.LFG(ae),a.LFG($o),a.LFG(Fe),a.LFG(gw),a.LFG(a.QbO,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const aS=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],vw=new a.OlP("cdk-connected-overlay-scroll-strategy");let bw=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),ww=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Sn.w0.EMPTY,this._attachSubscription=Sn.w0.EMPTY,this._detachSubscription=Sn.w0.EMPTY,this._positionSubscription=Sn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new a.vpe,this.positionChange=new a.vpe,this.attach=new a.vpe,this.detach=new a.vpe,this.overlayKeydown=new a.vpe,this.overlayOutsideClick=new a.vpe,this._templatePortal=new dw(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=yn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=yn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=yn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=yn(e)}get push(){return this._push}set push(e){this._push=yn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=aS);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Fc(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Ah({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof bw?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(KI(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ea),a.Y36(a.Rgc),a.Y36(a.s_b),a.Y36(vw),a.Y36($o,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[a.TTD]}),n})();const h_={provide:vw,deps:[ea],useFactory:function d_(n){return()=>n.scrollStrategies.reposition()}};let Tp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[ea,h_],imports:[Uf,pw,cw,cw]}),n})();function lS(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",2)(1,"button",3),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.action())}),a._uU(2),a.qZA()()}if(2&n){const e=a.oxw();a.xp6(2),a.Oqu(e.data.action)}}function cS(n,t){}const uS=new a.OlP("MatSnackBarData");class f_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const EB=Math.pow(2,31)-1;class dS{constructor(t,e){this._overlayRef=e,this._afterDismissed=new St.x,this._afterOpened=new St.x,this._onAction=new St.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,EB))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let hS=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dS),a.Y36(uS))},n.\u0275cmp=a.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(a.TgZ(0,"span",0),a._uU(1),a.qZA(),a.YNc(2,lS,3,1,"div",1)),2&e&&(a.xp6(1),a.Oqu(i.data.message),a.xp6(1),a.Q6J("ngIf",i.hasAction))},dependencies:[gn,ps],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const KR={snackBarState:Bu("state",[ho("void, hidden",gi({transform:"scale(0.8)",opacity:0})),ho("visible",gi({transform:"scale(1)",opacity:1})),Ls("* => visible",Fs("150ms cubic-bezier(0, 0, 0.2, 1)")),Ls("* => void, * => hidden",Fs("75ms cubic-bezier(0.4, 0.0, 1, 1)",gi({opacity:0})))])};let QR=(()=>{class n extends hw{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new St.x,this._onExit=new St.x,this._onEnter=new St.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ri(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.R0b),a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(ii),a.Y36(f_))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&a.Gf(fw,7),2&e){let r;a.iGM(r=a.CRH())&&(i._portalOutlet=r.first)}},features:[a.qOj]}),n})(),XR=(()=>{class n extends QR{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&a.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&a.d8E("@state",i._animationState)},features:[a.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.YNc(1,cS,0,0,"ng-template",1),a.qZA(),a._UZ(2,"div")),2&e&&(a.xp6(2),a.uIk("aria-live",i._live)("role",i._role))},dependencies:[fw],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[KR.snackBarState]}}),n})(),JR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Tp,pw,Ro,ev,Qn,Qn]}),n})();const eO=new a.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function DB(){return new f_}});let IB=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=a.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:f_,useValue:i}]}),c=new u_(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new f_,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new dS(c,s);if(e instanceof a.Rgc){const p=new dw(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),_=new u_(e,void 0,p),w=c.attachComponentPortal(_);d.instance=w.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(sr(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Ah;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return a.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:dS,useValue:i},{provide:uS,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ea),a.LFG(Km),a.LFG(a.zs3),a.LFG(By),a.LFG(n,12),a.LFG(eO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),fS=(()=>{class n extends IB{constructor(e,i,r,s,c,d){super(e,i,r,s,c,d),this.simpleSnackBarComponent=hS,this.snackBarContainerComponent=XR,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(ea),a.LFG(Km),a.LFG(a.zs3),a.LFG(By),a.LFG(n,12),a.LFG(eO))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:JR}),n})();function Xn(n,t){return(0,bi.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,Kn.x)(i,p=>{r?.unsubscribe();let _=0;const w=s++;(0,$l.Xf)(n(p,w)).subscribe(r=(0,Kn.x)(i,I=>i.next(t?t(p,I,w,_++):I),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function pS(n){return(0,ct.U)(()=>n)}function mS(n,t){return t?e=>Ym(t.pipe(ri(1),function p_(){return(0,bi.e)((n,t)=>{n.subscribe((0,Kn.x)(t,Gl.Z))})}()),e.pipe(mS(n))):(0,wr.z)((e,i)=>n(e,i).pipe(ri(1),pS(e)))}function Cw(n,t=Lc.z){const e=ow(n,t);return mS(()=>e)}const od=["mat-menu-item",""];function gS(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",2),a._UZ(1,"polygon",3),a.qZA())}const m_=["*"];function Ew(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",0),a.NdJ("keydown",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(r))})("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._onAnimationDone(r))}),a.TgZ(1,"div",1),a.Hsn(2),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),a.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const g_={transformMenu:Bu("transformMenu",[ho("void",gi({opacity:0,transform:"scale(0.8)"})),Ls("void => enter",Fs("120ms cubic-bezier(0, 0, 0.2, 1)",gi({opacity:1,transform:"scale(1)"}))),Ls("* => void",Fs("100ms 25ms linear",gi({opacity:0})))]),fadeInItems:Bu("fadeInItems",[ho("showing",gi({opacity:1})),Ls("void => *",[gi({opacity:0}),Fs("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},__=new a.OlP("MatMenuContent"),Dw=new a.OlP("MAT_MENU_PANEL"),nO=tg(eg(class{}));let y_=(()=>{class n extends nO{constructor(e,i,r,s,c){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new St.x,this._focused=new St.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(ae),a.Y36(Bf),a.Y36(Dw,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(a.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),a.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[a.qOj],attrs:od,ngContentSelectors:m_,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(a.F$t(),a.Hsn(0),a._UZ(1,"div",0),a.YNc(2,gS,2,0,"svg",1)),2&e&&(a.xp6(1),a.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),a.xp6(1),a.Q6J("ngIf",i._triggersSubmenu))},dependencies:[gn,Wa],encapsulation:2,changeDetection:0}),n})();const vS=new a.OlP("mat-menu-default-options",{providedIn:"root",factory:function bS(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let wS=0,Mh=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new a.n_E,this._tabSubscription=Sn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new St.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new a.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+wS++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=yn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=yn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yE(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(vr(this._directDescendantItems),Xn(e=>(0,gs.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(vr(this._directDescendantItems),Xn(i=>(0,gs.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Fc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case S:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case k:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(i===T||i===U)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(ri(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(vr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(vS),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,__,5),a.Suo(r,y_,5),a.Suo(r,y_,4)),2&e){let s;a.iGM(s=a.CRH())&&(i.lazyContent=s.first),a.iGM(s=a.CRH())&&(i._allItems=s),a.iGM(s=a.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&a.Gf(a.Rgc,5),2&e){let r;a.iGM(r=a.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),iO=(()=>{class n extends Mh{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(vS),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&a.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[a._Bn([{provide:Dw,useExisting:n}]),a.qOj],ngContentSelectors:m_,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(a.F$t(),a.YNc(0,Ew,3,6,"ng-template"))},dependencies:[cn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[g_.transformMenu,g_.fadeInItems]},changeDetection:0}),n})();const CS=new a.OlP("mat-menu-scroll-strategy"),Iw={provide:CS,deps:[ea],useFactory:function ES(n){return()=>n.scrollStrategies.reposition()}},Sw=zr({passive:!0});let Tw=(()=>{class n{constructor(e,i,r,s,c,d,p,_,w){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=_,this._ngZone=w,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Sn.w0.EMPTY,this._hoverSubscription=Sn.w0.EMPTY,this._menuCloseSubscription=Sn.w0.EMPTY,this._handleTouchStart=I=>{or(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new a.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new a.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof Mh?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,Sw),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,Sw),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Mh&&(e._startAnimation(),e._directDescendantItems.changes.pipe(sr(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Mh?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(pi(r=>"void"===r.toState),ri(1),sr(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Ah({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",c="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,c)):e.setPositionClasses(s,c)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[c,d]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,_]=[c,d],[w,I]=[r,s],M=0;if(this.triggersSubmenu()){if(I=r="before"===e.xPosition?"start":"end",s=w="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const O=this._parentMaterialMenu.items.first;this._parentInnerPadding=O?O._getHostElement().offsetTop:0}M="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===c?"bottom":"top",_="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:w,overlayY:c,offsetY:M},{originX:s,originY:p,overlayX:I,overlayY:c,offsetY:M},{originX:r,originY:_,overlayX:w,overlayY:d,offsetY:-M},{originX:s,originY:_,overlayX:I,overlayY:d,offsetY:-M}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:et(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(pi(c=>c!==this._menuItemInstance),pi(()=>this._menuOpen)):et();return(0,gs.T)(e,r,s,i)}_handleMousedown(e){Lf(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(i===k&&"ltr"===this.dir||i===S&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(pi(e=>e===this._menuItemInstance&&!e.disabled),Cw(0,c_)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Mh&&this.menu._isAnimating?this.menu._animationDone.pipe(ri(1),Cw(0,c_),sr(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new dw(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ea),a.Y36(a.SBq),a.Y36(a.s_b),a.Y36(CS),a.Y36(Dw,8),a.Y36(y_,10),a.Y36($o,8),a.Y36(Bf),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&a.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),rO=(()=>{class n extends Tw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[a.qOj]}),n})(),sO=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Iw],imports:[Ro,Qn,sg,Tp,Ip,Qn]}),n})();class MB{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new St.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}function DS(n){return new Qi.y(t=>{(0,$l.Xf)(n()).subscribe(t)})}const oO=["trigger"],kB=["panel"];function xB(n,t){if(1&n&&(a.TgZ(0,"span",8),a._uU(1),a.qZA()),2&n){const e=a.oxw();a.xp6(1),a.Oqu(e.placeholder)}}function RB(n,t){if(1&n&&(a.TgZ(0,"span",12),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.xp6(1),a.Oqu(e.triggerValue)}}function OB(n,t){1&n&&a.Hsn(0,0,["*ngSwitchCase","true"])}function PB(n,t){if(1&n&&(a.TgZ(0,"span",9),a.YNc(1,RB,2,1,"span",10),a.YNc(2,OB,1,0,"ng-content",11),a.qZA()),2&n){const e=a.oxw();a.Q6J("ngSwitch",!!e.customTrigger),a.xp6(2),a.Q6J("ngSwitchCase",!0)}}function NB(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",13)(1,"div",14,15),a.NdJ("@transformPanel.done",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._handleKeydown(r))}),a.Hsn(3,1),a.qZA()()}if(2&n){const e=a.oxw();a.Q6J("@transformPanelWrap",void 0),a.xp6(1),a.Gre("mat-select-panel ",e._getPanelTheme(),""),a.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),a.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),a.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const o=[[["mat-select-trigger"]],"*"],l=["mat-select-trigger","*"],u={transformPanelWrap:Bu("transformPanelWrap",[Ls("* => void",vk("@transformPanel",[cV()],{optional:!0}))]),transformPanel:Bu("transformPanel",[ho("void",gi({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ho("showing",gi({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ho("showing-multiple",gi({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Ls("void => *",Fs("120ms cubic-bezier(0, 0, 0.2, 1)")),Ls("* => void",Fs("100ms 25ms linear",gi({opacity:0})))])};let v=0;const C=256,oe=new a.OlP("mat-select-scroll-strategy"),je=new a.OlP("MAT_SELECT_CONFIG"),tt={provide:oe,deps:[ea],useFactory:function Te(n){return()=>n.scrollStrategies.reposition()}};class ut{constructor(t,e){this.source=t,this.value=e}}const Rt=tg(RE(eg(OE(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new St.x}})))),Ve=new a.OlP("MatSelectTrigger");let dn=(()=>{class n extends Rt{constructor(e,i,r,s,c,d,p,_,w,I,M,O,N,z){super(c,s,p,_,I),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=w,this._liveAnnouncer=N,this._defaultOptions=z,this._panelOpen=!1,this._compareWith=(ie,Me)=>ie===Me,this._uid="mat-select-"+v++,this._triggerAriaLabelledBy=null,this._destroy=new St.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+v++,this._panelDoneAnimatingStream=new St.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=DS(()=>{const ie=this.options;return ie?ie.changes.pipe(vr(ie),Xn(()=>(0,gs.T)(...ie.map(Me=>Me.onSelectionChange)))):this._ngZone.onStable.pipe(ri(1),Xn(()=>this.optionSelectionChanges))}),this.openedChange=new a.vpe,this._openedStream=this.openedChange.pipe(pi(ie=>ie),(0,ct.U)(()=>{})),this._closedStream=this.openedChange.pipe(pi(ie=>!ie),(0,ct.U)(()=>{})),this.selectionChange=new a.vpe,this.valueChange=new a.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=z?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=z.typeaheadDebounceInterval),this._scrollStrategyFactory=O,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(M)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(nn.required)??!1}set required(e){this._required=yn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=yn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=yn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=Ru(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new MB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(th(),sr(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(sr(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(vr(null),sr(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=i===U||i===T||i===S||i===k,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Fc(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=r===U||r===T,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||Fc(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(ri(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new _E(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(sr(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(sr(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,gs.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(sr(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,gs.T)(...this.options.map(i=>i._stateChanges)).pipe(sr(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(qI),a.Y36(a.sBO),a.Y36(a.R0b),a.Y36(VE),a.Y36(a.SBq),a.Y36($o,8),a.Y36(Kg,8),a.Y36(ed,8),a.Y36(t_,8),a.Y36(Za,10),a.$8M("tabindex"),a.Y36(oe),a.Y36(Km),a.Y36(je,8))},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(oO,5),a.Gf(kB,5),a.Gf(ww,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.trigger=r.first),a.iGM(r=a.CRH())&&(i.panel=r.first),a.iGM(r=a.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[a.qOj,a.TTD]}),n})(),Jn=(()=>{class n extends dn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(sr(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(ri(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=uo(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function ak(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,C)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new ut(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let _=this._selectionModel.selected[0]||this.options.first;c=_&&_.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),p=e.right+c-i.width+(r?0:s);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(C/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-C)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),_=Math.min(this._getItemCount()*i,C)-d-this._triggerRect.height;_>c?this._adjustPanelUp(_,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,C),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=uo(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Ve,5),a.Suo(r,qE,5),a.Suo(r,ik,5)),2&e){let s;a.iGM(s=a.CRH())&&(i.customTrigger=s.first),a.iGM(s=a.CRH())&&(i.options=s),a.iGM(s=a.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&a.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(a.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),a.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[a._Bn([{provide:e_,useExisting:n},{provide:$E,useExisting:n}]),a.qOj],ngContentSelectors:l,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(a.F$t(o),a.TgZ(0,"div",0,1),a.NdJ("click",function(){return i.toggle()}),a.TgZ(3,"div",2),a.YNc(4,xB,2,1,"span",3),a.YNc(5,PB,3,2,"span",4),a.qZA(),a.TgZ(6,"div",5),a._UZ(7,"div",6),a.qZA()(),a.YNc(8,NB,4,14,"ng-template",7),a.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=a.MAs(1);a.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),a.xp6(3),a.Q6J("ngSwitch",i.empty),a.uIk("id",i._valueId),a.xp6(1),a.Q6J("ngSwitchCase",!0),a.xp6(1),a.Q6J("ngSwitchCase",!1),a.xp6(3),a.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[cn,Ss,da,ha,ww,bw],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[u.transformPanelWrap,u.transformPanel]},changeDetection:0}),n})(),ad=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[tt],imports:[Ro,Tp,Jy,Qn,Ip,$b,Jy,Qn]}),n})();const Aw=["mat-calendar-body",""];function Mw(n,t){if(1&n&&(a.TgZ(0,"tr",2)(1,"td",3),a._uU(2),a.qZA()()),2&n){const e=a.oxw();a.xp6(1),a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e.numCols),a.xp6(1),a.hij(" ",e.label," ")}}function kw(n,t){if(1&n&&(a.TgZ(0,"td",3),a._uU(1),a.qZA()),2&n){const e=a.oxw(2);a.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),a.uIk("colspan",e._firstRowOffset),a.xp6(1),a.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function xw(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"td",7)(1,"button",8),a.NdJ("click",function(r){const c=a.CHM(e).$implicit,d=a.oxw(2);return a.KtG(d._cellClicked(c,r))})("focus",function(r){const c=a.CHM(e).$implicit,d=a.oxw(2);return a.KtG(d._emitActiveDateChange(c,r))}),a.TgZ(2,"div",9),a._uU(3),a.qZA(),a._UZ(4,"div",10),a.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=a.oxw().index,s=a.oxw();a.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),a.uIk("data-mat-row",r)("data-mat-col",i),a.xp6(1),a.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),a.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),a.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),a.xp6(1),a.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),a.xp6(1),a.hij(" ",e.displayValue," ")}}function Rw(n,t){if(1&n&&(a.TgZ(0,"tr",4),a.YNc(1,kw,2,6,"td",5),a.YNc(2,xw,5,47,"td",6),a.qZA()),2&n){const e=t.$implicit,i=t.index,r=a.oxw();a.xp6(1),a.Q6J("ngIf",0===i&&r._firstRowOffset),a.xp6(1),a.Q6J("ngForOf",e)}}function Ow(n,t){if(1&n&&(a.TgZ(0,"th",5)(1,"span",6),a._uU(2),a.qZA(),a.TgZ(3,"span",7),a._uU(4),a.qZA()()),2&n){const e=t.$implicit;a.xp6(2),a.Oqu(e.long),a.xp6(2),a.Oqu(e.narrow)}}const Pw=["*"];function Nw(n,t){}function Fw(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-month-view",5),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("_userSelection",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._dateSelected(r))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function rW(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-year-view",6),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("monthSelected",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._goToDateInView(r,"month"))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function sW(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"mat-multi-year-view",7),a.NdJ("activeDateChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s.activeDate=r)})("yearSelected",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){a.CHM(e);const s=a.oxw();return a.KtG(s._goToDateInView(r,"year"))}),a.qZA()}if(2&n){const e=a.oxw();a.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function oW(n,t){}const aW=["button"];function lW(n,t){1&n&&(a.O4$(),a.TgZ(0,"svg",3),a._UZ(1,"path",4),a.qZA())}const cW=[[["","matDatepickerToggleIcon",""]]],uW=["[matDatepickerToggleIcon]"];let Lw=(()=>{class n{constructor(){this.changes=new St.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class aO{constructor(t,e,i,r,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let v_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new a.vpe,this.previewChange=new a.vpe,this.activeDateChange=new a.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ri(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return lO(e,this.startValue,this.endValue)}_isRangeEnd(e){return cO(e,this.startValue,this.endValue)}_isInRange(e){return uO(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return lO(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return cO(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return uO(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return lO(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return cO(e,this.previewStart,this.previewEnd)}_isInPreview(e){return uO(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(FB(e)?i=e:FB(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[a.TTD],attrs:Aw,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(a.YNc(0,Mw,3,6,"tr",0),a.YNc(1,Rw,3,2,"tr",1)),2&e&&(a.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),a.xp6(1),a.Q6J("ngForOf",i.rows))},dependencies:[cn,jr,gn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function FB(n){return"TD"===n.nodeName}function lO(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function cO(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function uO(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class go{constructor(t,e){this.start=t,this.end=e}}let kh=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new St.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),dW=(()=>{class n extends kh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Xi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const LB={provide:kh,deps:[[new a.FiY,new a.tp0,kh],Xi],useFactory:function fW(n,t){return n||new dW(t)}},IS=new a.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let VB=(()=>{class n{constructor(e,i,r,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=Sn.w0.EMPTY,this.selectedChange=new a.vpe,this._userSelection=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof go?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(vr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,c;this._selected instanceof go?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case S:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case k:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case T:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case U:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Fc(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new aO(r+1,i[r],p,d,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof go?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(Lu,8),a.Y36(Xi,8),a.Y36($o,8),a.Y36(IS,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(v_,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[a.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a.YNc(3,Ow,5,2,"th",2),a.qZA(),a.TgZ(4,"tr"),a._UZ(5,"th",3),a.qZA()(),a.TgZ(6,"tbody",4),a.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(3),a.Q6J("ngForOf",i._weekdays),a.xp6(3),a.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[jr,v_],encapsulation:2,changeDetection:0}),n})(),BB=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Sn.w0.EMPTY,this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),UB(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof go?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(vr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Vw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case S:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case k:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case T:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case U:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Vw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Vw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Vw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new aO(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof go){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(Xi,8),a.Y36($o,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(v_,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[v_],encapsulation:2,changeDetection:0}),n})();function UB(n,t,e,i,r){const s=n.getYear(t),c=n.getYear(e),d=HB(n,i,r);return Math.floor((s-d)/24)===Math.floor((c-d)/24)}function Vw(n,t,e,i){return function _W(n,t){return(n%t+t)%t}(n.getYear(t)-HB(n,e,i),24)}function HB(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let jB=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Sn.w0.EMPTY,this.selectedChange=new a.vpe,this.monthSelected=new a.vpe,this.activeDateChange=new a.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof go?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(vr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case S:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case k:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case T:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case U:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new aO(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof go?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.sBO),a.Y36(Lu,8),a.Y36(Xi,8),a.Y36($o,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&a.Gf(v_,5),2&e){let r;a.iGM(r=a.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(a.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),a._UZ(3,"th",2),a.qZA()(),a.TgZ(4,"tbody",3),a.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),a.qZA()()),2&e&&(a.xp6(4),a.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[v_],encapsulation:2,changeDetection:0}),n})(),yW=0,vW=(()=>{class n{constructor(e,i,r,s,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+yW++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Vw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):UB(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Lw),a.Y36((0,a.Gpc)(()=>fO)),a.Y36(Xi,8),a.Y36(Lu,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:Pw,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(a.F$t(),a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.currentPeriodClicked()}),a.TgZ(3,"span"),a._uU(4),a.qZA(),a.O4$(),a.TgZ(5,"svg",3),a._UZ(6,"polygon",4),a.qZA()(),a.kcU(),a._UZ(7,"div",5),a.Hsn(8),a.TgZ(9,"button",6),a.NdJ("click",function(){return i.previousClicked()}),a.qZA(),a.TgZ(10,"button",7),a.NdJ("click",function(){return i.nextClicked()}),a.qZA()()()),2&e&&(a.xp6(2),a.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),a.xp6(1),a.uIk("id",i._buttonDescriptionId),a.xp6(1),a.Oqu(i.periodButtonText),a.xp6(1),a.ekj("mat-calendar-invert","month"!==i.calendar.currentView),a.xp6(4),a.Q6J("disabled",!i.previousEnabled()),a.uIk("aria-label",i.prevButtonLabel),a.xp6(1),a.Q6J("disabled",!i.nextEnabled()),a.uIk("aria-label",i.nextButtonLabel))},dependencies:[ps],encapsulation:2,changeDetection:0}),n})(),fO=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new a.vpe,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this._userSelection=new a.vpe,this.stateChanges=new St.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof go?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new u_(this.headerComponent||vW),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof go||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Lw),a.Y36(Xi,8),a.Y36(Lu,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(a.Gf(VB,5),a.Gf(jB,5),a.Gf(BB,5)),2&e){let r;a.iGM(r=a.CRH())&&(i.monthView=r.first),a.iGM(r=a.CRH())&&(i.yearView=r.first),a.iGM(r=a.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[a._Bn([LB]),a.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(a.YNc(0,Nw,0,0,"ng-template",0),a.TgZ(1,"div",1),a.YNc(2,Fw,1,8,"mat-month-view",2),a.YNc(3,rW,1,6,"mat-year-view",3),a.YNc(4,sW,1,6,"mat-multi-year-view",4),a.qZA()),2&e&&(a.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),a.xp6(1),a.Q6J("ngSwitch",i.currentView),a.xp6(1),a.Q6J("ngSwitchCase","month"),a.xp6(1),a.Q6J("ngSwitchCase","year"),a.xp6(1),a.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ss,da,WM,fw,VB,jB,BB],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const $B={transformPanel:Bu("transformPanel",[Ls("void => enter-dropdown",Fs("120ms cubic-bezier(0, 0, 0.2, 1)",og([gi({opacity:0,transform:"scale(1, 0.8)"}),gi({opacity:1,transform:"scale(1, 1)"})]))),Ls("void => enter-dialog",Fs("150ms cubic-bezier(0, 0, 0.2, 1)",og([gi({opacity:0,transform:"scale(0.7)"}),gi({transform:"none",opacity:1})]))),Ls("* => void",Fs("100ms linear",gi({opacity:0})))]),fadeInCalendar:Bu("fadeInCalendar",[ho("void",gi({opacity:0})),ho("enter",gi({opacity:1})),Ls("void => *",Fs("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let bW=0;const GB=new a.OlP("mat-datepicker-scroll-strategy"),CW={provide:GB,deps:[ea],useFactory:function wW(n){return()=>n.scrollStrategies.reposition()}},EW=Fu(class{constructor(n){this._elementRef=n}});let DW=(()=>{class n extends EW{constructor(e,i,r,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new Sn.w0,this._animationDone=new St.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof go;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(kh),a.Y36(Xi),a.Y36(IS,8),a.Y36(Lw))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&a.Gf(fO,5),2&e){let r;a.iGM(r=a.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&a.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(a.d8E("@transformPanel",i._animationState),a.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[a.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0)(1,"mat-calendar",1),a.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),a.qZA(),a.YNc(2,oW,0,0,"ng-template",2),a.TgZ(3,"button",3),a.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),a._uU(4),a.qZA()()),2&e){let r;a.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),a.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),a.xp6(1),a.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),a.xp6(1),a.Q6J("cdkPortalOutlet",i._actionsPortal),a.xp6(1),a.ekj("cdk-visually-hidden",!i._closeButtonFocused),a.Q6J("color",i.color||"primary"),a.xp6(1),a.Oqu(i._closeButtonText)}},dependencies:[cn,ps,EE,fw,fO],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[$B.transformPanel,$B.fadeInCalendar]},changeDetection:0}),n})(),zB=(()=>{class n{constructor(e,i,r,s,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=Sn.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new a.vpe,this.monthSelected=new a.vpe,this.viewChanged=new a.vpe(!0),this.openedStream=new a.vpe,this.closedStream=new a.vpe,this._opened=!1,this.id="mat-datepicker-"+bW++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new St.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=yn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=yn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=yn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function lE(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){yn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof iS&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=Va(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(ri(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new u_(DW,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Ah({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const c=s.keyCode;(c===T||c===U||c===S||c===k||33===c||34===c)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(ri(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,gs.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(pi(i=>27===i.keyCode&&!Fc(i)||this.datepickerInput&&Fc(i,"altKey")&&i.keyCode===T)))}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(ea),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(GB),a.Y36(Xi,8),a.Y36($o,8),a.Y36(kh))},n.\u0275dir=a.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[a.TTD]}),n})(),IW=(()=>{class n extends zB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=a.n5z(n)))(i||n)}}(),n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[a._Bn([LB,{provide:zB,useExisting:n}]),a.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class SS{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let SW=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new a.vpe,this.dateInput=new a.vpe,this.stateChanges=new St.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Sn.w0.EMPTY,this._localeSubscription=Sn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=yn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new SS(this,this._elementRef.nativeElement)),this.dateChange.emit(new SS(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function TW(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&e.keyCode===U&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new SS(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new SS(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Xi,8),a.Y36(Lu,8))},n.\u0275dir=a.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[a.TTD]}),n})();const AW={provide:mo,useExisting:(0,a.Gpc)(()=>pO),multi:!0},MW={provide:Ji,useExisting:(0,a.Gpc)(()=>pO),multi:!0};let pO=(()=>{class n extends SW{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Sn.w0.EMPTY,this._validator=nn.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(Xi,8),a.Y36(Lu,8),a.Y36(t_,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&a.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(a.Ikx("disabled",i.disabled),a.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[a._Bn([AW,MW,{provide:CI,useExisting:n}]),a.qOj]}),n})(),kW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),xW=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Sn.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=yn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:et(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:et(),r=this.datepicker?(0,gs.T)(this.datepicker.openedStream,this.datepicker.closedStream):et();this._stateChanges.unsubscribe(),this._stateChanges=(0,gs.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Lw),a.Y36(a.sBO),a.$8M("tabindex"))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&a.Suo(r,kW,5),2&e){let s;a.iGM(s=a.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&a.Gf(aW,5),2&e){let r;a.iGM(r=a.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i._open(s)}),2&e&&(a.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),a.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[a.TTD],ngContentSelectors:uW,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(a.F$t(cW),a.TgZ(0,"button",0,1),a.YNc(2,lW,2,0,"svg",2),a.Hsn(3),a.qZA()),2&e&&(a.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),a.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),a.xp6(2),a.Q6J("ngIf",!i._customIcon))},dependencies:[gn,ps],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),RW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Lw,CW],imports:[Ro,ev,Tp,eV,pw,Qn,Ip]}),n})();const OW=["input"],PW=["label"],NW=function(n){return{enterDuration:n}},FW=["*"],LW=new a.OlP("mat-checkbox-default-options",{providedIn:"root",factory:qB});function qB(){return{color:"accent",clickAction:"check-indeterminate"}}let VW=0;const WB=qB(),BW={provide:mo,useExisting:(0,a.Gpc)(()=>ZB),multi:!0};class UW{}const HW=RE(Fu(tg(eg(class{constructor(n){this._elementRef=n}}))));let jW=(()=>{class n extends HW{constructor(e,i,r,s,c,d,p){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=d,this._options=p,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new a.vpe,this.indeterminateChange=new a.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||WB,this.color=this.defaultColor=this._options.color||WB.color,this.tabIndex=parseInt(c)||0,this.id=this._uniqueId=`${e}${++VW}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=yn(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=yn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=yn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=yn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){a.$Z()},n.\u0275dir=a.lG2({type:n,viewQuery:function(e,i){if(1&e&&(a.Gf(OW,5),a.Gf(PW,5),a.Gf(Wa,5)),2&e){let r;a.iGM(r=a.CRH())&&(i._inputElement=r.first),a.iGM(r=a.CRH())&&(i._labelElement=r.first),a.iGM(r=a.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[a.qOj]}),n})(),ZB=(()=>{class n extends jW{constructor(e,i,r,s,c,d,p){super("mat-checkbox-",e,i,s,c,d,p),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new UW;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.sBO),a.Y36(Bf),a.Y36(a.R0b),a.$8M("tabindex"),a.Y36(a.QbO,8),a.Y36(LW,8))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(a.Ikx("id",i.id),a.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),a.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[a._Bn([BW]),a.qOj],ngContentSelectors:FW,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(a.F$t(),a.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),a.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),a.qZA(),a.TgZ(5,"span",5),a._UZ(6,"span",6),a.qZA(),a._UZ(7,"span",7),a.TgZ(8,"span",8),a.O4$(),a.TgZ(9,"svg",9),a._UZ(10,"path",10),a.qZA(),a.kcU(),a._UZ(11,"span",11),a.qZA()(),a.TgZ(12,"span",12,13),a.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),a.TgZ(14,"span",14),a._uU(15,"\xa0"),a.qZA(),a.Hsn(16),a.qZA()()),2&e){const r=a.MAs(1),s=a.MAs(13);a.uIk("for",i.inputId),a.xp6(2),a.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),a.xp6(1),a.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),a.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),a.xp6(2),a.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",a.VKq(19,NW,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[Wa,Ly],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),YB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),zW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[sg,Qn,Vc,YB,Qn,YB]}),n})();const qW=["primaryValueBar"],WW=Fu(class{constructor(n){this._elementRef=n}},"primary"),ZW=new a.OlP("mat-progress-bar-location",{providedIn:"root",factory:function YW(){const n=(0,a.f3M)(ae),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),KW=new a.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let QW=0,XW=(()=>{class n extends WW{constructor(e,i,r,s,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new a.vpe,this._animationEndSubscription=Sn.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+QW++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=KB(Ru(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=KB(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Dh(e,"transitionend").pipe(pi(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.QbO,8),a.Y36(ZW,8),a.Y36(KW,8),a.Y36(a.sBO))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&a.Gf(qW,5),2&e){let r;a.iGM(r=a.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(a.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),a.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[a.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0),a.O4$(),a.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),a._UZ(4,"circle",3),a.qZA()(),a._UZ(5,"rect",4),a.qZA(),a.kcU(),a._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),a.qZA()),2&e&&(a.xp6(3),a.Q6J("id",i.progressbarId),a.xp6(2),a.uIk("fill",i._rectangleFillValue),a.xp6(1),a.Q6J("ngStyle",i._bufferTransform()),a.xp6(1),a.Q6J("ngStyle",i._primaryTransform()))},dependencies:[mc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function KB(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let JW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[Ro,Qn,Qn]}),n})();var Cr=L(2011),TS=L(5363),e4=L(6063);class t4 extends St.x{constructor(t=1/0,e=1/0,i=e4.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}function QB(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,n_.B)({connector:()=>new t4(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const AS=(0,L(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function MS(n){return(0,bi.e)((t,e)=>{let i=!1;t.subscribe((0,Kn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function XB(n=i4){return(0,bi.e)((t,e)=>{let i=!1;t.subscribe((0,Kn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function i4(){return new AS}function ld(n,t){const e=arguments.length>=2;return i=>i.pipe(n?pi((r,s)=>n(r,s,i)):eh.y,ri(1),e?MS(t):XB(()=>new AS))}function JB(n,t){return(0,Qa.m)(t)?Xn(()=>n,t):Xn(()=>n)}var mO=L(9468),An=L(5813);L(5867);var De=L(5861),Hs=L(9681),rc=L(4859),F=L(2090),sc=L(1877);const tU=new Map,l4={activated:!1,tokenObservers:[]},c4={initialized:!1,enabled:!1};function xr(n){return tU.get(n)||l4}function oc(n,t){tU.set(n,t)}function xS(){return c4}class p4{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,De.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function m4(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const js=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function iU(n){if(!xr(n).activated)throw js.create("use-before-activation",{appName:n.name})}function vO(n,t){return bO.apply(this,arguments)}function bO(){return(bO=(0,De.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const O=yield c.getHeartbeatsHeader();O&&(s["X-Firebase-Client"]=O)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(O){throw js.create("fetch-network-error",{originalErrorMessage:null===(i=O)||void 0===i?void 0:i.message})}if(200!==p.status)throw js.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(O){throw js.create("fetch-parse-error",{originalErrorMessage:null===(r=O)||void 0===r?void 0:r.message})}const w=_.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(w[1]),M=Date.now();return{token:_.token,expireTimeMillis:M+I,issuedAtTimeMillis:M}})).apply(this,arguments)}function v4(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Bw="firebase-app-check-store";let PS=null;function sU(){return PS||(PS=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(js.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Bw,{keyPath:"compositeKey"})}}catch(i){t(js.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),PS)}function wO(){return(wO=(0,De.Z)(function*(n,t){const i=(yield sU()).transaction(Bw,"readwrite"),s=i.objectStore(Bw).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(js.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const Uw=new sc.Yd("@firebase/app-check");function cU(n,t){return(0,F.hl)()?function E4(n,t){return function oU(n,t){return wO.apply(this,arguments)}(function lU(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Uw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function uU(){return xS().enabled}function dU(){return IO.apply(this,arguments)}function IO(){return(IO=(0,De.Z)(function*(){const n=xS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const M4={error:"UNKNOWN_ERROR"};function k4(n){return F.US.encodeString(JSON.stringify(n),!1)}function NS(n){return SO.apply(this,arguments)}function SO(){return(SO=(0,De.Z)(function*(n,t=!1){const e=n.app;iU(e);const i=xr(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&FS(p)&&(r=p)}if(!t&&r&&FS(r))return{token:r.token};let d,c=!1;if(uU()){i.exchangeTokenPromise||(i.exchangeTokenPromise=vO(v4(e,yield dU()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield cU(e,p),oc(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Uw.warn(p.message):Uw.error(p),s=p}return r?(d={token:r.token},oc(e,Object.assign(Object.assign({},i),{token:r})),yield cU(e,r)):d=R4(s),c&&fU(e,d),d})).apply(this,arguments)}function AO(n,t){const e=xr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),oc(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function hU(n){const{app:t}=n,e=xr(t);let i=e.tokenRefresher;i||(i=function x4(n){const{app:t}=n;return new p4((0,De.Z)(function*(){let i;if(i=xr(t).token?yield NS(n,!0):yield NS(n),i.error)throw i.error}),()=>!0,()=>{const e=xr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),oc(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function fU(n,t){const e=xr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function FS(n){return n.expireTimeMillis-Date.now()>0}function R4(n){return{token:k4(M4),error:n}}class O4{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=xr(this.app);for(const e of t)AO(this.app,e.next);return Promise.resolve()}}const wU="app-check-internal";!function W4(){(0,Hs._registerComponent)(new rc.wA("app-check",n=>function P4(n,t){return new O4(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(wU).initialize()})),(0,Hs._registerComponent)(new rc.wA(wU,n=>function N4(n){return{getToken:t=>NS(n,t),addTokenListener:t=>function TO(n,t,e,i){const{app:r}=n,s=xr(r),c={next:e,error:i,type:t};if(oc(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&FS(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),hU(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>hU(n))}(n,"INTERNAL",t),removeTokenListener:t=>AO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Hs.registerVersion)("@firebase/app-check","0.5.12")}();class Hw{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window;var VS=L(127);const OO=new a.OlP("angularfire2.auth.use-emulator"),PO=new a.OlP("angularfire2.auth.settings"),NO=new a.OlP("angularfire2.auth.tenant-id"),FO=new a.OlP("angularfire2.auth.langugage-code"),LO=new a.OlP("angularfire2.auth.use-device-language"),VO=new a.OlP("angularfire.auth.persistence"),BO=(n,t,e,i,r,s,c,d)=>(0,Cr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,w]of Object.entries(c))p.settings[_]=w;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let jw=(()=>{class n{constructor(e,i,r,s,c,d,p,_,w,I,M,O){const N=new St.x,z=et(void 0).pipe((0,TS.Q)(c.outsideAngular),Xn(()=>s.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,5881)))),(0,ct.U)(()=>(0,Cr.on)(e,s,i)),(0,ct.U)(ie=>BO(ie,s,d,_,w,I,p,M)),QB({bufferSize:1,refCount:!1}));if(ya(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{z.pipe(ld()).subscribe();const Me=z.pipe(Xn(Qe=>Qe.getRedirectResult().then(Dt=>Dt,()=>null)),An.iC,QB({bufferSize:1,refCount:!1})),ze=z.pipe(Xn(Qe=>new Qi.y(Dt=>({unsubscribe:s.runOutsideAngular(()=>Qe.onAuthStateChanged(At=>Dt.next(At),At=>Dt.error(At),()=>Dt.complete()))})))),Xe=z.pipe(Xn(Qe=>new Qi.y(Dt=>({unsubscribe:s.runOutsideAngular(()=>Qe.onIdTokenChanged(At=>Dt.next(At),At=>Dt.error(At),()=>Dt.complete()))}))));this.authState=Me.pipe(JB(ze),(0,mO.R)(c.outsideAngular),(0,TS.Q)(c.insideAngular)),this.user=Me.pipe(JB(Xe),(0,mO.R)(c.outsideAngular),(0,TS.Q)(c.insideAngular)),this.idToken=this.user.pipe(Xn(Qe=>Qe?(0,_n.D)(Qe.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(Xn(Qe=>Qe?(0,_n.D)(Qe.getIdTokenResult()):et(null))),this.credential=(0,gs.T)(Me,N,this.authState.pipe(pi(Qe=>!Qe))).pipe((0,ct.U)(Qe=>Qe?.user?Qe:null),(0,mO.R)(c.outsideAngular),(0,TS.Q)(c.insideAngular))}return(0,Cr.pX)(this,z,s,{spy:{apply:(ie,Me,ze)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&ze.then(Xe=>N.next(Xe))}}})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Cr.Dh),a.LFG(Cr.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(An.HU),a.LFG(OO,8),a.LFG(PO,8),a.LFG(NO,8),a.LFG(FO,8),a.LFG(LO,8),a.LFG(VO,8),a.LFG(Hw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),J4=(()=>{class n{constructor(){VS.Z.registerVersion("angularfire",An.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[jw]}),n})();var UO=L(3942);const EU="firebasestorage.googleapis.com",DU="storageBucket";class Gi extends F.ZR{constructor(t,e){super(HO(t),`Firebase Storage: ${e} (${HO(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}_codeEquals(t){return HO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function HO(n){return"storage/"+n}function jO(){return new Gi("unknown","An unknown error occurred, please check the error payload for server response.")}function IU(){return new Gi("canceled","User canceled the upload/download.")}function SU(){return new Gi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function b_(n){return new Gi("invalid-argument",n)}function TU(){return new Gi("app-deleted","The Firebase app was deleted.")}function AU(n){return new Gi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function $w(n,t){return new Gi("invalid-format","String does not match format '"+n+"': "+t)}function Gw(n){throw new Gi("internal-error","Internal error: "+n)}class _s{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=_s.makeFromUrl(t,e)}catch{return new _s(t,"")}if(""===i.path)return i;throw function cZ(n){return new Gi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Qe){Qe.path_=decodeURIComponent(Qe.path)}const I=e.replace(/[.]/g,"\\."),Xe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===EU?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Qe=0;Qe<Xe.length;Qe++){const Dt=Xe[Qe],At=Dt.regex.exec(t);if(At){let tr=At[Dt.indices.path];tr||(tr=""),i=new _s(At[Dt.indices.bucket],tr),Dt.postModify(i);break}}if(null==i)throw function lZ(n){return new Gi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class fZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function BS(n){return"string"==typeof n||n instanceof String}function MU(n){return $O()&&n instanceof Blob}function $O(){return typeof Blob<"u"}function GO(n,t,e,i){if(i<t)throw b_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw b_(`Invalid value for '${n}'. Expected ${e} or less.`)}function cd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function kU(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var xh=(()=>{return(n=xh||(xh={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",xh;var n})();class vZ{constructor(t,e,i,r,s,c,d,p,_,w,I){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=w,this.connectionFactory_=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function gZ(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=jO();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?TU():IU():function aZ(){return new Gi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new US(!1,null,!0)):this.backoffId_=function pZ(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function w(...ie){_||(_=!0,t.apply(null,ie))}function I(ie){r=setTimeout(()=>{r=null,n(O,p())},ie)}function M(){s&&clearTimeout(s)}function O(ie,...Me){if(_)return void M();if(ie)return M(),void w.call(null,ie,...Me);if(p()||c)return M(),void w.call(null,ie,...Me);let Xe;i<64&&(i*=2),1===d?(d=2,Xe=0):Xe=1e3*(i+Math.random()),I(Xe)}let N=!1;function z(ie){N||(N=!0,M(),!_&&(null!==r?(ie||(d=2),clearTimeout(r),I(0)):ie||(d=1)))}return I(0),s=setTimeout(()=>{c=!0,z(!0)},e),z}((i,r)=>{if(r)return void i(!1,new US(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===xh.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const w=s.getErrorCode()===xh.ABORT;return void i(!1,new US(!1,null,w))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new US(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function mZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class US{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function SZ(...n){const t=function IZ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if($O())return new Blob(n);throw new Gi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const na={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class zO{constructor(t,e){this.data=t,this.contentType=e||null}}function qO(n,t){switch(n){case na.RAW:return new zO(xU(t));case na.BASE64:case na.BASE64URL:return new zO(RU(n,t));case na.DATA_URL:return new zO(function kZ(n){const t=new OU(n);return t.base64?RU(na.BASE64,t.rest):function MZ(n){let t;try{t=decodeURIComponent(n)}catch{throw $w(na.DATA_URL,"Malformed data URL.")}return xU(t)}(t.rest)}(t),function xZ(n){return new OU(n).contentType}(t))}throw jO()}function xU(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function RU(n,t){switch(n){case na.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw $w(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case na.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw $w(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function AZ(n){return atob(n)}(t)}catch{throw $w(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class OU{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw $w(na.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function RZ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class Qc{constructor(t,e){let i=0,r="";MU(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(MU(this.data_)){const r=function TZ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new Qc(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new Qc(i,!0)}}static getBlob(...t){if($O()){const e=t.map(i=>i instanceof Qc?i.data_:i);return new Qc(SZ.apply(null,e))}{const e=t.map(c=>BS(c)?qO(na.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new Qc(r,!0)}}uploadData(){return this.data_}}function WO(n){let t;try{t=JSON.parse(n)}catch{return null}return function yZ(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function PU(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function NZ(n,t){return t}class $s{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||NZ}}let HS=null;function zw(){if(HS)return HS;const n=[];n.push(new $s("bucket")),n.push(new $s("generation")),n.push(new $s("metageneration")),n.push(new $s("name","fullPath",!0));const e=new $s("name");e.xform=function t(s,c){return function FZ(n){return!BS(n)||n.length<2?n:PU(n)}(c)},n.push(e);const r=new $s("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new $s("timeCreated")),n.push(new $s("updated")),n.push(new $s("md5Hash",null,!0)),n.push(new $s("cacheControl",null,!0)),n.push(new $s("contentDisposition",null,!0)),n.push(new $s("contentEncoding",null,!0)),n.push(new $s("contentLanguage",null,!0)),n.push(new $s("contentType",null,!0)),n.push(new $s("metadata","customMetadata",!0)),HS=n,HS}function NU(n,t,e){const i=WO(t);return null===i?null:function VZ(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function LZ(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new _s(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function ZO(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const FU="prefixes";class Xc{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Jc(n){if(!n)throw jO()}function jS(n,t){return function e(i,r){const s=NU(n,r,t);return Jc(null!==s),s}}function w_(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function sZ(){return new Gi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function rZ(){return new Gi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function iZ(n){return new Gi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function oZ(n){return new Gi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function qw(n){const t=w_(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function nZ(n){return new Gi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function VU(n,t,e){const r=cd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Xc(r,"GET",jS(n,e),c);return d.errorHandler=qw(t),d}function GZ(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=cd(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,w=new Xc(d,"GET",function jZ(n,t){return function e(i,r){const s=function HZ(n,t,e){const i=WO(e);return null===i?null:function UZ(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[FU])for(const r of e[FU]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new _s(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new _s(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return Jc(null!==s),s}}(n,t.bucket),_);return w.urlParams=s,w.errorHandler=w_(t),w}function UU(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function ZZ(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class $S{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function YO(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{Jc(!1)}return Jc(!!e&&-1!==(t||["active"]).indexOf(e)),e}const XZ={STATE_CHANGED:"state_changed"},Gs={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function KO(n){switch(n){case"running":case"pausing":case"canceling":return Gs.RUNNING;case"paused":return Gs.PAUSED;case"success":return Gs.SUCCESS;case"canceled":return Gs.CANCELED;default:return Gs.ERROR}}class JZ{constructor(t,e,i){if(function _Z(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function C_(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class tY extends class eY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Gw("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Gw("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Gw("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Gw("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Gw("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function ac(){return new tY}class GU{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=zw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function YZ(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=UU(t,i,r),d={name:c.fullPath},p=cd(s,n.host,n._protocol),w={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},I=ZO(c,e),N=new Xc(p,"POST",function O(z){let ie;YO(z);try{ie=z.getResponseHeader("X-Goog-Upload-URL")}catch{Jc(!1)}return Jc(BS(ie)),ie},n.maxUploadRetryTime);return N.urlParams=d,N.headers=w,N.body=I,N.errorHandler=w_(t),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ac,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function KZ(n,t,e,i){const p=new Xc(e,"POST",function s(_){const w=YO(_,["active","final"]);let I=null;try{I=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Jc(!1)}I||Jc(!1);const M=Number(I);return Jc(!isNaN(M)),new $S(M,i.size(),"final"===w)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=w_(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,ac,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new $S(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function QZ(n,t,e,i,r,s,c,d){const p=new $S(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function dZ(){return new Gi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let w=_;r>0&&(w=Math.min(w,r));const I=p.current,N={"X-Goog-Upload-Command":w===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},z=i.slice(I,I+w);if(null===z)throw SU();const Xe=new Xc(e,"POST",function ie(Qe,Dt){const At=YO(Qe,["active","final"]),an=p.current+w,tr=i.size();let la;return la="final"===At?jS(t,s)(Qe,Dt):null,new $S(an,tr,"final"===At,la)},t.maxUploadRetryTime);return Xe.headers=N,Xe.body=z.uploadData(),Xe.progressCallback=d||null,Xe.errorHandler=w_(n),Xe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,ac,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=VU(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,ac,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function HU(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Xe="";for(let Qe=0;Qe<2;Qe++)Xe+=Math.random().toString().slice(2);return Xe}();c["Content-Type"]="multipart/related; boundary="+p;const _=UU(t,i,r),w=ZO(_,e),O=Qc.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+w+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===O)throw SU();const N={name:_.fullPath},z=cd(s,n.host,n._protocol),Me=n.maxUploadRetryTime,ze=new Xc(z,"POST",jS(n,e),Me);return ze.urlParams=N,ze.headers=c,ze.body=O.uploadData(),ze.errorHandler=w_(t),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,ac,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=IU(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=KO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new JZ(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(KO(this._state)){case Gs.SUCCESS:C_(this._resolve.bind(null,this.snapshot))();break;case Gs.CANCELED:case Gs.ERROR:C_(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(KO(this._state)){case Gs.RUNNING:case Gs.PAUSED:t.next&&C_(t.next.bind(t,this.snapshot))();break;case Gs.SUCCESS:t.complete&&C_(t.complete.bind(t))();break;default:t.error&&C_(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Ap{constructor(t,e){this._service=t,this._location=e instanceof _s?e:_s.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Ap(t,e)}get root(){const t=new _s(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return PU(this._location.path)}get storage(){return this._service}get parent(){const t=function OZ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new _s(this._location.bucket,t);return new Ap(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw AU(t)}}function qU(n,t,e){return QO.apply(this,arguments)}function QO(){return(QO=(0,De.Z)(function*(n,t,e){const r=yield WU(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield qU(n,t,r.nextPageToken))})).apply(this,arguments)}function WU(n,t){null!=t&&"number"==typeof t.maxResults&&GO("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=GZ(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,ac)}function fY(n){n._throwIfRoot("getDownloadURL");const t=function zZ(n,t,e){const r=cd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new Xc(r,"GET",function $Z(n,t){return function e(i,r){const s=NU(n,r,t);return Jc(null!==s),function BZ(n,t,e,i){const r=WO(t);if(null===r||!BS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const I=n.fullPath;return cd("/b/"+c(n.bucket)+"/o/"+c(I),e,i)+kU({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=qw(t),d}(n.storage,n._location,zw());return n.storage.makeRequestWithTokens(t,ac).then(e=>{if(null===e)throw function hZ(){return new Gi("no-download-url","The given file does not have any download URLs.")}();return e})}function ZU(n,t){const e=function PZ(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new _s(n._location.bucket,e);return new Ap(n.storage,i)}function YU(n,t){if(n instanceof XO){const e=n;if(null==e._bucket)throw function uZ(){return new Gi("no-default-bucket","No default bucket found. Did you set the '"+DU+"' property when initializing the app?")}();const i=new Ap(e,e._bucket);return null!=t?YU(i,t):i}return void 0!==t?ZU(n,t):n}function _Y(n,t){if(t&&function mY(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof XO)return function gY(n,t){return new Ap(n,t)}(n,t);throw b_("To use ref(service, url), the first argument must be a Storage instance.")}return YU(n,t)}function KU(n,t){const e=t?.[DU];return null==e?null:_s.makeFromBucketSpec(e,n)}class XO{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=EU,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?_s.makeFromBucketSpec(r,this._host):KU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?_s.makeFromBucketSpec(this._url,t):KU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){GO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){GO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,De.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,De.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Ap(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new fZ(TU());{const s=function DZ(n,t,e,i,r,s){const c=kU(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function CZ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function bZ(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function wZ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(p,s),function EZ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new vZ(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,De.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const QU="@firebase/storage";function e2(n,t){return _Y(n=(0,F.m9)(n),t)}function AY(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new XO(e,i,r,t,Hs.SDK_VERSION)}!function MY(){(0,Hs._registerComponent)(new rc.wA("storage",AY,"PUBLIC").setMultipleInstances(!0)),(0,Hs.registerVersion)(QU,"0.9.9",""),(0,Hs.registerVersion)(QU,"0.9.9","esm2017")}();class GS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class t2{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new GS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new GS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new GS(c,this,this._ref)):{next:e.next?c=>e.next(new GS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class n2{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new ud(t,this._service))}get items(){return this._delegate.items.map(t=>new ud(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ud{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function SY(n,t){return ZU(n,t)}(this._delegate,t);return new ud(e,this.storage)}get root(){return new ud(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new ud(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new t2(function vY(n,t,e){return function lY(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new GU(n,new Qc(t),e)}(n=(0,F.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=na.RAW,i){this._throwIfRoot("putString");const r=qO(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new t2(new GU(this._delegate,new Qc(r.data,!0),s),this)}listAll(){return function EY(n){return function uY(n){const t={prefixes:[],items:[]};return qU(n,t).then(()=>t)}(n=(0,F.m9)(n))}(this._delegate).then(t=>new n2(t,this.storage))}list(t){return function CY(n,t){return WU(n=(0,F.m9)(n),t)}(this._delegate,t||void 0).then(e=>new n2(e,this.storage))}getMetadata(){return function bY(n){return function dY(n){n._throwIfRoot("getMetadata");const t=VU(n.storage,n._location,zw());return n.storage.makeRequestWithTokens(t,ac)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(t){return function wY(n,t){return function hY(n,t){n._throwIfRoot("updateMetadata");const e=function qZ(n,t,e,i){const s=cd(t.fullServerUrl(),n.host,n._protocol),d=ZO(e,i),_=n.maxOperationRetryTime,w=new Xc(s,"PATCH",jS(n,i),_);return w.headers={"Content-Type":"application/json; charset=utf-8"},w.body=d,w.errorHandler=qw(t),w}(n.storage,n._location,t,zw());return n.storage.makeRequestWithTokens(e,ac)}(n=(0,F.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function DY(n){return fY(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function IY(n){return function pY(n){n._throwIfRoot("deleteObject");const t=function WZ(n,t){const i=cd(t.fullServerUrl(),n.host,n._protocol),d=new Xc(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=qw(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,ac)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw AU(t)}}class r2{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(s2(t))throw b_("ref() expected a child path but got a URL, use refFromURL instead.");return new ud(e2(this._delegate,t),this)}refFromURL(t){if(!s2(t))throw b_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{_s.makeFromUrl(t,this._delegate.host)}catch{throw b_("refFromUrl() expected a valid full URL but got an invalid one.")}return new ud(e2(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function TY(n,t,e,i={}){!function yY(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,F.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function s2(n){return/^[A-Za-z]+:\/\//.test(n)}function OY(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new r2(e,i)}function o2(n){const t=function NY(n){return new Qi.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Nf(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ct.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function zS(n){return{getDownloadURL:()=>et(void 0).pipe(An.fc,Xn(()=>n.getDownloadURL()),An.iC),getMetadata:()=>et(void 0).pipe(An.fc,Xn(()=>n.getMetadata()),An.iC),delete:()=>(0,_n.D)(n.delete()),child:t=>zS(n.child(t)),updateMetadata:t=>(0,_n.D)(n.updateMetadata(t)),put:(t,e)=>o2(n.put(t,e)),putString:(t,e,i)=>o2(n.putString(t,e,i)),list:t=>(0,_n.D)(n.list(t)),listAll:()=>(0,_n.D)(n.listAll())}}!function PY(n){const t={TaskState:Gs,TaskEvent:XZ,StringFormat:na,Storage:r2,Reference:ud};n.INTERNAL.registerComponent(new rc.wA("storage-compat",OY,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(UO.Z);const FY=new a.OlP("angularfire2.storageBucket"),LY=new a.OlP("angularfire2.storage.maxUploadRetryTime"),VY=new a.OlP("angularfire2.storage.maxOperationRetryTime"),BY=new a.OlP("angularfire2.storage.use-emulator");let UY=(()=>{class n{constructor(e,i,r,s,c,d,p,_,w,I){const M=(0,Cr.on)(e,c,i);this.storage=(0,Cr.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const O=c.runOutsideAngular(()=>M.storage(r||void 0)),N=w;return N&&O.useEmulator(...N),p&&O.setMaxUploadRetryTime(p),_&&O.setMaxOperationRetryTime(_),O},[p,_])}ref(e){return zS(this.storage.ref(e))}refFromURL(e){return zS(this.storage.refFromURL(e))}upload(e,i,r){return zS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Cr.Dh),a.LFG(Cr.xv,8),a.LFG(FY,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(An.HU),a.LFG(LY,8),a.LFG(VY,8),a.LFG(BY,8),a.LFG(Hw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),HY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})(),jY=(()=>{class n{constructor(){VS.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[UY],imports:[HY]}),n})();function JO(){return(0,bi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Kn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function $Y(n,t,e,i,r){return(s,c)=>{let d=e,p=t,_=0;s.subscribe((0,Kn.x)(c,w=>{const I=_++;p=d?n(p,w,I):(d=!0,w),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function Mp(n,t){return(0,bi.e)($Y(n,t,arguments.length>=2,!0))}L(5881);var dt,GY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},dd={},eP=eP||{},Gt=GY||self;function qS(){}function tP(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Ww(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var nP="closure_uid_"+(1e9*Math.random()>>>0),qY=0;function WY(n,t,e){return n.call.apply(n.bind,arguments)}function ZY(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Kr(n,t,e){return(Kr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?WY:ZY).apply(null,arguments)}function WS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Qr(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Rh(){this.s=this.s,this.o=this.o}var KY={};Rh.prototype.s=!1,Rh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function zY(n){return Object.prototype.hasOwnProperty.call(n,nP)&&n[nP]||(n[nP]=++qY)}(this);delete KY[n]}},Rh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const a2=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},l2=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function c2(n){return Array.prototype.concat.apply([],arguments)}function iP(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function ZS(n){return/^[\s\xa0]*$/.test(n)}var qs,u2=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function zs(n,t){return-1!=n.indexOf(t)}function rP(n,t){return n<t?-1:n>t?1:0}e:{var d2=Gt.navigator;if(d2){var h2=d2.userAgent;if(h2){qs=h2;break e}}qs=""}function sP(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function f2(n){const t={};for(const e in n)t[e]=n[e];return t}var p2="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function m2(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<p2.length;s++)e=p2[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function oP(n){return oP[" "](n),n}oP[" "]=qS;var YS,n,JY=zs(qs,"Opera"),E_=zs(qs,"Trident")||zs(qs,"MSIE"),g2=zs(qs,"Edge"),aP=g2||E_,_2=zs(qs,"Gecko")&&!(zs(qs.toLowerCase(),"webkit")&&!zs(qs,"Edge"))&&!(zs(qs,"Trident")||zs(qs,"MSIE"))&&!zs(qs,"Edge"),e8=zs(qs.toLowerCase(),"webkit")&&!zs(qs,"Edge");function y2(){var n=Gt.document;return n?n.documentMode:void 0}e:{var lP="",cP=(n=qs,_2?/rv:([^\);]+)(\)|;)/.exec(n):g2?/Edge\/([\d\.]+)/.exec(n):E_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):e8?/WebKit\/(\S+)/.exec(n):JY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(cP&&(lP=cP?cP[1]:""),E_){var uP=y2();if(null!=uP&&uP>parseFloat(lP)){YS=String(uP);break e}}YS=lP}var t8={};var i8=Gt.document&&E_&&(y2()||parseInt(YS,10))||void 0,r8=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",qS,t),Gt.removeEventListener("test",qS,t)}catch{}return n}();function ys(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Zw(n,t){if(ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_2){e:{try{oP(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:s8[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Zw.Z.h.call(this)}}ys.prototype.h=function(){this.defaultPrevented=!0},Qr(Zw,ys);var s8={2:"touch",3:"pen",4:"mouse"};Zw.prototype.h=function(){Zw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Yw="closure_listenable_"+(1e6*Math.random()|0),o8=0;function a8(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++o8,this.ca=this.fa=!1}function KS(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function QS(n){this.src=n,this.g={},this.h=0}function hP(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=a2(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(KS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function fP(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}QS.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=fP(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new a8(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var pP="closure_lm_"+(1e6*Math.random()|0),mP={};function b2(n,t,e,i,r){if(i&&i.once)return C2(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)b2(n,t[s],e,i,r);return null}return e=vP(e),n&&n[Yw]?n.N(t,e,Ww(i)?!!i.capture:!!i,r):w2(n,t,e,!1,i,r)}function w2(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Ww(r)?!!r.capture:!!r,d=_P(n);if(d||(n[pP]=d=new QS(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function l8(){var t=c8;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)r8||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(D2(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function C2(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)C2(n,t[s],e,i,r);return null}return e=vP(e),n&&n[Yw]?n.O(t,e,Ww(i)?!!i.capture:!!i,r):w2(n,t,e,!0,i,r)}function E2(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)E2(n,t[s],e,i,r);else i=Ww(i)?!!i.capture:!!i,e=vP(e),n&&n[Yw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=fP(s=n.g[t],e,i,r))&&(KS(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=_P(n))&&(t=n.g[t.toString()],n=-1,t&&(n=fP(t,e,i,r)),(e=-1<n?t[n]:null)&&gP(e))}function gP(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Yw])hP(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(D2(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=_P(t))?(hP(e,n),0==e.h&&(e.src=null,t[pP]=null)):KS(n)}}}function D2(n){return n in mP?mP[n]:mP[n]="on"+n}function c8(n,t){if(n.ca)n=!0;else{t=new Zw(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&gP(n),n=e.call(i,t)}return n}function _P(n){return(n=n[pP])instanceof QS?n:null}var yP="__closure_events_fn_"+(1e9*Math.random()>>>0);function vP(n){return"function"==typeof n?n:(n[yP]||(n[yP]=function(t){return n.handleEvent(t)}),n[yP])}function Rr(){Rh.call(this),this.i=new QS(this),this.P=this,this.I=null}function Xr(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ys(t,n);else if(t instanceof ys)t.target=t.target||n;else{var r=t;m2(t=new ys(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=XS(c,i,!0,t)&&r}if(r=XS(c=t.g=n,i,!0,t)&&r,r=XS(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=XS(c=t.g=e[s],i,!1,t)&&r}function XS(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&hP(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}Qr(Rr,Rh),Rr.prototype[Yw]=!0,Rr.prototype.removeEventListener=function(n,t,e,i){E2(this,n,t,e,i)},Rr.prototype.M=function(){if(Rr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)KS(e[i]);delete n.g[t],n.h--}}this.I=null},Rr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Rr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var bP=Gt.JSON.stringify;function u8(){var n=S2;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var CP,I2=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new h8,n=>n.reset());class h8{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function f8(n){Gt.setTimeout(()=>{throw n},0)}function wP(n,t){CP||function p8(){var n=Gt.Promise.resolve(void 0);CP=function(){n.then(m8)}}(),EP||(CP(),EP=!0),S2.add(n,t)}var EP=!1,S2=new class d8{constructor(){this.h=this.g=null}add(t,e){const i=I2.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function m8(){for(var n;n=u8();){try{n.h.call(n.g)}catch(e){f8(e)}var t=I2;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}EP=!1}function JS(n,t){Rr.call(this),this.h=n||1,this.g=t||Gt,this.j=Kr(this.kb,this),this.l=Date.now()}function DP(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function IP(n,t,e){if("function"==typeof n)e&&(n=Kr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Kr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Gt.setTimeout(n,t||0)}function T2(n){n.g=IP(()=>{n.g=null,n.i&&(n.i=!1,T2(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Qr(JS,Rr),(dt=JS.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Xr(this,"tick"),this.da&&(DP(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){JS.Z.M.call(this),DP(this),delete this.g};class g8 extends Rh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:T2(this)}M(){super.M(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Kw(n){Rh.call(this),this.h=n,this.g={}}Qr(Kw,Rh);var A2=[];function M2(n,t,e,i){Array.isArray(e)||(e&&(A2[0]=e.toString()),e=A2);for(var r=0;r<e.length;r++){var s=b2(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function k2(n){sP(n.g,function(t,e){this.g.hasOwnProperty(e)&&gP(t)},n),n.g={}}function eT(){this.g=!0}function D_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function b8(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return bP(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Kw.prototype.M=function(){Kw.Z.M.call(this),k2(this)},Kw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},eT.prototype.Aa=function(){this.g=!1},eT.prototype.info=function(){};var kp={},x2=null;function tT(){return x2=x2||new Rr}function R2(n){ys.call(this,kp.Ma,n)}function Qw(n){const t=tT();Xr(t,new R2(t,n))}function O2(n,t){ys.call(this,kp.STAT_EVENT,n),this.stat=t}function Ws(n){const t=tT();Xr(t,new O2(t,n))}function P2(n,t){ys.call(this,kp.Na,n),this.size=t}function Xw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},t)}kp.Ma="serverreachability",Qr(R2,ys),kp.STAT_EVENT="statevent",Qr(O2,ys),kp.Na="timingevent",Qr(P2,ys);var nT={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},N2={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function SP(){}function L2(){}SP.prototype.h=null;var MP,Jw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function TP(){ys.call(this,"d")}function AP(){ys.call(this,"c")}function iT(){}function e0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Kw(this),this.P=w8,this.W=new JS(n=aP?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new V2}function V2(){this.i=null,this.g="",this.h=!1}Qr(TP,ys),Qr(AP,ys),Qr(iT,SP),iT.prototype.g=function(){return new XMLHttpRequest},iT.prototype.i=function(){return{}},MP=new iT;var w8=45e3,kP={},rT={};function xP(n,t,e){n.K=1,n.v=cT(hd(t)),n.s=e,n.U=!0,B2(n,null)}function B2(n,t){n.F=Date.now(),t0(n),n.A=hd(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),Z2(e.h,"t",i),n.C=0,e=n.l.H,n.h=new V2,n.g=_H(n.l,e?t:null,!n.s),0<n.O&&(n.L=new g8(Kr(n.Ia,n,n.g),n.O)),M2(n.V,n.g,"readystatechange",n.gb),t=n.H?f2(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Qw(1),function _8(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var w=_[0];_=_[1];var I=w.split("_");c=2<=I.length&&"type"==I[1]?c+(w+"=")+_+"&":c+(w+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function U2(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function H2(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=C8(n,e),r==rT){4==t&&(n.o=4,Ws(14),i=!1),D_(n.j,n.m,null,"[Incomplete Response]");break}if(r==kP){n.o=4,Ws(15),D_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}D_(n.j,n.m,r,null),RP(n,r)}U2(n)&&r!=rT&&r!=kP&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Ws(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),$P(t),t.L=!0,Ws(11))):(D_(n.j,n.m,e,"[Invalid Chunked Response]"),xp(n),n0(n))}function C8(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?rT:(e=Number(t.substring(e,i)),isNaN(e)?kP:(i+=1)+e>t.length?rT:(t=t.substr(i,e),n.C=i+e,t))}function t0(n){n.Y=Date.now()+n.P,j2(n,n.P)}function j2(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xw(Kr(n.eb,n),t)}function sT(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function n0(n){0==n.l.G||n.I||fH(n.l,n)}function xp(n){sT(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,DP(n.W),k2(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function RP(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||NP(e.i,n)))if(e.I=n.N,!n.J&&NP(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;mT(e),fT(e)}jP(e),Ws(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Xw(Kr(e.ab,e),6e3));if(1>=Q2(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else Pp(e,11)}else if((n.J||e.g==n)&&mT(e),!ZS(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const w=_[3];null!=w&&(e.ma=w,e.h.info("VER="+e.ma));const I=_[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const M=_[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const O=n.g;if(O){const N=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var s=i.i;!s.g&&(zs(N,"spdy")||zs(N,"quic")||zs(N,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(FP(s,s.h),s.h=null))}if(i.D){const z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.sa=z,wi(i.F,i.D,z))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=gH(i,i.H?i.la:null,i.W),c.J){X2(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(sT(d),t0(d)),i.g=c}else dH(i);0<e.l.length&&pT(e)}else"stop"!=_[0]&&"close"!=_[0]||Pp(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?Pp(e,7):UP(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Qw(4)}catch{}}function OP(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(tP(n)||"string"==typeof n)l2(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(tP(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function E8(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(tP(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function I_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof I_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function PP(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Rp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Rp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Rp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(dt=e0.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const t=this.L;t&&3==fd(n)?t.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const w=fd(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>w)&&(3!=w||aP||this.g&&(this.h.h||this.g.ga()||oH(this.g)))){this.I||4!=w||7==t||Qw(8==t||0>=I?3:2),sT(this);var e=this.g.ba();this.N=e;t:if(U2(this)){var i=oH(this.g);n="";var r=i.length,s=4==fd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xp(this),n0(this);var c="";break t}this.h.i=new Gt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function y8(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,w,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ZS(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,Ws(12),xp(this),n0(this);break e}D_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,RP(this,e)}this.U?(H2(this,w,c),aP&&this.i&&3==w&&(M2(this.V,this.W,"tick",this.fb),this.W.start())):(D_(this.j,this.m,c,null),RP(this,c)),4==w&&xp(this),this.i&&!this.I&&(4==w?fH(this.l,this):(this.i=!1,t0(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,Ws(12)):(this.o=0,Ws(13)),xp(this),n0(this)}}}catch{}},dt.fb=function(){if(this.g){var n=fd(this.g),t=this.g.ga();this.C<t.length&&(sT(this),H2(this,n,t),this.i&&4!=n&&t0(this))}},dt.cancel=function(){this.I=!0,xp(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function v8(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Qw(3),Ws(17)),xp(this),this.o=2,n0(this)):j2(this,this.Y-n)},(dt=I_.prototype).R=function(){PP(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},dt.T=function(){return PP(this),this.g.concat()},dt.get=function(n,t){return Rp(this.h,n)?this.h[n]:t},dt.set=function(n,t){Rp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},dt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var $2=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Op(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Op){this.g=void 0!==t?t:n.g,oT(this,n.j),this.s=n.s,aT(this,n.i),lT(this,n.m),this.l=n.l,t=n.h;var e=new o0;e.i=t.i,t.g&&(e.g=new I_(t.g),e.h=t.h),G2(this,e),this.o=n.o}else n&&(e=String(n).match($2))?(this.g=!!t,oT(this,e[1]||"",!0),this.s=r0(e[2]||""),aT(this,e[3]||"",!0),lT(this,e[4]),this.l=r0(e[5]||"",!0),G2(this,e[6]||"",!0),this.o=r0(e[7]||"")):(this.g=!!t,this.h=new o0(null,this.g))}function hd(n){return new Op(n)}function oT(n,t,e){n.j=e?r0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function aT(n,t,e){n.i=e?r0(t,!0):t}function lT(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function G2(n,t,e){t instanceof o0?(n.h=t,function R8(n,t){t&&!n.j&&(Oh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(q2(this,i),Z2(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=s0(t,k8)),n.h=new o0(t,n.g))}function wi(n,t,e){n.h.set(t,e)}function cT(n){return wi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function r0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function s0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,T8),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function T8(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Op.prototype.toString=function(){var n=[],t=this.j;t&&n.push(s0(t,z2,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(s0(t,z2,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(s0(e,"/"==e.charAt(0)?M8:A8,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",s0(e,x8)),n.join("")};var z2=/[#\/\?@]/g,A8=/[#\?:]/g,M8=/[#\?]/g,k8=/[#\?@]/g,x8=/#/g;function o0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Oh(n){n.g||(n.g=new I_,n.h=0,n.i&&function D8(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function q2(n,t){Oh(n),t=S_(n,t),Rp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Rp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&PP(n)))}function W2(n,t){return Oh(n),t=S_(n,t),Rp(n.g.h,t)}function Z2(n,t,e){q2(n,t),0<e.length&&(n.i=null,n.g.set(S_(n,t),iP(e)),n.h+=e.length)}function S_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Y2(n){this.l=n||P8,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ea&&Gt.g.Ea()&&Gt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=o0.prototype).add=function(n,t){Oh(this),this.i=null,n=S_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},dt.forEach=function(n,t){Oh(this),this.g.forEach(function(e,i){l2(e,function(r){n.call(t,r,i,this)},this)},this)},dt.T=function(){Oh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},dt.R=function(n){Oh(this);var t=[];if("string"==typeof n)W2(this,n)&&(t=c2(t,this.g.get(S_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=c2(t,n[e])}return t},dt.set=function(n,t){return Oh(this),this.i=null,W2(this,n=S_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},dt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var P8=10;function K2(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Q2(n){return n.h?1:n.g?n.g.size:0}function NP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function FP(n,t){n.g?n.g.add(t):n.h=t}function X2(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function J2(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return iP(n.i)}function LP(){}function N8(){this.g=new LP}function F8(n,t,e){const i=e||"";try{OP(n,function(r,s){let c=r;Ww(r)&&(c=bP(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function uT(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function a0(n){this.l=n.$b||null,this.j=n.ib||!1}function dT(n,t){Rr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=VP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Y2.prototype.cancel=function(){if(this.i=J2(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},LP.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},LP.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},Qr(a0,SP),a0.prototype.g=function(){return new dT(this.l,this.j)},a0.prototype.i=function(n){return function(){return n}}({}),Qr(dT,Rr);var VP=0;function eH(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function l0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,c0(n)}function c0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=dT.prototype).open=function(n,t){if(this.readyState!=VP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,c0(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Gt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,l0(this)),this.readyState=VP},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,c0(this)),this.g&&(this.readyState=3,c0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;eH(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?l0(this):c0(this),3==this.readyState&&eH(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,l0(this))},dt.Ta=function(n){this.g&&(this.response=n,l0(this))},dt.ha=function(){this.g&&l0(this)},dt.setRequestHeader=function(n,t){this.v.append(n,t)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(dT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var V8=Gt.JSON.parse;function lr(n){Rr.call(this),this.headers=new I_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tH,this.K=this.L=!1}Qr(lr,Rr);var tH="",B8=/^https?$/i,U8=["POST","PUT"];function j8(n){return"content-type"==n.toLowerCase()}function nH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,iH(n),hT(n)}function iH(n){n.D||(n.D=!0,Xr(n,"complete"),Xr(n,"error"))}function rH(n){if(n.h&&typeof eP<"u"&&(!n.C[1]||4!=fd(n)||2!=n.ba()))if(n.v&&4==fd(n))IP(n.Fa,0,n);else if(Xr(n,"readystatechange"),4==fd(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match($2)[1]||null;if(!r&&Gt.self&&Gt.self.location){var s=Gt.self.location.protocol;r=s.substr(0,s.length-1)}i=!B8.test(r?r.toLowerCase():"")}e=i}if(e)Xr(n,"complete"),Xr(n,"success");else{n.m=6;try{var c=2<fd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",iH(n)}}finally{hT(n)}}}function hT(n,t){if(n.g){sH(n);const e=n.g,i=n.C[0]?qS:null;n.g=null,n.C=null,t||Xr(n,"ready");try{e.onreadystatechange=i}catch{}}}function sH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function fd(n){return n.g?n.g.readyState:0}function oH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case tH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function BP(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function $8(n){let t="";return sP(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):wi(n,t,e))}function u0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function aH(n){this.za=0,this.l=[],this.h=new eT,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=u0("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=u0("baseRetryDelayMs",5e3,n),this.$a=u0("retryDelaySeedMs",1e4,n),this.Ya=u0("forwardChannelMaxRetries",2,n),this.ra=u0("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Y2(n&&n.concurrentRequestLimit),this.Ca=new N8,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function UP(n){if(lH(n),3==n.G){var t=n.V++,e=hd(n.F);wi(e,"SID",n.J),wi(e,"RID",t),wi(e,"TYPE","terminate"),d0(n,e),(t=new e0(n,n.h,t,void 0)).K=2,t.v=cT(hd(e)),e=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(e=Gt.navigator.sendBeacon(t.v.toString(),"")),!e&&Gt.Image&&((new Image).src=t.v,e=!0),e||(t.g=_H(t.l,null),t.g.ea(t.v)),t.F=Date.now(),t0(t)}mH(n)}function fT(n){n.g&&($P(n),n.g.cancel(),n.g=null)}function lH(n){fT(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),mT(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function HP(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&pT(n)}function pT(n){K2(n.i)||n.m||(n.m=!0,wP(n.Ha,n),n.C=0)}function cH(n,t){var e;e=t?t.m:n.V++;const i=hd(n.F);wi(i,"SID",n.J),wi(i,"RID",e),wi(i,"AID",n.U),d0(n,i),n.o&&n.s&&BP(i,n.o,n.s),e=new e0(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=uH(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),FP(n.i,e),xP(e,i,t)}function d0(n,t){n.j&&OP({},function(e,i){wi(t,i,e)})}function uH(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Kr(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const w=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{F8(w,c,"req"+_+"_")}catch{i&&i(w)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function dH(n){n.g||n.u||(n.Y=1,wP(n.Ga,n),n.A=0)}function jP(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Xw(Kr(n.Ga,n),pH(n,n.A)),n.A++,0))}function $P(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function hH(n){n.g=new e0(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=hd(n.oa);wi(t,"RID","rpc"),wi(t,"SID",n.J),wi(t,"CI",n.N?"0":"1"),wi(t,"AID",n.U),d0(n,t),wi(t,"TYPE","xmlhttp"),n.o&&n.s&&BP(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=cT(hd(t)),e.s=null,e.U=!0,B2(e,n)}function mT(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function fH(n,t){var e=null;if(n.g==t){mT(n),$P(n),n.g=null;var i=2}else{if(!NP(n.i,t))return;e=t.D,X2(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;Xr(i=tT(),new P2(i,e,t,r)),pT(n)}else dH(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function G8(n,t){return!(Q2(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Xw(Kr(n.Ha,n,t),pH(n,n.C)),n.C++,0)))}(n,t)||2==i&&jP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:Pp(n,5);break;case 4:Pp(n,10);break;case 3:Pp(n,6);break;default:Pp(n,2)}}function pH(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function Pp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Kr(n.jb,n);e||(e=new Op("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||oT(e,"https"),cT(e)),function L8(n,t){const e=new eT;if(Gt.Image){const i=new Image;i.onload=WS(uT,e,i,"TestLoadImage: loaded",!0,t),i.onerror=WS(uT,e,i,"TestLoadImage: error",!1,t),i.onabort=WS(uT,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=WS(uT,e,i,"TestLoadImage: timeout",!1,t),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Ws(2);n.G=0,n.j&&n.j.va(t),mH(n),lH(n)}function mH(n){n.G=0,n.I=-1,n.j&&((0!=J2(n.i).length||0!=n.l.length)&&(n.i.i.length=0,iP(n.l),n.l.length=0),n.j.ua())}function gH(n,t,e){let i=function I8(n){return n instanceof Op?hd(n):new Op(n,void 0)}(e);if(""!=i.i)t&&aT(i,t+"."+i.i),lT(i,i.m);else{const r=Gt.location;i=function S8(n,t,e,i){var r=new Op(null,void 0);return n&&oT(r,n),t&&aT(r,t),e&&lT(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&sP(n.aa,function(r,s){wi(i,s,r)}),e=n.sa,(t=n.D)&&e&&wi(i,t,e),wi(i,"VER",n.ma),d0(n,i),i}function _H(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new lr(e&&n.Ba&&!n.qa?new a0({ib:!0}):n.qa)).L=n.H,t}function yH(){}function gT(){if(E_&&!(10<=Number(i8)))throw Error("Environmental error: no available transport.")}function ia(n,t){Rr.call(this),this.g=new aH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!ZS(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ZS(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new T_(this)}function vH(n){TP.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function bH(){AP.call(this),this.status=1}function T_(n){this.g=n}(dt=lr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():MP.g(),this.C=function F2(n){return n.h||(n.h=n.i())}(this.u?this.u:MP),this.g.onreadystatechange=Kr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void nH(this,s)}n=e||"";const r=new I_(this.headers);i&&OP(i,function(s,c){r.set(c,s)}),i=function QY(n){e:{var t=j8;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Gt.FormData&&n instanceof Gt.FormData,!(0<=a2(U8,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sH(this),0<this.B&&((this.K=function H8(n){return E_&&function n8(){return function XY(n){var t=t8;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=u2(String(YS)).split("."),e=u2("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=rP(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||rP(0==r[2].length,0==s[2].length)||rP(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Kr(this.pa,this)):this.A=IP(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){nH(this,s)}},dt.pa=function(){typeof eP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Xr(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Xr(this,"complete"),Xr(this,"abort"),hT(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hT(this,!0)),lr.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?rH(this):this.cb())},dt.cb=function(){rH(this)},dt.ba=function(){try{return 2<fd(this)?this.g.status:-1}catch{return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),V8(t)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=aH.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new e0(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=f2(s),m2(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=uH(this,r,t),wi(e=hd(this.F),"RID",n),wi(e,"CVER",22),this.D&&wi(e,"X-HTTP-Session-Id",this.D),d0(this,e),this.o&&s&&BP(e,this.o,s),FP(this.i,r),this.Ra&&wi(e,"TYPE","init"),this.ja?(wi(e,"$req",t),wi(e,"SID","null"),r.$=!0,xP(r,e,null)):xP(r,e,t),this.G=2}}else 3==this.G&&(n?cH(this,n):0==this.l.length||K2(this.i)||cH(this))},dt.Ga=function(){if(this.u=null,hH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Xw(Kr(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ws(10),fT(this),hH(this))},dt.ab=function(){null!=this.v&&(this.v=null,fT(this),jP(this),Ws(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Ws(2)):(this.h.info("Failed to ping google.com"),Ws(1))},(dt=yH.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},gT.prototype.g=function(n,t){return new ia(n,t)},Qr(ia,Rr),ia.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),wP(Kr(n.hb,n,t))),Ws(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=gH(n,null,n.W),pT(n)},ia.prototype.close=function(){UP(this.g)},ia.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,HP(this.g,t)}else this.v?((t={}).__data__=bP(n),HP(this.g,t)):HP(this.g,n)},ia.prototype.M=function(){this.g.j=null,delete this.j,UP(this.g),delete this.g,ia.Z.M.call(this)},Qr(vH,TP),Qr(bH,AP),Qr(T_,yH),T_.prototype.xa=function(){Xr(this.g,"a")},T_.prototype.wa=function(n){Xr(this.g,new vH(n))},T_.prototype.va=function(n){Xr(this.g,new bH(n))},T_.prototype.ua=function(){Xr(this.g,"b")},gT.prototype.createWebChannel=gT.prototype.g,ia.prototype.send=ia.prototype.u,ia.prototype.open=ia.prototype.m,ia.prototype.close=ia.prototype.close,nT.NO_ERROR=0,nT.TIMEOUT=8,nT.HTTP_ERROR=6,N2.COMPLETE="complete",L2.EventType=Jw,Jw.OPEN="a",Jw.CLOSE="b",Jw.ERROR="c",Jw.MESSAGE="d",Rr.prototype.listen=Rr.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var z8=dd.createWebChannelTransport=function(){return new gT},q8=dd.getStatEventTarget=function(){return tT()},GP=dd.ErrorCode=nT,W8=dd.EventType=N2,Z8=dd.Event=kp,wH=dd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Y8=dd.FetchXmlHttpFactory=a0,_T=dd.WebChannel=L2,K8=dd.XhrIo=lr;const CH="@firebase/firestore";class Or{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let A_="9.9.4";const Ph=new sc.Yd("@firebase/firestore");function zP(){return Ph.logLevel}function $e(n,...t){if(Ph.logLevel<=sc.in.DEBUG){const e=t.map(qP);Ph.debug(`Firestore (${A_}): ${n}`,...e)}}function er(n,...t){if(Ph.logLevel<=sc.in.ERROR){const e=t.map(qP);Ph.error(`Firestore (${A_}): ${n}`,...e)}}function Np(n,...t){if(Ph.logLevel<=sc.in.WARN){const e=t.map(qP);Ph.warn(`Firestore (${A_}): ${n}`,...e)}}function qP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ft(n="Unexpected state"){const t=`FIRESTORE (${A_}) INTERNAL ASSERTION FAILED: `+n;throw er(t),new Error(t)}function Ut(n,t){n||ft()}function ot(n,t){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends F.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class EH{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class J8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Or.UNAUTHENTICATED))}shutdown(){}}class e5{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class t5{constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,De.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{$e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):($e("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?($e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new EH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new Or(t)}}class n5{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Or.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class r5{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new n5(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class s5{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&$e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,$e("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{$e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):$e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.A=e.token,new DH(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function o5(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class IH{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=o5(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function M_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function SH(n){return n+"\0"}class Ci{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ci.fromMillis(Date.now())}static fromDate(t){return Ci.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ci(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ft{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Ft(t)}static min(){return new Ft(new Ci(0,0))}static max(){return new Ft(new Ci(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class h0{constructor(t,e,i){void 0===e?e=0:e>t.length&&ft(),void 0===i?i=t.length-e:i>t.length-e&&ft(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===h0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof h0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Cn extends h0{construct(t,e,i){return new Cn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Cn(e)}static emptyPath(){return new Cn([])}}const a5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zi extends h0{construct(t,e,i){return new zi(t,e,i)}static isValidIdentifier(t){return a5.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Be(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Be(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Be(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new zi(e)}static emptyPath(){return new zi([])}}class nt{constructor(t){this.path=t}static fromPath(t){return new nt(Cn.fromString(t))}static fromName(t){return new nt(Cn.fromString(t).popFirst(5))}static empty(){return new nt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Cn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new nt(new Cn(t.slice()))}}class yT{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function WP(n){return n.fields.find(t=>2===t.kind)}function Fp(n){return n.fields.filter(t=>2!==t.kind)}yT.UNKNOWN_ID=-1;class vT{constructor(t,e){this.fieldPath=t,this.kind=e}}class f0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new f0(0,ra.min())}}function TH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Ft.fromTimestamp(1e9===i?new Ci(e+1,0):new Ci(e,i));return new ra(r,nt.empty(),t)}function AH(n){return new ra(n.readTime,n.key,-1)}class ra{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ra(Ft.min(),nt.empty(),-1)}static max(){return new ra(Ft.max(),nt.empty(),-1)}}function ZP(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=nt.comparator(n.documentKey,t.documentKey),0!==e?e:zt(n.largestBatchId,t.largestBatchId))}const MH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Nh(n){return YP.apply(this,arguments)}function YP(){return YP=(0,De.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==MH)throw n;$e("LocalStore","Unexpectedly lost primary lease")}),YP.apply(this,arguments)}class pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ft(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pe?e:pe.resolve(e)}catch(e){return pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.reject(e)}static resolve(t){return new pe((e,i)=>{e(t)})}static reject(t){return new pe((e,i)=>{i(t)})}static waitFor(t){return new pe((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=pe.resolve(!1);for(const i of t)e=e.next(r=>r?pe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new pe((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(w=>{c[_]=w,++d,d===s&&i(c)},w=>r(w))}})}static doWhile(t,e){return new pe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class bT{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Pr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new p0(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=KP(i.target.error);this.P.reject(new p0(t,r))}}static open(t,e,i,r){try{return new bT(e,t.transaction(r,i))}catch(s){throw new p0(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||($e("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new d5(e)}}class lc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===lc.D((0,F.z$)())&&er("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return $e("SimpleDb","Removing database:",t),Lp(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,F.hl)())return!1;if(lc.N())return!0;const t=(0,F.z$)(),e=lc.D(t),i=0<e&&e<10,r=lc.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,De.Z)(function*(){return e.db||($e("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new p0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Be(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Be(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new p0(t,d))},s.onupgradeneeded=c=>{$e("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{$e("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,De.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const p=bT.open(s.db,t,c?"readonly":"readwrite",i),_=r(p).next(w=>(p.V(),w)).catch(w=>(p.abort(w),pe.reject(w))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,w="FirebaseError"!==_.name&&d<3;if($e("SimpleDb","Transaction failed with error:",_.message,"Retrying:",w),s.close(),!w)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class u5{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Lp(this.U.delete())}}class p0 extends Be{constructor(t,e){super(ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Fh(n){return"IndexedDbTransactionError"===n.name}class d5{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?($e("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):($e("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Lp(i)}add(t){return $e("SimpleDb","ADD",this.store.name,t,t),Lp(this.store.add(t))}get(t){return Lp(this.store.get(t)).next(e=>(void 0===e&&(e=null),$e("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return $e("SimpleDb","DELETE",this.store.name,t),Lp(this.store.delete(t))}count(){return $e("SimpleDb","COUNT",this.store.name),Lp(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new pe((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new pe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){$e("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new pe((i,r)=>{e.onerror=s=>{const c=KP(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new pe((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new u5(d),_=e(d.primaryKey,d.value,p);if(_ instanceof pe){const w=_.catch(I=>(p.done(),pe.reject(I)));i.push(w)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>pe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Lp(n){return new pe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=KP(i.target.error);e(r)}})}let xH=!1;function KP(n){const t=lc.D((0,F.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return xH||(xH=!0,setTimeout(()=>{throw i},0)),i}}return n}class h5{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;$e("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,De.Z)(function*(){e.task=null;try{$e("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Fh(i)?$e("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Nh(i)}yield e.nt(1)}))}}class f5{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,De.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return pe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return $e("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>($e("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=AH(s);ZP(c,i)>0&&(i=c)}),new ra(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class _o{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function RH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Vp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function OH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}_o.at=-1;class qi{constructor(t,e){this.comparator=t,this.root=e||Jr.EMPTY}insert(t,e){return new qi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Jr.BLACK,null,null))}remove(t){return new qi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Jr.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wT(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wT(this.root,t,this.comparator,!1)}getReverseIterator(){return new wT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wT(this.root,t,this.comparator,!0)}}class wT{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Jr{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??Jr.RED,this.left=r??Jr.EMPTY,this.right=s??Jr.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new Jr(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Jr.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Jr.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Jr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Jr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ft();const t=this.left.check();if(t!==this.right.check())throw ft();return t+(this.isRed()?0:1)}}Jr.EMPTY=null,Jr.RED=!0,Jr.BLACK=!1,Jr.EMPTY=new class{constructor(){this.size=0}get key(){throw ft()}get value(){throw ft()}get color(){throw ft()}get left(){throw ft()}get right(){throw ft()}copy(n,t,e,i,r){return this}insert(n,t,e){return new Jr(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class jn{constructor(t){this.comparator=t,this.data=new qi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new PH(this.data.getIterator())}getIteratorFrom(t){return new PH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof jn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new jn(this.comparator);return e.data=t,e}}class PH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function k_(n){return n.hasNext()?n.getNext():void 0}class sa{constructor(t){this.fields=t,t.sort(zi.comparator)}static empty(){return new sa([])}unionWith(t){let e=new jn(zi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new sa(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return M_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Er{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Er(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Er(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const m5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lh(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=m5.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Wi(n.seconds),nanos:Wi(n.nanos)}}function Wi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Bp(n){return"string"==typeof n?Er.fromBase64String(n):Er.fromUint8Array(n)}function QP(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function NH(n){const t=n.mapValue.fields.__previous_value__;return QP(t)?NH(t):t}function m0(n){const t=Lh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ci(t.seconds,t.nanos)}class g5{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Vh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Vh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vh&&t.projectId===this.projectId&&t.database===this.database}}function g0(n){return null==n}function _0(n){return 0===n&&1/n==-1/0}function FH(n){return"number"==typeof n&&Number.isInteger(n)&&!_0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},CT={nullValue:"NULL_VALUE"};function Up(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?QP(n)?4:UH(n)?9007199254740991:10:ft()}function eu(n,t){if(n===t)return!0;const e=Up(n);if(e!==Up(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return m0(n).isEqual(m0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Lh(i.timestampValue),c=Lh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Bp(n.bytesValue).isEqual(Bp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Wi(i.geoPointValue.latitude)===Wi(r.geoPointValue.latitude)&&Wi(i.geoPointValue.longitude)===Wi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Wi(i.integerValue)===Wi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Wi(i.doubleValue),c=Wi(r.doubleValue);return s===c?_0(s)===_0(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return M_(n.arrayValue.values||[],t.arrayValue.values||[],eu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(RH(s)!==RH(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!eu(s[d],c[d])))return!1;return!0}(n,t);default:return ft()}var r}function y0(n,t){return void 0!==(n.values||[]).find(e=>eu(e,t))}function Uh(n,t){if(n===t)return 0;const e=Up(n),i=Up(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=Wi(r.integerValue||r.doubleValue),d=Wi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return LH(n.timestampValue,t.timestampValue);case 4:return LH(m0(n),m0(t));case 5:return zt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Bp(r),d=Bp(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=zt(c[p],d[p]);if(0!==_)return _}return zt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=zt(Wi(r.latitude),Wi(s.latitude));return 0!==c?c:zt(Wi(r.longitude),Wi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Uh(c[p],d[p]);if(_)return _}return zt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Bh.mapValue&&s===Bh.mapValue)return 0;if(r===Bh.mapValue)return 1;if(s===Bh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let w=0;w<d.length&&w<_.length;++w){const I=zt(d[w],_[w]);if(0!==I)return I;const M=Uh(c[d[w]],p[_[w]]);if(0!==M)return M}return zt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw ft()}}function LH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return zt(n,t);const e=Lh(n),i=Lh(t),r=zt(e.seconds,i.seconds);return 0!==r?r:zt(e.nanos,i.nanos)}function x_(n){return XP(n)}function XP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Lh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Bp(n.bytesValue).toBase64():"referenceValue"in n?nt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=XP(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${XP(i.fields[d])}`;return s+"}"}(n.mapValue):ft();var t}function Hp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function JP(n){return!!n&&"integerValue"in n}function v0(n){return!!n&&"arrayValue"in n}function VH(n){return!!n&&"nullValue"in n}function BH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ET(n){return!!n&&"mapValue"in n}function b0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Vp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=b0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=b0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function UH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function _5(n){return"nullValue"in n?CT:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Hp(Vh.empty(),nt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ft()}function y5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Hp(Vh.empty(),nt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Bh:ft()}function HH(n,t){const e=Uh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function jH(n,t){const e=Uh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class es{constructor(t){this.value=t}static empty(){return new es({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!ET(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=b0(e)}setAll(t){let e=zi.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=b0(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());ET(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return eu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];ET(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Vp(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new es(b0(this.value))}}function $H(n){const t=[];return Vp(n.fields,(e,i)=>{const r=new zi([e]);if(ET(i)){const s=$H(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new sa(t)}class si{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new si(t,0,Ft.min(),Ft.min(),es.empty(),0)}static newFoundDocument(t,e,i){return new si(t,1,e,Ft.min(),i,0)}static newNoDocument(t,e){return new si(t,2,e,Ft.min(),es.empty(),0)}static newUnknownDocument(t,e){return new si(t,3,e,Ft.min(),es.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=es.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=es.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ft.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof si&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class v5{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function GH(n,t=null,e=[],i=[],r=null,s=null,c=null){return new v5(n,t,e,i,r,s,c)}function jp(n){const t=ot(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+x_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),g0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>x_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>x_(i)).join(",")),t.ht=e}return t.ht}function w0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!A5(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!eu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YH(n.startAt,t.startAt)&&YH(n.endAt,t.endAt)}function DT(n){return nt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function IT(n,t){return n.filters.filter(e=>e instanceof ts&&e.field.isEqual(t))}function zH(n,t,e){let i=CT,r=!0;for(const s of IT(n,t)){let c=CT,d=!0;switch(s.op){case"<":case"<=":c=_5(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=CT}HH({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];HH({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function qH(n,t,e){let i=Bh,r=!0;for(const s of IT(n,t)){let c=Bh,d=!0;switch(s.op){case">=":case">":c=y5(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Bh}jH({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];jH({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class ts extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new w5(t,e,i):"array-contains"===e?new D5(t,i):"in"===e?new I5(t,i):"not-in"===e?new S5(t,i):"array-contains-any"===e?new T5(t,i):new ts(t,e,i)}static lt(t,e,i){return"in"===e?new C5(t,i):new E5(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Uh(e,this.value)):null!==e&&Up(this.value)===Up(e)&&this.ft(Uh(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ft()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class w5 extends ts{constructor(t,e,i){super(t,e,i),this.key=nt.fromName(i.referenceValue)}matches(t){const e=nt.comparator(t.key,this.key);return this.ft(e)}}class C5 extends ts{constructor(t,e){super(t,"in",e),this.keys=WH(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class E5 extends ts{constructor(t,e){super(t,"not-in",e),this.keys=WH(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function WH(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>nt.fromName(i.referenceValue))}class D5 extends ts{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return v0(e)&&y0(e.arrayValue,this.value)}}class I5 extends ts{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&y0(this.value.arrayValue,e)}}class S5 extends ts{constructor(t,e){super(t,"not-in",e)}matches(t){if(y0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!y0(this.value.arrayValue,e)}}class T5 extends ts{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!v0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>y0(this.value.arrayValue,i))}}class Hh{constructor(t,e){this.position=t,this.inclusive=e}}class R_{constructor(t,e="asc"){this.field=t,this.dir=e}}function A5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function ZH(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?nt.comparator(nt.fromName(c.referenceValue),e.key):Uh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function YH(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!eu(n.position[e],t.position[e]))return!1;return!0}class pd{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function KH(n,t,e,i,r,s,c,d){return new pd(n,t,e,i,r,s,c,d)}function O_(n){return new pd(n)}function QH(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function e1(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function t1(n){for(const t of n.filters)if(t.dt())return t.field;return null}function n1(n){return null!==n.collectionGroup}function P_(n){const t=ot(n);if(null===t._t){t._t=[];const e=t1(t),i=e1(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new R_(e)),t._t.push(new R_(zi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new R_(zi.keyField(),s))}}}return t._t}function yo(n){const t=ot(n);if(!t.wt)if("F"===t.limitType)t.wt=GH(t.path,t.collectionGroup,P_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of P_(t))e.push(new R_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Hh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hh(t.startAt.position,t.startAt.inclusive):null;t.wt=GH(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function ST(n,t,e){return new pd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function C0(n,t){return w0(yo(n),yo(t))&&n.limitType===t.limitType}function XH(n){return`${jp(yo(n))}|lt:${n.limitType}`}function r1(n){return`Query(target=${function b5(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${x_(i.value)}`;var i}).join(", ")}]`),g0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>x_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>x_(e)).join(",")),`Target(${t})`}(yo(n))}; limitType=${n.limitType})`}function s1(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):nt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=ZH(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,P_(e),i)||e.endAt&&!function(r,s,c){const d=ZH(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,P_(e),i)));var e,i}function JH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ej(n){return(t,e)=>{let i=!1;for(const r of P_(n)){const s=M5(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function M5(n,t,e){const i=n.field.isKeyField()?nt.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Uh(d,p):ft()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ft()}}function tj(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_0(t)?"-0":t}}function nj(n){return{integerValue:""+n}}function ij(n,t){return FH(t)?nj(t):tj(n,t)}class TT{constructor(){this._=void 0}}function k5(n,t,e){return n instanceof N_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof $p?sj(n,t):n instanceof Gp?oj(n,t):function(i,r){const s=rj(i,r),c=aj(s)+aj(i.yt);return JP(s)&&JP(i.yt)?nj(c):tj(i.It,c)}(n,t)}function x5(n,t,e){return n instanceof $p?sj(n,t):n instanceof Gp?oj(n,t):e}function rj(n,t){return n instanceof F_?JP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class N_ extends TT{}class $p extends TT{constructor(t){super(),this.elements=t}}function sj(n,t){const e=lj(t);for(const i of n.elements)e.some(r=>eu(r,i))||e.push(i);return{arrayValue:{values:e}}}class Gp extends TT{constructor(t){super(),this.elements=t}}function oj(n,t){let e=lj(t);for(const i of n.elements)e=e.filter(r=>!eu(r,i));return{arrayValue:{values:e}}}class F_ extends TT{constructor(t,e){super(),this.It=t,this.yt=e}}function aj(n){return Wi(n.integerValue||n.doubleValue)}function lj(n){return v0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class E0{constructor(t,e){this.field=t,this.transform=e}}class O5{constructor(t,e){this.version=t,this.transformResults=e}}class Ei{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ei}static exists(t){return new Ei(void 0,t)}static updateTime(t){return new Ei(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function AT(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class MT{}function cj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new V_(n.key,Ei.none()):new L_(n.key,n.data,Ei.none());{const e=n.data,i=es.empty();let r=new jn(zi.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new md(n.key,i,new sa(r.toArray()),Ei.none())}}function P5(n,t,e){n instanceof L_?function(i,r,s){const c=i.value.clone(),d=hj(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof md?function(i,r,s){if(!AT(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=hj(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(dj(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function D0(n,t,e,i){return n instanceof L_?function(r,s,c,d){if(!AT(r.precondition,s))return c;const p=r.value.clone(),_=fj(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof md?function(r,s,c,d){if(!AT(r.precondition,s))return c;const p=fj(r.fieldTransforms,d,s),_=s.data;return _.setAll(dj(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(w=>w.field))}(n,t,e,i):(c=e,AT(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function N5(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=rj(i.transform,r||null);null!=s&&(null===e&&(e=es.empty()),e.set(i.field,s))}return e||null}function uj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&M_(e,i,(r,s)=>function R5(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof $p&&i instanceof $p||e instanceof Gp&&i instanceof Gp?M_(e.elements,i.elements,eu):e instanceof F_&&i instanceof F_?eu(e.yt,i.yt):e instanceof N_&&i instanceof N_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class L_ extends MT{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class md extends MT{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function dj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function hj(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,x5(c,d,e[r]))}return i}function fj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,k5(s,c,t))}return i}class V_ extends MT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class o1 extends MT{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F5{constructor(t){this.count=t}}var cr,En;function pj(n){switch(n){default:return ft();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function mj(n){if(void 0===n)return er("GRPC error has no .code"),ve.UNKNOWN;switch(n){case cr.OK:return ve.OK;case cr.CANCELLED:return ve.CANCELLED;case cr.UNKNOWN:return ve.UNKNOWN;case cr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case cr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case cr.INTERNAL:return ve.INTERNAL;case cr.UNAVAILABLE:return ve.UNAVAILABLE;case cr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case cr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case cr.NOT_FOUND:return ve.NOT_FOUND;case cr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case cr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case cr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case cr.ABORTED:return ve.ABORTED;case cr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case cr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case cr.DATA_LOSS:return ve.DATA_LOSS;default:return ft()}}(En=cr||(cr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class jh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Vp(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return OH(this.inner)}size(){return this.innerSize}}const L5=new qi(nt.comparator);function vo(){return L5}const gj=new qi(nt.comparator);function I0(...n){let t=gj;for(const e of n)t=t.insert(e.key,e);return t}function _j(n){let t=gj;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function tu(){return S0()}function yj(){return S0()}function S0(){return new jh(n=>n.toString(),(n,t)=>n.isEqual(t))}const V5=new qi(nt.comparator),B5=new jn(nt.comparator);function Jt(...n){let t=B5;for(const e of n)t=t.add(e);return t}const U5=new jn(zt);function kT(){return U5}class T0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,A0.createSynthesizedTargetChangeForCurrentChange(t,e)),new T0(Ft.min(),i,kT(),vo(),Jt())}}class A0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new A0(Er.EMPTY_BYTE_STRING,e,Jt(),Jt(),Jt())}}class xT{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class vj{constructor(t,e){this.targetId=t,this.At=e}}class bj{constructor(t,e,i=Er.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class wj{constructor(){this.Rt=0,this.bt=Ej(),this.Pt=Er.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Jt(),e=Jt(),i=Jt();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ft()}}),new A0(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=Ej()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class H5{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=vo(),this.qt=Cj(),this.Kt=new jn(zt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:ft()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(DT(s))if(0===i){const c=new nt(s.path);this.jt(e,c,si.newNoDocument(c,Ft.min()))}else Ut(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&DT(d.target)){const p=new nt(d.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,si.newNoDocument(p,t))}s.Dt&&(e.set(c,s.xt()),s.Nt())}});let i=Jt();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(t));const r=new T0(t,e,this.Kt,this.Ut,i);return this.Ut=vo(),this.qt=Cj(),this.Kt=new jn(zt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new wj,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new jn(zt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||$e("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new wj),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function Cj(){return new qi(nt.comparator)}function Ej(){return new qi(nt.comparator)}const j5={asc:"ASCENDING",desc:"DESCENDING"},$5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class G5{constructor(t,e){this.databaseId=t,this.gt=e}}function M0(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Dj(n,t){return n.gt?t.toBase64():t.toUint8Array()}function z5(n,t){return M0(n,t.toTimestamp())}function Nr(n){return Ut(!!n),Ft.fromTimestamp(function(t){const e=Lh(t);return new Ci(e.seconds,e.nanos)}(n))}function a1(n,t){return(e=n,new Cn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Ij(n){const t=Cn.fromString(n);return Ut(Pj(t)),t}function k0(n,t){return a1(n.databaseId,t.path)}function nu(n,t){const e=Ij(t);if(e.get(1)!==n.databaseId.projectId)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new nt(Tj(e))}function l1(n,t){return a1(n.databaseId,t)}function Sj(n){const t=Ij(n);return 4===t.length?Cn.emptyPath():Tj(t)}function x0(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Tj(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Aj(n,t,e){return{name:k0(n,t),fields:e.value.mapValue.fields}}function Mj(n,t,e){const i=nu(n,t.name),r=Nr(t.updateTime),s=new es({mapValue:{fields:t.fields}}),c=si.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function R0(n,t){let e;if(t instanceof L_)e={update:Aj(n,t.key,t.value)};else if(t instanceof V_)e={delete:k0(n,t.key)};else if(t instanceof md)e={update:Aj(n,t.key,t.data),updateMask:eK(t.fieldMask)};else{if(!(t instanceof o1))return ft();e={verify:k0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof N_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof $p)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Gp)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof F_)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw ft()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:z5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ft()),e;var r}function c1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ei.updateTime(Nr(r.updateTime)):void 0!==r.exists?Ei.exists(r.exists):Ei.none():Ei.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Ut("REQUEST_TIME"===c.setToServerValue),d=new N_):"appendMissingElements"in c?d=new $p(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new Gp(c.removeAllFromArray.values||[]):"increment"in c?d=new F_(s,c.increment):ft();const p=zi.fromServerFormat(c.fieldPath);return new E0(p,d)}(n,r)):[];var r;if(t.update){const r=nu(n,t.update.name),s=new es({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new sa((t.updateMask.fieldPaths||[]).map(_=>zi.fromServerFormat(_)));return new md(r,s,c,e,i)}return new L_(r,s,e,i)}if(t.delete){const r=nu(n,t.delete);return new V_(r,e)}if(t.verify){const r=nu(n,t.verify);return new o1(r,e)}return ft()}function kj(n,t){return{documents:[l1(n,t.path)]}}function xj(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=l1(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=l1(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(w=>function(I){if("=="===I.op){if(BH(I.value))return{unaryFilter:{field:B_(I.field),op:"IS_NAN"}};if(VH(I.value))return{unaryFilter:{field:B_(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(BH(I.value))return{unaryFilter:{field:B_(I.field),op:"IS_NOT_NAN"}};if(VH(I.value))return{unaryFilter:{field:B_(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:B_(I.field),op:Q5(I.op),value:I.value}}}(w));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:B_((w=_).field),direction:K5(w.dir)};var w})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.gt||g0(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function Rj(n){let t=Sj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const w=e.from[0];w.allDescendants?r=w.collectionId:t=t.child(w.collectionId)}let s=[];e.where&&(s=Oj(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(w=>{return new R_(U_((I=w).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let d=null;e.limit&&(d=function(w){let I;return I="object"==typeof w?w.value:w,g0(I)?null:I}(e.limit));let p=null;var w;e.startAt&&(p=new Hh((w=e.startAt).values||[],!!w.before));let _=null;return e.endAt&&(_=function(w){return new Hh(w.values||[],!w.before)}(e.endAt)),KH(t,r,c,s,d,"F",p,_)}function Oj(n){return n?void 0!==n.unaryFilter?[J5(n)]:void 0!==n.fieldFilter?[X5(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>Oj(t)).reduce((t,e)=>t.concat(e)):ft():[]}function K5(n){return j5[n]}function Q5(n){return $5[n]}function B_(n){return{fieldPath:n.canonicalString()}}function U_(n){return zi.fromServerFormat(n.fieldPath)}function X5(n){return ts.create(U_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ft()}}(n.fieldFilter.op),n.fieldFilter.value)}function J5(n){switch(n.unaryFilter.op){case"IS_NAN":const t=U_(n.unaryFilter.field);return ts.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=U_(n.unaryFilter.field);return ts.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=U_(n.unaryFilter.field);return ts.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=U_(n.unaryFilter.field);return ts.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ft()}}function eK(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Pj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=Nj(t)),t=tK(n.get(e),t);return Nj(t)}function tK(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function Nj(n){return n+"\x01\x01"}function iu(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Cn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&ft(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:ft()}s=c+2}return new Cn(i)}const Fj=["userId","batchId"];function RT(n,t){return[n,Zs(t)]}function Lj(n,t,e){return[n,Zs(t),e]}const nK={},iK=["prefixPath","collectionGroup","readTime","documentId"],rK=["prefixPath","collectionGroup","documentId"],sK=["collectionGroup","readTime","prefixPath","documentId"],oK=["canonicalId","targetId"],aK=["targetId","path"],lK=["path","targetId"],cK=["collectionId","parent"],uK=["indexId","uid"],dK=["uid","sequenceNumber"],hK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],fK=["indexId","uid","orderedDocumentKey"],pK=["userId","collectionPath","documentId"],mK=["userId","collectionPath","largestBatchId"],gK=["userId","collectionGroup","largestBatchId"],Vj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_K=[...Vj,"documentOverlays"],Bj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Uj=Bj,yK=[...Uj,"indexConfiguration","indexState","indexEntries"];class u1 extends kH{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Fr(n,t){const e=ot(n);return lc.O(e.ie,t)}class d1{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&P5(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=D0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=D0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=yj();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=cj(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Ft.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Jt())}isEqual(t){return this.batchId===t.batchId&&M_(this.mutations,t.mutations,(e,i)=>uj(e,i))&&M_(this.baseMutations,t.baseMutations,(e,i)=>uj(e,i))}}class h1{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=V5;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new h1(t,e,i,r)}}class f1{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $h{constructor(t,e,i,r,s=Ft.min(),c=Ft.min(),d=Er.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new $h(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Hj{constructor(t){this.re=t}}function jj(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:OT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:k0(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:M0(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:zp(t.version)};else{if(!t.isUnknownDocument())return ft();i.unknownDocument={path:e.path.toArray(),version:zp(t.version)}}var r,s;return i}function OT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function zp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function qp(n){const t=new Ci(n.seconds,n.nanoseconds);return Ft.fromTimestamp(t)}function Wp(n,t){const e=(t.baseMutations||[]).map(s=>c1(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>c1(n.re,s)),r=Ci.fromMillis(t.localWriteTimeMs);return new d1(t.batchId,r,e,i)}function O0(n){const t=qp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?qp(n.lastLimboFreeSnapshotVersion):Ft.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=yo(O_(Sj(r.documents[0])))):i=yo(Rj(n.query)),new $h(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Er.fromBase64String(n.resumeToken))}function $j(n,t){const e=zp(t.snapshotVersion),i=zp(t.lastLimboFreeSnapshotVersion);let r;r=DT(t.target)?kj(n.re,t.target):xj(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:jp(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function p1(n){const t=Rj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ST(t,t.limit,"L"):t}function m1(n,t){return new f1(t.largestBatchId,c1(n.re,t.overlayMutation))}function Gj(n,t){const e=t.path.lastSegment();return[n,Zs(t.path.popLast()),e]}function zj(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:zp(i.readTime),documentKey:Zs(i.documentKey.path),largestBatchId:i.largestBatchId}}class bK{getBundleMetadata(t,e){return qj(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:qp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return qj(t).put({bundleId:(i=e).id,createTime:zp(Nr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return Wj(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:p1(r.bundledQuery),readTime:qp(r.readTime)};var r})}saveNamedQuery(t,e){return Wj(t).put({name:(i=e).name,readTime:zp(Nr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function qj(n){return Fr(n,"bundles")}function Wj(n){return Fr(n,"namedQueries")}class PT{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new PT(t,e.uid||"")}getOverlay(t,e){return P0(t).get(Gj(this.userId,e)).next(i=>i?m1(this.It,i):null)}getOverlays(t,e){const i=tu();return pe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new f1(e,c);r.push(this.ue(t,d))}),pe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Zs(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(P0(t).Y("collectionPathOverlayIndex",d))}),pe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=tu(),s=Zs(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return P0(t).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=m1(this.It,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=tu();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return P0(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,w)=>{const I=m1(this.It,_);s.size()<r||I.largestBatchId===c?(s.set(I.getKey(),I),c=I.largestBatchId):w.done()}).next(()=>s)}ue(t,e){return P0(t).put(function(i,r,s){const[c,d,p]=Gj(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:R0(i.re,s.mutation)}}(this.It,this.userId,e))}}function P0(n){return Fr(n,"documentOverlays")}class Zp{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Wi(t.integerValue));else if("doubleValue"in t){const i=Wi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),_0(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Bp(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?UH(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):ft()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),nt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function wK(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function Zj(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=wK(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Zp.Te=new Zp;class CK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=Zj(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=Zj(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class EK{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class DK{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class N0{constructor(){this.Be=new CK,this.Le=new EK(this.Be),this.Ue=new DK(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Yp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Yp(this.indexId,this.documentKey,this.arrayValue,i)}}function Kp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=Yj(n.arrayValue,t.arrayValue),0!==e?e:(e=Yj(n.directionalValue,t.directionalValue),0!==e?e:nt.comparator(n.documentKey,t.documentKey)))}function Yj(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class IK{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=WP(t);if(void 0!==e&&!this.ze(e))return!1;const i=Fp(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class SK{constructor(){this.Ye=new g1}addToCollectionParentIndex(t,e){return this.Ye.add(e),pe.resolve()}getCollectionParents(t,e){return pe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return pe.resolve()}deleteFieldIndex(t,e){return pe.resolve()}getDocumentsMatchingTarget(t,e){return pe.resolve(null)}getIndexType(t,e){return pe.resolve(0)}getFieldIndexes(t,e){return pe.resolve([])}getNextCollectionGroupToUpdate(t){return pe.resolve(null)}getMinOffset(t,e){return pe.resolve(ra.min())}getMinOffsetFromCollectionGroup(t,e){return pe.resolve(ra.min())}updateCollectionGroup(t,e,i){return pe.resolve()}updateIndexEntries(t,e){return pe.resolve()}}class g1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new jn(Cn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new jn(Cn.comparator)).toArray()}}const NT=new Uint8Array(0);class TK{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new g1,this.Ze=new jh(i=>jp(i),(i,r)=>w0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:Zs(r)};return Kj(t).put(s)}return pe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[SH(e),""],!1,!0);return Kj(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(iu(c.parent))}return i})}addFieldIndex(t,e){const i=FT(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=L0(t);return s.next(d=>{c.put(zj(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=FT(t),r=L0(t),s=F0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=F0(t);let r=!0;const s=new Map;return pe.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=Jt();const d=[];return pe.forEach(s,(p,_)=>{var w;$e("IndexedDbIndexManager",`Using index ${w=p,`id=${w.indexId}|cg=${w.collectionGroup}|f=${w.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${jp(e)}`);const I=function(Xe,Qe){const Dt=WP(Qe);if(void 0===Dt)return null;for(const At of IT(Xe,Dt.fieldPath))switch(At.op){case"array-contains-any":return At.value.arrayValue.values||[];case"array-contains":return[At.value]}return null}(_,p),M=function(Xe,Qe){const Dt=new Map;for(const At of Fp(Qe))for(const an of IT(Xe,At.fieldPath))switch(an.op){case"==":case"in":Dt.set(At.fieldPath.canonicalString(),an.value);break;case"not-in":case"!=":return Dt.set(At.fieldPath.canonicalString(),an.value),Array.from(Dt.values())}return null}(_,p),O=function(Xe,Qe){const Dt=[];let At=!0;for(const an of Fp(Qe)){const tr=0===an.kind?zH(Xe,an.fieldPath,Xe.startAt):qH(Xe,an.fieldPath,Xe.startAt);Dt.push(tr.value),At&&(At=tr.inclusive)}return new Hh(Dt,At)}(_,p),N=function(Xe,Qe){const Dt=[];let At=!0;for(const an of Fp(Qe)){const tr=0===an.kind?qH(Xe,an.fieldPath,Xe.endAt):zH(Xe,an.fieldPath,Xe.endAt);Dt.push(tr.value),At&&(At=tr.inclusive)}return new Hh(Dt,At)}(_,p),z=this.nn(p,_,O),ie=this.nn(p,_,N),Me=this.sn(p,_,M),ze=this.rn(p.indexId,I,z,O.inclusive,ie,N.inclusive,Me);return pe.forEach(ze,Xe=>i.J(Xe,e.limit).next(Qe=>{Qe.forEach(Dt=>{const At=nt.fromSegments(Dt.documentKey);c.has(At)||(c=c.add(At),d.push(At))})}))}).next(()=>d)}return pe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),w=[];for(let I=0;I<p;++I){const M=e?this.on(e[I/_]):NT,O=this.un(t,M,i[I%_],r),N=this.cn(t,M,s[I%_],c),z=d.map(ie=>this.un(t,M,ie,!0));w.push(...this.createRange(O,N,z))}return w}un(t,e,i,r){const s=new Yp(t,nt.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new Yp(t,nt.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new IK(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return pe.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new jn(zi.comparator),p=!1;for(const _ of c.filters){const w=_;w.field.isKeyField()||("array-contains"===w.op||"array-contains-any"===w.op?p=!0:d=d.add(w.field))}for(const _ of c.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new N0;for(const r of Fp(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);Zp.Te.ce(s,c)}return i.$e()}on(t){const e=new N0;return Zp.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new N0;return Zp.Te.ce(Hp(this.databaseId,e),i.qe(function(r){const s=Fp(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new N0);let s=0;for(const c of Fp(t)){const d=i[s++];for(const p of r)if(this.ln(e,c.fieldPath)&&v0(d))r=this.fn(r,c,d);else{const _=p.qe(c.kind);Zp.Te.ce(d,_)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new N0;p.seed(d.$e()),Zp.Te.ce(c,p.qe(e.kind)),s.push(p)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof ts&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=FT(t),r=L0(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return pe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,w){const I=w?new f0(w.sequenceNumber,new ra(qp(w.readTime),new nt(iu(w.documentKey)),w.largestBatchId)):f0.empty(),M=_.fields.map(([O,N])=>new vT(zi.fromServerFormat(O),N));return new yT(_.indexId,_.collectionGroup,M,I)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:zt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=FT(t),s=L0(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>pe.forEach(d,p=>s.put(zj(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return pe.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),pe.forEach(d,p=>this.wn(t,r,p).next(_=>{const w=this.mn(s,p);return _.isEqual(w)?pe.resolve():this.gn(t,s,p,_,w)}))))})}yn(t,e,i,r){return F0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return F0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=F0(t);let s=new jn(Kp);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{s=s.add(new Yp(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new jn(Kp);const r=this.an(e,t);if(null==r)return i;const s=WP(e);if(null!=s){const c=t.data.field(s.fieldPath);if(v0(c))for(const d of c.arrayValue.values||[])i=i.add(new Yp(e.indexId,t.key,this.on(d),r))}else i=i.add(new Yp(e.indexId,t.key,NT,r));return i}gn(t,e,i,r,s){$e("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,_,w,I){const M=d.getIterator(),O=p.getIterator();let N=k_(M),z=k_(O);for(;N||z;){let ie=!1,Me=!1;if(N&&z){const ze=_(N,z);ze<0?Me=!0:ze>0&&(ie=!0)}else null!=N?Me=!0:ie=!0;ie?(w(z),z=k_(O)):Me?(I(N),N=k_(M)):(N=k_(M),z=k_(O))}}(r,s,Kp,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),pe.waitFor(c)}_n(t){let e=1;return L0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Kp(c,d)).filter((c,d,p)=>!d||0!==Kp(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=Kp(c,t),p=Kp(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,NT,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,NT,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(Qj)}getMinOffset(t,e){return pe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||ft())).next(Qj)}}function Kj(n){return Fr(n,"collectionParents")}function F0(n){return Fr(n,"indexEntries")}function FT(n){return Fr(n,"indexConfiguration")}function L0(n){return Fr(n,"indexState")}function Qj(n){Ut(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;ZP(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ra(t.readTime,t.documentKey,e)}const Xj={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class bo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new bo(t,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Jj(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:c},(w,I,M)=>(d++,M.delete()));s.push(p.next(()=>{Ut(1===d)}));const _=[];for(const w of e.mutations){const I=Lj(t,w.key.path,e.batchId);s.push(r.delete(I)),_.push(w.key)}return pe.waitFor(s).next(()=>_)}function LT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ft();t=n.noDocument}return JSON.stringify(t).length}bo.DEFAULT_COLLECTION_PERCENTILE=10,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,bo.DEFAULT=new bo(41943040,bo.DEFAULT_COLLECTION_PERCENTILE,bo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),bo.DISABLED=new bo(-1,0,0);class VT{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ut(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new VT(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gh(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=H_(t),c=Gh(t);return c.add({}).next(d=>{Ut("number"==typeof d);const p=new d1(d,e,i,r),_=function(M,O,N){const z=N.baseMutations.map(Me=>R0(M.re,Me)),ie=N.mutations.map(Me=>R0(M.re,Me));return{userId:O,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:z,mutations:ie}}(this.It,this.userId,p),w=[];let I=new jn((M,O)=>zt(M.canonicalString(),O.canonicalString()));for(const M of r){const O=Lj(this.userId,M.key.path,d);I=I.add(M.key.path.popLast()),w.push(c.put(_)),w.push(s.put(O,nK))}return I.forEach(M=>{w.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),pe.waitFor(w).next(()=>p)})}lookupMutationBatch(t,e){return Gh(t).get(e).next(i=>i?(Ut(i.userId===this.userId),Wp(this.It,i)):null)}Tn(t,e){return this.In[e]?pe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return Gh(t).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(Ut(d.batchId>=i),s=Wp(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Gh(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gh(t).W("userMutationsIndex",e).next(i=>i.map(r=>Wp(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=RT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return H_(t).Z({range:r},(c,d,p)=>{const[_,w,I]=c,M=iu(w);if(_===this.userId&&e.path.isEqual(M))return Gh(t).get(I).next(O=>{if(!O)throw ft();Ut(O.userId===this.userId),s.push(Wp(this.It,O))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new jn(zt);const r=[];return e.forEach(s=>{const c=RT(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=H_(t).Z({range:d},(_,w,I)=>{const[M,O,N]=_,z=iu(O);M===this.userId&&s.path.isEqual(z)?i=i.add(N):I.done()});r.push(p)}),pe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=RT(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new jn(zt);return H_(t).Z({range:c},(p,_,w)=>{const[I,M,O]=p,N=iu(M);I===this.userId&&i.isPrefixOf(N)?N.length===r&&(d=d.add(O)):w.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(Gh(t).get(s).next(c=>{if(null===c)throw ft();Ut(c.userId===this.userId),i.push(Wp(this.It,c))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return Jj(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return H_(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=iu(s[1]);r.push(p)}else d.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return e3(t,this.userId,e)}Rn(t){return t3(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function e3(n,t,e){const i=RT(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return H_(n).Z({range:s,X:!0},(d,p,_)=>{const[w,I,M]=d;w===t&&I===r&&(c=!0),_.done()}).next(()=>c)}function Gh(n){return Fr(n,"mutations")}function H_(n){return Fr(n,"documentMutations")}function t3(n){return Fr(n,"mutationQueues")}class Qp{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Qp(0)}static vn(){return new Qp(-1)}}class AK{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Qp(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Ft.fromTimestamp(new Ci(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>j_(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return j_(t).Z((c,d)=>{const p=O0(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>pe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return j_(t).Z((i,r)=>{const s=O0(r);e(s)})}Vn(t){return n3(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}Sn(t,e){return n3(t).put("targetGlobalKey",e)}Dn(t,e){return j_(t).put($j(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=jp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return j_(t).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=O0(d);w0(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=zh(t);return e.forEach(c=>{const d=Zs(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),pe.waitFor(r)}removeMatchingKeys(t,e,i){const r=zh(t);return pe.forEach(e,s=>{const c=Zs(s.path);return pe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=zh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=zh(t);let s=Jt();return r.Z({range:i,X:!0},(c,d,p)=>{const _=iu(c[1]),w=new nt(_);s=s.add(w)}).next(()=>s)}containsKey(t,e){const i=Zs(e.path),r=IDBKeyRange.bound([i],[SH(i)],!1,!0);let s=0;return zh(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}se(t,e){return j_(t).get(e).next(i=>i?O0(i):null)}}function j_(n){return Fr(n,"targets")}function n3(n){return Fr(n,"targetGlobal")}function zh(n){return Fr(n,"targetDocuments")}function i3([n,t],[e,i]){const r=zt(n,e);return 0===r?zt(t,i):r}class MK{constructor(t){this.xn=t,this.buffer=new jn(i3),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();i3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class kK{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;$e("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,De.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Fh(i)?$e("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Nh(i)}yield e.Fn(3e5)}))}}class xK{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return pe.resolve(_o.at);const i=new MK(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Xj)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?($e("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Xj):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,c,d,p,_;const w=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?($e("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,d=Date.now(),this.removeTargets(t,i,e))).next(I=>(s=I,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(_=Date.now(),zP()<=sc.in.DEBUG&&$e("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-w}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${I} documents in `+(_-p)+`ms\nTotal Duration: ${_-w}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class RK{constructor(t,e){this.db=t,this.garbageCollector=new xK(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return BT(t,i)}removeReference(t,e,i){return BT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return BT(t,e)}Gn(t,e){return function(i,r){let s=!1;return t3(i).tt(c=>e3(i,c,r).next(d=>(d&&(s=!0),pe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const p=this.Gn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Ft.min()),zh(t).delete([0,Zs(c.path)])))});r.push(p)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return BT(t,e)}Kn(t,e){const i=zh(t);let r,s=_o.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(s!==_o.at&&e(new nt(iu(r)),s),s=_,r=p):s=_o.at}).next(()=>{s!==_o.at&&e(new nt(iu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function BT(n,t){return zh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Zs(t.path),sequenceNumber:i}));var i}class r3{constructor(){this.changes=new jh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,si.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?pe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class OK{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Xp(t).put(i)}removeEntry(t,e,i){return Xp(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],OT(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=si.newInvalidDocument(e);return Xp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(V0(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:si.newInvalidDocument(e)};return Xp(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(V0(e))},(r,s)=>{i={document:this.jn(e,s),size:LT(s)}}).next(()=>i)}getEntries(t,e){let i=vo();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=vo(),r=new qi(nt.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,LT(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return pe.resolve();let r=new jn(l3);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(V0(r.first()),V0(r.last())),c=r.getIterator();let d=c.getNext();return Xp(t).Z({index:"documentKeyIndex",range:s},(p,_,w)=>{const I=nt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&l3(d,I)<0;)i(d,null),d=c.getNext();d&&d.isEqual(I)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?w.j(V0(d)):w.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),OT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Xp(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=vo();for(const p of c){const _=this.jn(nt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=vo();const c=a3(e,i),d=a3(e,ra.max());return Xp(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,w)=>{const I=this.jn(nt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(I.key,I),s.size===r&&w.done()}).next(()=>s)}newChangeBuffer(t){return new PK(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return o3(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}Qn(t,e){return o3(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function vK(n,t){let e;if(t.document)e=Mj(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=nt.fromSegments(t.noDocument.path),r=qp(t.noDocument.readTime);e=si.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ft();{const i=nt.fromSegments(t.unknownDocument.path),r=qp(t.unknownDocument.version);e=si.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ci(i[0],i[1]);return Ft.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Ft.min()))return i}return si.newInvalidDocument(t)}}function s3(n){return new OK(n)}class PK extends r3{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new jh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new jn((s,c)=>zt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=jj(this.Yn.It,c);r=r.add(s.path.popLast()),i+=LT(p)-d.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=jj(this.Yn.It,c.convertToNoDocument(Ft.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),pe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function o3(n){return Fr(n,"remoteDocumentGlobal")}function Xp(n){return Fr(n,"remoteDocumentsV14")}function V0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function a3(n,t){const e=t.documentKey.path.toArray();return[n,OT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function l3(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=zt(e[s],i[s]),r)return r;return r=zt(e.length,i.length),r||(r=zt(e[e.length-2],i[i.length-2]),r||zt(e[e.length-1],i[i.length-1]))}class NK{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class c3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&D0(i.mutation,r,sa.empty(),Ci.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Jt()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Jt()){const r=tu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=I0();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=tu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Jt()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=vo();const c=S0(),d=S0();return e.forEach((p,_)=>{const w=i.get(_.key);r.has(_.key)&&(void 0===w||w.mutation instanceof md)?s=s.insert(_.key,_):void 0!==w&&(c.set(_.key,w.mutation.getFieldMask()),D0(w.mutation,_,w.mutation.getFieldMask(),Ci.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,w)=>c.set(_,w)),e.forEach((_,w)=>{var I;return d.set(_,new NK(w,null!==(I=c.get(_))&&void 0!==I?I:null))}),d))}recalculateAndSaveOverlays(t,e){const i=S0();let r=new qi((c,d)=>c-d),s=Jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let w=i.get(p)||sa.empty();w=d.applyToLocalView(_,w),i.set(p,w);const I=(r.get(d.batchId)||Jt()).add(p);r=r.insert(d.batchId,I)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,w=p.value,I=yj();w.forEach(M=>{if(!s.has(M)){const O=cj(e.get(M),i.get(M));null!==O&&I.set(M,O),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,I))}return pe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return nt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):n1(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):pe.resolve(tu());let d=-1,p=s;return c.next(_=>pe.forEach(_,(w,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),s.get(w)?pe.resolve():this.getBaseDocument(t,w,I).next(M=>{p=p.insert(w,M)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,Jt())).next(w=>({batchId:d,changes:_j(w)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new nt(e)).next(i=>{let r=I0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=I0();return this.indexManager.getCollectionParents(t,r).next(c=>pe.forEach(c,d=>{const p=(_=e,w=d.child(r),new pd(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,w;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((w,I)=>{s=s.insert(w,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,si.newInvalidDocument(_)))});let c=I0();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&D0(_.mutation,p,sa.empty(),Ci.now()),s1(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):pe.resolve(si.newInvalidDocument(e))}}class FK{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return pe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Nr(i.createTime)}),pe.resolve()}getNamedQuery(t,e){return pe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:p1(i.bundledQuery),readTime:Nr(i.readTime)}),pe.resolve();var i}}class LK{constructor(){this.overlays=new qi(nt.comparator),this.es=new Map}getOverlay(t,e){return pe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=tu();return pe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),pe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),pe.resolve()}getOverlaysForCollection(t,e,i){const r=tu(),s=e.length+1,c=new nt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return pe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new qi((_,w)=>_-w);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let w=s.get(_.largestBatchId);null===w&&(w=tu(),s=s.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const d=tu(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,w)=>d.set(_,w)),!(d.size()>=r)););return pe.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new f1(e,i));let s=this.es.get(e);void 0===s&&(s=Jt(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class _1{constructor(){this.ns=new jn(Lr.ss),this.rs=new jn(Lr.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Lr(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Lr(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new nt(new Cn([])),i=new Lr(e,t),r=new Lr(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new nt(new Cn([])),i=new Lr(e,t),r=new Lr(e,t+1);let s=Jt();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Lr(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Lr{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return nt.comparator(t.key,e.key)||zt(t._s,e._s)}static os(t,e){return zt(t._s,e._s)||nt.comparator(t.key,e.key)}}class VK{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new jn(Lr.ss)}checkEmpty(t){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new d1(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Lr(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(t,e){return pe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Lr(e,0),r=new Lr(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new jn(zt);return e.forEach(r=>{const s=new Lr(r,0),c=new Lr(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),pe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;nt.isDocumentKey(s)||(s=s.child(""));const c=new Lr(new nt(s),0);let d=new jn(zt);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),pe.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return pe.forEach(e.mutations,r=>{const s=new Lr(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Lr(e,0),r=this.gs.firstAfterOrEqual(i);return pe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return pe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class BK{constructor(t){this.Es=t,this.docs=new qi(nt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return pe.resolve(i?i.document.mutableCopy():si.newInvalidDocument(e))}getEntries(t,e){let i=vo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():si.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(t,e,i){let r=vo();const s=new nt(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||ZP(AH(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){ft()}As(t,e){return pe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new UK(this)}getSize(t){return pe.resolve(this.size)}}class UK extends r3{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),pe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class HK{constructor(t){this.persistence=t,this.Rs=new jh(e=>jp(e),w0),this.lastRemoteSnapshotVersion=Ft.min(),this.highestTargetId=0,this.bs=0,this.Ps=new _1,this.targetCount=0,this.vs=Qp.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),pe.resolve()}getLastRemoteSnapshotVersion(t){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),pe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Qp(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,pe.resolve()}updateTargetData(t,e){return this.Dn(e),pe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,pe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),pe.waitFor(s).next(()=>r)}getTargetCount(t){return pe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return pe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),pe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),pe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),pe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return pe.resolve(i)}containsKey(t,e){return pe.resolve(this.Ps.containsKey(e))}}class u3{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new _o(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new HK(this),this.indexManager=new SK,this.remoteDocumentCache=new BK(i=>this.referenceDelegate.xs(i)),this.It=new Hj(e),this.Ns=new FK(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new LK,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new VK(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("MemoryPersistence","Starting transaction:",t);const r=new jK(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return pe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class jK extends kH{constructor(t){super(),this.currentSequenceNumber=t}}class UT{constructor(t){this.persistence=t,this.Fs=new _1,this.$s=null}static Bs(t){return new UT(t)}get Ls(){if(this.$s)return this.$s;throw ft()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),pe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),pe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ls,i=>{const r=nt.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Ft.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return pe.or([()=>pe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class $K{constructor(t){this.It=t}$(t,e,i,r){const s=new bT("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fj,{unique:!0}),d.createObjectStore("documentMutations"),d3(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),d3(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ft.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fj,{unique:!0});const w=p.store("mutations"),I=_.map(M=>w.put(M));return pe.waitFor(I)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:pK});p.createIndex("collectionPathOverlayIndex",mK,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",gK,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:iK});p.createIndex("documentKeyIndex",rK),p.createIndex("collectionGroupIndex",sK)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:uK}).createIndex("sequenceNumberIndex",dK,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:hK}).createIndex("documentKeyIndex",fK,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=LT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>pe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>pe.forEach(d,p=>{Ut(p.userId===s.userId);const _=Wp(this.It,p);return Jj(t,s.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new Cn(c),_=[0,Zs(p)];s.push(e.get(_).next(w=>w?pe.resolve():e.put({targetId:0,path:Zs(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:cK});const i=e.store("collectionParents"),r=new g1,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:Zs(p)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Cn(c);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const w=iu(d);return s(w.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=O0(r),c=$j(this.It,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(_=c,_.document?new nt(Cn.fromString(_.document.name).popFirst(5)):_.noDocument?nt.fromSegments(_.noDocument.path):_.unknownDocument?nt.fromSegments(_.unknownDocument.path):ft()).path.toArray();var _;const w={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(w))}).next(()=>pe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=s3(this.It),s=new u3(UT.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let w=null!==(_=d.get(p.userId))&&void 0!==_?_:Jt();Wp(this.It,p).keys().forEach(I=>w=w.add(I)),d.set(p.userId,w)}),pe.forEach(d,(p,_)=>{const w=new Or(_),I=PT.oe(this.It,w),M=s.getIndexManager(w),O=VT.oe(w,this.It,M,s.referenceDelegate);return new c3(r,O,I,M).recalculateAndSaveOverlaysForDocumentKeys(new u1(e,_o.at),p).next()})})}}function d3(n){n.createObjectStore("targetDocuments",{keyPath:aK}).createIndex("documentTargetsIndex",lK,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",oK,{unique:!0}),n.createObjectStore("targetGlobal")}const y1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class v1{constructor(t,e,i,r,s,c,d,p,_,w,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=_,this.Ys=w,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!v1.C())throw new Be(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new RK(this,r),this.ii=e+"main",this.It=new Hj(p),this.ri=new lc(this.ii,this.Xs,new $K(this.It)),this.Cs=new AK(this.referenceDelegate,this.It),this.remoteDocumentCache=s3(this.It),this.Ns=new bK,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===w&&er("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,y1);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new _o(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,De.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,De.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,De.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>HT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Fh(t))return $e("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return $e("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return B0(t).get("owner").next(e=>pe.resolve(this.mi(e)))}gi(t){return HT(t).delete(this.clientId)}yi(){var t=this;return(0,De.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Fr(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return pe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?pe.resolve(!0):B0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,y1);return!1}}return!(!this.networkEnabled||!this.inForeground)||HT(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&$e("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,De.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new u1(e,_o.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>HT(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return VT.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new TK(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return PT.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){$e("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?yK:14===c?Uj:13===c?Bj:12===c?_K:11===c?Vj:void ft();var c;let d;return this.ri.runTransaction(t,r,s,p=>(d=new u1(p,this.Ss?this.Ss.next():_o.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw er(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(ve.FAILED_PRECONDITION,MH);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return B0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Be(ve.FAILED_PRECONDITION,y1)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return B0(t).put("owner",e)}static C(){return lc.C()}_i(t){const e=B0(t);return e.get("owner").next(i=>this.mi(i)?($e("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):pe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(er(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,F.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return $e("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return er("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){er("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function B0(n){return Fr(n,"owner")}function HT(n){return Fr(n,"clientMetadata")}function b1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class w1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=Jt(),r=Jt();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new w1(t,e.fromCache,i,r)}}class h3{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Mi(t,e,r,i)).next(s=>s||this.Oi(t,e))}ki(t,e){if(QH(e))return pe.resolve(null);let i=yo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=ST(e,null,"F"),i=yo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=Jt(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,c,p.readTime)?this.ki(t,ST(e,null,"F")):this.Bi(t,_,e,p)}))})))}Mi(t,e,i,r){return QH(e)||r.isEqual(Ft.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Oi(t,e):(zP()<=sc.in.DEBUG&&$e("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),r1(e)),this.Bi(t,c,e,TH(r,-1)))})}Fi(t,e){let i=new jn(ej(t));return e.forEach((r,s)=>{s1(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return zP()<=sc.in.DEBUG&&$e("QueryEngine","Using full collection scan to execute query:",r1(e)),this.Ni.getDocumentsMatchingQuery(t,e,ra.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class GK{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new qi(zt),this.qi=new jh(s=>jp(s),w0),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new c3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function f3(n,t,e,i){return new GK(n,t,e,i)}function p3(n,t){return C1.apply(this,arguments)}function C1(){return C1=(0,De.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=Jt();for(const _ of r){c.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}for(const _ of s){d.push(_.batchId);for(const w of _.mutations)p=p.add(w.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),C1.apply(this,arguments)}function zK(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const w=p.batch,I=w.keys();let M=pe.resolve();return I.forEach(O=>{M=M.next(()=>_.getEntry(d,O)).next(N=>{const z=p.docVersions.get(O);Ut(null!==z),N.version.compareTo(z)<0&&(w.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),_.addEntry(N)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,w))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=Jt();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function m3(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function qK(n,t){const e=ot(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((w,I)=>{const M=r.get(I);if(!M)return;d.push(e.Cs.removeMatchingKeys(s,w.removedDocuments,I).next(()=>e.Cs.addMatchingKeys(s,w.addedDocuments,I)));let O=M.withSequenceNumber(s.currentSequenceNumber);var N,z,ie;t.targetMismatches.has(I)?O=O.withResumeToken(Er.EMPTY_BYTE_STRING,Ft.min()).withLastLimboFreeSnapshotVersion(Ft.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),r=r.insert(I,O),z=O,ie=w,(0===(N=M).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,O))});let p=vo(),_=Jt();if(t.documentUpdates.forEach(w=>{t.resolvedLimboDocuments.has(w)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,w))}),d.push(g3(s,c,t.documentUpdates).next(w=>{p=w.Wi,_=w.zi})),!i.isEqual(Ft.min())){const w=e.Cs.getLastRemoteSnapshotVersion(s).next(I=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(w)}return pe.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.Ui=r,s))}function g3(n,t,e){let i=Jt(),r=Jt();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=vo();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Ft.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):$e("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function WK(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function $_(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,pe.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new $h(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function G_(n,t,e){return E1.apply(this,arguments)}function E1(){return E1=(0,De.Z)(function*(n,t,e){const i=ot(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Fh(c))throw c;$e("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),E1.apply(this,arguments)}function jT(n,t,e){const i=ot(n);let r=Ft.min(),s=Jt();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const w=ot(d),I=w.qi.get(_);return void 0!==I?pe.resolve(w.Ui.get(I)):w.Cs.getTargetData(p,_)}(i,c,yo(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:Ft.min(),e?s:Jt())).next(d=>(v3(i,JH(t),d),{documents:d,Hi:s})))}function _3(n,t){const e=ot(n),i=ot(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(c=>c?c.target:null))}function y3(n,t){const e=ot(n),i=e.Ki.get(t)||Ft.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,TH(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(v3(e,t,r),r))}function v3(n,t,e){let i=Ft.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function D1(){return D1=(0,De.Z)(function*(n,t,e,i){const r=ot(n);let s=Jt(),c=vo();for(const _ of e){const w=t.Ji(_.metadata.name);_.document&&(s=s.add(w));const I=t.Yi(_);I.setReadTime(t.Xi(_.metadata.readTime)),c=c.insert(w,I)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield $_(r,(_=i,yo(O_(Cn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>g3(_,d,c).next(w=>(d.apply(_),w)).next(w=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,w.Wi,w.zi)).next(()=>w.Wi)))}),D1.apply(this,arguments)}function YK(n,t){return I1.apply(this,arguments)}function I1(){return I1=(0,De.Z)(function*(n,t,e=Jt()){const i=yield $_(n,yo(p1(t.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Nr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(Er.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),I1.apply(this,arguments)}function b3(n,t){return`firestore_clients_${n}_${t}`}function w3(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function S1(n,t){return`firestore_targets_${n}_${t}`}class $T{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Be(r.error.code,r.error.message))),c?new $T(t,e,r.state,s):(er("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class U0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Be(i.error.code,i.error.message))),s?new U0(t,i.state,r):(er("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class GT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=kT();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=FH(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new GT(t,s):(er("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class T1{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new T1(e.clientId,e.onlineState):(er("SharedClientState",`Failed to parse online state: ${t}`),null)}}class A1{constructor(){this.activeTargetIds=kT()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class M1{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new qi(zt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=b3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new A1),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,De.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(b3(t.persistenceKey,r));if(s){const c=GT.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(S1(this.persistenceKey,t));if(i){const r=U0.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(S1(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return $e("SharedClientState","READ",t,e),e}setItem(t,e){$e("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){$e("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if($e("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void er("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,De.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=_o.at;if(null!=s)try{const d=JSON.parse(s);Ut("number"==typeof d),c=d}catch(d){er("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==_o.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Or(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new $T(this.currentUser,t,e,i),s=w3(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=w3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=S1(this.persistenceKey,t),s=new U0(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return GT.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return $T.Zi(new Or(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return U0.Zi(r,e)}yr(t){return T1.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,De.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);$e("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=kT();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class C3{constructor(){this.Lr=new A1,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new A1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class KK{qr(t){}shutdown(){}}class E3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){$e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){$e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const QK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class XK{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class JK extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const c=this.ao(t,e);$e("RestConnection","Sending: ",c,i);const d={};return this.ho(d,r,s),this.lo(t,c,d,i).then(p=>($e("RestConnection","Received: ",p),p),p=>{throw Np("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}fo(t,e,i,r,s,c){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+A_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){return`${this.oo}/v1/${e}:${QK[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((s,c)=>{const d=new K8;d.listenOnce(W8.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case GP.NO_ERROR:const _=d.getResponseJson();$e("Connection","XHR received:",JSON.stringify(_)),s(_);break;case GP.TIMEOUT:$e("Connection",'RPC "'+t+'" timed out'),c(new Be(ve.DEADLINE_EXCEEDED,"Request time out"));break;case GP.HTTP_ERROR:const w=d.getStatus();if($e("Connection",'RPC "'+t+'" failed with status:',w,"response text:",d.getResponseText()),w>0){const I=d.getResponseJson().error;if(I&&I.status&&I.message){const M=function(O){const N=O.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(N)>=0?N:ve.UNKNOWN}(I.status);c(new Be(M,I.message))}else c(new Be(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Be(ve.UNAVAILABLE,"Connection failed."));break;default:ft()}}finally{$e("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=z8(),c=q8(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new Y8({})),this.ho(d.initMessageHeaders,e,i),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");$e("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let w=!1,I=!1;const M=new XK({Hr:N=>{I?$e("Connection","Not sending because WebChannel is closed:",N):(w||($e("Connection","Opening WebChannel transport."),_.open(),w=!0),$e("Connection","WebChannel sending:",N),_.send(N))},Jr:()=>_.close()}),O=(N,z,ie)=>{N.listen(z,Me=>{try{ie(Me)}catch(ze){setTimeout(()=>{throw ze},0)}})};return O(_,_T.EventType.OPEN,()=>{I||$e("Connection","WebChannel transport opened.")}),O(_,_T.EventType.CLOSE,()=>{I||(I=!0,$e("Connection","WebChannel transport closed"),M.io())}),O(_,_T.EventType.ERROR,N=>{I||(I=!0,Np("Connection","WebChannel transport errored:",N),M.io(new Be(ve.UNAVAILABLE,"The operation could not be completed")))}),O(_,_T.EventType.MESSAGE,N=>{var z;if(!I){const ie=N.data[0];Ut(!!ie);const Me=ie,ze=Me.error||(null===(z=Me[0])||void 0===z?void 0:z.error);if(ze){$e("Connection","WebChannel received error:",ze);const Xe=ze.status;let Qe=function(At){const an=cr[At];if(void 0!==an)return mj(an)}(Xe),Dt=ze.message;void 0===Qe&&(Qe=ve.INTERNAL,Dt="Unknown error status: "+Xe+" with message "+ze.message),I=!0,M.io(new Be(Qe,Dt)),_.close()}else $e("Connection","WebChannel received:",ie),M.ro(ie)}}),O(c,Z8.STAT_EVENT,N=>{N.stat===wH.PROXY?$e("Connection","Detected buffering proxy"):N.stat===wH.NOPROXY&&$e("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function D3(){return typeof window<"u"?window:null}function zT(){return typeof document<"u"?document:null}function H0(n){return new G5(n,!0)}class k1{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&$e("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class I3{constructor(t,e,i,r,s,c,d,p){this.Hs=t,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new k1(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,De.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,De.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,De.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ve.RESOURCE_EXHAUSTED?(er(e.toString()),er("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Be(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,De.Z)(function*(){t.state=0,t.start()}))}Qo(t){return $e("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():($e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e7 extends I3{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function W5(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:ft(),r=t.targetChange.targetIds||[],s=function(p,_){return p.gt?(Ut(void 0===_||"string"==typeof _),Er.fromBase64String(_||"")):(Ut(void 0===_||_ instanceof Uint8Array),Er.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?ve.UNKNOWN:mj(p.code);return new Be(_,p.message||"")}(c);e=new bj(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=nu(n,i.document.name),s=Nr(i.document.updateTime),c=new es({mapValue:{fields:i.document.fields}}),d=si.newFoundDocument(r,s,c);e=new xT(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=nu(n,i.document),s=i.readTime?Nr(i.readTime):Ft.min(),c=si.newNoDocument(r,s);e=new xT([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=nu(n,i.document);e=new xT([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ft();{const i=t.filter,s=new F5(i.count||0);e=new vj(i.targetId,s)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Ft.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Ft.min():s.readTime?Nr(s.readTime):Ft.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=x0(this.It),e.addTarget=function(r,s){let c;const d=s.target;return c=DT(d)?{documents:kj(r,d)}:{query:xj(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=Dj(r,s.resumeToken):s.snapshotVersion.compareTo(Ft.min())>0&&(c.readTime=M0(r,s.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function Y5(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ft()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=x0(this.It),e.removeTarget=t,this.Bo(e)}}class t7 extends I3{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function Z5(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let s=Nr(i.updateTime?i.updateTime:r);return s.isEqual(Ft.min())&&(s=Nr(r)),new O5(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Nr(t.commitTime);return this.listener.Zo(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=x0(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>R0(this.It,i))};this.Bo(e)}}class n7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Be(ve.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.Vo.fo(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(ve.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class i7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(er(e),this.ou=!1):$e("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class r7{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,De.Z)(function*(){var p;qh(c)&&($e("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,De.Z)(function*(_){const w=ot(_);w._u.add(4),yield z_(w),w.gu.set("Unknown"),w._u.delete(4),yield j0(w)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new i7(i,r)}}function j0(n){return x1.apply(this,arguments)}function x1(){return x1=(0,De.Z)(function*(n){if(qh(n))for(const t of n.wu)yield t(!0)}),x1.apply(this,arguments)}function z_(n){return R1.apply(this,arguments)}function R1(){return R1=(0,De.Z)(function*(n){for(const t of n.wu)yield t(!1)}),R1.apply(this,arguments)}function qT(n,t){const e=ot(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),N1(e)?P1(e):W_(e).ko()&&O1(e,t))}function $0(n,t){const e=ot(n),i=W_(e);e.du.delete(t),i.ko()&&S3(e,t),0===e.du.size&&(i.ko()?i.Fo():qh(e)&&e.gu.set("Unknown"))}function O1(n,t){n.yu.Ot(t.targetId),W_(n).zo(t)}function S3(n,t){n.yu.Ot(t),W_(n).Ho(t)}function P1(n){n.yu=new H5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),W_(n).start(),n.gu.uu()}function N1(n){return qh(n)&&!W_(n).No()&&n.du.size>0}function qh(n){return 0===ot(n)._u.size}function T3(n){n.yu=void 0}function s7(n){return F1.apply(this,arguments)}function F1(){return F1=(0,De.Z)(function*(n){n.du.forEach((t,e)=>{O1(n,t)})}),F1.apply(this,arguments)}function o7(n,t){return L1.apply(this,arguments)}function L1(){return L1=(0,De.Z)(function*(n,t){T3(n),N1(n)?(n.gu.hu(t),P1(n)):n.gu.set("Unknown")}),L1.apply(this,arguments)}function a7(n,t,e){return V1.apply(this,arguments)}function V1(){return V1=(0,De.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof bj&&2===t.state&&t.cause)try{yield(i=(0,De.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){$e("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield WT(n,i)}else if(t instanceof xT?n.yu.Gt(t):t instanceof vj?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Ft.min()))try{const i=yield m3(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(Er.EMPTY_BYTE_STRING,p.snapshotVersion)),S3(r,d);const _=new $h(p.target,d,1,p.sequenceNumber);O1(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){$e("RemoteStore","Failed to raise snapshot:",i),yield WT(n,i)}var i}),V1.apply(this,arguments)}function WT(n,t,e){return B1.apply(this,arguments)}function B1(){return B1=(0,De.Z)(function*(n,t,e){if(!Fh(t))throw t;n._u.add(1),yield z_(n),n.gu.set("Offline"),e||(e=()=>m3(n.localStore)),n.asyncQueue.enqueueRetryable((0,De.Z)(function*(){$e("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield j0(n)}))}),B1.apply(this,arguments)}function A3(n,t){return t().catch(e=>WT(n,e,t))}function q_(n){return U1.apply(this,arguments)}function U1(){return U1=(0,De.Z)(function*(n){const t=ot(n),e=Wh(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;l7(t);)try{const r=yield WK(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,c7(t,r)}catch(r){yield WT(t,r)}M3(t)&&k3(t)}),U1.apply(this,arguments)}function l7(n){return qh(n)&&n.fu.length<10}function c7(n,t){n.fu.push(t);const e=Wh(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function M3(n){return qh(n)&&!Wh(n).No()&&n.fu.length>0}function k3(n){Wh(n).start()}function u7(n){return H1.apply(this,arguments)}function H1(){return H1=(0,De.Z)(function*(n){Wh(n).eu()}),H1.apply(this,arguments)}function d7(n){return j1.apply(this,arguments)}function j1(){return j1=(0,De.Z)(function*(n){const t=Wh(n);for(const e of n.fu)t.Xo(e.mutations)}),j1.apply(this,arguments)}function h7(n,t,e){return $1.apply(this,arguments)}function $1(){return $1=(0,De.Z)(function*(n,t,e){const i=n.fu.shift(),r=h1.from(i,t,e);yield A3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield q_(n)}),$1.apply(this,arguments)}function f7(n,t){return G1.apply(this,arguments)}function G1(){return G1=(0,De.Z)(function*(n,t){var e;t&&Wh(n).Yo&&(yield(e=(0,De.Z)(function*(i,r){if(pj(s=r.code)&&s!==ve.ABORTED){const c=i.fu.shift();Wh(i).Oo(),yield A3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield q_(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),M3(n)&&k3(n)}),G1.apply(this,arguments)}function x3(n,t){return z1.apply(this,arguments)}function z1(){return z1=(0,De.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),$e("RemoteStore","RemoteStore received new credentials");const i=qh(e);e._u.add(3),yield z_(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield j0(e)}),z1.apply(this,arguments)}function q1(n,t){return W1.apply(this,arguments)}function W1(){return W1=(0,De.Z)(function*(n,t){const e=ot(n);t?(e._u.delete(2),yield j0(e)):t||(e._u.add(2),yield z_(e),e.gu.set("Unknown"))}),W1.apply(this,arguments)}function W_(n){return n.pu||(n.pu=function(t,e,i){const r=ot(t);return r.su(),new e7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:s7.bind(null,n),Zr:o7.bind(null,n),Wo:a7.bind(null,n)}),n.wu.push(function(){var t=(0,De.Z)(function*(e){e?(n.pu.Oo(),N1(n)?P1(n):n.gu.set("Unknown")):(yield n.pu.stop(),T3(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Wh(n){return n.Iu||(n.Iu=function(t,e,i){const r=ot(t);return r.su(),new t7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:u7.bind(null,n),Zr:f7.bind(null,n),tu:d7.bind(null,n),Zo:h7.bind(null,n)}),n.wu.push(function(){var t=(0,De.Z)(function*(e){e?(n.Iu.Oo(),yield q_(n)):(yield n.Iu.stop(),n.fu.length>0&&($e("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class Z1{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new Z1(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Z_(n,t){if(er("AsyncQueue",`${t}: ${n}`),Fh(n))return new Be(ve.UNAVAILABLE,`${t}: ${n}`);throw n}class Y_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||nt.comparator(e.key,i.key):(e,i)=>nt.comparator(e.key,i.key),this.keyedMap=I0(),this.sortedSet=new qi(this.comparator)}static emptySet(t){return new Y_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Y_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Y_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class R3{constructor(){this.Tu=new qi(nt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):ft():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class K_{constructor(t,e,i,r,s,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new K_(t,e,Y_.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&C0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class p7{constructor(){this.Au=void 0,this.listeners=[]}}class m7{constructor(){this.queries=new jh(t=>XH(t),C0),this.onlineState="Unknown",this.Ru=new Set}}function Y1(n,t){return K1.apply(this,arguments)}function K1(){return K1=(0,De.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new p7),r)try{s.Au=yield e.onListen(i)}catch(c){const d=Z_(c,`Initialization of query '${r1(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&J1(e)}),K1.apply(this,arguments)}function Q1(n,t){return X1.apply(this,arguments)}function X1(){return X1=(0,De.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),X1.apply(this,arguments)}function g7(n,t){const e=ot(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&J1(e)}function _7(n,t,e){const i=ot(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function J1(n){n.Ru.forEach(t=>{t.next()})}class eN{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new K_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=K_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class y7{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class O3{constructor(t){this.It=t}Ji(t){return nu(this.It,t)}Yi(t){return t.metadata.exists?Mj(this.It,t.document,!1):si.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Nr(t)}}class v7{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=P3(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Cn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new O3(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||Jt()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,De.Z)(function*(){const e=yield function ZK(n,t,e,i){return D1.apply(this,arguments)}(t.localStore,new O3(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield YK(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function P3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class N3{constructor(t){this.key=t}}class F3{constructor(t){this.key=t}}class L3{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=Jt(),this.mutatedKeys=Jt(),this.Ku=ej(t),this.Gu=new Y_(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new R3,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((w,I)=>{const M=r.get(w),O=s1(this.query,I)?I:null,N=!!M&&this.mutatedKeys.has(M.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ie=!1;M&&O?M.data.isEqual(O.data)?N!==z&&(i.track({type:3,doc:O}),ie=!0):this.zu(M,O)||(i.track({type:2,doc:O}),ie=!0,(p&&this.Ku(O,p)>0||_&&this.Ku(O,_)<0)&&(d=!0)):!M&&O?(i.track({type:0,doc:O}),ie=!0):M&&!O&&(i.track({type:1,doc:M}),ie=!0,(p||_)&&(d=!0)),ie&&(O?(c=c.add(O),s=z?s.add(w):s.delete(w)):(c=c.delete(w),s=s.delete(w)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const w="F"===this.query.limitType?c.last():c.first();c=c.delete(w.key),s=s.delete(w.key),i.track({type:1,doc:w})}return{Gu:c,Wu:i,$i:d,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((_,w)=>function(I,M){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ft()}};return O(I)-O(M)}(_.type,w.type)||this.Ku(_.doc,w.doc)),this.Hu(i);const c=e?this.Ju():[],d=0===this.qu.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==s.length||p?{snapshot:new K_(this.query,t.Gu,r,s,t.mutatedKeys,0===d,p,!1),Yu:c}:{Yu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new R3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=Jt(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new F3(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new N3(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=Jt();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return K_.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class b7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class w7{constructor(t){this.key=t,this.ec=!1}}class C7{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new jh(d=>XH(d),C0),this.ic=new Map,this.rc=new Set,this.oc=new qi(nt.comparator),this.uc=new Map,this.cc=new _1,this.ac={},this.hc=new Map,this.lc=Qp.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function E7(n,t){return tN.apply(this,arguments)}function tN(){return tN=(0,De.Z)(function*(n,t){const e=DN(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const c=yield $_(e.localStore,yo(t));e.isPrimaryClient&&qT(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield nN(e,t,i,"current"===d)}return r}),tN.apply(this,arguments)}function nN(n,t,e,i){return iN.apply(this,arguments)}function iN(){return iN=(0,De.Z)(function*(n,t,e,i){n.dc=(w,I,M)=>{return(O=(0,De.Z)(function*(N,z,ie,Me){let ze=z.view.ju(ie);ze.$i&&(ze=yield jT(N.localStore,z.query,!1).then(({documents:Dt})=>z.view.ju(Dt,ze)));const Xe=Me&&Me.targetChanges.get(z.targetId),Qe=z.view.applyChanges(ze,N.isPrimaryClient,Xe);return fN(N,z.targetId,Qe.Yu),Qe.snapshot}),function(N,z,ie,Me){return O.apply(this,arguments)})(n,w,I,M);var O};const r=yield jT(n.localStore,t,!0),s=new L3(t,r.Hi),c=s.ju(r.documents),d=A0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);fN(n,e,p.Yu);const _=new b7(t,e,s);return n.sc.set(t,_),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),p.snapshot}),iN.apply(this,arguments)}function D7(n,t){return rN.apply(this,arguments)}function rN(){return rN=(0,De.Z)(function*(n,t){const e=ot(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!C0(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield G_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),$0(e.remoteStore,i.targetId),Q_(e,i.targetId)}).catch(Nh))):(Q_(e,i.targetId),yield G_(e.localStore,i.targetId,!0))}),rN.apply(this,arguments)}function sN(){return sN=(0,De.Z)(function*(n,t,e){const i=IN(n);try{const r=yield function(s,c){const d=ot(s),p=Ci.now(),_=c.reduce((M,O)=>M.add(O.key),Jt());let w,I;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=vo(),N=Jt();return d.Gi.getEntries(M,_).next(z=>{O=z,O.forEach((ie,Me)=>{Me.isValidDocument()||(N=N.add(ie))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,O)).next(z=>{w=z;const ie=[];for(const Me of c){const ze=N5(Me,w.get(Me.key).overlayedDocument);null!=ze&&ie.push(new md(Me.key,ze,$H(ze.value.mapValue),Ei.exists(!0)))}return d.mutationQueue.addMutationBatch(M,p,ie,c)}).next(z=>{I=z;const ie=z.applyToLocalDocumentSet(w,N);return d.documentOverlayCache.saveOverlays(M,z.batchId,ie)})}).then(()=>({batchId:I.batchId,changes:_j(w)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.ac[s.currentUser.toKey()];p||(p=new qi(zt)),p=p.insert(c,d),s.ac[s.currentUser.toKey()]=p}(i,r.batchId,e),yield gd(i,r.changes),yield q_(i.remoteStore)}catch(r){const s=Z_(r,"Failed to persist write");e.reject(s)}}),sN.apply(this,arguments)}function V3(n,t){return oN.apply(this,arguments)}function oN(){return oN=(0,De.Z)(function*(n,t){const e=ot(n);try{const i=yield qK(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.uc.get(s);c&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?Ut(c.ec):r.removedDocuments.size>0&&(Ut(c.ec),c.ec=!1))}),yield gd(e,i,t)}catch(i){yield Nh(i)}}),oN.apply(this,arguments)}function B3(n,t,e){const i=ot(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=ot(s);d.onlineState=c;let p=!1;d.queries.forEach((_,w)=>{for(const I of w.listeners)I.bu(c)&&(p=!0)}),p&&J1(d)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function S7(n,t,e){return aN.apply(this,arguments)}function aN(){return aN=(0,De.Z)(function*(n,t,e){const i=ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let c=new qi(nt.comparator);c=c.insert(s,si.newNoDocument(s,Ft.min()));const d=Jt().add(s),p=new T0(Ft.min(),new Map,new jn(zt),c,d);yield V3(i,p),i.oc=i.oc.remove(s),i.uc.delete(t),pN(i)}else yield G_(i.localStore,t,!1).then(()=>Q_(i,t,e)).catch(Nh)}),aN.apply(this,arguments)}function T7(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,De.Z)(function*(n,t){const e=ot(n),i=t.batch.batchId;try{const r=yield zK(e.localStore,t);hN(e,i,null),dN(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield gd(e,r)}catch(r){yield Nh(r)}}),lN.apply(this,arguments)}function A7(n,t,e){return cN.apply(this,arguments)}function cN(){return cN=(0,De.Z)(function*(n,t,e){const i=ot(n);try{const r=yield function(s,c){const d=ot(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(w=>(Ut(null!==w),_=w.keys(),d.mutationQueue.removeMutationBatch(p,w))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);hN(i,t,e),dN(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield gd(i,r)}catch(r){yield Nh(r)}}),cN.apply(this,arguments)}function uN(){return uN=(0,De.Z)(function*(n,t){const e=ot(n);qh(e.remoteStore)||$e("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=ot(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=Z_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),uN.apply(this,arguments)}function dN(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function hN(n,t,e){const i=ot(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function Q_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||U3(n,i)})}function U3(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&($0(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),pN(n))}function fN(n,t,e){for(const i of e)i instanceof N3?(n.cc.addReference(i.key,t),k7(n,i)):i instanceof F3?($e("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||U3(n,i.key)):ft()}function k7(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||($e("SyncEngine","New document in limbo: "+e),n.rc.add(i),pN(n))}function pN(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new nt(Cn.fromString(t)),i=n.lc.next();n.uc.set(i,new w7(e)),n.oc=n.oc.insert(e,i),qT(n.remoteStore,new $h(yo(O_(e.path)),i,2,_o.at))}}function gd(n,t,e){return mN.apply(this,arguments)}function mN(){return mN=(0,De.Z)(function*(n,t,e){const i=ot(n),r=[],s=[],c=[];var d;i.sc.isEmpty()||(i.sc.forEach((d,p)=>{c.push(i.dc(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const w=w1.Ci(p.targetId,_);s.push(w)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(d=(0,De.Z)(function*(p,_){const w=ot(p);try{yield w.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>pe.forEach(_,M=>pe.forEach(M.Si,O=>w.persistence.referenceDelegate.addReference(I,M.targetId,O)).next(()=>pe.forEach(M.Di,O=>w.persistence.referenceDelegate.removeReference(I,M.targetId,O)))))}catch(I){if(!Fh(I))throw I;$e("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const M=I.targetId;if(!I.fromCache){const O=w.Ui.get(M),z=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);w.Ui=w.Ui.insert(M,z)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),mN.apply(this,arguments)}function x7(n,t){return gN.apply(this,arguments)}function gN(){return gN=(0,De.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){$e("SyncEngine","User change. New user:",t.toKey());const i=yield p3(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(c=>{c.forEach(d=>{d.reject(new Be(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield gd(e,i.ji)}var r}),gN.apply(this,arguments)}function R7(n,t){const e=ot(n),i=e.uc.get(t);if(i&&i.ec)return Jt().add(i.key);{let r=Jt();const s=e.ic.get(t);if(!s)return r;for(const c of s){const d=e.sc.get(c);r=r.unionWith(d.view.Qu)}return r}}function O7(n,t){return _N.apply(this,arguments)}function _N(){return _N=(0,De.Z)(function*(n,t){const e=ot(n),i=yield jT(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&fN(e,t.targetId,r.Yu),r}),_N.apply(this,arguments)}function P7(n,t){return yN.apply(this,arguments)}function yN(){return yN=(0,De.Z)(function*(n,t){const e=ot(n);return y3(e.localStore,t).then(i=>gd(e,i))}),yN.apply(this,arguments)}function N7(n,t,e,i){return vN.apply(this,arguments)}function vN(){return vN=(0,De.Z)(function*(n,t,e,i){const r=ot(n),s=yield function(c,d){const p=ot(c),_=ot(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",w=>_.Tn(w,d).next(I=>I?p.localDocuments.getDocuments(w,I):pe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield q_(r.remoteStore):"acknowledged"===e||"rejected"===e?(hN(r,t,i||null),dN(r,t),d=t,ot(ot(r.localStore).mutationQueue).An(d)):ft(),yield gd(r,s)):$e("SyncEngine","Cannot apply mutation batch with id: "+t)}),vN.apply(this,arguments)}function bN(){return bN=(0,De.Z)(function*(n,t){const e=ot(n);if(DN(e),IN(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield H3(e,i.toArray());e.fc=!0,yield q1(e.remoteStore,!0);for(const s of r)qT(e.remoteStore,s)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Q_(e,c),G_(e.localStore,c,!0))),$0(e.remoteStore,c)}),yield r,yield H3(e,i),function(s){const c=ot(s);c.uc.forEach((d,p)=>{$0(c.remoteStore,p)}),c.cc.fs(),c.uc=new Map,c.oc=new qi(nt.comparator)}(e),e.fc=!1,yield q1(e.remoteStore,!1)}}),bN.apply(this,arguments)}function H3(n,t,e){return wN.apply(this,arguments)}function wN(){return wN=(0,De.Z)(function*(n,t,e){const i=ot(n),r=[],s=[];for(const c of t){let d;const p=i.ic.get(c);if(p&&0!==p.length){d=yield $_(i.localStore,yo(p[0]));for(const _ of p){const w=i.sc.get(_),I=yield O7(i,w);I.snapshot&&s.push(I.snapshot)}}else{const _=yield _3(i.localStore,c);d=yield $_(i.localStore,_),yield nN(i,j3(_),c,!1)}r.push(d)}return i.nc.Wo(s),r}),wN.apply(this,arguments)}function j3(n){return KH(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function L7(n){const t=ot(n);return ot(ot(t.localStore).persistence).vi()}function V7(n,t,e,i){return CN.apply(this,arguments)}function CN(){return CN=(0,De.Z)(function*(n,t,e,i){const r=ot(n);if(r.fc)return void $e("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield y3(r.localStore,JH(s[0])),d=T0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield gd(r,c,d);break}case"rejected":yield G_(r.localStore,t,!0),Q_(r,t,i);break;default:ft()}}),CN.apply(this,arguments)}function B7(n,t,e){return EN.apply(this,arguments)}function EN(){return EN=(0,De.Z)(function*(n,t,e){const i=DN(n);if(i.fc){for(const r of t){if(i.ic.has(r)){$e("SyncEngine","Adding an already active target "+r);continue}const s=yield _3(i.localStore,r),c=yield $_(i.localStore,s);yield nN(i,j3(s),c.targetId,!1),qT(i.remoteStore,c)}for(const r of e)i.ic.has(r)&&(yield G_(i.localStore,r,!1).then(()=>{$0(i.remoteStore,r),Q_(i,r)}).catch(Nh))}}),EN.apply(this,arguments)}function DN(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=V3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=R7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=S7.bind(null,t),t.nc.Wo=g7.bind(null,t.eventManager),t.nc._c=_7.bind(null,t.eventManager),t}function IN(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=A7.bind(null,t),t}class $3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,De.Z)(function*(){e.It=H0(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return f3(this.persistence,new h3,t.initialUser,this.It)}gc(t){return new u3(UT.Bs,this.It)}mc(t){return new C3}terminate(){var t=this;return(0,De.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class G3 extends $3{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield IN(i.Ec.syncEngine),yield q_(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return f3(this.persistence,new h3,t.initialUser,this.It)}Ic(t,e){return new kK(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new f5(e,this.persistence);return new h5(t.asyncQueue,i)}gc(t){const e=b1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?bo.withCacheSize(this.cacheSizeBytes):bo.DEFAULT;return new v1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,D3(),zT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new C3}}class H7 extends G3{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,De.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof M1&&(i.sharedClientState.syncEngine={Fr:N7.bind(null,r),$r:V7.bind(null,r),Br:B7.bind(null,r),vi:L7.bind(null,r),Or:P7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,De.Z)(function*(c){yield function F7(n,t){return bN.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}mc(t){const e=D3();if(!M1.C(e))throw new Be(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=b1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new M1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class SN{initialize(t,e){var i=this;return(0,De.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>B3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=x7.bind(null,i.syncEngine),yield q1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new m7}createDatastore(t){const e=H0(t.databaseInfo.databaseId),i=new JK(t.databaseInfo);return new n7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>B3(this.syncEngine,d,0),c=E3.C()?new E3:new KK,new r7(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,_){const w=new C7(i,r,s,c,d,p);return _&&(w.fc=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,De.Z)(function*(e){const i=ot(e);$e("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield z_(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function z3(n,t=10240){let e=0;return{read:()=>(0,De.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,De.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class ZT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):er("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class j7{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Pr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,De.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,De.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,De.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const s=yield t.Dc(r);return new y7(JSON.parse(s),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,De.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,De.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,De.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class $7{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,De.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Be(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,De.Z)(function*(s,c){const d=ot(s),p=x0(d.It)+"/documents",_={documents:c.map(O=>k0(d.It,O))},w=yield d.fo("BatchGetDocuments",p,_,c.length),I=new Map;w.forEach(O=>{const N=function q5(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=nu(e,i.found.name),s=Nr(i.found.updateTime),c=new es({mapValue:{fields:i.found.fields}});return si.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=nu(e,i.missing),s=Nr(i.readTime);return si.newNoDocument(r,s)}(n,t):ft()}(d.It,O);I.set(N.key.toString(),N)});const M=[];return c.forEach(O=>{const N=I.get(O.toString());Ut(!!N),M.push(N)}),M}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new V_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,De.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=nt.fromPath(r);t.mutations.push(new o1(s,t.precondition(s)))}),yield(i=(0,De.Z)(function*(r,s){const c=ot(r),d=x0(c.It)+"/documents",p={writes:s.map(_=>R0(c.It,_))};yield c.co("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ft();e=Ft.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Be(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Ft.min())?Ei.exists(!1):Ei.updateTime(e):Ei.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Ft.min()))throw new Be(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ei.updateTime(e)}return Ei.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class G7{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Nc=i.maxAttempts,this.xo=new k1(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,De.Z)(function*(){const e=new $7(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Oc(s)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!g0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!pj(e)}return!1}}class z7{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Or.UNAUTHENTICATED,this.clientId=IH.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,De.Z)(function*(d){$e("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>($e("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,De.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Z_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function q3(n,t){return TN.apply(this,arguments)}function TN(){return TN=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),$e("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,De.Z)(function*(s){i.isEqual(s)||(yield p3(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),TN.apply(this,arguments)}function W3(n,t){return AN.apply(this,arguments)}function AN(){return AN=(0,De.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield MN(n);$e("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>x3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>x3(t.remoteStore,s)),n.onlineComponents=t}),AN.apply(this,arguments)}function MN(n){return kN.apply(this,arguments)}function kN(){return kN=(0,De.Z)(function*(n){return n.offlineComponents||($e("FirestoreClient","Using default OfflineComponentProvider"),yield q3(n,new $3)),n.offlineComponents}),kN.apply(this,arguments)}function YT(n){return xN.apply(this,arguments)}function xN(){return xN=(0,De.Z)(function*(n){return n.onlineComponents||($e("FirestoreClient","Using default OnlineComponentProvider"),yield W3(n,new SN)),n.onlineComponents}),xN.apply(this,arguments)}function Z3(n){return MN(n).then(t=>t.persistence)}function KT(n){return MN(n).then(t=>t.localStore)}function Y3(n){return YT(n).then(t=>t.remoteStore)}function RN(n){return YT(n).then(t=>t.syncEngine)}function X_(n){return ON.apply(this,arguments)}function ON(){return ON=(0,De.Z)(function*(n){const t=yield YT(n),e=t.eventManager;return e.onListen=E7.bind(null,t.syncEngine),e.onUnlisten=D7.bind(null,t.syncEngine),e}),ON.apply(this,arguments)}function K3(n,t,e={}){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,s,c,d,p){const _=new ZT({next:I=>{s.enqueueAndForget(()=>Q1(r,w));const M=I.docs.has(c);!M&&I.fromCache?p.reject(new Be(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&d&&"server"===d.source?p.reject(new Be(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),w=new eN(O_(c.path),_,{includeMetadataChanges:!0,Nu:!0});return Y1(r,w)}(yield X_(n),n.asyncQueue,t,e,i)})),i.promise}function Q3(n,t,e={}){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function(r,s,c,d,p){const _=new ZT({next:I=>{s.enqueueAndForget(()=>Q1(r,w)),I.fromCache&&"server"===d.source?p.reject(new Be(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),w=new eN(c,_,{includeMetadataChanges:!0,Nu:!0});return Y1(r,w)}(yield X_(n),n.asyncQueue,t,e,i)})),i.promise}const X3=new Map;function PN(n,t,e){if(!e)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function J3(n,t,e,i){if(!0===t&&!0===i)throw new Be(ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function e$(n){if(!nt.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t$(n){if(nt.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ft()}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Be(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=QT(n);throw new Be(ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function n$(n,t){if(t<=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class i${constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Be(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Be(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,J3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class G0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i$(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new J8;switch(e.type){case"gapi":return new r5(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Be(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=X3.get(t);e&&($e("ComponentProvider","Removing Datastore"),X3.delete(t),e.terminate())}(this),Promise.resolve()}}class yi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ru(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yi(this.firestore,t,this._key)}}class vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class ru extends vs{constructor(t,e,i){super(t,e,O_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yi(this.firestore,null,new nt(t))}withConverter(t){return new ru(this.firestore,t,this._path)}}function r$(n,t,...e){if(n=(0,F.m9)(n),PN("collection","path",t),n instanceof G0){const i=Cn.fromString(t,...e);return t$(i),new ru(n,null,i)}{if(!(n instanceof yi||n instanceof ru))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(t,...e));return t$(i),new ru(n.firestore,null,i)}}function XT(n,t,...e){if(n=(0,F.m9)(n),1===arguments.length&&(t=IH.R()),PN("doc","path",t),n instanceof G0){const i=Cn.fromString(t,...e);return e$(i),new yi(n,null,new nt(i))}{if(!(n instanceof yi||n instanceof ru))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(t,...e));return e$(i),new yi(n.firestore,n instanceof ru?n.converter:null,new nt(i))}}function s$(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),(n instanceof yi||n instanceof ru)&&(t instanceof yi||t instanceof ru)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function o$(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),n instanceof vs&&t instanceof vs&&n.firestore===t.firestore&&C0(n._query,t._query)&&n.converter===t.converter}class n9{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new k1(this,"async_queue_retry"),this.jc=()=>{const e=zT();e&&$e("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=zT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=zT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Pr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,De.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!Fh(e))throw e;$e("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,er("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=Z1.createAndSchedule(this,t,e,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&ft()}verifyOperationInProgress(){}Yc(){var t=this;return(0,De.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function NN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class i9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Di extends G0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new n9,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||a$(this),this._firestoreClient.terminate()}}function ur(n){return n._firestoreClient||a$(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function a$(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new g5(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new z7(n._authCredentials,n._appCheckCredentials,n._queue,i)}function l$(n,t,e){const i=new Pr;return n.asyncQueue.enqueue((0,De.Z)(function*(){try{yield q3(n,e),yield W3(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===ve.FAILED_PRECONDITION||c.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;Np("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function c$(n){if(n._initialized||n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class _d{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Be(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class su{constructor(t){this._byteString=t}static fromBase64String(t){try{return new su(Er.fromBase64String(t))}catch(e){throw new Be(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new su(Er.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jp{constructor(t){this._methodName=t}}class JT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Be(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Be(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}const f9=/^__.*__$/;class p9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new md(t,this.data,this.fieldMask,e,this.fieldTransforms):new L_(t,this.data,e,this.fieldTransforms)}}class u${constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new md(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function d$(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ft()}}class eA{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new eA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return iA(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(d$(this.na)&&f9.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class m9{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||H0(t)}fa(t,e,i,r=!1){return new eA({na:t,methodName:e,la:i,path:zi.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function em(n){const t=n._freezeSettings(),e=H0(n._databaseId);return new m9(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tA(n,t,e,i,r,s={}){const c=n.fa(s.merge||s.mergeFields?2:0,t,e,r);BN("Data must be an object, but it was:",c,i);const d=p$(i,c);let p,_;if(s.merge)p=new sa(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const w=[];for(const I of s.mergeFields){const M=UN(t,I,e);if(!c.contains(M))throw new Be(ve.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);g$(w,M)||w.push(M)}p=new sa(w),_=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=c.fieldTransforms;return new p9(new es(d),p,_)}class z0 extends Jp{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof z0}}function h$(n,t,e){return new eA({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class FN extends Jp{_toFieldTransform(t){return new E0(t.path,new N_)}isEqual(t){return t instanceof FN}}class g9 extends Jp{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=h$(this,t,!0),i=this.da.map(s=>tm(s,e)),r=new $p(i);return new E0(t.path,r)}isEqual(t){return this===t}}class _9 extends Jp{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=h$(this,t,!0),i=this.da.map(s=>tm(s,e)),r=new Gp(i);return new E0(t.path,r)}isEqual(t){return this===t}}class y9 extends Jp{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new F_(t.It,ij(t.It,this._a));return new E0(t.path,e)}isEqual(t){return this===t}}function LN(n,t,e,i){const r=n.fa(1,t,e);BN("Data must be an object, but it was:",r,i);const s=[],c=es.empty();Vp(i,(p,_)=>{const w=nA(t,p,e);_=(0,F.m9)(_);const I=r.ua(w);if(_ instanceof z0)s.push(w);else{const M=tm(_,I);null!=M&&(s.push(w),c.set(w,M))}});const d=new sa(s);return new u$(c,d,r.fieldTransforms)}function VN(n,t,e,i,r,s){const c=n.fa(1,t,e),d=[UN(t,i,e)],p=[r];if(s.length%2!=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)d.push(UN(t,s[M])),p.push(s[M+1]);const _=[],w=es.empty();for(let M=d.length-1;M>=0;--M)if(!g$(_,d[M])){const O=d[M];let N=p[M];N=(0,F.m9)(N);const z=c.ua(O);if(N instanceof z0)_.push(O);else{const ie=tm(N,z);null!=ie&&(_.push(O),w.set(O,ie))}}const I=new sa(_);return new u$(w,I,c.fieldTransforms)}function f$(n,t,e,i=!1){return tm(e,n.fa(i?4:3,t))}function tm(n,t){if(m$(n=(0,F.m9)(n)))return BN("Unsupported field value:",t,n),p$(n,t);if(n instanceof Jp)return function(e,i){if(!d$(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=tm(c,i.ca(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ij(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ci.fromDate(e);return{timestampValue:M0(i.It,r)}}if(e instanceof Ci){const r=new Ci(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:M0(i.It,r)}}if(e instanceof JT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof su)return{bytesValue:Dj(i.It,e._byteString)};if(e instanceof yi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:a1(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${QT(e)}`)}(n,t)}function p$(n,t){const e={};return OH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Vp(n,(i,r)=>{const s=tm(r,t.ia(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function m$(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ci||n instanceof JT||n instanceof su||n instanceof yi||n instanceof Jp)}function BN(n,t,e){if(!m$(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=QT(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function UN(n,t,e){if((t=(0,F.m9)(t))instanceof _d)return t._internalPath;if("string"==typeof t)return nA(n,t);throw iA("Field path arguments must be of type string or ",n,!1,void 0,e)}const v9=new RegExp("[~\\*/\\[\\]]");function nA(n,t,e){if(t.search(v9)>=0)throw iA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new _d(...t.split("."))._internalPath}catch{throw iA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function iA(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Be(ve.INVALID_ARGUMENT,d+n+p)}function g$(n,t){return n.some(e=>e.isEqual(t))}class q0{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new b9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(rA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class b9 extends q0{data(){return super.data()}}function rA(n,t){return"string"==typeof t?nA(n,t):t instanceof _d?t._internalPath:t._delegate._internalPath}class nm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class yd extends q0{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new W0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(rA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class W0 extends yd{data(t={}){return super.data(t)}}class Zh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new nm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new W0(this._firestore,this._userDataWriter,i.key,i,new nm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Be(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new W0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new nm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new W0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new nm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:w9(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function w9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ft()}}function _$(n,t){return n instanceof yd&&t instanceof yd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Zh&&t instanceof Zh&&n._firestore===t._firestore&&o$(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function y$(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Z0{}function Yh(n,...t){for(const e of t)n=e._apply(n);return n}class C9 extends Z0{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=em(t.firestore),i=function(r,s,c,d,p,_,w){let I;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){D$(w,_);const O=[];for(const N of w)O.push(E$(d,r,N));I={arrayValue:{values:O}}}else I=E$(d,r,w)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||D$(w,_),I=f$(c,"where",w,"in"===_||"not-in"===_);const M=ts.create(p,_,I);return function(O,N){if(N.dt()){const ie=t1(O);if(null!==ie&&!ie.isEqual(N.field))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${N.field.toString()}'`);const Me=e1(O);null!==Me&&I$(0,N.field,Me)}const z=function(ie,Me){for(const ze of ie.filters)if(Me.indexOf(ze.op)>=0)return ze.op;return null}(O,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(null!==z)throw new Be(ve.INVALID_ARGUMENT,z===N.op?`Invalid query. You cannot use more than one '${N.op.toString()}' filter.`:`Invalid query. You cannot use '${N.op.toString()}' filters with '${z.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new vs(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new pd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class D9 extends Z0{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new R_(r,s);return function(d,p){if(null===e1(d)){const _=t1(d);null!==_&&I$(0,_,p.field)}}(i,c),c}(t._query,this.wa,this.ya);return new vs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new pd(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class v$ extends Z0{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new vs(t.firestore,t.converter,ST(t._query,this.pa,this.Ia))}}class b$ extends Z0{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=C$(t,this.type,this.Ta,this.Ea);return new vs(t.firestore,t.converter,(r=e,new pd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class w$ extends Z0{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=C$(t,this.type,this.Ta,this.Ea);return new vs(t.firestore,t.converter,(r=e,new pd((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function C$(n,t,e,i){if(e[0]=(0,F.m9)(e[0]),e[0]instanceof q0)return function(r,s,c,d,p){if(!d)throw new Be(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const w of P_(r))if(w.field.isKeyField())_.push(Hp(s,d.key));else{const I=d.data.field(w.field);if(QP(I))throw new Be(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+w.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=w.field.canonicalString();throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(I)}return new Hh(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=em(n.firestore);return function(s,c,d,p,_,w){const I=s.explicitOrderBy;if(_.length>I.length)throw new Be(ve.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let O=0;O<_.length;O++){const N=_[O];if(I[O].field.isKeyField()){if("string"!=typeof N)throw new Be(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof N}`);if(!n1(s)&&-1!==N.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${N}' contains a slash.`);const z=s.path.child(Cn.fromString(N));if(!nt.isDocumentKey(z))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const ie=new nt(z);M.push(Hp(c,ie))}else{const z=f$(d,p,N);M.push(z)}}return new Hh(M,w)}(n._query,n.firestore._databaseId,r,t,e,i)}}function E$(n,t,e){if("string"==typeof(e=(0,F.m9)(e))){if(""===e)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!n1(t)&&-1!==e.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Cn.fromString(e));if(!nt.isDocumentKey(i))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Hp(n,new nt(i))}if(e instanceof yi)return Hp(n,e._key);throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QT(e)}.`)}function D$(n,t){if(!Array.isArray(n)||0===n.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function I$(n,t,e){if(!e.isEqual(t))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const R9={maxAttempts:5};class HN{convertValue(t,e="none"){switch(Up(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Wi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Bp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ft()}}convertObject(t,e){const i={};return Vp(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new JT(Wi(t.latitude),Wi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=NH(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(m0(t));default:return null}}convertTimestamp(t){const e=Lh(t);return new Ci(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Cn.fromString(t);Ut(Pj(i));const r=new Vh(i.get(1),i.get(3)),s=new nt(i.popFirst(5));return r.isEqual(e)||er(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function sA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class O9 extends HN{constructor(t){super(),this.firestore=t}convertBytes(t){return new su(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}class S${constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=em(t)}set(t,e,i){this._verifyNotCommitted();const r=Kh(t,this._firestore),s=sA(r.converter,e,i),c=tA(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ei.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Kh(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof _d?VN(this._dataReader,"WriteBatch.update",s._key,e,i,r):LN(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Ei.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Kh(t,this._firestore);return this._mutations=this._mutations.concat(new V_(e._key,Ei.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Kh(n,t){if((n=(0,F.m9)(n)).firestore!==t)throw new Be(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class im extends HN{constructor(t){super(),this.firestore=t}convertBytes(t){return new su(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}function T$(n,t,e){n=vn(n,yi);const i=vn(n.firestore,Di),r=sA(n.converter,t,e);return J_(i,[tA(em(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ei.none())])}function A$(n,t,e,...i){n=vn(n,yi);const r=vn(n.firestore,Di),s=em(r);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof _d?VN(s,"updateDoc",n._key,t,e,i):LN(s,"updateDoc",n._key,t),J_(r,[c.toMutation(n._key,Ei.exists(!0))])}function M$(n,...t){var e,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||NN(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(NN(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,_,w;if(n instanceof yi)_=vn(n.firestore,Di),w=O_(n._key.path),p={next:I=>{t[c]&&t[c](jN(_,n,I))},error:t[c+1],complete:t[c+2]};else{const I=vn(n,vs);_=vn(I.firestore,Di),w=I._query;const M=new im(_);p={next:O=>{t[c]&&t[c](new Zh(_,M,I,O))},error:t[c+1],complete:t[c+2]},y$(n._query)}return function(I,M,O,N){const z=new ZT(N),ie=new eN(M,z,O);return I.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return Y1(yield X_(I),ie)})),()=>{z.Rc(),I.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return Q1(yield X_(I),ie)}))}}(ur(_),w,d,p)}function J_(n,t){return function(e,i){const r=new Pr;return e.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function I7(n,t,e){return sN.apply(this,arguments)}(yield RN(e),i,r)})),r.promise}(ur(n),t)}function jN(n,t,e){const i=e.docs.get(t._key),r=new im(n);return new yd(n,r,t._key,i,new nm(e.hasPendingWrites,e.fromCache),t.converter)}class $9 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=em(t)}get(t){const e=Kh(t,this._firestore),i=new O9(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ft();const s=r[0];if(s.isFoundDocument())return new q0(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new q0(this._firestore,i,e._key,null,e.converter);throw ft()})}set(t,e,i){const r=Kh(t,this._firestore),s=sA(r.converter,e,i),c=tA(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=Kh(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof _d?VN(this._dataReader,"Transaction.update",s._key,e,i,r):LN(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=Kh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Kh(t,this._firestore),i=new im(this._firestore);return super.get(t).then(r=>new yd(this._firestore,i,e._key,r._document,new nm(!1,!1),e.converter))}}function $N(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function x$(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function R$(){if(!function p5(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){A_=Hs.SDK_VERSION,(0,Hs._registerComponent)(new rc.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new Di(new t5(e.getProvider("auth-internal")),new s5(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Be(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Hs.registerVersion)(CH,"3.4.15",n),(0,Hs.registerVersion)(CH,"3.4.15","esm2017")}();class Y0{constructor(t){this._delegate=t}static fromBase64String(t){return R$(),new Y0(su.fromBase64String(t))}static fromUint8Array(t){return x$(),new Y0(su.fromUint8Array(t))}toBase64(){return R$(),this._delegate.toBase64()}toUint8Array(){return x$(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function GN(n){return function X9(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class J9{enableIndexedDbPersistence(t,e){return function s9(n,t){c$(n=vn(n,Di));const e=ur(n),i=n._freezeSettings(),r=new SN;return l$(e,r,new G3(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function o9(n){c$(n=vn(n,Di));const t=ur(n),e=n._freezeSettings(),i=new SN;return l$(t,i,new H7(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function a9(n){if(n._initialized&&!n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,De.Z)(function*(){try{yield(e=(0,De.Z)(function*(i){if(!lc.C())return Promise.resolve();const r=i+"main";yield lc.delete(r)}),function(i){return e.apply(this,arguments)})(b1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class O${constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Np("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function e9(n,t,e,i={}){var r;const s=(n=vn(n,G0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&Np("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Or.MOCK_USER;else{c=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Be(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Or(p)}n._authCredentials=new e5(new EH(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function c9(n){return function q7(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield Z3(n),e=yield Y3(n);return t.setNetworkEnabled(!0),function(i){const r=ot(i);return r._u.delete(0),j0(r)}(e)}))}(ur(n=vn(n,Di)))}(this._delegate)}disableNetwork(){return function u9(n){return function W7(n){return n.asyncQueue.enqueue((0,De.Z)(function*(){const t=yield Z3(n),e=yield Y3(n);return t.setNetworkEnabled(!1),(i=(0,De.Z)(function*(r){const s=ot(r);s._u.add(0),yield z_(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(ur(n=vn(n,Di)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,J3("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function l9(n){return function(t){const e=new Pr;return t.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return function M7(n,t){return uN.apply(this,arguments)}(yield RN(t),e)})),e.promise}(ur(n=vn(n,Di)))}(this._delegate)}onSnapshotsInSync(t){return function j9(n,t){return function K7(n,t){const e=new ZT(t);return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield X_(n),r=e,ot(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return i=yield X_(n),r=e,void ot(i).Ru.delete(r);var i,r}))}}(ur(n=vn(n,Di)),NN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new ey(this,r$(this._delegate,t))}catch(e){throw Ys(e,"collection()","Firestore.collection()")}}doc(t){try{return new nl(this,XT(this._delegate,t))}catch(e){throw Ys(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ks(this,function t9(n,t){if(n=vn(n,G0),PN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(e=t,new pd(Cn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Ys(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function G9(n,t,e){n=vn(n,Di);const i=Object.assign(Object.assign({},R9),e);return function(r){if(r.maxAttempts<1)throw new Be(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function Q7(n,t,e){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){const r=yield(s=n,YT(s).then(c=>c.datastore));var s;new G7(n.asyncQueue,r,e,t,i).run()})),i.promise}(ur(n),r=>t(new $9(n,r)),i)}(this._delegate,e=>t(new P$(this,e)))}batch(){return ur(this._delegate),new N$(new S$(this._delegate,t=>J_(this._delegate,t)))}loadBundle(t){return function d9(n,t){const e=ur(n=vn(n,Di)),i=new i9;return function X7(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return z3(p,_);if(p instanceof ArrayBuffer)return z3(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new j7(p,c);var p}(e,H0(t));n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){!function U7(n,t,e){const i=ot(n);var r;(r=(0,De.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(M,O){const N=ot(M),z=Nr(O.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",ie=>N.Ns.getBundleMetadata(ie,O.id)).then(ie=>!!ie&&ie.createTime.compareTo(z)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(P3(p));const _=new v7(p,s.localStore,c.It);let w=yield c.wc();for(;w;){const M=yield _.Ou(w);M&&d._updateProgress(M),w=yield c.wc()}const I=yield _.complete();return yield gd(s,I.Bu,void 0),yield function(M,O){const N=ot(M);return N.persistence.runTransaction("Save bundle","readwrite",z=>N.Ns.saveBundleMetadata(z,O))}(s.localStore,p),d._completeWith(I.progress),Promise.resolve(I.$u)}catch(p){return Np("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield RN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function h9(n,t){return function J7(n,t){return n.asyncQueue.enqueue((0,De.Z)(function*(){return function(e,i){const r=ot(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield KT(n),t)}))}(ur(n=vn(n,Di)),t).then(e=>e?new vs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ks(this,e):null)}}class oA extends HN{constructor(t){super(),this.firestore=t}convertBytes(t){return new Y0(new su(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return nl.forKey(e,this.firestore,null)}}class P${constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new oA(t)}get(t){const e=sm(t);return this._delegate.get(e).then(i=>new K0(this._firestore,new yd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=sm(t);return i?($N("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=sm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=sm(t);return this._delegate.delete(e),this}}class N${constructor(t){this._delegate=t}set(t,e,i){const r=sm(t);return i?($N("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=sm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=sm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class rm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new W0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Q0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=rm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new rm(t,new oA(t),e),r.set(e,s)),s}}rm.INSTANCES=new WeakMap;class nl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new nl(e,new yi(e._delegate,i,new nt(t)))}static forKey(t,e,i){return new nl(e,new yi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new ey(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new ey(this.firestore,r$(this._delegate,t))}catch(e){throw Ys(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,F.m9)(t))instanceof yi&&s$(this._delegate,t)}set(t,e){e=$N("DocumentReference.set",e);try{return e?T$(this._delegate,t,e):T$(this._delegate,t)}catch(i){throw Ys(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?A$(this._delegate,t):A$(this._delegate,t,e,...i)}catch(r){throw Ys(r,"updateDoc()","DocumentReference.update()")}}delete(){return function U9(n){return J_(vn(n.firestore,Di),[new V_(n._key,Ei.none())])}(this._delegate)}onSnapshot(...t){const e=F$(t),i=L$(t,r=>new K0(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return M$(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function N9(n){n=vn(n,yi);const t=vn(n.firestore,Di),e=ur(t),i=new im(t);return function Z7(n,t){const e=new Pr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,s,c){try{const d=yield function(p,_){const w=ot(p);return w.persistence.runTransaction("read document","readonly",I=>w.localDocuments.getDocument(I,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Be(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=Z_(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield KT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new yd(t,i,n._key,r,new nm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function F9(n){n=vn(n,yi);const t=vn(n.firestore,Di);return K3(ur(t),n._key,{source:"server"}).then(e=>jN(t,n,e))}(this._delegate):function P9(n){n=vn(n,yi);const t=vn(n.firestore,Di);return K3(ur(t),n._key).then(e=>jN(t,n,e))}(this._delegate),e.then(i=>new K0(this.firestore,new yd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new nl(this.firestore,this._delegate.withConverter(t?rm.getInstance(this.firestore,t):null))}}function Ys(n,t,e){return n.message=n.message.replace(t,e),n}function F$(n){for(const t of n)if("object"==typeof t&&!GN(t))return t;return{}}function L$(n,t){var e,i;let r;return r=GN(n[0])?n[0]:GN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class K0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new nl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return _$(this._delegate,t._delegate)}}class Q0 extends K0{data(t){const e=this._delegate.data(t);return function X8(n,t){n||ft()}(void 0!==e),e}}class Ks{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new oA(t)}where(t,e,i){try{return new Ks(this.firestore,Yh(this._delegate,function E9(n,t,e){const i=t,r=rA("where",n);return new C9(r,i,e)}(t,e,i)))}catch(r){throw Ys(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ks(this.firestore,Yh(this._delegate,function I9(n,t="asc"){const e=t,i=rA("orderBy",n);return new D9(i,e)}(t,e)))}catch(i){throw Ys(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ks(this.firestore,Yh(this._delegate,function S9(n){return n$("limit",n),new v$("limit",n,"F")}(t)))}catch(e){throw Ys(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ks(this.firestore,Yh(this._delegate,function T9(n){return n$("limitToLast",n),new v$("limitToLast",n,"L")}(t)))}catch(e){throw Ys(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ks(this.firestore,Yh(this._delegate,function A9(...n){return new b$("startAt",n,!0)}(...t)))}catch(e){throw Ys(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ks(this.firestore,Yh(this._delegate,function M9(...n){return new b$("startAfter",n,!1)}(...t)))}catch(e){throw Ys(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ks(this.firestore,Yh(this._delegate,function k9(...n){return new w$("endBefore",n,!1)}(...t)))}catch(e){throw Ys(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ks(this.firestore,Yh(this._delegate,function x9(...n){return new w$("endAt",n,!0)}(...t)))}catch(e){throw Ys(e,"endAt()","Query.endAt()")}}isEqual(t){return o$(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function V9(n){n=vn(n,vs);const t=vn(n.firestore,Di),e=ur(t),i=new im(t);return function Y7(n,t){const e=new Pr;return n.asyncQueue.enqueueAndForget((0,De.Z)(function*(){return(i=(0,De.Z)(function*(r,s,c){try{const d=yield jT(r,s,!0),p=new L3(s,d.Hi),_=p.ju(d.documents),w=p.applyChanges(_,!1);c.resolve(w.snapshot)}catch(d){const p=Z_(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield KT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Zh(t,i,n,r))}(this._delegate):"server"===t?.source?function B9(n){n=vn(n,vs);const t=vn(n.firestore,Di),e=ur(t),i=new im(t);return Q3(e,n._query,{source:"server"}).then(r=>new Zh(t,i,n,r))}(this._delegate):function L9(n){n=vn(n,vs);const t=vn(n.firestore,Di),e=ur(t),i=new im(t);return y$(n._query),Q3(e,n._query).then(r=>new Zh(t,i,n,r))}(this._delegate),e.then(i=>new zN(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=F$(t),i=L$(t,r=>new zN(this.firestore,new Zh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return M$(this._delegate,e,i)}withConverter(t){return new Ks(this.firestore,this._delegate.withConverter(t?rm.getInstance(this.firestore,t):null))}}class tQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Q0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class zN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ks(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Q0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new tQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Q0(this._firestore,i))})}isEqual(t){return _$(this._delegate,t._delegate)}}class ey extends Ks{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new nl(this.firestore,t):null}doc(t){try{return new nl(this.firestore,void 0===t?XT(this._delegate):XT(this._delegate,t))}catch(e){throw Ys(e,"doc()","CollectionReference.doc()")}}add(t){return function H9(n,t){const e=vn(n.firestore,Di),i=XT(n),r=sA(n.converter,t);return J_(e,[tA(em(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ei.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new nl(this.firestore,e))}isEqual(t){return s$(this._delegate,t._delegate)}withConverter(t){return new ey(this.firestore,this._delegate.withConverter(t?rm.getInstance(this.firestore,t):null))}}function sm(n){return vn(n,yi)}class qN{constructor(...t){this._delegate=new _d(...t)}static documentId(){return new qN(zi.keyField().canonicalString())}isEqual(t){return(t=(0,F.m9)(t))instanceof _d&&this._delegate._internalPath.isEqual(t._internalPath)}}class om{constructor(t){this._delegate=t}static serverTimestamp(){const t=function q9(){return new FN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new om(t)}static delete(){const t=function z9(){return new z0("deleteField")}();return t._methodName="FieldValue.delete",new om(t)}static arrayUnion(...t){const e=function W9(...n){return new g9("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new om(e)}static arrayRemove(...t){const e=function Z9(...n){return new _9("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new om(e)}static increment(t){const e=function Y9(n){return new y9("increment",n)}(t);return e._methodName="FieldValue.increment",new om(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const nQ={Firestore:O$,GeoPoint:JT,Timestamp:Ci,Blob:Y0,Transaction:P$,WriteBatch:N$,DocumentReference:nl,DocumentSnapshot:K0,Query:Ks,QueryDocumentSnapshot:Q0,QuerySnapshot:zN,CollectionReference:ey,FieldPath:qN,FieldValue:om,setLogLevel:function eQ(n){!function Q8(n){Ph.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function V$(n,t){return function sQ(n,t=Lc.z){return new Qi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function WN(n,t){return V$(n,t).pipe((0,ct.U)(e=>({payload:e,type:"query"})))}function aA(n,t){return WN(n,t).pipe(vr(void 0),JO(),(0,ct.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(w=>w.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(w=>w.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function B$(n,t,e){return aA(n,e).pipe(Mp((i,r)=>function aQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function lQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return ZN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return ZN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return ZN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),th(),(0,ct.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function ZN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function U$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function rQ(n){(function iQ(n,t){n.INTERNAL.registerComponent(new rc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},nQ)))})(n,(t,e)=>new O$(t,e,new J9)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(UO.Z);class H${constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=aA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ct.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(vr(void 0),JO(),pi(([i,r])=>r.length>0||!i),(0,ct.U)(([i,r])=>r),An.iC)}auditTrail(t){return this.stateChanges(t).pipe(Mp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=U$(t);return B$(this.query,e,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return WN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),An.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(An.iC)}add(t){return this.ref.add(t)}doc(t){return new j$(this.ref.doc(t),this.afs)}}class j${constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=z$(i,e);return new H$(r,s,this.afs)}snapshotChanges(){return function oQ(n,t){return V$(n,t).pipe(vr(void 0),JO(),(0,ct.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,_n.D)(this.ref.get(t)).pipe(An.iC)}}class cQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?aA(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),pi(e=>e.length>0),An.iC):aA(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(t){return this.stateChanges(t).pipe(Mp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=U$(t);return B$(this.query,e,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return WN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),An.iC)}get(t){return(0,_n.D)(this.query.get(t)).pipe(An.iC)}}const $$=new a.OlP("angularfire2.enableFirestorePersistence"),G$=new a.OlP("angularfire2.firestore.persistenceSettings"),uQ=new a.OlP("angularfire2.firestore.settings"),dQ=new a.OlP("angularfire2.firestore.use-emulator");function z$(n,t=(e=>e)){return{query:t(n),ref:n}}let YN=(()=>{class n{constructor(e,i,r,s,c,d,p,_,w,I,M,O,N,z,ie,Me,ze){this.schedulers=p;const Xe=(0,Cr.on)(e,d,i),Qe=w;I&&BO(Xe,d,M,N,z,ie,O,Me),[this.firestore,this.persistenceEnabled$]=(0,Cr.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const Dt=d.runOutsideAngular(()=>Xe.firestore());if(s&&Dt.settings(s),Qe&&Dt.useEmulator(...Qe),r&&!ya(c)){const At=()=>{try{return(0,_n.D)(Dt.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(an){return typeof console<"u"&&console.warn(an),et(!1)}};return[Dt,d.runOutsideAngular(At)]}return[Dt,et(!1)]},[s,Qe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=z$(r,i),d=this.schedulers.ngZone.run(()=>s);return new H$(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new cQ(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new j$(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Cr.Dh),a.LFG(Cr.xv,8),a.LFG($$,8),a.LFG(uQ,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(An.HU),a.LFG(G$,8),a.LFG(dQ,8),a.LFG(jw,8),a.LFG(OO,8),a.LFG(PO,8),a.LFG(NO,8),a.LFG(FO,8),a.LFG(LO,8),a.LFG(VO,8),a.LFG(Hw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),hQ=(()=>{class n{constructor(){VS.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:$$,useValue:!0},{provide:G$,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[YN]}),n})();const q$="@firebase/database";let KN="";function Z$(n){KN=n}class mQ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class gQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Y$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new mQ(t)}}catch{}return new gQ},am=Y$("localStorage"),QN=Y$("sessionStorage"),ty=new sc.Yd("@firebase/database"),K$=function(){let n=1;return function(){return n++}}(),Q$=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},X0=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=X0.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let lm=null,X$=!0;const J$=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ty.logLevel=sc.in.VERBOSE,lm=ty.log.bind(ty),t&&QN.set("logging_enabled",!0)):"function"==typeof n?lm=n:(lm=null,QN.remove("logging_enabled"))},Vr=function(...n){if(!0===X$&&(X$=!1,null===lm&&!0===QN.get("logging_enabled")&&J$(!0)),lm){const t=X0.apply(null,n);lm(t)}},J0=function(n){return function(...t){Vr(n,...t)}},XN=function(...n){const t="FIREBASE INTERNAL ERROR: "+X0(...n);ty.error(t)},ou=function(...n){const t=`FIREBASE FATAL ERROR: ${X0(...n)}`;throw ty.error(t),new Error(t)},bs=function(...n){const t="FIREBASE WARNING: "+X0(...n);ty.warn(t)},lA=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},vd="[MIN_NAME]",au="[MAX_NAME]",cm=function(n,t){if(n===t)return 0;if(n===vd||t===au)return-1;if(t===vd||n===au)return 1;{const e=cA(n),i=cA(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},vQ=function(n,t){return n===t?0:n<t?-1:1},eC=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},JN=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=JN(n[t[i]]);return e+="}",e},eG=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function Br(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const tG=function(n){(0,F.hu)(!lA(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const w=_.join("");let I="";for(p=0;p<64;p+=8){let M=parseInt(w.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},EQ=new RegExp("^-?(0*)\\d{1,10}$"),nG=-2147483648,eF=2147483647,cA=function(n){if(EQ.test(n)){const t=Number(n);if(t>=nG&&t<=eF)return t}return null},ny=function(n){try{n()}catch(t){setTimeout(()=>{throw bs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},tC=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class IQ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){bs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class SQ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Vr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bs(t)}}let nC=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const aG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,uG="websocket",dG="long_polling";class nF{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=am.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&am.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function hG(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===uG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==dG)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function TQ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return Br(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class AQ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const iF={},rF={};function sF(n){const t=n.toString();return iF[t]||(iF[t]=new AQ),iF[t]}class kQ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ny(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Qh{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=J0(t),this.stats_=sF(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),hG(e,dG,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new kQ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new oF((...s)=>{const[c,d,p,_,w]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&aG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Qh.forceAllow_=!0}static forceDisallow(){Qh.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!Qh.forceAllow_&&(Qh.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),r=eG(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class oF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=K$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=oF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Vr("frame writing exception"),d.stack&&Vr(d.stack),Vr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Vr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Vr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let dA=null;typeof MozWebSocket<"u"?dA=MozWebSocket:typeof WebSocket<"u"&&(dA=WebSocket);let iy=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=J0(this.connId),this.stats_=sF(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&aG.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),hG(e,uG,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,am.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${KN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new dA(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==dA&&!n.forceDisallow_}static previouslyFailed(){return am.isInMemoryStorage||!0===am.get("previous_websocket_failure")}markConnectionHealthy(){am.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=eG(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),vG=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Qh,iy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=iy&&iy.isAvailable();let r=i&&!iy.previouslyFailed();if(e.webSocketOnly&&(i||bs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[iy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class SG{constructor(t,e,i,r,s,c,d,p,_,w){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=w,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=J0("c:"+this.id+":"),this.transportManager_=new vG(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=tC(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=eC("t",t),i=eC("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=eC("t",t),i=eC("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=eC("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?XN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):XN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&bs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),tC(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tC(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(am.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class TG{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class AG{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class hA extends AG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new hA}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Pn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Mn(){return new Pn("")}function rn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Xh(n){return n.pieces_.length-n.pieceNum_}function ei(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Pn(n.pieces_,t)}function lF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function iC(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function xG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Pn(t,0)}function Ii(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Pn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Pn(e,0)}function sn(n){return n.pieceNum_>=n.pieces_.length}function Qs(n,t){const e=rn(n),i=rn(t);if(null===e)return t;if(e===i)return Qs(ei(n),ei(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function XQ(n,t){const e=iC(n,0),i=iC(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=cm(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function cF(n,t){if(Xh(n)!==Xh(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function il(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Xh(n)>Xh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class JQ{constructor(t,e){this.errorPrefix_=e,this.parts_=iC(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);RG(this)}}function RG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+um(n))}function um(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class uF extends AG{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new uF}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const rC=1e3;let pA,dm=(()=>{class n extends TG{constructor(e,i,r,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=J0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rC,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");uF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&hA.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,F.Pz)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new F.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,w=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==w&&this.removeListen_(r,s),e.onComplete&&e.onComplete(w,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const r=(0,F.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();bs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):XN("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=rC),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,De.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const w=function(){_?_.close():(p=!0,s())};e.realtime_={close:w,sendRequest:function(O){(0,F.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(O)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[O,N]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?Vr("getToken() completed but was canceled"):(Vr("getToken() completed. Creating connection."),e.authToken_=O&&O.accessToken,e.appCheckToken_=N&&N.token,_=new SG(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,z=>{bs(z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(O){e.log_("Failed to get token: "+O),p||(e.repoInfo_.nodeAdmin&&bs(O),w())}}})()}interrupt(e){Vr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=rC,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>JN(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Pn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Vr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Vr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+KN.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=hA.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class fA{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn(vd,t),r=new hn(vd,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class NG extends fA{static get __EMPTY_NODE(){return pA}static set __EMPTY_NODE(t){pA=t}compare(t,e){return cm(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(au,pA)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,pA)}toString(){return".key"}}const lu=new NG;class mA{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let hF,cc=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??wo.EMPTY_NODE,this.right=c??wo.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return wo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return wo.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class wo{constructor(t,e=wo.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new wo(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,cc.BLACK,null,null))}remove(t){return new wo(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,cc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new mA(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new mA(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new mA(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new mA(this.root_,null,this.comparator_,!0,t)}}function aX(n,t){return cm(n.name,t.name)}function dF(n,t){return cm(n,t)}wo.EMPTY_NODE=new class oX{copy(t,e,i,r,s){return this}insert(t,e,i){return new cc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const FG=function(n){return"number"==typeof n?"number:"+tG(n):"string:"+n},LG=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===hF||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===hF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let VG,BG,UG,ry=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),LG(this.priorityNode_)}static set __childrenNodeConstructor(e){VG=e}static get __childrenNodeConstructor(){return VG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return sn(e)?this:".priority"===rn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=rn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Xh(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ei(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+FG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?tG(this.value_):this.value_,this.lazyHash_=Q$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const oi=new class dX extends fA{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?cm(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(au,new ry("[PRIORITY-POST]",UG))}makePost(t,e){const i=BG(t);return new hn(e,new ry("[PRIORITY-POST]",i))}toString(){return".priority"}},hX=Math.log(2);class fX{constructor(t){this.count=parseInt(Math.log(t+1)/hX,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const gA=function(n,t,e,i){n.sort(t);const r=function(p,_){const w=_-p;let I,M;if(0===w)return null;if(1===w)return I=n[p],M=e?e(I):I,new cc(M,I.node,cc.BLACK,null,null);{const O=parseInt(w/2,10)+p,N=r(p,O),z=r(O+1,_);return I=n[O],M=e?e(I):I,new cc(M,I.node,cc.BLACK,N,z)}},d=function(p){let _=null,w=null,I=n.length;const M=function(N,z){const ie=I-N,Me=I;I-=N;const ze=r(ie+1,Me),Xe=n[ie],Qe=e?e(Xe):Xe;O(new cc(Qe,Xe.node,z,null,ze))},O=function(N){_?(_.left=N,_=N):(w=N,_=N)};for(let N=0;N<p.count;++N){const z=p.nextBitIsOne(),ie=Math.pow(2,p.count-(N+1));z?M(ie,cc.BLACK):(M(ie,cc.BLACK),M(ie,cc.RED))}return w}(new fX(n.length));return new wo(i||t,d)};let fF;const sy={};class bd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(sy&&oi,"ChildrenNode.ts has not been loaded"),fF=fF||new bd({".priority":sy},{".priority":oi}),fF}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof wo?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==lu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(hn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?gA(i,t.getCompare()):sy;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const w=Object.assign({},this.indexes_);return w[p]=d,new bd(w,_)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(r,s)=>{const c=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(c,"Missing index implementation for "+s),r===sy){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(hn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),gA(d,c.getCompare())}return sy}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new hn(t.name,d))),p.insert(t,t.node)}});return new bd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,r=>{if(r===sy)return r;{const s=e.get(t.name);return s?r.remove(new hn(t.name,s)):r}});return new bd(i,this.indexSet_)}}let sC,Qt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&LG(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sC||(sC=new n(new wo(dF),null,bd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sC}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?sC:i}}getChild(e){const i=rn(e);return null===i?this:this.getImmediateChild(i).getChild(ei(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?sC:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=rn(e);if(null===r)return i;{(0,F.hu)(".priority"!==rn(e)||1===Xh(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ei(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(oi,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+FG(this.getPriority().val())+":"),this.forEachChild(oi,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":Q$(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new hn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===oC?-1:0}withIndex(e){if(e===lu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===lu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(oi),s=i.getIterator(oi);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===lu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const oC=new class pX extends Qt{constructor(){super(new wo(dF),Qt.EMPTY_NODE,bd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Qt.EMPTY_NODE}isEmpty(){return!1}};function ki(n,t=null){if(null===n)return Qt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new ry(n,ki(t));if(n instanceof Array){let e=Qt.EMPTY_NODE;return Br(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=ki(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(ki(t))}{const e=[];let i=!1;if(Br(n,(c,d)=>{if("."!==c.substring(0,1)){const p=ki(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new hn(c,p)))}}),0===e.length)return Qt.EMPTY_NODE;const s=gA(e,aX,c=>c.name,dF);if(i){const c=gA(e,oi.getCompare());return new Qt(s,ki(t),new bd({".priority":c},{".priority":oi}))}return new Qt(s,ki(t),bd.Default)}}Object.defineProperties(hn,{MIN:{value:new hn(vd,Qt.EMPTY_NODE)},MAX:{value:new hn(au,oC)}}),NG.__EMPTY_NODE=Qt.EMPTY_NODE,ry.__childrenNodeConstructor=Qt,function lX(n){hF=n}(oC),function uX(n){UG=n}(oC),function cX(n){BG=n}(ki);class pF extends fA{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!sn(t)&&".priority"!==rn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?cm(t.name,e.name):s}makePost(t,e){const i=ki(t),r=Qt.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=Qt.EMPTY_NODE.updateChild(this.indexPath_,oC);return new hn(au,t)}toString(){return iC(this.indexPath_,0).join("/")}}const mF=new class gX extends fA{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?cm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=ki(t);return new hn(e,i)}toString(){return".value"}},oy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",_X=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=oy.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=oy.charAt(t[r]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),$G=function(n){if(n===""+eF)return"-";const t=cA(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return au;const s=oy.charAt(oy.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},GG=function(n){if(n===""+nG)return vd;const t=cA(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+eF:(delete e[e.length-1],e.join("")):(e[e.length-1]=oy.charAt(oy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function zG(n){return{type:"value",snapshotNode:n}}function ay(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function aC(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function lC(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class _F{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(aC(e,d)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(ay(e,i)):c.trackChildChange(lC(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(oi,(r,s)=>{e.hasChild(r)||i.trackChildChange(aC(r,s))}),e.isLeafNode()||e.forEachChild(oi,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(lC(r,s,c))}else i.trackChildChange(ay(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Qt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class cC{constructor(t){this.indexedFilter_=new _F(t.getIndex()),this.index_=t.getIndex(),this.startPost_=cC.getStartPost_(t),this.endPost_=cC.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new hn(e,i))||(i=Qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Qt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Qt.EMPTY_NODE);const s=this;return e.forEachChild(oi,(c,d)=>{s.matches(new hn(c,d))||(r=r.updateImmediateChild(c,Qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class vX{constructor(t){this.rangedFilter_=new cC(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new hn(e,i))||(i=Qt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Qt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Qt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();d=(M,O)=>I(O,M)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,w=!1;for(;p.hasNext();){const I=p.getNext();!w&&d(s,I)<=0&&(w=!0),w&&_<this.limit_&&d(I,c)<=0?_++:r=r.updateImmediateChild(I.name,Qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const I=this.index_.getCompare();c=(M,O)=>I(O,M)}else c=this.index_.getCompare();const d=t;(0,F.hu)(d.numChildren()===this.limit_,"");const p=new hn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),w=this.rangedFilter_.matches(p);if(d.hasChild(e)){const I=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const O=null==M?1:c(M,p);if(w&&!i.isEmpty()&&O>=0)return s?.trackChildChange(lC(e,i,I)),d.updateImmediateChild(e,i);{s?.trackChildChange(aC(e,I));const z=d.updateImmediateChild(e,Qt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(ay(M.name,M.node)),z.updateImmediateChild(M.name,M.node)):z}}return i.isEmpty()?t:w&&c(_,p)>=0?(null!=s&&(s.trackChildChange(aC(_.name,_.node)),s.trackChildChange(ay(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,Qt.EMPTY_NODE)):t}}class _A{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=oi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:au}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===oi}copy(){const t=new _A;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function yF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function vF(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function yA(n,t){const e=n.copy();return e.index_=t,e}function qG(n){const t={};if(n.isDefault())return t;let e;return n.index_===oi?e="$priority":n.index_===mF?e="$value":n.index_===lu?e="$key":((0,F.hu)(n.index_ instanceof pF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function WG(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==oi&&(t.i=n.index_.toString()),t}class vA extends TG{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=J0("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=vA.getListenId_(t,i),d={};this.listens_[c]=d;const p=qG(t._queryParams);this.restRequest_(s+".json",p,(_,w)=>{let I=w;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(s,I,!1,i),(0,F.DV)(this.listens_,c)===d){let M;M=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(M,null)}})}unlisten(t,e){const i=vA.getListenId_(t,e);delete this.listens_[i]}get(t){const e=qG(t._queryParams),i=t._path.toString(),r=new F.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,F.cI)(d.responseText)}catch{bs("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&bs("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class IX{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function bA(){return{value:null,children:new Map}}function ly(n,t,e){if(sn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=rn(t);n.children.has(i)||n.children.set(i,bA()),ly(n.children.get(i),t=ei(t),e)}}function bF(n,t){if(sn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(oi,(i,r)=>{ly(n,new Pn(i),r)}),bF(n,t)}}if(n.children.size>0){const e=rn(t);return t=ei(t),n.children.has(e)&&bF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function wF(n,t,e){null!==n.value?e(t,n.value):function SX(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{wF(r,new Pn(t.toString()+"/"+i),e)})}class TX{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Br(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class kX{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new TX(t);const i=1e4+2e4*Math.random();tC(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;Br(t,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),tC(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var rl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(rl||(rl={})),rl))();function DF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class wA{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=rl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(sn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Pn(t));return new wA(Mn(),e,this.revert)}}return(0,F.hu)(rn(this.path)===t,"operationForChild called for unrelated child."),new wA(ei(this.path),this.affectedTree,this.revert)}}class uC{constructor(t,e){this.source=t,this.path=e,this.type=rl.LISTEN_COMPLETE}operationForChild(t){return sn(this.path)?new uC(this.source,Mn()):new uC(this.source,ei(this.path))}}class hm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=rl.OVERWRITE}operationForChild(t){return sn(this.path)?new hm(this.source,Mn(),this.snap.getImmediateChild(t)):new hm(this.source,ei(this.path),this.snap)}}class cy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=rl.MERGE}operationForChild(t){if(sn(this.path)){const e=this.children.subtree(new Pn(t));return e.isEmpty()?null:e.value?new hm(this.source,Mn(),e.value):new cy(this.source,Mn(),e)}return(0,F.hu)(rn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new cy(this.source,ei(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Jh{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(sn(t))return this.isFullyInitialized()&&!this.filtered_;const e=rn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class xX{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function dC(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function PX(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function OX(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function CA(n,t){return{eventCache:n,serverCache:t}}function hC(n,t,e,i){return CA(new Jh(t,e,i),n.serverCache)}function YG(n,t,e,i){return CA(n.eventCache,new Jh(t,e,i))}function EA(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function fm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let IF;class ai{constructor(t,e=(()=>(IF||(IF=new wo(vQ)),IF))()){this.value=t,this.children=e}static fromObject(t){let e=new ai(null);return Br(t,(i,r)=>{e=e.set(new Pn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Mn(),value:this.value};if(sn(t))return null;{const i=rn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ei(t),e);return null!=s?{path:Ii(new Pn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(sn(t))return this;{const e=rn(t),i=this.children.get(e);return null!==i?i.subtree(ei(t)):new ai(null)}}set(t,e){if(sn(t))return new ai(e,this.children);{const i=rn(t),s=(this.children.get(i)||new ai(null)).set(ei(t),e),c=this.children.insert(i,s);return new ai(this.value,c)}}remove(t){if(sn(t))return this.children.isEmpty()?new ai(null):new ai(null,this.children);{const e=rn(t),i=this.children.get(e);if(i){const r=i.remove(ei(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new ai(null):new ai(this.value,s)}return this}}get(t){if(sn(t))return this.value;{const e=rn(t),i=this.children.get(e);return i?i.get(ei(t)):null}}setTree(t,e){if(sn(t))return e;{const i=rn(t),s=(this.children.get(i)||new ai(null)).setTree(ei(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new ai(this.value,c)}}fold(t){return this.fold_(Mn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Ii(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Mn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(sn(t))return null;{const s=rn(t),c=this.children.get(s);return c?c.findOnPath_(ei(t),Ii(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Mn(),e)}foreachOnPath_(t,e,i){if(sn(t))return this;{this.value&&i(e,this.value);const r=rn(t),s=this.children.get(r);return s?s.foreachOnPath_(ei(t),Ii(e,r),i):new ai(null)}}foreach(t){this.foreach_(Mn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Ii(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class uc{constructor(t){this.writeTree_=t}static empty(){return new uc(new ai(null))}}function fC(n,t,e){if(sn(t))return new uc(new ai(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=Qs(r,t);return s=s.updateChild(c,e),new uc(n.writeTree_.set(r,s))}{const r=new ai(e),s=n.writeTree_.setTree(t,r);return new uc(s)}}}function SF(n,t,e){let i=n;return Br(e,(r,s)=>{i=fC(i,Ii(t,r),s)}),i}function KG(n,t){if(sn(t))return uc.empty();{const e=n.writeTree_.setTree(t,new ai(null));return new uc(e)}}function TF(n,t){return null!=pm(n,t)}function pm(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Qs(e.path,t)):null}function QG(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(oi,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function ef(n,t){if(sn(t))return n;{const e=pm(n,t);return new uc(null!=e?new ai(e):n.writeTree_.subtree(t))}}function AF(n){return n.writeTree_.isEmpty()}function uy(n,t){return XG(Mn(),n.writeTree_,t)}function XG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=XG(Ii(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Ii(n,".priority"),i)),e}}function DA(n,t){return iz(t,n)}function UX(n,t){if(n.snap)return il(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&il(Ii(n.path,e),t))return!0;return!1}function jX(n){return n.visible}function JG(n,t,e){let i=uc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)il(e,c)?(d=Qs(e,c),i=fC(i,d,s.snap)):il(c,e)&&(d=Qs(c,e),i=fC(i,Mn(),s.snap.getChild(d)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(il(e,c))d=Qs(e,c),i=SF(i,d,s.children);else if(il(c,e))if(d=Qs(c,e),sn(d))i=SF(i,Mn(),s.children);else{const p=(0,F.DV)(s.children,rn(d));if(p){const _=p.getChild(ei(d));i=fC(i,Mn(),_)}}}}}return i}function ez(n,t,e,i,r){if(i||r){const s=ef(n.visibleWrites,t);return!r&&AF(s)?e:r||null!=e||TF(s,Mn())?uy(JG(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(il(_.path,t)||il(t,_.path))},t),e||Qt.EMPTY_NODE):null}{const s=pm(n.visibleWrites,t);if(null!=s)return s;{const c=ef(n.visibleWrites,t);return AF(c)?e:null!=e||TF(c,Mn())?uy(c,e||Qt.EMPTY_NODE):null}}}function IA(n,t,e,i){return ez(n.writeTree,n.treePath,t,e,i)}function MF(n,t){return function $X(n,t,e){let i=Qt.EMPTY_NODE;const r=pm(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(oi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=ef(n.visibleWrites,t);return e.forEachChild(oi,(c,d)=>{const p=uy(ef(s,new Pn(c)),d);i=i.updateImmediateChild(c,p)}),QG(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return QG(ef(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function tz(n,t,e,i){return function GX(n,t,e,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Ii(t,e);if(TF(n.visibleWrites,s))return null;{const c=ef(n.visibleWrites,s);return AF(c)?r.getChild(e):uy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function SA(n,t){return function qX(n,t){return pm(n.visibleWrites,t)}(n.writeTree,Ii(n.treePath,t))}function kF(n,t,e){return function zX(n,t,e,i){const r=Ii(t,e),s=pm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?uy(ef(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function nz(n,t){return iz(Ii(n.treePath,t),n.writeTree)}function iz(n,t){return{treePath:n,writeTree:t}}class KX{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,lC(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,aC(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,ay(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,lC(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const rz=new class QX{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class xF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Jh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:fm(this.viewCache_),s=function YX(n,t,e,i,r,s){return function WX(n,t,e,i,r,s,c){let d;const p=ef(n.visibleWrites,t),_=pm(p,Mn());if(null!=_)d=_;else{if(null==e)return[];d=uy(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const w=[],I=c.getCompare(),M=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let O=M.getNext();for(;O&&w.length<r;)0!==I(O,i)&&w.push(O),O=M.getNext();return w}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function sz(n,t,e,i,r,s){const c=t.eventCache;if(null!=SA(i,e))return t;{let d,p;if(sn(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=fm(t),I=MF(i,_ instanceof Qt?_:Qt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),I,s)}else{const _=IA(i,fm(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=rn(e);if(".priority"===_){(0,F.hu)(1===Xh(e),"Can't have a priority with additional path components");const w=c.getNode();p=t.serverCache.getNode();const I=tz(i,e,w,p);d=null!=I?n.filter.updatePriority(w,I):c.getNode()}else{const w=ei(e);let I;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const M=tz(i,e,c.getNode(),p);I=null!=M?c.getNode().getImmediateChild(_).updateChild(w,M):c.getNode().getImmediateChild(_)}else I=kF(i,_,t.serverCache);d=null!=I?n.filter.updateChild(c.getNode(),_,I,w,r,s):c.getNode()}}return hC(t,d,c.isFullyInitialized()||sn(e),n.filter.filtersNodes())}}function TA(n,t,e,i,r,s,c,d){const p=t.serverCache;let _;const w=c?n.filter:n.filter.getIndexedFilter();if(sn(e))_=w.updateFullNode(p.getNode(),i,null);else if(w.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(e,i);_=w.updateFullNode(p.getNode(),O,null)}else{const O=rn(e);if(!p.isCompleteForPath(e)&&Xh(e)>1)return t;const N=ei(e),ie=p.getNode().getImmediateChild(O).updateChild(N,i);_=".priority"===O?w.updatePriority(p.getNode(),ie):w.updateChild(p.getNode(),O,ie,N,rz,null)}const I=YG(t,_,p.isFullyInitialized()||sn(e),w.filtersNodes());return sz(n,I,e,r,new xF(r,I,s),d)}function RF(n,t,e,i,r,s,c){const d=t.eventCache;let p,_;const w=new xF(r,t,s);if(sn(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=hC(t,_,!0,n.filter.filtersNodes());else{const I=rn(e);if(".priority"===I)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=hC(t,_,d.isFullyInitialized(),d.isFiltered());else{const M=ei(e),O=d.getNode().getImmediateChild(I);let N;if(sn(M))N=i;else{const z=w.getCompleteChild(I);N=null!=z?".priority"===lF(M)&&z.getChild(xG(M)).isEmpty()?z:z.updateChild(M,i):Qt.EMPTY_NODE}p=O.equals(N)?t:hC(t,n.filter.updateChild(d.getNode(),I,N,M,w,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function oz(n,t){return n.eventCache.isCompleteForChild(t)}function az(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function OF(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=sn(e)?i:new ai(null).setTree(e,i);const w=t.serverCache.getNode();return _.children.inorderTraversal((I,M)=>{if(w.hasChild(I)){const N=az(0,t.serverCache.getNode().getImmediateChild(I),M);p=TA(n,p,new Pn(I),N,r,s,c,d)}}),_.children.inorderTraversal((I,M)=>{const O=!t.serverCache.isCompleteForChild(I)&&null===M.value;if(!w.hasChild(I)&&!O){const z=az(0,t.serverCache.getNode().getImmediateChild(I),M);p=TA(n,p,new Pn(I),z,r,s,c,d)}}),p}class oJ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new _F(i.getIndex()),s=function bX(n){return n.loadsAllData()?new _F(n.getIndex()):n.hasLimit()?new vX(n):new cC(n)}(i);this.processor_=function XX(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Qt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Qt.EMPTY_NODE,d.getNode(),null),w=new Jh(p,c.isFullyInitialized(),r.filtersNodes()),I=new Jh(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=CA(I,w),this.eventGenerator_=new xX(this.query_)}get query(){return this.query_}}function cJ(n,t){const e=fm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!sn(t)&&!e.getImmediateChild(rn(t)).isEmpty())?e.getChild(t):null}function lz(n){return 0===n.eventRegistrations_.length}function cz(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function uz(n,t,e,i){t.type===rl.MERGE&&null!==t.source.queryId&&((0,F.hu)(fm(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(EA(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function eJ(n,t,e,i,r){const s=new KX;let c,d;if(e.type===rl.OVERWRITE){const _=e;_.source.fromUser?c=RF(n,t,_.path,_.snap,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!sn(_.path),c=TA(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===rl.MERGE){const _=e;_.source.fromUser?c=function nJ(n,t,e,i,r,s,c){let d=t;return i.foreach((p,_)=>{const w=Ii(e,p);oz(t,rn(w))&&(d=RF(n,d,w,_,r,s,c))}),i.foreach((p,_)=>{const w=Ii(e,p);oz(t,rn(w))||(d=RF(n,d,w,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=OF(n,t,_.path,_.children,i,r,d,s))}else if(e.type===rl.ACK_USER_WRITE){const _=e;c=_.revert?function sJ(n,t,e,i,r,s){let c;if(null!=SA(i,e))return t;{const d=new xF(i,t,r),p=t.eventCache.getNode();let _;if(sn(e)||".priority"===rn(e)){let w;if(t.serverCache.isFullyInitialized())w=IA(i,fm(t));else{const I=t.serverCache.getNode();(0,F.hu)(I instanceof Qt,"serverChildren would be complete if leaf node"),w=MF(i,I)}_=n.filter.updateFullNode(p,w,s)}else{const w=rn(e);let I=kF(i,w,t.serverCache);null==I&&t.serverCache.isCompleteForChild(w)&&(I=p.getImmediateChild(w)),_=null!=I?n.filter.updateChild(p,w,I,ei(e),d,s):t.eventCache.getNode().hasChild(w)?n.filter.updateChild(p,w,Qt.EMPTY_NODE,ei(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=IA(i,fm(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=SA(i,Mn()),hC(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function iJ(n,t,e,i,r,s,c){if(null!=SA(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(sn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return TA(n,t,e,p.getNode().getChild(e),r,s,d,c);if(sn(e)){let _=new ai(null);return p.getNode().forEachChild(lu,(w,I)=>{_=_.set(new Pn(w),I)}),OF(n,t,e,_,r,s,d,c)}return t}{let _=new ai(null);return i.foreach((w,I)=>{const M=Ii(e,w);p.isCompleteForPath(M)&&(_=_.set(w,p.getNode().getChild(M)))}),OF(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==rl.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);c=function rJ(n,t,e,i,r){const s=t.serverCache;return sz(n,YG(t,s.getNode(),s.isFullyInitialized()||sn(e),s.isFiltered()),e,i,rz,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function tJ(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=EA(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(zG(EA(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function JX(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,dz(n,s.changes,s.viewCache.eventCache.getNode(),null)}function dz(n,t,e,i){return function RX(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function yX(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),dC(n,r,"child_removed",t,i,e),dC(n,r,"child_added",t,i,e),dC(n,r,"child_moved",s,i,e),dC(n,r,"child_changed",t,i,e),dC(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let AA,kA;class hz{constructor(){this.views=new Map}}function PF(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),uz(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(uz(c,t,e,i));return s}}function fz(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=IA(e,r?i:null),p=!1;d?p=!0:i instanceof Qt?(d=MF(e,i),p=!1):(d=Qt.EMPTY_NODE,p=!1);const _=CA(new Jh(d,p,!1),new Jh(i,r,!1));return new oJ(t,_)}return c}function pz(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function tf(n,t){let e=null;for(const i of n.views.values())e=e||cJ(i,t);return e}function mz(n,t){return t._queryParams.loadsAllData()?MA(n):n.views.get(t._queryIdentifier)}function gz(n,t){return null!=mz(n,t)}function nf(n){return null!=MA(n)}function MA(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let vJ=1;class _z{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ai(null),this.pendingWriteTree_=function ZX(){return{visibleWrites:uc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function NF(n,t,e,i,r){return function FX(n,t,e,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=fC(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?dy(n,new hm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function rf(n,t,e=!1){const i=function VX(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function BX(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&UX(d,i.path)?r=!1:il(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function HX(n){n.visibleWrites=JG(n.allWrites,jX,Mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=KG(n.visibleWrites,i.path):Br(i.children,p=>{n.visibleWrites=KG(n.visibleWrites,Ii(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new ai(null);return null!=i.snap?s=s.set(Mn(),!0):Br(i.children,c=>{s=s.set(new Pn(c),!0)}),dy(n,new wA(i.path,s,e))}return[]}function pC(n,t,e){return dy(n,new hm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function xA(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||gz(c,t))){const p=function gJ(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=nf(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(cz(_,e,i)),lz(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(cz(p,e,i)),lz(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!nf(n)&&s.push(new(function fJ(){return(0,F.hu)(AA,"Reference.ts has not been loaded"),AA}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function pJ(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!r){const w=-1!==_.findIndex(M=>M._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(s,(M,O)=>nf(O));if(w&&!I){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const O=function SJ(n){return n.fold((t,e,i)=>{if(e&&nf(e))return[MA(e)];{let r=[];return e&&(r=pz(e)),Br(i,(s,c)=>{r=r.concat(c)}),r}})}(M);for(let N=0;N<O.length;++N){const z=O[N],ie=z.query,Me=wz(n,z);n.listenProvider_.startListening(gC(ie),mC(n,ie),Me.hashFn,Me.onComplete)}}}!I&&_.length>0&&!i&&(w?n.listenProvider_.stopListening(gC(t),null):_.forEach(M=>{const O=n.queryToTagMap.get(OA(M));n.listenProvider_.stopListening(gC(M),O)}))}!function TJ(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=OA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function yz(n,t,e,i){const r=LF(n,i);if(null!=r){const s=VF(r),c=s.path,d=s.queryId,p=Qs(c,t);return BF(n,c,new hm(DF(d),p,e))}return[]}function FF(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,O)=>{const N=Qs(M,r);s=s||tf(O,N),c=c||nf(O)});let p,d=n.syncPointTree_.get(r);d?(c=c||nf(d),s=s||tf(d,Mn())):(d=new hz,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=Qt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((O,N)=>{const z=tf(N,Mn());z&&(s=s.updateImmediateChild(O,z))}));const _=gz(d,t);if(!_&&!t._queryParams.loadsAllData()){const M=OA(t);(0,F.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const O=function AJ(){return vJ++}();n.queryToTagMap.set(M,O),n.tagToQueryMap.set(O,M)}let I=function mJ(n,t,e,i,r,s){const c=fz(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function uJ(n,t){n.eventRegistrations_.push(t)}(c,e),function dJ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(oi,(s,c)=>{i.push(ay(s,c))}),e.isFullyInitialized()&&i.push(zG(e.getNode())),dz(n,i,e.getNode(),t)}(c,e)}(d,t,e,DA(n.pendingWriteTree_,r),s,p);if(!_&&!c&&!i){const M=mz(d,t);I=I.concat(function MJ(n,t,e){const i=t._path,r=mC(n,t),s=wz(n,e),c=n.listenProvider_.startListening(gC(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!nf(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,w,I)=>{if(!sn(_)&&w&&nf(w))return[MA(w).query];{let M=[];return w&&(M=M.concat(pz(w).map(O=>O.query))),Br(I,(O,N)=>{M=M.concat(N)}),M}});for(let _=0;_<p.length;++_){const w=p[_];n.listenProvider_.stopListening(gC(w),mC(n,w))}}return c}(n,t,M))}return I}function RA(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=tf(d,Qs(c,t));if(_)return _});return ez(r,t,s,e,!0)}function dy(n,t){return vz(t,n.syncPointTree_,null,DA(n.pendingWriteTree_,Mn()))}function vz(n,t,e,i){if(sn(n.path))return bz(n,t,e,i);{const r=t.get(Mn());null==e&&null!=r&&(e=tf(r,Mn()));let s=[];const c=rn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,w=nz(i,c);s=s.concat(vz(d,p,_,w))}return r&&(s=s.concat(PF(r,n,i,e))),s}}function bz(n,t,e,i){const r=t.get(Mn());null==e&&null!=r&&(e=tf(r,Mn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=nz(i,c),w=n.operationForChild(c);w&&(s=s.concat(bz(w,d,p,_)))}),r&&(s=s.concat(PF(r,n,i,e))),s}function wz(n,t){const e=t.query,i=mC(n,e);return{hashFn:()=>(function aJ(n){return n.viewCache_.serverCache.getNode()}(t)||Qt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function EJ(n,t,e){const i=LF(n,e);if(i){const r=VF(i),s=r.path,c=r.queryId,d=Qs(s,t);return BF(n,s,new uC(DF(c),d))}return[]}(n,e._path,i):function CJ(n,t){return dy(n,new uC({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function CQ(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return xA(n,e,null,s)}}}}function mC(n,t){const e=OA(t);return n.queryToTagMap.get(e)}function OA(n){return n._path.toString()+"$"+n._queryIdentifier}function LF(n,t){return n.tagToQueryMap.get(t)}function VF(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Pn(n.substr(0,t))}}function BF(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),PF(i,e,DA(n.pendingWriteTree_,t),null)}function gC(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function yJ(){return(0,F.hu)(kA,"Reference.ts has not been loaded"),kA}())(n._repo,n._path):n}class UF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new UF(e)}node(){return this.node_}}class HF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Ii(this.path_,t);return new HF(this.syncTree_,e)}node(){return RA(this.syncTree_,this.path_)}}const Cz=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xJ(n[".sv"],t,e):"object"==typeof n[".sv"]?RJ(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xJ=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},RJ=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},Ez=function(n,t,e,i){return $F(t,new HF(e,n),i)},jF=function(n,t,e){return $F(n,new UF(t),e)};function $F(n,t,e){const i=n.getPriority().val(),r=Cz(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=Cz(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new ry(d,ki(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new ry(r))),c.forEachChild(oi,(d,p)=>{const _=$F(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class GF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function PA(n,t){let e=t instanceof Pn?t:new Pn(t),i=n,r=rn(e);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new GF(r,i,s),e=ei(e),r=rn(e)}return i}function mm(n){return n.node.value}function zF(n,t){n.node.value=t,qF(n)}function Dz(n){return n.node.childCount>0}function NA(n,t){Br(n.node.children,(e,i)=>{t(new GF(e,n,i))})}function Iz(n,t,e,i){e&&!i&&t(n),NA(n,r=>{Iz(r,t,!0,i)}),e&&i&&t(n)}function _C(n){return new Pn(null===n.parent?n.name:_C(n.parent)+"/"+n.name)}function qF(n){null!==n.parent&&function NJ(n,t,e){const i=function OJ(n){return void 0===mm(n)&&!Dz(n)}(e),r=(0,F.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,qF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,qF(n))}(n.parent,n.name,n)}const FJ=/[\[\].#$\/\u0000-\u001F\u007F]/,LJ=/[\[\].#$\u0000-\u001F\u007F]/,WF=10485760,FA=function(n){return"string"==typeof n&&0!==n.length&&!FJ.test(n)},Sz=function(n){return"string"==typeof n&&0!==n.length&&!LJ.test(n)},yC=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!lA(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},cu=function(n,t,e,i){i&&void 0===t||vC((0,F.gK)(n,"value"),t,e)},vC=function(n,t,e){const i=e instanceof Pn?new JQ(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+um(i));if("function"==typeof t)throw new Error(n+"contains a function "+um(i)+" with contents = "+t.toString());if(lA(t))throw new Error(n+"contains "+t.toString()+" "+um(i));if("string"==typeof t&&t.length>WF/3&&(0,F.ug)(t)>WF)throw new Error(n+"contains a string greater than "+WF+" utf8 bytes "+um(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(Br(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!FA(c)))throw new Error(n+" contains an invalid key ("+c+") "+um(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function eX(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),RG(n)})(i,c),vC(n,d,i),function tX(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+um(i)+" in addition to actual children.")}},Tz=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];Br(t,(c,d)=>{const p=new Pn(c);if(vC(r,d,Ii(e,p)),".priority"===lF(p)&&!yC(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=iC(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!FA(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(XQ);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&il(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},ZF=function(n,t,e){if(!e||void 0!==t){if(lA(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yC(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},bC=function(n,t,e,i){if(!(i&&void 0===e||FA(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},wC=function(n,t,e,i){if(!(i&&void 0===e||Sz(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},sl=function(n,t){if(".info"===rn(t))throw new Error(n+" failed = Can't modify data under /.info/")},Az=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!FA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sz(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class HJ{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function LA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!cF(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function Mz(n,t,e){LA(n,e),kz(n,i=>cF(i,t))}function oa(n,t,e){LA(n,e),kz(n,i=>il(i,t)||il(t,i))}function kz(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(jJ(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function jJ(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();lm&&Vr("event: "+e.toString()),ny(i)}}}const xz="repo_interrupt";class GJ{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HJ,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=bA(),this.transactionQueueTree_=new GF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rz(n){const e=n.infoData_.getNode(new Pn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function CC(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Rz(n)})}function Oz(n,t,e,i,r){n.dataUpdateCount++;const s=new Pn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,F.UI)(e,_=>ki(_));c=function DJ(n,t,e,i){const r=LF(n,i);if(r){const s=VF(r),c=s.path,d=s.queryId,p=Qs(c,t),_=ai.fromObject(e);return BF(n,c,new cy(DF(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=ki(e);c=yz(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,F.UI)(e,_=>ki(_));c=function wJ(n,t,e){const i=ai.fromObject(e);return dy(n,new cy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=ki(e);c=pC(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=fy(n,s)),oa(n.eventQueue_,d,c)}function Pz(n,t){YF(n,"connected",t),!1===t&&function YJ(n){hy(n,"onDisconnectEvents");const t=CC(n),e=bA();wF(n.onDisconnect_,Mn(),(r,s)=>{const c=Ez(r,s,n.serverSyncTree_,t);ly(e,r,c)});let i=[];wF(e,Mn(),(r,s)=>{i=i.concat(pC(n.serverSyncTree_,r,s));const c=JF(n,r);fy(n,c)}),n.onDisconnect_=bA(),oa(n.eventQueue_,Mn(),i)}(n)}function YF(n,t,e){const i=new Pn("/.info/"+t),r=ki(e);n.infoData_.updateSnapshot(i,r);const s=pC(n.infoSyncTree_,i,r);oa(n.eventQueue_,i,s)}function VA(n){return n.nextWriteId_++}function KF(n,t,e,i,r){hy(n,"set",{path:t.toString(),value:e,priority:i});const s=CC(n),c=ki(e,i),d=RA(n.serverSyncTree_,t),p=jF(c,d,s),_=VA(n),w=NF(n.serverSyncTree_,t,p,_,!0);LA(n.eventQueue_,w),n.server_.put(t.toString(),c.val(!0),(M,O)=>{const N="ok"===M;N||bs("set at "+t+" failed: "+M);const z=rf(n.serverSyncTree_,_,!N);oa(n.eventQueue_,t,z),sf(0,r,M,O)});const I=JF(n,t);fy(n,I),oa(n.eventQueue_,I,[])}function KJ(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&bF(n.onDisconnect_,t),sf(0,e,i,r)})}function Nz(n,t,e,i){const r=ki(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&ly(n.onDisconnect_,t,r),sf(0,i,s,c)})}function QF(n,t,e){let i;i=".info"===rn(t._path)?xA(n.infoSyncTree_,t,e):xA(n.serverSyncTree_,t,e),Mz(n.eventQueue_,t._path,i)}function Fz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(xz)}function hy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Vr(e,...t)}function sf(n,t,e,i){t&&ny(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function XF(n,t,e){return RA(n.serverSyncTree_,t,e)||Qt.EMPTY_NODE}function BA(n,t=n.transactionQueueTree_){if(t||UA(n,t),mm(t)){const e=Vz(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function nee(n,t,e){const i=e.map(_=>_.currentWriteId),r=XF(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const w=e[_];(0,F.hu)(0===w.status,"tryToSendTransactionQueue_: items in queue should all be run."),w.status=1,w.retryCount++;const I=Qs(t,w.path);s=s.updateChild(I,w.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{hy(n,"transaction put response",{path:p.toString(),status:_});let w=[];if("ok"===_){const I=[];for(let M=0;M<e.length;M++)e[M].status=2,w=w.concat(rf(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&I.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();UA(n,PA(n.transactionQueueTree_,t)),BA(n,n.transactionQueueTree_),oa(n.eventQueue_,t,w);for(let M=0;M<I.length;M++)ny(I[M])}else{if("datastale"===_)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{bs("transaction at "+p.toString()+" failed: "+_);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=_}fy(n,t)}},c)}(n,_C(t),e)}else Dz(t)&&NA(t,e=>{BA(n,e)})}function fy(n,t){const e=Lz(n,t),i=_C(e);return function iee(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=Qs(e,p.path);let I,w=!1;if((0,F.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)w=!0,I=p.abortReason,r=r.concat(rf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)w=!0,I="maxretry",r=r.concat(rf(n.serverSyncTree_,p.currentWriteId,!0));else{const M=XF(n,p.path,c);p.currentInputSnapshot=M;const O=t[d].update(M.val());if(void 0!==O){vC("transaction failed: Data returned ",O,p.path);let N=ki(O);"object"==typeof O&&null!=O&&(0,F.r3)(O,".priority")||(N=N.updatePriority(M.getPriority()));const ie=p.currentWriteId,Me=CC(n),ze=jF(N,M,Me);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=ze,p.currentWriteId=VA(n),c.splice(c.indexOf(ie),1),r=r.concat(NF(n.serverSyncTree_,p.path,ze,p.currentWriteId,p.applyLocally)),r=r.concat(rf(n.serverSyncTree_,ie,!0))}else w=!0,I="nodata",r=r.concat(rf(n.serverSyncTree_,p.currentWriteId,!0))}oa(n.eventQueue_,e,r),r=[],w&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===I?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(I),!1,null)))}UA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)ny(i[d]);BA(n,n.transactionQueueTree_)}(n,Vz(n,e),i),i}function Lz(n,t){let e,i=n.transactionQueueTree_;for(e=rn(t);null!==e&&void 0===mm(i);)i=PA(i,e),e=rn(t=ei(t));return i}function Vz(n,t){const e=[];return Bz(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Bz(n,t,e){const i=mm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);NA(t,r=>{Bz(n,r,e)})}function UA(n,t){const e=mm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,zF(t,e.length>0?e:void 0)}NA(t,i=>{UA(n,i)})}function JF(n,t){const e=_C(Lz(n,t)),i=PA(n.transactionQueueTree_,t);return function PJ(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{eL(n,r)}),eL(n,i),Iz(i,r=>{eL(n,r)}),e}function eL(n,t){const e=mm(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,F.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,F.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(rf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?zF(t,void 0):e.length=s+1,oa(n.eventQueue_,_C(t),r);for(let c=0;c<i.length;c++)ny(i[c])}}const tL=function(n,t){const e=oee(n),i=e.namespace;return"firebase.com"===e.domain&&ou(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&ou("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&bs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new nF(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Pn(e.pathString)}},oee=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let w=n.indexOf("/");-1===w&&(w=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(w,I)),w<I&&(r=function ree(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(w,I)));const M=function see(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):bs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if("localhost"===O.toLowerCase())e="localhost";else if(O.split(".").length<=2)e=O;else{const N=t.indexOf(".");i=t.substring(0,N).toLowerCase(),e=t.substring(N+1),s=i}"ns"in M&&(s=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class Uz{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class Hz{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nL{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class jz{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return KJ(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){sl("OnDisconnect.remove",this._path);const t=new F.BH;return Nz(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){sl("OnDisconnect.set",this._path),cu("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return Nz(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){sl("OnDisconnect.setWithPriority",this._path),cu("OnDisconnect.setWithPriority",t,this._path,!1),ZF("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function QJ(n,t,e,i,r){const s=ki(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&ly(n.onDisconnect_,t,s),sf(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){sl("OnDisconnect.update",this._path),Tz("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function XJ(n,t,e,i){if((0,F.xb)(e))return Vr("onDisconnect().update() called with empty data.  Don't do anything."),void sf(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&Br(e,(c,d)=>{const p=ki(d);ly(n.onDisconnect_,Ii(t,c),p)}),sf(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Co{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return sn(this._path)?null:lF(this._path)}get ref(){return new ol(this._repo,this._path)}get _queryIdentifier(){const t=WG(this._queryParams),e=JN(t);return"{}"===e?"default":e}get _queryObject(){return WG(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Co))return!1;const e=this._repo===t._repo,i=cF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function QQ(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function HA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function af(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===lu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==vd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==au)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===oi){if(null!=t&&!yC(t)||null!=e&&!yC(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof pF||n.getIndex()===mF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function jA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class ol extends Co{constructor(t,e){super(t,e,new _A,!1)}get parent(){const t=xG(this._path);return null===t?null:new ol(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class gm{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Pn(t),i=_m(this.ref,t);return new gm(this._node.getChild(e),i,oi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new gm(r,_m(this.ref,i),oi)))}hasChild(t){const e=new Pn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $z(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?_m(n._root,t):n._root}function Gz(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=tL(t,n._repo.repoInfo_.nodeAdmin);Az("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&ou("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),$z(n,e.path.toString())}function _m(n,t){return null===rn((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),wC("child","path",e,!1)):wC("child","path",t,!1),new ol(n._repo,Ii(n._path,t));var e}function iL(n,t){n=(0,F.m9)(n),sl("set",n._path),cu("set",t,n._path,!1);const e=new F.BH;return KF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function dee(n,t){Tz("update",t,n._path,!1);const e=new F.BH;return function ZJ(n,t,e,i){hy(n,"update",{path:t.toString(),value:e});let r=!0;const s=CC(n),c={};if(Br(e,(d,p)=>{r=!1,c[d]=Ez(Ii(t,d),ki(p),n.serverSyncTree_,s)}),r)Vr("update() called with empty data.  Don't do anything."),sf(0,i,"ok",void 0);else{const d=VA(n),p=function bJ(n,t,e,i){!function LX(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=SF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ai.fromObject(e);return dy(n,new cy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);LA(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,w)=>{const I="ok"===_;I||bs("update at "+t+" failed: "+_);const M=rf(n.serverSyncTree_,d,!I),O=M.length>0?fy(n,t):t;oa(n.eventQueue_,O,M),sf(0,i,_,w)}),Br(e,_=>{const w=JF(n,Ii(t,_));fy(n,w)}),oa(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function hee(n){n=(0,F.m9)(n);const t=new nL(()=>{}),e=new EC(t);return function WJ(n,t,e){const i=function IJ(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,w)=>{const I=Qs(_,e);i=i||tf(w,I)});let r=n.syncPointTree_.get(e);r?i=i||tf(r,Mn()):(r=new hz,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Jh(i,!0,!1):null;return function lJ(n){return EA(n.viewCache_)}(fz(r,t,DA(n.pendingWriteTree_,t._path),s?c.getNode():Qt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=ki(r).withIndex(t._queryParams.getIndex());let c;if(FF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=pC(n.serverSyncTree_,t._path,s);else{const d=mC(n.serverSyncTree_,t);c=yz(n.serverSyncTree_,t._path,s,d)}return oa(n.eventQueue_,t._path,c),xA(n.serverSyncTree_,t,e,null,!0),s},r=>(hy(n,"get for query "+(0,F.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new gm(i,new ol(n._repo,n._path),n._queryParams.getIndex()))}class EC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Uz("value",this,new gm(t.snapshotNode,new ol(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Hz(this,t,e):null}matches(t){return t instanceof EC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class $A{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Hz(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=_m(new ol(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Uz(t.type,this,new gm(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof $A&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function DC(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(w,I)=>{QF(n._repo,n,d),p(w,I)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new nL(e,s||void 0),d="value"===t?new EC(c):new $A(t,c);return function JJ(n,t,e){let i;i=".info"===rn(t._path)?FF(n.infoSyncTree_,t,e):FF(n.serverSyncTree_,t,e),Mz(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>QF(n._repo,n,d)}function rL(n,t,e,i){return DC(n,"value",t,e,i)}function zz(n,t,e,i){return DC(n,"child_added",t,e,i)}function qz(n,t,e,i){return DC(n,"child_changed",t,e,i)}function Wz(n,t,e,i){return DC(n,"child_moved",t,e,i)}function Zz(n,t,e,i){return DC(n,"child_removed",t,e,i)}function Yz(n,t,e){let i=null;const r=e?new nL(e):null;"value"===t?i=new EC(r):t&&(i=new $A(t,r)),QF(n._repo,n,i)}class dc{}class Kz extends dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cu("endAt",this._value,t._path,!0);const e=vF(t._queryParams,this._value,this._key);if(jA(e),af(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Co(t._repo,t._path,e,t._orderByCalled)}}class pee extends dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cu("endBefore",this._value,t._path,!1);const e=function DX(n,t,e){let i,r;return n.index_===lu?("string"==typeof t&&(t=GG(t)),r=vF(n,t,e)):(i=null==e?vd:GG(e),r=vF(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(jA(e),af(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Co(t._repo,t._path,e,t._orderByCalled)}}class Qz extends dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cu("startAt",this._value,t._path,!0);const e=yF(t._queryParams,this._value,this._key);if(jA(e),af(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Co(t._repo,t._path,e,t._orderByCalled)}}class _ee extends dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){cu("startAfter",this._value,t._path,!1);const e=function EX(n,t,e){let i;if(n.index_===lu)"string"==typeof t&&(t=$G(t)),i=yF(n,t,e);else{let r;r=null==e?au:$G(e),i=yF(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(jA(e),af(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Co(t._repo,t._path,e,t._orderByCalled)}}class vee extends dc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Co(t._repo,t._path,function wX(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class wee extends dc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Co(t._repo,t._path,function CX(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Eee extends dc{constructor(t){super(),this._path=t}_apply(t){HA(t,"orderByChild");const e=new Pn(this._path);if(sn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new pF(e),r=yA(t._queryParams,i);return af(r),new Co(t._repo,t._path,r,!0)}}class Iee extends dc{_apply(t){HA(t,"orderByKey");const e=yA(t._queryParams,lu);return af(e),new Co(t._repo,t._path,e,!0)}}class Tee extends dc{_apply(t){HA(t,"orderByPriority");const e=yA(t._queryParams,oi);return af(e),new Co(t._repo,t._path,e,!0)}}class Mee extends dc{_apply(t){HA(t,"orderByValue");const e=yA(t._queryParams,mF);return af(e),new Co(t._repo,t._path,e,!0)}}class xee extends dc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(cu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Kz(this._value,this._key)._apply(new Qz(this._value,this._key)._apply(t))}}function hc(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function hJ(n){(0,F.hu)(!AA,"__referenceConstructor has already been defined"),AA=n})(ol),function _J(n){(0,F.hu)(!kA,"__referenceConstructor has already been defined"),kA=n}(ol);const sL={};function Jz(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||ou("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=tL(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=tL(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const w=r&&p?new nC(nC.OWNER):new SQ(n.name,n.options,t);Az("Invalid Firebase Database URL",c),sn(c.path)||ou("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function Fee(n,t,e,i){let r=sL[t.name];r||(r={},sL[t.name]=r);let s=r[n.toURLString()];return s&&ou("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new GJ(n,false,e,i),r[n.toURLString()]=s,s}(d,n,w,new IQ(n.name,e));return new Vee(I,n)}class Vee{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function zJ(n,t,e){if(n.stats_=sF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new vA(n.repoInfo_,(i,r,s,c)=>{Oz(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Pz(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new dm(n.repoInfo_,t,(i,r,s,c)=>{Oz(n,i,r,s,c)},i=>{Pz(n,i)},i=>{!function qJ(n,t){Br(t,(e,i)=>{YF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function MQ(n,t){const e=n.toString();return rF[e]||(rF[e]=t()),rF[e]}(n.repoInfo_,()=>new kX(n.stats_,n.server_)),n.infoData_=new IX,n.infoSyncTree_=new _z({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=pC(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),YF(n,"connected",!1),n.serverSyncTree_=new _z({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);oa(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ol(this._repo,Mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Nee(n,t){const e=sL[t];(!e||e[n.key]!==n)&&ou(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Fz(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&ou("Cannot call "+t+" on a deleted database.")}}function eq(){vG.IS_TRANSPORT_INITIALIZED&&bs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Bee(){eq(),Qh.forceDisallow()}function Uee(){eq(),iy.forceDisallow(),Qh.forceAllow()}function Gee(n,t){J$(n,t)}const qee={".sv":"timestamp"};class Yee{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}dm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},dm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function zee(n){Z$(Hs.SDK_VERSION),(0,Hs._registerComponent)(new rc.wA("database",(t,{instanceIdentifier:e})=>Jz(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Hs.registerVersion)(q$,"0.13.6",n),(0,Hs.registerVersion)(q$,"0.13.6","esm2017")}();const Jee=new sc.Yd("@firebase/database-compat"),tq=function(n){Jee.warn("FIREBASE WARNING: "+n)};class nte{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,tq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class ite{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class lf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),wC("DataSnapshot.child","path",t,!1),new lf(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),wC("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new lf(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new aa(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ns{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const c=ns.getCancelAndContextArgs_("Query.on",i,r),d=(_,w)=>{e.call(c.context,new lf(this.database,_),w)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return rL(this._delegate,d,p),e;case"child_added":return zz(this._delegate,d,p),e;case"child_removed":return Zz(this._delegate,d,p),e;case"child_changed":return qz(this._delegate,d,p),e;case"child_moved":return Wz(this._delegate,d,p),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Yz(this._delegate,t,r)}else Yz(this._delegate,t)}get(){return hee(this._delegate).then(t=>new lf(this.database,t))}once(t,e,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const s=ns.getCancelAndContextArgs_("Query.once",i,r),c=new F.BH,d=(_,w)=>{const I=new lf(this.database,_);e&&e.call(s.context,I,w),c.resolve(I)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":rL(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":zz(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":Zz(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":qz(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":Wz(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new ns(this.database,hc(this._delegate,function bee(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new vee(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new ns(this.database,hc(this._delegate,function Cee(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wee(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new ns(this.database,hc(this._delegate,function Dee(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return wC("orderByChild","path",n,!1),new Eee(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new ns(this.database,hc(this._delegate,function See(){return new Iee}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new ns(this.database,hc(this._delegate,function Aee(){return new Tee}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new ns(this.database,hc(this._delegate,function kee(){return new Mee}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new ns(this.database,hc(this._delegate,function gee(n=null,t){return bC("startAt","key",t,!0),new Qz(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new ns(this.database,hc(this._delegate,function yee(n,t){return bC("startAfter","key",t,!0),new _ee(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new ns(this.database,hc(this._delegate,function fee(n,t){return bC("endAt","key",t,!0),new Kz(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new ns(this.database,hc(this._delegate,function mee(n,t){return bC("endBefore","key",t,!0),new pee(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new ns(this.database,hc(this._delegate,function Ree(n,t){return bC("equalTo","key",t,!0),new xee(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ns))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,F.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new aa(this.database,new ol(this._delegate._repo,this._delegate._path))}}class aa extends ns{constructor(t,e){super(t,new Co(e._repo,e._path,new _A,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new aa(this.database,_m(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new aa(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new aa(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=iL(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,tq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}sl("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=dee(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function uee(n,t,e){if(sl("setWithPriority",n._path),cu("setWithPriority",t,n._path,!1),ZF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return KF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function lee(n){return sl("remove",n._path),iL(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Kee(n,t,e){var i;if(n=(0,F.m9)(n),sl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new F.BH,d=rL(n,()=>{});return function tee(n,t,e,i,r,s){hy(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:K$(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=XF(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{vC("transaction failed: Data returned ",p,c.path),c.status=0;const _=PA(n.transactionQueueTree_,t),w=mm(_)||[];let I;w.push(c),zF(_,w),"object"==typeof p&&null!==p&&(0,F.r3)(p,".priority")?(I=(0,F.DV)(p,".priority"),(0,F.hu)(yC(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(RA(n.serverSyncTree_,t)||Qt.EMPTY_NODE).getPriority().val();const M=CC(n),O=ki(p,I),N=jF(O,d,M);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=N,c.currentWriteId=VA(n);const z=NF(n.serverSyncTree_,t,N,c.currentWriteId,c.applyLocally);oa(n.eventQueue_,t,z),BA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,w)=>{let I=null;p?s.reject(p):(I=new gm(w,new ol(n._repo,n._path),oi),s.resolve(new Yee(_,I)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new ite(s.committed,new lf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function cee(n,t){n=(0,F.m9)(n),sl("setPriority",n._path),ZF("setPriority",t,!1);const e=new F.BH;return KF(n._repo,Ii(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function aee(n,t){n=(0,F.m9)(n),sl("push",n._path),cu("push",t,n._path,!0);const e=Rz(n._repo),i=_X(e),r=_m(n,i),s=_m(n,i);let c;return c=null!=t?iL(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new aa(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new aa(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return sl("Reference.onDisconnect",this._delegate._path),new nte(new jz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class IC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Bee,forceLongPolling:Uee}}useEmulator(t,e,i={}){!function Hee(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&ou("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ou('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new nC(nC.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new nC(c)}!function Pee(n,t,e,i){n.repoInfo_=new nF(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof aa){const e=Gz(this._delegate,t.toString());return new aa(this,e)}{const e=$z(this._delegate,t);return new aa(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=Gz(this._delegate,t);return new aa(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function jee(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),Fz(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function $ee(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function eee(n){n.persistentConnection_&&n.persistentConnection_.resume(xz)}(n._repo)}(this._delegate)}}IC.ServerValue={TIMESTAMP:function Wee(){return qee}(),increment:n=>function Zee(n){return{".sv":{increment:n}}}(n)};var ste=Object.freeze({__proto__:null,initStandalone:function rte({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){Z$(e);const c=new rc.zt("auth-internal",new rc.H0("database-standalone"));return c.setComponent(new rc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new IC(Jz(n,c,void 0,t,s),n),namespace:r}}});const ote=IC.ServerValue;function nq(n){return null==n}function iq(n){return"function"==typeof n.set}function rq(n,t){return iq(t)?t:n.ref(t)}function sq(n,t){if(function lte(n){return"string"==typeof n}(n))return t.stringCase();if(iq(n))return t.firebaseCase();if(function cte(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function SC(n,t,e="on",i=Lc.z){return new Qi.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,ct.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,n_.B)())}function oq(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function hte(n,t){const{payload:e,prevKey:i,key:r}=t,s=oq(n,r),c=function dte(n,t){if(nq(t))return 0;{const e=oq(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function aq(n){return(nq(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function lq(n,t,e){return function ute(n,t,e){return SC(n,"value","once",e).pipe(Xn(i=>{const r=[et(i)];return t.forEach(s=>r.push(SC(n,s,"on",e))),(0,gs.T)(...r).pipe(Mp(hte,[]))}),th())}(n,t=aq(t),e)}function cq(n,t,e){const i=(t=aq(t)).map(r=>SC(n,r,"on",e));return(0,gs.T)(...i)}function uq(n,t){return function(i,r){return sq(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function gte(n){return function(e){return e?sq(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function dq(n,t){return function(){return SC(n,"value","on",t)}}!function ate(n){n.INTERNAL.registerComponent(new rc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new IC(r,i)},"PUBLIC").setServiceProps({Reference:aa,Query:ns,Database:IC,DataSnapshot:lf,enableLogging:Gee,INTERNAL:ste,ServerValue:ote}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(UO.Z);const vte=new a.OlP("angularfire2.realtimeDatabaseURL"),bte=new a.OlP("angularfire2.database.use-emulator");let wte=(()=>{class n{constructor(e,i,r,s,c,d,p,_,w,I,M,O,N,z,ie){this.schedulers=d;const Me=p,ze=(0,Cr.on)(e,c,i);_&&BO(ze,c,w,M,O,N,I,z),this.database=(0,Cr.cc)(`${ze.name}.database.${r}`,"AngularFireDatabase",ze.name,()=>{const Xe=c.runOutsideAngular(()=>ze.database(r||void 0));return Me&&Xe.useEmulator(...Me),Xe},[Me])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>rq(this.database,e));let s=r;return i&&(s=i(r)),function _te(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:uq(i,"update"),set:uq(i,"set"),push:r=>i.push(r),remove:gte(i),snapshotChanges:r=>lq(n,r,e).pipe(An.iC),stateChanges:r=>cq(n,r,e).pipe(An.iC),auditTrail:r=>function fte(n,t,e){return function mte(n,t,e){return function pte(n,t){return SC(n,"value","on",t).pipe((0,ct.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function fQ(...n){const t=(0,Ps.jO)(n);return(0,bi.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,$l.Xf)(n[p]).subscribe((0,Kn.x)(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(eh.y))&&(c=null))},Gl.Z));e.subscribe((0,Kn.x)(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,ct.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function pQ(n){return(0,bi.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Kn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ct.U)(r=>r.actions))}(n,cq(n,t).pipe(Mp((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(An.iC),valueChanges:(r,s)=>lq(n,r,e).pipe((0,ct.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),An.iC)}}(s,this)}object(e){return function yte(n,t){return{query:n,snapshotChanges:()=>dq(n,t.schedulers.outsideAngular)().pipe(An.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>dq(n,t.schedulers.outsideAngular)().pipe(An.iC,(0,ct.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>rq(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Cr.Dh),a.LFG(Cr.xv,8),a.LFG(vte,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(An.HU),a.LFG(bte,8),a.LFG(jw,8),a.LFG(OO,8),a.LFG(PO,8),a.LFG(NO,8),a.LFG(FO,8),a.LFG(LO,8),a.LFG(VO,8),a.LFG(Hw,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Cte=(()=>{class n{constructor(){VS.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[wte]}),n})();var Ete=L(9635);function oL(){return(0,bi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Kn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class hq extends Qi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,bi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Sn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Kn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Sn.w0.EMPTY)}return t}refCount(){return oL()(this)}}function aL(n){return n<=0?()=>jl.E:(0,bi.e)((t,e)=>{let i=[];t.subscribe((0,Kn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function fq(n,t){const e=arguments.length>=2;return i=>i.pipe(n?pi((r,s)=>n(r,s,i)):eh.y,aL(1),e?MS(t):XB(()=>new AS))}const on="primary",TC=Symbol("RouteTitle");class Dte{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function py(n){return new Dte(n)}function Ite(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function uu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!pq(n[r],t[r]))return!1;return!0}function pq(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function mq(n){return Array.prototype.concat.apply([],n)}function gq(n){return n.length>0?n[n.length-1]:null}function is(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function cf(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,_n.D)(Promise.resolve(n)):et(n)}const Ate={exact:function vq(n,t,e){if(!vm(n.segments,t.segments)||!GA(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!vq(n.children[i],t.children[i],e))return!1;return!0},subset:bq},_q={exact:function Mte(n,t){return uu(n,t)},subset:function kte(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>pq(n[e],t[e]))},ignored:()=>!0};function yq(n,t,e){return Ate[e.paths](n.root,t.root,e.matrixParams)&&_q[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function bq(n,t,e){return wq(n,t,t.segments,e)}function wq(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!vm(r,e)||t.hasChildren()||!GA(r,e,i))}if(n.segments.length===e.length){if(!vm(n.segments,e)||!GA(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!bq(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(vm(n.segments,r)&&GA(n.segments,r,i)&&n.children[on])&&wq(n.children[on],t,s,i)}}function GA(n,t,e){return t.every((i,r)=>_q[e](n[r].parameters,i.parameters))}class ym{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=py(this.queryParams)),this._queryParamMap}toString(){return Ote.serialize(this)}}class fn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,is(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zA(this)}}class AC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=py(this.parameters)),this._parameterMap}toString(){return Iq(this)}}function vm(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Cq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return new cL},providedIn:"root"}),n})();class cL{parse(t){const e=new jte(t);return new ym(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${MC(t.root,!0)}`,i=function Fte(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${qA(e)}=${qA(r)}`).join("&"):`${qA(e)}=${qA(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function Pte(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Ote=new cL;function zA(n){return n.segments.map(t=>Iq(t)).join("/")}function MC(n,t){if(!n.hasChildren())return zA(n);if(t){const e=n.children[on]?MC(n.children[on],!1):"",i=[];return is(n.children,(r,s)=>{s!==on&&i.push(`${s}:${MC(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Rte(n,t){let e=[];return is(n.children,(i,r)=>{r===on&&(e=e.concat(t(i,r)))}),is(n.children,(i,r)=>{r!==on&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===on?[MC(n.children[on],!1)]:[`${r}:${MC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[on]?`${zA(n)}/${e[0]}`:`${zA(n)}/(${e.join("//")})`}}function Eq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qA(n){return Eq(n).replace(/%3B/gi,";")}function uL(n){return Eq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function WA(n){return decodeURIComponent(n)}function Dq(n){return WA(n.replace(/\+/g,"%20"))}function Iq(n){return`${uL(n.path)}${function Nte(n){return Object.keys(n).map(t=>`;${uL(t)}=${uL(n[t])}`).join("")}(n.parameters)}`}const Lte=/^[^\/()?;=#]+/;function ZA(n){const t=n.match(Lte);return t?t[0]:""}const Vte=/^[^=?&#]+/,Ute=/^[^&#]+/;class jte{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new fn([],{}):new fn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[on]=new fn(t,e)),i}parseSegment(){const t=ZA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new a.vHH(4009,!1);return this.capture(t),new AC(WA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ZA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=ZA(this.remaining);r&&(i=r,this.capture(i))}t[WA(e)]=WA(i)}parseQueryParam(t){const e=function Bte(n){const t=n.match(Vte);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Hte(n){const t=n.match(Ute);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Dq(e),s=Dq(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=ZA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new a.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=on);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[on]:new fn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new a.vHH(4011,!1)}}function dL(n){return n.segments.length>0?new fn([],{[on]:n}):n}function YA(n){const t={};for(const i of Object.keys(n.children)){const s=YA(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function $te(n){if(1===n.numberOfChildren&&n.children[on]){const t=n.children[on];return new fn(n.segments.concat(t.segments),t.children)}return n}(new fn(n.segments,t))}function bm(n){return n instanceof ym}function qte(n,t,e,i,r){if(0===e.length)return my(t.root,t.root,t.root,i,r);const s=function Aq(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Tq(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return is(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Tq(e,t,i)}(e);return s.toRoot()?my(t.root,t.root,new fn([],{}),i,r):function c(p){const _=function Zte(n,t,e,i){if(n.isAbsolute)return new gy(t.root,!0,0);if(-1===i)return new gy(e,e===t.root,0);return function Mq(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new a.vHH(4005,!1);r=i.segments.length}return new gy(i,!1,r-s)}(e,i+(kC(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),w=_.processChildren?RC(_.segmentGroup,_.index,s.commands):fL(_.segmentGroup,_.index,s.commands);return my(t.root,_.segmentGroup,w,i,r)}(n.snapshot?._lastPathIndex)}function kC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function xC(n){return"object"==typeof n&&null!=n&&n.outlets}function my(n,t,e,i,r){let c,s={};i&&is(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(w=>`${w}`):`${p}`}),c=n===t?e:Sq(n,t,e);const d=dL(YA(c));return new ym(d,s,r)}function Sq(n,t,e){const i={};return is(n.children,(r,s)=>{i[s]=r===t?e:Sq(r,t,e)}),new fn(n.segments,i)}class Tq{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&kC(i[0]))throw new a.vHH(4003,!1);const r=i.find(xC);if(r&&r!==gq(i))throw new a.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gy{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function fL(n,t,e){if(n||(n=new fn([],{})),0===n.segments.length&&n.hasChildren())return RC(n,t,e);const i=function Kte(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(xC(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!xq(p,_,c))return s;i+=2}else{if(!xq(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new fn(n.segments.slice(0,i.pathIndex),{});return s.children[on]=new fn(n.segments.slice(i.pathIndex),n.children),RC(s,0,r)}return i.match&&0===r.length?new fn(n.segments,{}):i.match&&!n.hasChildren()?pL(n,t,e):i.match?RC(n,0,r):pL(n,t,e)}function RC(n,t,e){if(0===e.length)return new fn(n.segments,{});{const i=function Yte(n){return xC(n[0])?n[0].outlets:{[on]:n}}(e),r={};return is(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=fL(n.children[c],t,s))}),is(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new fn(n.segments,r)}}function pL(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(xC(s)){const p=Qte(s.outlets);return new fn(i,p)}if(0===r&&kC(e[0])){i.push(new AC(n.segments[t].path,kq(e[0]))),r++;continue}const c=xC(s)?s.outlets[on]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&kC(d)?(i.push(new AC(c,kq(d))),r+=2):(i.push(new AC(c,{})),r++)}return new fn(i,{})}function Qte(n){const t={};return is(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=pL(new fn([],{}),0,e))}),t}function kq(n){const t={};return is(n,(e,i)=>t[i]=`${e}`),t}function xq(n,t,e){return n==e.path&&uu(t,e.parameters)}class wd{constructor(t,e){this.id=t,this.url=e}}class mL extends wd{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wm extends wd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class KA extends wd{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Rq extends wd{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xte extends wd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jte extends wd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ene extends wd{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class tne extends wd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nne extends wd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ine{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class rne{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class sne{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class one{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ane{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class lne{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oq{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pq{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=gL(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=gL(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=_L(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return _L(t,this._root).map(e=>e.value)}}function gL(n,t){if(n===t.value)return t;for(const e of t.children){const i=gL(n,e);if(i)return i}return null}function _L(n,t){if(n===t.value)return[t];for(const e of t.children){const i=_L(n,e);if(i.length)return i.unshift(t),i}return[]}class Cd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _y(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Nq extends Pq{constructor(t,e){super(t),this.snapshot=e,yL(this,t)}toString(){return this.snapshot.toString()}}function Fq(n,t){const e=function une(n,t){const c=new QA([],{},{},"",{},on,t,null,n.root,-1,{});return new Vq("",new Cd(c,[]))}(n,t),i=new vi([new AC("",{})]),r=new vi({}),s=new vi({}),c=new vi({}),d=new vi(""),p=new uf(i,r,c,d,s,on,t,e.root);return p.snapshot=e.root,new Nq(new Cd(p,[]),e)}class uf{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,ct.U)(_=>_[TC]))??et(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(t=>py(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(t=>py(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lq(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function dne(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class QA{constructor(t,e,i,r,s,c,d,p,_,w,I,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.[TC],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=w,this._correctedLastPathIndex=M??w,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=py(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=py(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vq extends Pq{constructor(t,e){super(e),this.url=t,yL(this,e)}toString(){return Bq(this._root)}}function yL(n,t){t.value._routerState=n,t.children.forEach(e=>yL(n,e))}function Bq(n){const t=n.children.length>0?` { ${n.children.map(Bq).join(", ")} } `:"";return`${n.value}${t}`}function vL(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,uu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),uu(t.params,e.params)||n.params.next(e.params),function Ste(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!uu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),uu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function bL(n,t){const e=uu(n.params,t.params)&&function xte(n,t){return vm(n,t)&&n.every((e,i)=>uu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||bL(n.parent,t.parent))}function OC(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function fne(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return OC(n,i,r);return OC(n,i)})}(n,t,e);return new Cd(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>OC(n,d)),c}}const i=function pne(n){return new uf(new vi(n.url),new vi(n.params),new vi(n.queryParams),new vi(n.fragment),new vi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>OC(n,s));return new Cd(i,r)}}const wL="ngNavigationCancelingError";function Uq(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=bm(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Hq(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Hq(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[wL]=!0,i.cancellationCode=t,e&&(i.url=e),i}function jq(n){return $q(n)&&bm(n.url)}function $q(n){return n&&n[wL]}class mne{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new PC,this.attachRef=null}}let PC=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new mne,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const XA=!1;let CL=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=r||on,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.vHH(4012,XA);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.vHH(4012,XA);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.vHH(4012,XA);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new a.vHH(4013,XA);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new gne(e,d,r.injector);if(i&&function _ne(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(PC),a.Y36(a.s_b),a.$8M("name"),a.Y36(a.sBO),a.Y36(a.lqb))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class gne{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===uf?this.route:t===PC?this.childContexts:this.parent.get(t,e)}}let EL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[a.jDz],decls:1,vars:0,template:function(e,i){1&e&&a._UZ(0,"router-outlet")},dependencies:[CL],encapsulation:2}),n})();function Gq(n,t){return n.providers&&!n._injector&&(n._injector=(0,a.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function IL(n){const t=n.children&&n.children.map(IL),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==on&&(e.component=EL),e}function al(n){return n.outlet||on}function zq(n,t){const e=n.filter(i=>al(i)===t);return e.push(...n.filter(i=>al(i)!==t)),e}function NC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Cne{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),vL(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=_y(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),is(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=_y(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=_y(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=_y(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new lne(s.value.snapshot))}),t.children.length&&this.forwardEvent(new one(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(vL(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),vL(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=NC(r.snapshot),p=d?.get(a._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class qq{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class JA{constructor(t,e){this.component=t,this.route=e}}function Ene(n,t,e){const i=n._root;return FC(i,t?t._root:null,e,[i.value])}function yy(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,a.Z0I)(n)?t.get(n):n:i}function FC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=_y(t);return n.children.forEach(c=>{(function Ine(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function Sne(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!vm(n.url,t.url);case"pathParamsOrQueryParamsChange":return!vm(n.url,t.url)||!uu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bL(n,t)||!uu(n.queryParams,t.queryParams);default:return!bL(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new qq(i)):(s.data=c.data,s._resolvedData=c._resolvedData),FC(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new JA(d.outlet.component,c))}else c&&LC(t,d,r),r.canActivateChecks.push(new qq(i)),FC(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),is(s,(c,d)=>LC(c,e.getContext(d),r)),r}function LC(n,t,e){const i=_y(n),r=n.value;is(i,(s,c)=>{LC(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new JA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function VC(n){return"function"==typeof n}function SL(n){return n instanceof AS||"EmptyError"===n?.name}const eM=Symbol("INITIAL_VALUE");function vy(){return Xn(n=>Ou(n.map(t=>t.pipe(ri(1),vr(eM)))).pipe((0,ct.U)(t=>{for(const e of t)if(!0!==e){if(e===eM)return eM;if(!1===e||e instanceof ym)return e}return!0}),pi(t=>t!==eM),ri(1)))}function Wq(n){return(0,Ete.z)((0,Yn.b)(t=>{if(bm(t))throw Uq(0,t)}),(0,ct.U)(t=>!0===t))}const TL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Zq(n,t,e,i,r){const s=AL(n,t,e);return s.matched?function $ne(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?et(r.map(c=>{const d=yy(c,n);return cf(function Rne(n){return n&&VC(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(vy(),Wq()):et(!0)}(i=Gq(t,i),t,e).pipe((0,ct.U)(c=>!0===c?s:{...TL})):et(s)}function AL(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...TL}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Ite)(e,n,t);if(!r)return{...TL};const s={};is(r.posParams,(d,p)=>{s[p]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function tM(n,t,e,i,r="corrected"){if(e.length>0&&function qne(n,t,e){return e.some(i=>nM(n,t,i)&&al(i)!==on)}(n,e,i)){const c=new fn(t,function zne(n,t,e,i){const r={};r[on]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&al(s)!==on){const c=new fn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[al(s)]=c}return r}(n,t,i,new fn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Wne(n,t,e){return e.some(i=>nM(n,t,i))}(n,e,i)){const c=new fn(n.segments,function Gne(n,t,e,i,r,s){const c={};for(const d of i)if(nM(n,e,d)&&!r[al(d)]){const p=new fn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[al(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new fn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function nM(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Yq(n,t,e,i){return!!(al(n)===i||i!==on&&nM(t,e,n))&&("**"===n.path||AL(t,n,e).matched)}function Kq(n,t,e){return 0===t.length&&!n.children[e]}const iM=!1;class rM{constructor(t){this.segmentGroup=t||null}}class Qq{constructor(t){this.urlTree=t}}function BC(n){return Sh(new rM(n))}function Xq(n){return Sh(new Qq(n))}class Qne{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=tM(this.urlTree.root,[],[],this.config).segmentGroup,e=new fn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,on).pipe((0,ct.U)(s=>this.createUrlTree(YA(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ec(s=>{if(s instanceof Qq)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof rM?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,on).pipe((0,ct.U)(r=>this.createUrlTree(YA(r),t.queryParams,t.fragment))).pipe(ec(r=>{throw r instanceof rM?this.noMatchError(r):r}))}noMatchError(t){return new a.vHH(4002,iM)}createUrlTree(t,e,i){const r=dL(t);return new ym(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ct.U)(s=>new fn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,_n.D)(r).pipe(tc(s=>{const c=i.children[s],d=zq(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,ct.U)(p=>({segment:p,outlet:s})))}),Mp((s,c)=>(s[c.outlet]=c.segment,s),{}),fq())}expandSegment(t,e,i,r,s,c){return(0,_n.D)(i).pipe(tc(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(ec(_=>{if(_ instanceof rM)return et(null);throw _}))),ld(d=>!!d),ec((d,p)=>{if(SL(d))return Kq(e,r,s)?et(new fn([],{})):BC(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return Yq(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):BC(e):BC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Xq(s):this.lineralizeSegments(i,s).pipe((0,wr.z)(c=>{const d=new fn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:w}=AL(e,r,s);if(!d)return BC(e);const I=this.applyRedirectCommands(p,r.redirectTo,w);return r.redirectTo.startsWith("/")?Xq(I):this.lineralizeSegments(r,I).pipe((0,wr.z)(M=>this.expandSegment(t,e,i,M.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=Gq(i,t),i.loadChildren?(i._loadedRoutes?et({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,ct.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new fn(r,{})))):et(new fn(r,{}))):Zq(e,i,r,t).pipe(Xn(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,wr.z)(w=>{const I=w.injector??t,M=w.routes,{segmentGroup:O,slicedSegments:N}=tM(e,d,p,M),z=new fn(O.segments,O.children);if(0===N.length&&z.hasChildren())return this.expandChildren(I,M,z).pipe((0,ct.U)(Xe=>new fn(d,Xe)));if(0===M.length&&0===N.length)return et(new fn(d,{}));const ie=al(i)===s;return this.expandSegment(I,z,M,N,ie?on:s,!0).pipe((0,ct.U)(ze=>new fn(d.concat(ze.segments),ze.children)))})):BC(e)))}getChildConfig(t,e,i){return e.children?et({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?et({routes:e._loadedRoutes,injector:e._loadedInjector}):function jne(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?et(!0):et(r.map(c=>{const d=yy(c,n);return cf(function Ane(n){return n&&VC(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(vy(),Wq())}(t,e,i).pipe((0,wr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,Yn.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Yne(n){return Sh(Hq(iM,3))}())):et({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[on])return Sh(new a.vHH(4e3,iM));r=r.children[on]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ym(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return is(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return is(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new fn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new a.vHH(4001,iM);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Jne{}class nie{constructor(t,e,i,r,s,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=tM(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,on).pipe((0,ct.U)(e=>{if(null===e)return null;const i=new QA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},on,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Cd(i,e),s=new Vq(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=Lq(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,_n.D)(Object.keys(i.children)).pipe(tc(r=>{const s=i.children[r],c=zq(e,r);return this.processSegmentGroup(t,c,s,r)}),Mp((r,s)=>r&&s?(r.push(...s),r):null),KI(r=>null!==r),MS(null),fq(),(0,ct.U)(r=>{if(null===r)return null;const s=Jq(r);return function iie(n){n.sort((t,e)=>t.value.outlet===on?-1:e.value.outlet===on?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,_n.D)(e).pipe(tc(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,s)),ld(c=>!!c),ec(c=>{if(SL(c))return Kq(i,r,s)?et([]):et(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!Yq(e,i,r,s))return et(null);let c;if("**"===e.path){const d=r.length>0?gq(r).parameters:{},p=t6(i)+r.length;c=et({snapshot:new QA(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,i6(e),al(e),e.component??e._loadedComponent??null,e,e6(i),p,r6(e),p),consumedSegments:[],remainingSegments:[]})}else c=Zq(i,e,r,t).pipe((0,ct.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:w})=>{if(!d)return null;const I=t6(i)+p.length;return{snapshot:new QA(p,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,i6(e),al(e),e.component??e._loadedComponent??null,e,e6(i),I,r6(e),I),consumedSegments:p,remainingSegments:_}}));return c.pipe(Xn(d=>{if(null===d)return et(null);const{snapshot:p,consumedSegments:_,remainingSegments:w}=d;t=e._injector??t;const I=e._loadedInjector??t,M=function rie(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:O,slicedSegments:N}=tM(i,_,w,M.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===N.length&&O.hasChildren())return this.processChildren(I,M,O).pipe((0,ct.U)(ie=>null===ie?null:[new Cd(p,ie)]));if(0===M.length&&0===N.length)return et([new Cd(p,[])]);const z=al(e)===s;return this.processSegment(I,M,O,N,z?on:s).pipe((0,ct.U)(ie=>null===ie?null:[new Cd(p,ie)]))}))}}function sie(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Jq(n){const t=[],e=new Set;for(const i of n){if(!sie(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Jq(i.children);t.push(new Cd(i.value,r))}return t.filter(i=>!e.has(i))}function e6(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function t6(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function i6(n){return n.data||{}}function r6(n){return n.resolve||{}}function s6(n){return"string"==typeof n.title||null===n.title}function ML(n){return Xn(t=>{const e=n(t);return e?(0,_n.D)(e).pipe((0,ct.U)(()=>t)):et(t)})}let o6=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===on);return i}getResolvedTitleForRoute(e){return e.data[TC]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return(0,a.f3M)(a6)},providedIn:"root"}),n})(),a6=(()=>{class n extends o6{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(us))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class fie{}class mie extends class pie{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const oM=new a.OlP("",{providedIn:"root",factory:()=>({})}),kL=new a.OlP("ROUTES");let xL=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return et(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=cf(e.loadComponent()).pipe((0,Yn.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Zc(()=>{this.componentLoaders.delete(e)})),r=new hq(i,()=>new St.x).pipe(oL());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ct.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,w=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=mq(p.get(kL,[],a.XFs.Self|a.XFs.Optional)));return{routes:_.map(IL),injector:p}}),Zc(()=>{this.childrenLoaders.delete(i)})),c=new hq(s,()=>new St.x).pipe(oL());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return cf(e()).pipe((0,wr.z)(i=>i instanceof a.YKP||Array.isArray(i)?et(i):(0,_n.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(a.zs3),a.LFG(a.Sil))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class _ie{}class yie{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function vie(n){throw n}function bie(n,t,e){return t.parse("/")}const wie={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cie={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function c6(){const n=(0,a.f3M)(Cq),t=(0,a.f3M)(PC),e=(0,a.f3M)(Fe),i=(0,a.f3M)(a.zs3),r=(0,a.f3M)(a.Sil),s=(0,a.f3M)(kL,{optional:!0})??[],c=(0,a.f3M)(oM,{optional:!0})??{},d=(0,a.f3M)(a6),p=(0,a.f3M)(o6,{optional:!0}),_=(0,a.f3M)(_ie,{optional:!0}),w=(0,a.f3M)(fie,{optional:!0}),I=new dr(null,n,t,e,i,r,mq(s));return _&&(I.urlHandlingStrategy=_),w&&(I.routeReuseStrategy=w),I.titleStrategy=p??d,function Eie(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let dr=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new St.x,this.errorHandler=vie,this.malformedUriErrorHandler=bie,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>et(void 0),this.urlHandlingStrategy=new yie,this.routeReuseStrategy=new mie,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(xL),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new rne(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new ine(M)),this.ngModule=c.get(a.h0i),this.console=c.get(a.c2e);const I=c.get(a.R0b);this.isNgZoneEnabled=I instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function Tte(){return new ym(new fn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Fq(this.currentUrlTree,this.rootComponentType),this.transitions=new vi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(pi(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),Xn(r=>{let s=!1,c=!1;return et(r).pipe((0,Yn.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Xn(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return u6(d.source)&&(this.browserUrlTree=d.extractedUrl),et(d).pipe(Xn(I=>{const M=this.transitions.getValue();return i.next(new mL(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?jl.E:Promise.resolve(I)}),function Xne(n,t,e,i){return Xn(r=>function Kne(n,t,e,i,r){return new Qne(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ct.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yn.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function aie(n,t,e,i,r,s){return(0,wr.z)(c=>function tie(n,t,e,i,r,s,c="emptyOnly",d="legacy"){return new nie(n,t,e,i,r,c,d,s).recognize().pipe(Xn(p=>null===p?function eie(n){return new Qi.y(t=>t.error(n))}(new Jne):et(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,ct.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yn.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(O,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new Xte(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:O,source:N,restoredState:z,extras:ie}=d,Me=new mL(M,this.serializeUrl(O),N,z);i.next(Me);const ze=Fq(O,this.rootComponentType).snapshot;return et(r={...d,targetSnapshot:ze,urlAfterRedirects:O,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),jl.E}),(0,Yn.b)(d=>{const p=new Jte(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,ct.U)(d=>r={...d,guards:Ene(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function Pne(n,t){return(0,wr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?et({...e,guardsResult:!0}):function Nne(n,t,e,i){return(0,_n.D)(n).pipe((0,wr.z)(r=>function Hne(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?et(s.map(d=>{const p=NC(t)??r,_=yy(d,p);return cf(function xne(n){return n&&VC(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(ld())})).pipe(vy()):et(!0)}(r.component,r.route,e,t,i)),ld(r=>!0!==r,!0))}(c,i,r,n).pipe((0,wr.z)(d=>d&&function Tne(n){return"boolean"==typeof n}(d)?function Fne(n,t,e,i){return(0,_n.D)(t).pipe(tc(r=>Ym(function Vne(n,t){return null!==n&&t&&t(new sne(n)),et(!0)}(r.route.parent,i),function Lne(n,t){return null!==n&&t&&t(new ane(n)),et(!0)}(r.route,i),function Une(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function Dne(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>DS(()=>et(c.guards.map(p=>{const _=NC(c.node)??e,w=yy(p,_);return cf(function kne(n){return n&&VC(n.canActivateChild)}(w)?w.canActivateChild(i,n):_.runInContext(()=>w(i,n))).pipe(ld())})).pipe(vy())));return et(s).pipe(vy())}(n,r.path,e),function Bne(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(s=>DS(()=>{const c=NC(t)??e,d=yy(s,c);return cf(function Mne(n){return n&&VC(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(ld())}));return et(r).pipe(vy())}(n,r.route,e))),ld(r=>!0!==r,!0))}(i,s,n,t):et(d)),(0,ct.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,Yn.b)(d=>{if(r.guardsResult=d.guardsResult,bm(d.guardsResult))throw Uq(0,d.guardsResult);const p=new ene(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),pi(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),ML(d=>{if(d.guards.canActivateChecks.length)return et(d).pipe((0,Yn.b)(p=>{const _=new tne(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),Xn(p=>{let _=!1;return et(p).pipe(function lie(n,t){return(0,wr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return et(e);let s=0;return(0,_n.D)(r).pipe(tc(c=>function cie(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!s6(r)&&(s[TC]=r.title),function uie(n,t,e,i){const r=function die(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return et({});const s={};return(0,_n.D)(r).pipe((0,wr.z)(c=>function hie(n,t,e,i){const r=NC(t)??i,s=yy(n,r);return cf(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(ld(),(0,Yn.b)(d=>{s[c]=d}))),aL(1),pS(s),ec(c=>SL(c)?jl.E:Sh(c)))}(s,n,t,i).pipe((0,ct.U)(c=>(n._resolvedData=c,n.data=Lq(n,e).resolve,r&&s6(r)&&(n.data[TC]=r.title),null)))}(c.route,i,n,t)),(0,Yn.b)(()=>s++),aL(1),(0,wr.z)(c=>s===r.length?et(e):jl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yn.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,Yn.b)(p=>{const _=new nne(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),ML(d=>{const p=_=>{const w=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Yn.b)(I=>{_.component=I}),(0,ct.U)(()=>{})));for(const I of _.children)w.push(...p(I));return w};return Ou(p(d.targetSnapshot.root)).pipe(MS(),ri(1))}),ML(()=>this.afterPreactivation()),(0,ct.U)(d=>{const p=function hne(n,t,e){const i=OC(n,t._root,e?e._root:void 0);return new Nq(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,Yn.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,ct.U)(i=>(new Cne(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,Yn.b)({next(){s=!0},complete(){s=!0}}),Zc(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ec(d=>{if(c=!0,$q(d)){jq(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new KA(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),jq(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),w={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||u6(r.source)};this.scheduleNavigation(_,"imperative",null,w,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Rq(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return jl.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(IL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,w=p?this.currentUrlTree.fragment:c;let I=null;switch(d){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),qte(_,this.currentUrlTree,e,I,w??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=bm(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function Die(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new a.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...wie}:!1===i?{...Cie}:i,bm(e))return yq(this.currentUrlTree,e,r);const s=this.parseUrl(e);return yq(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,_;c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((M,O)=>{d=M,p=O});const w=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:w,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new KA(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:function(){return c6()},providedIn:"root"}),n})();function u6(n){return"imperative"!==n}let Cm=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new St.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dr),a.Y36(uf),a.$8M("tabindex"),a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&a.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Ed=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new St.x,this.subscription=e.events.subscribe(s=>{s instanceof wm&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,a.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,a.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,a.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){return!!(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dr),a.Y36(uf),a.Y36(Ee))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&a.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&a.uIk("target",i.target)("href",i.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[a.TTD]}),n})(),Em=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new a.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof wm&&this.update()})}ngAfterContentInit(){et(this.links.changes,this.linksWithHrefs.changes,et(null)).pipe((0,zl.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,_n.D)(e).pipe((0,zl.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function Iie(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(dr),a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(a.sBO),a.Y36(Cm,8),a.Y36(Ed,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(a.Suo(r,Cm,5),a.Suo(r,Ed,5)),2&e){let s;a.iGM(s=a.CRH())&&(i.links=s),a.iGM(s=a.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[a.TTD]}),n})();class d6{}let Sie=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(pi(e=>e instanceof wm),tc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,a.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,_n.D)(r).pipe((0,zl.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):et(null);const s=r.pipe((0,wr.z)(c=>null===c?et(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,_n.D)([s,c]).pipe((0,zl.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dr),a.LFG(a.Sil),a.LFG(a.lqb),a.LFG(d6),a.LFG(xL))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const RL=new a.OlP("");let h6=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof mL?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Oq&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Oq(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function by(n,t){return{\u0275kind:n,\u0275providers:t}}function OL(n){return[{provide:kL,multi:!0,useValue:n}]}function p6(){const n=(0,a.f3M)(a.zs3);return t=>{const e=n.get(a.z2F);if(t!==e.components[0])return;const i=n.get(dr),r=n.get(m6);1===n.get(PL)&&i.initialNavigation(),n.get(g6,null,a.XFs.Optional)?.setUpPreloading(),n.get(RL,null,a.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const m6=new a.OlP("",{factory:()=>new St.x}),PL=new a.OlP("",{providedIn:"root",factory:()=>1});const g6=new a.OlP("");function kie(n){return by(0,[{provide:g6,useExisting:Sie},{provide:d6,useExisting:n}])}const _6=new a.OlP("ROUTER_FORROOT_GUARD"),xie=[Fe,{provide:Cq,useClass:cL},{provide:dr,useFactory:c6},PC,{provide:uf,useFactory:function f6(n){return n.routerState.root},deps:[dr]},xL];function Rie(){return new a.PXZ("Router",dr)}let y6=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[xie,[],OL(e),{provide:_6,useFactory:Fie,deps:[[dr,new a.FiY,new a.tp0]]},{provide:oM,useValue:i||{}},i?.useHash?{provide:Ee,useClass:rt}:{provide:Ee,useClass:it},{provide:RL,useFactory:()=>{const n=(0,a.f3M)(dr),t=(0,a.f3M)(Rd),e=(0,a.f3M)(oM);return e.scrollOffset&&t.setOffset(e.scrollOffset),new h6(n,t,e)}},i?.preloadingStrategy?kie(i.preloadingStrategy).\u0275providers:[],{provide:a.PXZ,multi:!0,useFactory:Rie},i?.initialNavigation?Lie(i):[],[{provide:v6,useFactory:p6},{provide:a.tb,multi:!0,useExisting:v6}]]}}static forChild(e){return{ngModule:n,providers:[OL(e)]}}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(_6,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[EL]}),n})();function Fie(n){return"guarded"}function Lie(n){return["disabled"===n.initialNavigation?by(3,[{provide:a.ip1,multi:!0,useFactory:()=>{const t=(0,a.f3M)(dr);return()=>{t.setUpLocationChangeListener()}}},{provide:PL,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?by(2,[{provide:PL,useValue:0},{provide:a.ip1,multi:!0,deps:[a.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve(null));let i=!1;return()=>e.then(()=>new Promise(s=>{const c=t.get(dr),d=t.get(m6);(function r(s){t.get(dr).events.pipe(pi(d=>d instanceof wm||d instanceof KA||d instanceof Rq),(0,ct.U)(d=>d instanceof wm||d instanceof KA&&(0===d.code||1===d.code)&&null),pi(d=>null!==d),ri(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),c.afterPreactivation=()=>(s(!0),i||d.closed?et(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const v6=new a.OlP("");var Bie=L(8554);let Dm=(()=>{class n{constructor(e,i){this.router=e,this._snackBar=i}navigateTo(e){this.router.navigateByUrl(e).then(i=>{},i=>{console.log({error:i}),this._snackBar.open("Algo errado n\xe3o est\xe1 certo: falhou","fechar")})}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(dr),a.LFG(fS))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eo=(()=>{class n{constructor(e,i,r,s,c){this.afs=e,this.auth=i,this.ngZone=r,this._snackBar=s,this._nav=c,this.userDoc=null,this.user=et(null),this.userData=null,this.hasLoggedin=new vi(!1),this.auth.authState.subscribe(d=>{d?(this.userDoc=e.doc(`users/${d.uid}`),this.user=this.userDoc.valueChanges().pipe((0,Yn.b)(p=>{this.userData=p,localStorage.setItem("user",JSON.stringify(this.userData)),this.userData&&JSON.parse(localStorage.getItem("user"))})),this.hasLoggedin.next(!0)):(this.user=et(null),localStorage.setItem("user","null"),this.userData=null,JSON.parse(localStorage.getItem("user")),this.hasLoggedin.next(!1))})}signIn(e,i){return this.auth.signInWithEmailAndPassword(e,i).then(r=>{this._nav.navigateTo("/")}).catch(r=>{console.log("Something went wrong: ",r.message),this._snackBar.open("Algo errado n\xe3o est\xe1 certo: login falhou","fechar")})}setUserData(e,i){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,displayName:e.displayName,photoURL:e.photoURL,emailVerified:e.emailVerified,curriculosUID:e.curriculosUID?e.curriculosUID:null,loginMode:i},{merge:!0})}signUp(e,i){return this.auth.createUserWithEmailAndPassword(e,i).then(r=>{this.sendVerificationMail(),this.setUserData(r.user,"email-password")}).catch(r=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: cadastro falhou","fechar"),console.log("Something went wrong: ",r)})}sendVerificationMail(){return this.auth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this._snackBar.open("Verifica\xe7\xe3o de email enviada, verifique","fechar"),this._nav.navigateTo("/verificar-email")})}forgotPassword(e){return this.auth.sendPasswordResetEmail(e).then(()=>{this._snackBar.open("Email para recupera\xe7\xe3o de senha enviado, verifique","fechar")}).catch(i=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: email de recupera\xe7\xe3o falhou","fechar")})}get isLoggedIn(){const e=this.userData;return!!e&&!1!==e.emailVerified}googleLogin(){var e=new Bie.Q;return this.oAuthLogin(e,"google-oauth").catch(i=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: login goole falhou","fechar"),console.log("Something went wrong: ",i)})}signOut(){var e=this;return(0,De.Z)(function*(){return e.auth.signOut().then(()=>{e.user=et(null),e.userData=null,localStorage.removeItem("user")})})()}deleteUser(){if(this.userData){const e=this.userData;return this.auth.currentUser.then(i=>{i?.delete(),this.deleteUserData(e.uid).then(r=>{this.deleteCurriloListData(e.curriculosUID).then(s=>{})})}).catch(i=>{this._nav.navigateTo("/excluir-perfil")})}return Promise.reject("No userData to delete")}deleteUserData(e){return this.afs.doc(`users/${e}`).delete()}deleteCurriloListData(e){return this.afs.doc(`curriculos/${e}`).delete()}oAuthLogin(e,i){var r=this;return(0,De.Z)(function*(){return r.auth.signInWithPopup(e).then(s=>{r.setUserData(s.user,i),r._nav.navigateTo("/")}).catch(s=>{r._snackBar.open("Algo errado n\xe3o est\xe1 certo: login oAuth falhou","fechar"),console.log("Something went wrong: ",s)})})()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(YN),a.LFG(jw),a.LFG(a.R0b),a.LFG(fS),a.LFG(Dm))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Im=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return!0!==this.authService.isLoggedIn&&(console.log("Acesso negado: AuthGuard"),this.router.navigate(["login"])),!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Eo),a.LFG(dr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uM=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){return this.authService.isLoggedIn&&(console.log("Acesso negado: NoAuthGuard"),this.router.navigateByUrl("")),!0}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(Eo),a.LFG(dr))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uie=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-adicionais"]],decls:6,vars:0,consts:[[1,"container"],[1,"mat-h2"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"Recursos Adicionais"),a.qZA(),a.TgZ(3,"div")(4,"span"),a._uU(5,"Est\xe1 funcionalidade n\xe3o est\xe1 liberada."),a.qZA()()())}}),n})(),Hie=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i,this.authService.hasLoggedin.subscribe(r=>{console.log({hasLoggedin:r}),r&&this._nav.navigateTo("/")})}ngOnInit(){}onEnter(e,i){this.authService.signIn(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo),a.Y36(Dm))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-email-login"]],decls:30,vars:0,consts:[[1,"container"],[1,"mat-h3"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required","",3,"keyup.enter"],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password",3,"keyup.enter"],["userPassword",""],["mat-raised-button","",3,"click"],[1,"or"],[1,"orInner"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"forgotPassword"],["routerLink","/esqueceu-senha","routerLinkActive","active"],[1,"redirectToLogin"],["routerLink","/cadastro","routerLinkActive","active"]],template:function(e,i){if(1&e){const r=a.EpF();a.TgZ(0,"div",0)(1,"h3",1),a._uU(2,"Fa\xe7a o Login"),a.qZA(),a.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),a._uU(6,"Email"),a.qZA(),a.TgZ(7,"input",4,5),a.NdJ("keyup.enter",function(){a.CHM(r);const c=a.MAs(8),d=a.MAs(13);return a.KtG(i.onEnter(c.value,d.value))}),a.qZA()(),a.TgZ(9,"mat-form-field",3)(10,"mat-label"),a._uU(11,"Senha"),a.qZA(),a.TgZ(12,"input",6,7),a.NdJ("keyup.enter",function(){a.CHM(r);const c=a.MAs(8),d=a.MAs(13);return a.KtG(i.onEnter(c.value,d.value))}),a.qZA()()(),a.TgZ(14,"button",8),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(8),d=a.MAs(13);return a.KtG(i.authService.signIn(c.value,d.value))}),a._uU(15," Entrar "),a.qZA(),a.TgZ(16,"div",9)(17,"span",10),a._uU(18,"ou"),a.qZA()(),a.TgZ(19,"button",8),a.NdJ("click",function(){return i.authService.googleLogin()}),a._UZ(20,"mat-icon",11),a._uU(21," Entrar com conta Google "),a.qZA(),a.TgZ(22,"div",12)(23,"a",13),a._uU(24,"Esqueceu a senha?"),a.qZA()(),a.TgZ(25,"div",14)(26,"span"),a._uU(27,"N\xe3o tem um cadastro? "),a.TgZ(28,"a",15),a._uU(29,"Cadastrar"),a.qZA()()()()}},dependencies:[Ed,Em,ps,fp,id,pp,Kc,Ch,Qu],styles:[".forgotPassword[_ngcontent-%COMP%]{margin-top:15px}"]}),n})(),jie=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-esqueceu-senha"]],decls:18,vars:0,consts:[[1,"container"],[1,"mat-h2"],[1,"text-center"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required",""],["userEmail",""],["mat-raised-button","",3,"click"],[1,"redirectToLogin"],["routerLink","/login","routerLinkActive","active"]],template:function(e,i){if(1&e){const r=a.EpF();a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"Recuperar Senha"),a.qZA(),a.TgZ(3,"p",2),a._uU(4,"Informe o email utilizado no cadastro"),a.qZA(),a.TgZ(5,"form",3)(6,"mat-form-field",4)(7,"mat-label"),a._uU(8,"Email"),a.qZA(),a._UZ(9,"input",5,6),a.qZA()(),a.TgZ(11,"button",7),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(10);return a.KtG(i.authService.forgotPassword(c.value))}),a._uU(12," Recuperar "),a.qZA(),a.TgZ(13,"div",8)(14,"span"),a._uU(15,"Voltar e fazer "),a.TgZ(16,"a",9),a._uU(17,"Login?"),a.qZA()()()()}},dependencies:[Ed,Em,ps,fp,id,pp,Ch,Qu],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;flex-direction:column;align-items:center}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();function $ie(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div")(1,"button",4),a.NdJ("click",function(){a.CHM(e);const r=a.oxw(2);return a.KtG(r.googleLogin())}),a._UZ(2,"mat-icon",5),a._uU(3," Excluir perfil "),a.qZA()()}}function Gie(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",6)(1,"form",7)(2,"mat-form-field",8)(3,"mat-label"),a._uU(4,"Email"),a.qZA(),a.TgZ(5,"input",9,10),a.NdJ("keyup.enter",function(){a.CHM(e);const r=a.MAs(6),s=a.MAs(11),c=a.oxw(2);return a.KtG(c.onEnter(r.value,s.value))}),a.qZA()(),a.TgZ(7,"mat-form-field",8)(8,"mat-label"),a._uU(9,"Senha"),a.qZA(),a.TgZ(10,"input",11,12),a.NdJ("keyup.enter",function(){a.CHM(e);const r=a.MAs(6),s=a.MAs(11),c=a.oxw(2);return a.KtG(c.onEnter(r.value,s.value))}),a.qZA()()(),a.TgZ(12,"button",13),a.NdJ("click",function(){a.CHM(e);const r=a.MAs(6),s=a.MAs(11),c=a.oxw(2);return a.KtG(c.emailLogin(r.value,s.value))}),a._uU(13," Excluir Perfil "),a.qZA()()}}function zie(n,t){if(1&n&&(a.TgZ(0,"div",1)(1,"p"),a._uU(2,"Refa\xe7a o login antes de excluir o Perfil"),a.qZA(),a.YNc(3,$ie,4,0,"div",2),a.YNc(4,Gie,14,0,"div",3),a.qZA()),2&n){const e=t.ngIf;a.xp6(3),a.Q6J("ngIf","google-oauth"==e.loginMode),a.xp6(1),a.Q6J("ngIf","email-password"==e.loginMode)}}let qie=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i}ngOnInit(){}googleLogin(){this.authService.googleLogin().then(e=>{this.authService.deleteUser().then(i=>{this._nav.navigateTo("/")})})}emailLogin(e,i){this.authService.signIn(e,i).then(r=>{this.authService.deleteUser().then(s=>{this._nav.navigateTo("/")})})}onEnter(e,i){this.authService.signIn(e,i)}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo),a.Y36(Dm))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-excluir-perfil"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],["class","full-width text-center",4,"ngIf"],["mat-raised-button","",1,"google",3,"click"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"full-width","text-center"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required","",3,"keyup.enter"],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password",3,"keyup.enter"],["userPassword",""],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(a.YNc(0,zie,5,2,"div",0),a.ALo(1,"async")),2&e&&a.Q6J("ngIf",a.lcZ(1,1,i.authService.user))},dependencies:[gn,ps,fp,id,pp,Kc,Ch,Qu,hl]}),n})();const b6={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let dM;const Wie=new Uint8Array(16);function Zie(){if(!dM&&(dM=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!dM))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return dM(Wie)}const rs=[];for(let n=0;n<256;++n)rs.push((n+256).toString(16).slice(1));const Kie=function Yie(n,t,e){if(b6.randomUUID&&!t&&!n)return b6.randomUUID();const i=(n=n||{}).random||(n.rng||Zie)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return function w6(n,t=0){return(rs[n[t+0]]+rs[n[t+1]]+rs[n[t+2]]+rs[n[t+3]]+"-"+rs[n[t+4]]+rs[n[t+5]]+"-"+rs[n[t+6]]+rs[n[t+7]]+"-"+rs[n[t+8]]+rs[n[t+9]]+"-"+rs[n[t+10]]+rs[n[t+11]]+rs[n[t+12]]+rs[n[t+13]]+rs[n[t+14]]+rs[n[t+15]]).toLowerCase()}(i)};let C6=(()=>{class n{constructor(e,i){this.afs=e,this.authService=i,this.curriculoListDoc=null,this.curriculoList=void 0;const r=this.authService.userData;r&&(this.curriculoListDoc=e.doc(`curriculos/${r.uid}`),this.curriculoList=this.curriculoListDoc.valueChanges(),!r.curriculosUID)&&this.afs.doc(`curriculos/${r.uid}`).set({uid:r.uid,ownerUID:r.uid,curriculos:[]},{merge:!0}).then(d=>{r.curriculosUID=r.uid,this.authService.setUserData(r,r.loginMode).then()})}deleteCurriculoFromList(e,i){return i.curriculos=i.curriculos.filter(r=>r.uid!=e),this.updateCurriculosList(i)}updateCurriculosList(e){return e?this.afs.doc(`curriculos/${e.uid}`).set(e,{merge:!0}):Promise.reject()}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(YN),a.LFG(Eo))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xie=(()=>{class n{constructor(e){this.http=e}getData(e){const i=e.replace("-","");return this.http.get("https://brasilapi.com.br/api/cep/v2/{cep}".replace("{cep}",i))}}return n.\u0275fac=function(e){return new(e||n)(a.LFG(yp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),NL=(()=>{class n{constructor(){this.show=new vi(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Jie=["dataNascimentoInput"];function ere(n,t){if(1&n&&(a.TgZ(0,"mat-option",34),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.Oqu(e)}}function tre(n,t){if(1&n&&(a.TgZ(0,"mat-option",34),a._uU(1),a.qZA()),2&n){const e=t.$implicit;a.Q6J("value",e),a.xp6(1),a.Oqu(e)}}function nre(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"div",20)(1,"mat-form-field",3)(2,"mat-label"),a._uU(3),a.qZA(),a._UZ(4,"input",35),a.qZA(),a.TgZ(5,"div",22)(6,"button",36),a.NdJ("click",function(){const s=a.CHM(e).index,c=a.oxw();return a.KtG(c.deleteCurso(s))}),a.TgZ(7,"mat-icon"),a._uU(8,"remove_circle"),a.qZA()()()()}if(2&n){const e=t.index;a.xp6(3),a.hij("Curso ",e+1,""),a.xp6(1),a.MGl("autocomplete","curso_",e+1,""),a.Q6J("formControlName",e)}}let E6=(()=>{class n{constructor(e,i,r,s,c){this.curriculosService=e,this.route=i,this._nav=r,this.cepService=s,this.progressBarService=c,this.curriculosList=void 0,this.curriculoSelected=void 0,this.dataNascimento=new ji(new Date,[nn.required]),this.uid=null,this.estadoCivisList=["Solteiro","Solteira","Casado","Casada","Vi\xfavo","Vi\xfava","Divorciado","Divorciada"],this.escolaridadeList=["Ensino Fundamental - Completo","Ensino Fundamental - Incompleto","Ensino M\xe9dio - Completo","Ensino M\xe9dio - Incompleto","Curso T\xe9cnico - Completo","Curso T\xe9cnico - Incompleto","Curso Superior - Completo","Curso Superior - Incompleto","P\xf3s Gradua\xe7\xe3o - Especializa\xe7\xe3o - Completo","P\xf3s Gradua\xe7\xe3o - Especializa\xe7\xe3o - Incompleto","P\xf3s Gradua\xe7\xe3o - MBA - Completo","P\xf3s Gradua\xe7\xe3o - MBA - Incompleto","P\xf3s Gradua\xe7\xe3o - Mestrado - Completo","P\xf3s Gradua\xe7\xe3o - Mestrado - Incompleto","P\xf3s Gradua\xe7\xe3o - Doutorado - Completo","P\xf3s Gradua\xe7\xe3o - Doutorado - Incompleto"],this.fakeData={name:"",identifier:"",email:"",estado_civil:""},this.curriculoForm=new zg({name:new ji(this.fakeData.name,[nn.required,nn.maxLength(35)]),identifier:new ji(this.fakeData.identifier,[nn.required,nn.maxLength(25)]),email:new ji(this.fakeData.email,[nn.required,nn.email,nn.maxLength(30)]),estado_civil:new ji(this.fakeData.estado_civil,[nn.required,n.checkCategoryInput(this.estadoCivisList)]),data_nascimento:new ji("",[nn.required,n.checkIsValidDate()]),nacionalidade:new ji("",[nn.required,nn.maxLength(20)]),telefone:new ji("",[nn.required,nn.maxLength(16)]),whatsapp:new ji(!1,[nn.required]),cep:new ji("",[nn.required,nn.maxLength(9),nn.minLength(8)]),rua:new ji("",[nn.required,nn.maxLength(120)]),bairro:new ji("",[nn.required,nn.maxLength(40)]),estado:new ji("",[nn.required,nn.maxLength(40)]),cidade:new ji("",[nn.required,nn.maxLength(40)]),numero:new ji("",[nn.maxLength(10)]),complemento:new ji("",[nn.maxLength(20)]),escolaridade:new ji("",[nn.required,n.checkCategoryInput(this.escolaridadeList)]),descricao_escolaridade:new ji("",[nn.required,nn.maxLength(70)]),cursos:new Jg([])}),this.uid=this.route.snapshot.paramMap.get("id"),this.curriculosService.curriculoList?.subscribe(d=>{this.curriculosList=d,this.curriculoSelected=this.curriculosList?.curriculos.filter(p=>p.uid=this.uid)[0],this.curriculoSelected&&this.preencheValoresIniciais()})}ngOnInit(){}preencheValoresIniciais(){const e=this.curriculoSelected.data_nascimento;let i={name:this.curriculoSelected.name,identifier:this.curriculoSelected.identifier,email:this.curriculoSelected.email,estado_civil:this.curriculoSelected.estado_civil,data_nascimento:e,nacionalidade:this.curriculoSelected.nacionalidade,telefone:this.curriculoSelected.telefone,whatsapp:this.curriculoSelected.whatsapp,cep:this.curriculoSelected.cep,rua:this.curriculoSelected.rua,bairro:this.curriculoSelected.bairro,estado:this.curriculoSelected.estado,cidade:this.curriculoSelected.cidade,numero:this.curriculoSelected.numero,complemento:this.curriculoSelected.complemento,escolaridade:this.curriculoSelected.escolaridade,descricao_escolaridade:this.curriculoSelected.descricao_escolaridade};Object.keys(i).forEach(c=>{void 0===i[c]&&(i[c]="")}),this.curriculoForm.patchValue(i);const r=this.curriculoSelected.cursos;this.curriculoForm.controls.cursos=new Jg([]),r?.length&&r.map(c=>{c.length&&this.addCurso(c)});const s=new Date(e);s&&this.dataNascimento.setValue(s)}changeDatePicker(){const e=this.dataNascimento.value,s=this.dataInput.nativeElement.value.replace(/(\d{2})\/(\d{2})\/(\d{4})/,"$2/$1/$3")||new Intl.DateTimeFormat("en-US").format(e);this.curriculoForm.controls.data_nascimento.setValue(s)}static checkCategoryInput(e){return i=>{const r=i.value;return e.includes(r)?null:{"not-in-list":r}}}static checkIsValidDate(){return e=>{const i=e.value;return n.isValidDate(new Date(i))?null:{"not-valid-date":i}}}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}gravar(){if(this.progressBarService.show.next(!0),this.isFormValid()){const e={uid:this.uid,...this.curriculoForm.getRawValue()};if(e.uid=e.uid?e.uid:Kie(),this.isEditMode()){const i=this.curriculosList?.curriculos.filter(r=>r.uid!=this.uid);i.push(e),this.curriculoSelected=e,this.curriculosList.curriculos=i}else this.curriculosList?.curriculos.push(e);this.curriculosService.updateCurriculosList(this.curriculosList).then(i=>{this.progressBarService.show.next(!1),this._nav.navigateTo("painel")}).catch(i=>{this.progressBarService.show.next(!1),console.log({err:i})})}}isEditMode(){return!!this.uid}pageTitle(){return this.isEditMode()?"Edi\xe7\xe3o de Curr\xedculo":"Cadastro de Curr\xedculo"}isFormValid(){return this.curriculoForm.valid}isCepValid(){let e=this.curriculoForm.value.cep.replace("-","");return 8==e.length&&aE(e)}consultarCep(){this.progressBarService.show.next(!0),this.cepService.getData(this.curriculoForm.value.cep).subscribe(e=>{this.curriculoForm.controls.rua.setValue(e.street),this.curriculoForm.controls.bairro.setValue(e.neighborhood),this.curriculoForm.controls.cidade.setValue(e.city),this.curriculoForm.controls.estado.setValue(e.state),this.progressBarService.show.next(!1)},e=>{console.log(e),this.progressBarService.show.next(!1)})}get cursos(){return this.curriculoForm.get("cursos")}addCurso(e){this.podeAddCurso()&&this.cursos.push(new ji(e,[nn.required,nn.maxLength(50)]))}deleteCurso(e){this.cursos.removeAt(e)}podeAddCurso(){return this.cursos.length<3}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(C6),a.Y36(uf),a.Y36(Dm),a.Y36(Xie),a.Y36(NL))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-formulario-curriculo"]],viewQuery:function(e,i){if(1&e&&a.Gf(Jie,5),2&e){let r;a.iGM(r=a.CRH())&&(i.dataInput=r.first)}},decls:106,vars:11,consts:[[1,"container"],[1,"mat-h2"],[1,"my-form",3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","required","","formControlName","identifier"],["matInput","","required","","formControlName","name","autocomplete","full-name"],["matInput","","required","","formControlName","email","autocomplete","current-email"],["appearance","fill"],["formControlName","estado_civil"],[3,"value",4,"ngFor","ngForOf"],["matInput","",3,"matDatepicker","formControl","keyup","onchange","dateChange"],["dataNascimentoInput",""],["matSuffix","",3,"for"],["picker",""],["formControlName","data_nascimento",1,"display-none"],["matInput","","required","","formControlName","nacionalidade","autocomplete","nacionalidade"],["matInput","","required","","formControlName","telefone","autocomplete","telefone"],["color","primary","formControlName","whatsapp"],["matInput","","formControlName","numero","autocomplete","numero"],["matInput","","formControlName","complemento","autocomplete","complemento"],[1,"flex-row"],["matInput","","required","","formControlName","cep","autocomplete","cep"],[1,"padding-8"],["mat-raised-button","",3,"disabled","click"],["matInput","","required","","formControlName","rua","autocomplete","rua"],["matInput","","required","","formControlName","bairro","autocomplete","bairro"],["matInput","","required","","formControlName","cidade","autocomplete","cidade"],["matInput","","required","","formControlName","estado","autocomplete","estado"],["formControlName","escolaridade"],["matInput","","required","","formControlName","descricao_escolaridade","autocomplete","descricao_escolaridade"],["mat-icon-button","","color","primary",3,"disabled","click"],["formArrayName","cursos"],["class","flex-row",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],["required","","matInput","",3,"formControlName","autocomplete"],["mat-icon-button","","color","primary",3,"click"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2),a.qZA(),a.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),a._uU(6,"Identificador"),a.qZA(),a._UZ(7,"input",4),a.qZA(),a.TgZ(8,"h3"),a._uU(9,"Dados Pessoais"),a.qZA(),a.TgZ(10,"mat-form-field",3)(11,"mat-label"),a._uU(12,"Nome Completo"),a.qZA(),a._UZ(13,"input",5),a.qZA(),a.TgZ(14,"mat-form-field",3)(15,"mat-label"),a._uU(16,"Email"),a.qZA(),a._UZ(17,"input",6),a.qZA(),a.TgZ(18,"mat-form-field",7)(19,"mat-label"),a._uU(20,"Estado Civil"),a.qZA(),a.TgZ(21,"mat-select",8)(22,"mat-option"),a._uU(23,"N\xe3o selecionado"),a.qZA(),a.YNc(24,ere,2,2,"mat-option",9),a.qZA()(),a.TgZ(25,"mat-form-field",7)(26,"mat-label"),a._uU(27,"Data de Nascimento"),a.qZA(),a.TgZ(28,"input",10,11),a.NdJ("keyup",function(){return i.changeDatePicker()})("onchange",function(){return i.changeDatePicker()})("dateChange",function(){return i.changeDatePicker()}),a.qZA(),a.TgZ(30,"mat-hint"),a._uU(31,"DD/MM/AAAA"),a.qZA(),a._UZ(32,"mat-datepicker-toggle",12)(33,"mat-datepicker",null,13),a.qZA(),a._UZ(35,"input",14),a.TgZ(36,"mat-form-field",3)(37,"mat-label"),a._uU(38,"Nacionalidade"),a.qZA(),a._UZ(39,"input",15),a.qZA(),a.TgZ(40,"mat-form-field",3)(41,"mat-label"),a._uU(42,"Telefone com DDD"),a.qZA(),a._UZ(43,"input",16),a.qZA(),a.TgZ(44,"mat-checkbox",17),a._uU(45,"Tem whatsapp?"),a.qZA(),a.TgZ(46,"h3"),a._uU(47,"Endere\xe7o"),a.qZA(),a.TgZ(48,"mat-form-field",3)(49,"mat-label"),a._uU(50,"N\xfamero"),a.qZA(),a._UZ(51,"input",18),a.qZA(),a.TgZ(52,"mat-form-field",3)(53,"mat-label"),a._uU(54,"Complemento"),a.qZA(),a._UZ(55,"input",19),a.qZA(),a.TgZ(56,"div",20)(57,"mat-form-field",3)(58,"mat-label"),a._uU(59,"CEP"),a.qZA(),a._UZ(60,"input",21),a.qZA(),a.TgZ(61,"div",22)(62,"button",23),a.NdJ("click",function(){return i.consultarCep()}),a._uU(63," Consultar "),a.qZA()()(),a.TgZ(64,"mat-form-field",3)(65,"mat-label"),a._uU(66,"Rua"),a.qZA(),a._UZ(67,"input",24),a.qZA(),a.TgZ(68,"mat-form-field",3)(69,"mat-label"),a._uU(70,"Bairro"),a.qZA(),a._UZ(71,"input",25),a.qZA(),a.TgZ(72,"mat-form-field",3)(73,"mat-label"),a._uU(74,"Cidade"),a.qZA(),a._UZ(75,"input",26),a.qZA(),a.TgZ(76,"mat-form-field",3)(77,"mat-label"),a._uU(78,"Estado"),a.qZA(),a._UZ(79,"input",27),a.qZA(),a.TgZ(80,"h3"),a._uU(81,"Escolaridade"),a.qZA(),a.TgZ(82,"mat-form-field",7)(83,"mat-label"),a._uU(84,"Selecione"),a.qZA(),a.TgZ(85,"mat-select",28)(86,"mat-option"),a._uU(87,"N\xe3o selecionado"),a.qZA(),a.YNc(88,tre,2,2,"mat-option",9),a.qZA()(),a.TgZ(89,"mat-form-field",3)(90,"mat-label"),a._uU(91,"Descri\xe7\xe3o da Escolaridade"),a.qZA(),a._UZ(92,"input",29),a.qZA(),a.TgZ(93,"div",20)(94,"h3"),a._uU(95,"Cursos"),a.qZA(),a.TgZ(96,"div",22)(97,"button",30),a.NdJ("click",function(){return i.addCurso("")}),a.TgZ(98,"mat-icon"),a._uU(99,"add_circle"),a.qZA()()()(),a.TgZ(100,"p"),a._uU(101," Digite aqui At\xe9 3 cursos que voc\xea tenha feito, por exemplo, se voc\xea tem conhecimentos em Inform\xe1tica, sabe usar o computador para ler emails, navegar na internet, digitar um texto, pode colocar: Inform\xe1tica B\xe1sico. Caso n\xe3o tenha nenhum curso, pode deixar em branco. "),a.qZA(),a.TgZ(102,"div",31),a.YNc(103,nre,9,3,"div",32),a.qZA()(),a.TgZ(104,"button",33),a.NdJ("click",function(){return i.gravar()}),a._uU(105," Salvar "),a.qZA()()),2&e){const r=a.MAs(34);a.xp6(2),a.Oqu(i.pageTitle()),a.xp6(1),a.Q6J("formGroup",i.curriculoForm),a.xp6(21),a.Q6J("ngForOf",i.estadoCivisList),a.xp6(4),a.Q6J("matDatepicker",r)("formControl",i.dataNascimento),a.xp6(4),a.Q6J("for",r),a.xp6(30),a.Q6J("disabled",!i.isCepValid()),a.xp6(26),a.Q6J("ngForOf",i.escolaridadeList),a.xp6(9),a.Q6J("disabled",!i.podeAddCurso()),a.xp6(6),a.Q6J("ngForOf",i.cursos.controls),a.xp6(1),a.Q6J("disabled",!i.isFormValid())}},dependencies:[jr,ps,fp,bI,id,WV,pp,Kc,Jn,qE,IW,pO,xW,ZB,Ch,np,eb,Qu,Xg,Eh,ed,Db,Wc]}),n})();function ire(n,t){1&n&&(a.TgZ(0,"div",4)(1,"span"),a._uU(2,"Voc\xea est\xe1 Logado. Mas ainda n\xe3o consegue fazer nada. O site ainda est\xe1 em desenvolvimento"),a.qZA(),a.TgZ(3,"div",5)(4,"span"),a._uU(5," Navegar para o: "),a.TgZ(6,"a",6),a._uU(7,"Seu Painel"),a.qZA()()()())}function rre(n,t){1&n&&(a.TgZ(0,"div",9)(1,"span"),a._uU(2,"J\xe1 possui um cadastro? "),a.TgZ(3,"a",10),a._uU(4,"Fa\xe7a o Login"),a.qZA()()())}function sre(n,t){if(1&n&&(a.YNc(0,rre,5,0,"div",7),a.ALo(1,"async"),a.TgZ(2,"div",5)(3,"span"),a._uU(4," N\xe3o tem cadastro? "),a.TgZ(5,"a",8),a._uU(6,"Crie um"),a.qZA()()()),2&n){const e=a.oxw();a.Q6J("ngIf",!a.lcZ(1,1,e.authService.user))}}let ore=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-inicio"]],decls:7,vars:4,consts:[[1,"container"],[1,"mat-h2"],["class","redirectToLogin text-center",4,"ngIf","ngIfElse"],["loggedOut",""],[1,"redirectToLogin","text-center"],[1,"margin-top-10"],["routerLink","/painel","routerLinkActive","active"],["class","redirectToLogin",4,"ngIf"],["routerLink","/cadastro","routerLinkActive","active"],[1,"redirectToLogin"],["routerLink","/login","routerLinkActive","active"]],template:function(e,i){if(1&e&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"P\xe1gina Inicial"),a.qZA(),a.YNc(3,ire,8,0,"div",2),a.ALo(4,"async"),a.YNc(5,sre,7,3,"ng-template",null,3,a.W1O),a.qZA()),2&e){const r=a.MAs(6);a.xp6(3),a.Q6J("ngIf",a.lcZ(4,2,i.authService.user))("ngIfElse",r)}},dependencies:[gn,Ed,Em,hl]}),n})(),are=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i}ngOnInit(){this.authService.hasLoggedin.subscribe(e=>{console.log({hasLoggedin:e}),e&&this._nav.navigateTo("/")})}googleLogin(){this.authService.googleLogin()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo),a.Y36(Dm))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container"],[1,"form-container"],["mat-raised-button","",1,"google",3,"click"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"or"],[1,"orInner"],["mat-raised-button","","routerLink","/email-login",1,"email"],[1,"links"],["routerLink","/cadastro","routerLinkActive","active",1,"create-account-txt"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"button",2),a.NdJ("click",function(){return i.googleLogin()}),a._UZ(3,"mat-icon",3),a._uU(4," Entrar com conta Google "),a.qZA(),a.TgZ(5,"div",4)(6,"span",5),a._uU(7,"ou"),a.qZA()(),a.TgZ(8,"button",6),a._uU(9," Logar com Email "),a.qZA(),a.TgZ(10,"div",7)(11,"a",8),a._uU(12,"N\xe3o tem cadastro? "),a.TgZ(13,"strong"),a._uU(14,"Crie um"),a.qZA()()()()())},dependencies:[Cm,Ed,Em,ps,Kc],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.form-container[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:center}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:20px}.links[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();function lre(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"li")(1,"div",5)(2,"span"),a._uU(3),a.qZA(),a._UZ(4,"div",4),a.TgZ(5,"button",8)(6,"mat-icon"),a._uU(7,"edit"),a.qZA()(),a.TgZ(8,"button",2),a.NdJ("click",function(){const s=a.CHM(e).$implicit,c=a.oxw(2);return a.KtG(c.deleteCurriculo(s.uid))}),a.TgZ(9,"mat-icon"),a._uU(10,"remove_circle"),a.qZA()()()()}if(2&n){const e=t.$implicit;a.xp6(3),a.Oqu(e.identifier),a.xp6(2),a.MGl("routerLink","/curriculo/",e.uid,"")}}function cre(n,t){if(1&n&&(a.TgZ(0,"div",4)(1,"ul")(2,"li")(3,"div",5)(4,"span",6),a._uU(5,"Identificador"),a.qZA(),a._UZ(6,"div",4),a.qZA()(),a.YNc(7,lre,11,2,"li",7),a.qZA()()),2&n){const e=a.oxw();a.xp6(7),a.Q6J("ngForOf",e.userCurriculos)}}let ure=(()=>{class n{constructor(e,i,r,s,c){this.authService=e,this.curriculosService=i,this._nav=r,this.progressBarService=s,this._snackBar=c,this.curriculosService.curriculoList?.subscribe(d=>{this.curriculoList=d})}get userCurriculos(){return this.curriculoList?this.curriculoList.curriculos:[]}addCurriculo(){this._nav.navigateTo(this.userCurriculos.length?"adicionais":"curriculo")}ngOnInit(){}deleteCurriculo(e){this.progressBarService.show.next(!0),this.curriculosService.deleteCurriculoFromList(e,this.curriculoList).then(i=>{this.progressBarService.show.next(!1),this._snackBar.open("Removido","Ok",{duration:15})}).catch(i=>{this._snackBar.open("N\xe3o removido","Ok",{duration:15}),console.log({err:i}),this.progressBarService.show.next(!1)})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo),a.Y36(C6),a.Y36(Dm),a.Y36(NL),a.Y36(fS))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-painel"]],decls:8,vars:2,consts:[[1,"container"],[1,"flex-row","align-items-center"],["mat-icon-button","","color","primary",3,"click"],["class","full-width",4,"ngIf"],[1,"full-width"],[1,"flex-row","align-items-center","painel-row"],[1,"mat-body-2"],[4,"ngFor","ngForOf"],["mat-icon-button","","color","primary",3,"routerLink"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"div",1)(2,"div"),a._uU(3),a.qZA(),a.TgZ(4,"button",2),a.NdJ("click",function(){return i.addCurriculo()}),a.TgZ(5,"mat-icon"),a._uU(6,"add_circle"),a.qZA()()(),a.YNc(7,cre,8,1,"div",3),a.qZA()),2&e&&(a.xp6(3),a.hij("Quantidade de Curr\xedculos: ",i.userCurriculos.length,""),a.xp6(4),a.Q6J("ngIf",i.userCurriculos.length))},dependencies:[jr,gn,Cm,ps,Kc],styles:["span[_ngcontent-%COMP%]{white-space:pre}.painel-row[_ngcontent-%COMP%]{max-width:320px;margin:0 auto}"]}),n})();function dre(n,t){if(1&n&&(a.TgZ(0,"div",1)(1,"ul")(2,"li"),a._uU(3," Email: "),a.TgZ(4,"strong"),a._uU(5),a.qZA()(),a.TgZ(6,"li"),a._uU(7," Name: "),a.TgZ(8,"strong"),a._uU(9),a.qZA()(),a.TgZ(10,"li"),a._uU(11," Email verified: "),a.TgZ(12,"strong"),a._uU(13),a.qZA()(),a.TgZ(14,"li"),a._uU(15," Uid: "),a.TgZ(16,"strong"),a._uU(17),a.qZA()(),a.TgZ(18,"li"),a._uU(19," LoginMode: "),a.TgZ(20,"strong"),a._uU(21),a.qZA()()(),a.TgZ(22,"button",2),a._uU(23," Excluir Perfil "),a.qZA()()),2&n){const e=t.ngIf;a.xp6(5),a.Oqu(e.email),a.xp6(4),a.Oqu(e.displayName?e.displayName:"User"),a.xp6(4),a.Oqu(e.emailVerified),a.xp6(4),a.Oqu(e.uid),a.xp6(4),a.Oqu(e.loginMode)}}let hre=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}excluirPerfil(){this.authService.deleteUser()}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-perfil"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],["mat-raised-button","","routerLink","/excluir-perfil"]],template:function(e,i){1&e&&(a.YNc(0,dre,24,5,"div",0),a.ALo(1,"async")),2&e&&a.Q6J("ngIf",a.lcZ(1,1,i.authService.user))},dependencies:[gn,Cm,ps,hl]}),n})(),fre=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-registro"]],decls:27,vars:0,consts:[[1,"container"],[1,"mat-h3"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","type","email","value","","required",""],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password"],["userPassword",""],["mat-raised-button","",1,"google",3,"click"],[1,"or"],[1,"orInner"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"redirectToLogin"],["routerLink","/login","routerLinkActive","active"]],template:function(e,i){if(1&e){const r=a.EpF();a.TgZ(0,"div",0)(1,"h3",1),a._uU(2,"Fa\xe7a o seu cadastro"),a.qZA(),a.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),a._uU(6,"Endere\xe7o de Email"),a.qZA(),a._UZ(7,"input",4,5),a.qZA(),a.TgZ(9,"mat-form-field",3)(10,"mat-label"),a._uU(11,"Senha"),a.qZA(),a._UZ(12,"input",6,7),a.qZA()(),a.TgZ(14,"button",8),a.NdJ("click",function(){a.CHM(r);const c=a.MAs(8),d=a.MAs(13);return a.KtG(i.authService.signUp(c.value,d.value))}),a._uU(15," Cadastrar "),a.qZA(),a.TgZ(16,"div",9)(17,"span",10),a._uU(18,"ou"),a.qZA()(),a.TgZ(19,"button",8),a.NdJ("click",function(){return i.authService.googleLogin()}),a._UZ(20,"mat-icon",11),a._uU(21," Continuar com conta Google "),a.qZA(),a.TgZ(22,"div",12)(23,"span"),a._uU(24,"J\xe1 possui um cadastro? "),a.TgZ(25,"a",13),a._uU(26,"Fa\xe7a o Login"),a.qZA()()()()}},dependencies:[Ed,Em,ps,fp,id,pp,Kc,Ch,Qu],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();function pre(n,t){if(1&n&&(a.TgZ(0,"div")(1,"p",6),a._uU(2," N\xf3s enviamos um email de confirmacao para "),a.TgZ(3,"strong"),a._uU(4),a.qZA(),a._uU(5,". "),a.qZA(),a.TgZ(6,"p",6),a._uU(7," Para regularizar seu acesso confira seu email e click no link para verificar seu email. "),a.qZA()()),2&n){const e=t.ngIf;a.xp6(4),a.Oqu(e.email)}}const mre=[{path:"",component:ore},{path:"login",component:are,canActivate:[uM]},{path:"cadastro",component:fre,canActivate:[uM]},{path:"perfil",component:hre,canActivate:[Im]},{path:"email-login",component:Hie,canActivate:[uM]},{path:"painel",component:ure,canActivate:[Im]},{path:"esqueceu-senha",component:jie,canActivate:[uM]},{path:"verificar-email",component:(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(Eo))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-verificar-email"]],decls:12,vars:3,consts:[[1,"container"],[1,"mat-h2"],[4,"ngIf"],["mat-raised-button","",3,"click"],[1,"redirectToLogin","text-center"],["routerLink","/login","routerLinkActive","active"],[1,"text-center"]],template:function(e,i){1&e&&(a.TgZ(0,"div",0)(1,"h2",1),a._uU(2,"Obrigado por se cadastrar"),a.qZA(),a.YNc(3,pre,8,1,"div",2),a.ALo(4,"async"),a.TgZ(5,"button",3),a.NdJ("click",function(){return i.authService.sendVerificationMail()}),a._uU(6," Reenviar verifica\xe7\xe3o "),a.qZA(),a.TgZ(7,"div",4)(8,"span"),a._uU(9,"Voltar e fazer "),a.TgZ(10,"a",5),a._uU(11,"Login?"),a.qZA()()()()),2&e&&(a.xp6(3),a.Q6J("ngIf",a.lcZ(4,1,i.authService.user)))},dependencies:[gn,Ed,Em,ps,hl],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;flex-direction:column;align-items:center}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})(),canActivate:[Im]},{path:"curriculo",component:E6,canActivate:[Im]},{path:"curriculo/:id",component:E6,canActivate:[Im]},{path:"adicionais",component:Uie,canActivate:[Im]},{path:"excluir-perfil",component:qie,canActivate:[Im]}];let gre=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[y6.forRoot(mre),y6]}),n})();const FL_firebaseConfig={apiKey:"AIzaSyDgzRquxls0_dgaA7t8UwnYXDhZ7416imI",authDomain:"curriculos-seve.firebaseapp.com",databaseURL:"https://curriculos-seve-default-rtdb.firebaseio.com",projectId:"curriculos-seve",storageBucket:"curriculos-seve.appspot.com",messagingSenderId:"963696035317",appId:"1:963696035317:web:2cb36dd541afc99f164cbc",measurementId:"G-2ZDXBRCGC2"};function _re(n,t){1&n&&a._UZ(0,"mat-progress-bar",10)}function yre(n,t){1&n&&(a.TgZ(0,"button",11)(1,"mat-icon"),a._uU(2,"dashboard"),a.qZA(),a.TgZ(3,"span"),a._uU(4,"Painel"),a.qZA()())}function vre(n,t){1&n&&(a.TgZ(0,"button",12)(1,"mat-icon"),a._uU(2,"person"),a.qZA(),a.TgZ(3,"span"),a._uU(4,"Perfil"),a.qZA()())}function bre(n,t){1&n&&(a.TgZ(0,"button",13)(1,"mat-icon"),a._uU(2,"login"),a.qZA(),a.TgZ(3,"span"),a._uU(4,"Entrar"),a.qZA()())}function wre(n,t){if(1&n){const e=a.EpF();a.TgZ(0,"button",14),a.NdJ("click",function(){a.CHM(e);const r=a.oxw();return a.KtG(r.logout())}),a.TgZ(1,"mat-icon"),a._uU(2,"logout"),a.qZA(),a.TgZ(3,"span"),a._uU(4,"Sair"),a.qZA()()}}let Cre=(()=>{class n{constructor(e,i,r,s,c){this.matIconRegistry=e,this.domSanitizer=i,this.authService=r,this._nav=s,this.progressBarService=c,this.title="curriculo-facil",this.showProgressBar=!1,this.matIconRegistry.addSvgIcon("google_logo",this.domSanitizer.bypassSecurityTrustResourceUrl("/curriculo-facil/assets/svg/google.svg")),this.progressBarService.show.subscribe(p=>{this.showProgressBar=p})}logout(){this.authService.signOut().then(()=>{this._nav.navigateTo("/")})}}return n.\u0275fac=function(e){return new(e||n)(a.Y36(wp),a.Y36(ro),a.Y36(Eo),a.Y36(Dm),a.Y36(NL))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:25,vars:14,consts:[["mode","query",4,"ngIf"],[1,"full-width"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"mat-body"],["menu","matMenu"],["mat-menu-item","","routerLink","/"],["mat-menu-item","","routerLink","/painel",4,"ngIf"],["mat-menu-item","","routerLink","/perfil",4,"ngIf"],["mat-menu-item","","routerLink","/login",4,"ngIf"],["mat-menu-item","",3,"click",4,"ngIf"],["mode","query"],["mat-menu-item","","routerLink","/painel"],["mat-menu-item","","routerLink","/perfil"],["mat-menu-item","","routerLink","/login"],["mat-menu-item","",3,"click"]],template:function(e,i){if(1&e&&(a.YNc(0,_re,1,0,"mat-progress-bar",0),a.TgZ(1,"mat-toolbar")(2,"span"),a._uU(3,"Curr\xedculo F\xe1cil"),a.qZA(),a._UZ(4,"div",1),a.TgZ(5,"button",2)(6,"mat-icon"),a._uU(7,"menu"),a.qZA()()(),a.TgZ(8,"div",3),a._UZ(9,"router-outlet"),a.qZA(),a.TgZ(10,"mat-menu",null,4)(12,"button",5)(13,"mat-icon"),a._uU(14,"home"),a.qZA(),a.TgZ(15,"span"),a._uU(16,"Inicial"),a.qZA()(),a.YNc(17,yre,5,0,"button",6),a.ALo(18,"async"),a.YNc(19,vre,5,0,"button",7),a.ALo(20,"async"),a.YNc(21,bre,5,0,"button",8),a.ALo(22,"async"),a.YNc(23,wre,5,0,"button",9),a.ALo(24,"async"),a.qZA()),2&e){const r=a.MAs(11);a.Q6J("ngIf",i.showProgressBar),a.xp6(5),a.Q6J("matMenuTriggerFor",r),a.xp6(12),a.Q6J("ngIf",a.lcZ(18,6,i.authService.user)),a.xp6(2),a.Q6J("ngIf",a.lcZ(20,8,i.authService.user)),a.xp6(2),a.Q6J("ngIf",!a.lcZ(22,10,i.authService.user)),a.xp6(2),a.Q6J("ngIf",a.lcZ(24,12,i.authService.user))}},dependencies:[gn,CL,Cm,WE,ps,Kc,iO,y_,rO,XW,hl],styles:[".mat-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0px}"]}),n})(),Ere=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[Cre]}),n.\u0275inj=a.cJS({providers:[Eo,{provide:ng,useValue:"pt-BR"}],imports:[Lo,gre,xg,hk,ev,hR,AR,LE,wR,JR,sO,ad,RW,zW,hI,JW,Cr.hO.initializeApp(FL_firebaseConfig),J4,hQ,jY,Cte]}),n})();(0,a.G48)(),Ml().bootstrapModule(Ere).catch(n=>console.error(n))},5867:(ht,ke,L)=>{L.d(ke,{C6:()=>a.getApps,Mq:()=>a.getApp});var a=L(9681);(0,a.registerVersion)("firebase","9.9.4","app")},127:(ht,ke,L)=>{L.d(ke,{Z:()=>a.Z});var a=L(3942);a.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(ht,ke,L)=>{L.r(ke);var a=L(5861),H=L(3942),P=L(8554),ce=L(2090),ae=(L(9681),L(1877),L(4859));function me(){return window}function Z(){return(Z=(0,a.Z)(function*(re,$,q){var Ce;const{BuildInfo:Ze}=me();(0,P.aq)($.sessionId,"AuthEvent did not contain a session ID");const vt=yield _e($.sessionId),It={};return(0,P.ar)()?It.ibi=Ze.packageName:(0,P.as)()?It.apn=Ze.packageName:(0,P.at)(re,"operation-not-supported-in-this-environment"),Ze.displayName&&(It.appDisplayName=Ze.displayName),It.sessionId=vt,(0,P.au)(re,q,$.type,void 0,null!==(Ce=$.eventId)&&void 0!==Ce?Ce:void 0,It)})).apply(this,arguments)}function Ge(){return(Ge=(0,a.Z)(function*(re){const{BuildInfo:$}=me(),q={};(0,P.ar)()?q.iosBundleId=$.packageName:(0,P.as)()?q.androidPackageName=$.packageName:(0,P.at)(re,"operation-not-supported-in-this-environment"),yield(0,P.av)(re,q)})).apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(re,$,q){const{cordova:Ce}=me();let Ze=()=>{};try{yield new Promise((vt,It)=>{let Le=null;function at(){var Bt;vt();const wn=null===(Bt=Ce.plugins.browsertab)||void 0===Bt?void 0:Bt.close;"function"==typeof wn&&wn(),"function"==typeof q?.close&&q.close()}function Xt(){Le||(Le=window.setTimeout(()=>{It((0,P.aw)(re,"redirect-cancelled-by-user"))},2e3))}function Fn(){"visible"===document?.visibilityState&&Xt()}$.addPassiveListener(at),document.addEventListener("resume",Xt,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Fn,!1),Ze=()=>{$.removePassiveListener(at),document.removeEventListener("resume",Xt,!1),document.removeEventListener("visibilitychange",Fn,!1),Le&&window.clearTimeout(Le)}})}finally{Ze()}})).apply(this,arguments)}function _e(re){return it.apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(re){const $=rt(re),q=yield crypto.subtle.digest("SHA-256",$);return Array.from(new Uint8Array(q)).map(Ze=>Ze.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function rt(re){if((0,P.aq)(/[0-9a-zA-Z]+/.test(re),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(re);const $=new ArrayBuffer(re.length),q=new Uint8Array($);for(let Ce=0;Ce<re.length;Ce++)q[Ce]=re.charCodeAt(Ce);return q}class Re extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise($=>{this.resolveInialized=$})}addPassiveListener($){this.passiveListeners.add($)}removePassiveListener($){this.passiveListeners.delete($)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent($){return this.resolveInialized(),this.passiveListeners.forEach(q=>q($)),super.onEvent($)}initialized(){var $=this;return(0,a.Z)(function*(){yield $.initPromise})()}}function le(re){return he.apply(this,arguments)}function he(){return(he=(0,a.Z)(function*(re){const $=yield ne()._get(ge(re));return $&&(yield ne()._remove(ge(re))),$})).apply(this,arguments)}function J(){const re=[],$="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Ce=Math.floor(Math.random()*$.length);re.push($.charAt(Ce))}return re.join("")}function ne(){return(0,P.ay)(P.b)}function ge(re){return(0,P.az)("authEvent",re.config.apiKey,re.name)}function He(re){if(!re?.includes("?"))return{};const[$,...q]=re.split("?");return(0,ce.zd)(q.join("?"))}function Ye(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Wt(){var re;return(null===(re=self?.location)||void 0===re?void 0:re.protocol)||null}function Ri(re=(0,ce.z$)()){return!("file:"!==Wt()&&"ionic:"!==Wt()&&"capacitor:"!==Wt()||!re.toLowerCase().match(/iphone|ipad|ipod|android/))}function ss(){try{const re=self.localStorage,$=P.aI();if(re)return re.setItem($,"1"),re.removeItem($),!function Cs(re=(0,ce.z$)()){return function Oi(){return(0,ce.w1)()&&11===document?.documentMode}()||function Nn(re=(0,ce.z$)()){return/Edge\/\d+/.test(re)}(re)}()||(0,ce.hl)()}catch{return hr()&&(0,ce.hl)()}return!1}function hr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Gn(){return(function Ht(){return"http:"===Wt()||"https:"===Wt()}()||(0,ce.ru)()||Ri())&&!function Do(){return(0,ce.b$)()||(0,ce.UG)()}()&&ss()&&!hr()}function Hr(){return Ri()&&typeof document<"u"}function st(){return(st=(0,a.Z)(function*(){return!!Hr()&&new Promise(re=>{const $=setTimeout(()=>{re(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout($),re(!0)})})})).apply(this,arguments)}const zn={LOCAL:"local",NONE:"none",SESSION:"session"},bn=P.ax,Ti="persistence";function kn(re){return xn.apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(re){yield re._initializationPromise;const $=pt(),q=P.az(Ti,re.config.apiKey,re.name);$&&$.setItem(q,re._getPersistence())})).apply(this,arguments)}function pt(){var re;try{return(null===(re=function Si(){return typeof window<"u"?window:null}())||void 0===re?void 0:re.sessionStorage)||null}catch{return null}}const mt=P.ax;class Nt{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class en{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize($){var q=this;return(0,a.Z)(function*(){const Ce=$._key();let Ze=q.eventManagers.get(Ce);return Ze||(Ze=new Re($),q.eventManagers.set(Ce,Ze),q.attachCallbackListeners($,Ze)),Ze})()}_openPopup($){(0,P.at)($,"operation-not-supported-in-this-environment")}_openRedirect($,q,Ce,Ze){var vt=this;return(0,a.Z)(function*(){!function Ee(re){var $,q,Ce,Ze,vt,It,Le,at,Xt,Fn;const Bt=me();(0,P.ax)("function"==typeof(null===($=Bt?.universalLinks)||void 0===$?void 0:$.subscribe),re,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(q=Bt?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(vt=null===(Ze=null===(Ce=Bt?.cordova)||void 0===Ce?void 0:Ce.plugins)||void 0===Ze?void 0:Ze.browsertab)||void 0===vt?void 0:vt.openUrl),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(at=null===(Le=null===(It=Bt?.cordova)||void 0===It?void 0:It.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===at?void 0:at.isAvailable),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Fn=null===(Xt=Bt?.cordova)||void 0===Xt?void 0:Xt.InAppBrowser)||void 0===Fn?void 0:Fn.open),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}($);const It=yield vt._initialize($);yield It.initialized(),It.resetRedirect(),(0,P.aD)(),yield vt._originValidation($);const Le=function Se(re,$,q=null){return{type:$,eventId:q,urlResponse:null,sessionId:J(),postBody:null,tenantId:re.tenantId,error:(0,P.aw)(re,"no-auth-event")}}($,Ce,Ze);yield function We(re,$){return ne()._set(ge(re),$)}($,Le);const at=yield function W(re,$,q){return Z.apply(this,arguments)}($,Le,q),Xt=yield function Ne(re){const{cordova:$}=me();return new Promise(q=>{$.plugins.browsertab.isAvailable(Ce=>{let Ze=null;Ce?$.plugins.browsertab.openUrl(re):Ze=$.InAppBrowser.open(re,(0,P.ap)()?"_blank":"_system","location=yes"),q(Ze)})})}(at);return function Ie(re,$,q){return lt.apply(this,arguments)}($,It,Xt)})()}_isIframeWebStorageSupported($,q){throw new Error("Method not implemented.")}_originValidation($){const q=$._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function ee(re){return Ge.apply(this,arguments)}($)),this.originValidationPromises[q]}attachCallbackListeners($,q){const{universalLinks:Ce,handleOpenURL:Ze,BuildInfo:vt}=me(),It=setTimeout((0,a.Z)(function*(){yield le($),q.onEvent(Ye())}),500),Le=function(){var Fn=(0,a.Z)(function*(Bt){clearTimeout(It);const wn=yield le($);let Es=null;wn&&Bt?.url&&(Es=function be(re,$){var q,Ce;const Ze=function Ue(re){const $=He(re),q=$.link?decodeURIComponent($.link):void 0,Ce=He(q).link,Ze=$.deep_link_id?decodeURIComponent($.deep_link_id):void 0;return He(Ze).link||Ze||Ce||q||re}($);if(Ze.includes("/__/auth/callback")){const vt=He(Ze),It=vt.firebaseError?function ue(re){try{return JSON.parse(re)}catch{return null}}(decodeURIComponent(vt.firebaseError)):null,Le=null===(Ce=null===(q=It?.code)||void 0===q?void 0:q.split("auth/"))||void 0===Ce?void 0:Ce[1],at=Le?(0,P.aw)(Le):null;return at?{type:re.type,eventId:re.eventId,tenantId:re.tenantId,error:at,urlResponse:null,sessionId:null,postBody:null}:{type:re.type,eventId:re.eventId,tenantId:re.tenantId,sessionId:re.sessionId,urlResponse:Ze,postBody:null}}return null}(wn,Bt.url)),q.onEvent(Es||Ye())});return function(wn){return Fn.apply(this,arguments)}}();typeof Ce<"u"&&"function"==typeof Ce.subscribe&&Ce.subscribe(null,Le);const at=Ze,Xt=`${vt.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Fn=(0,a.Z)(function*(Bt){if(Bt.toLowerCase().startsWith(Xt)&&Le({url:Bt}),"function"==typeof at)try{at(Bt)}catch(wn){console.error(wn)}});return function(Bt){return Fn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize($){var q=this;return(0,a.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize($)})()}_openPopup($,q,Ce,Ze){var vt=this;return(0,a.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openPopup($,q,Ce,Ze)})()}_openRedirect($,q,Ce,Ze){var vt=this;return(0,a.Z)(function*(){return yield vt.selectUnderlyingResolver(),vt.assertedUnderlyingResolver._openRedirect($,q,Ce,Ze)})()}_isIframeWebStorageSupported($,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported($,q)}_originValidation($){return this.assertedUnderlyingResolver._originValidation($)}get _shouldInitProactively(){return Hr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var $=this;return(0,a.Z)(function*(){if($.underlyingResolver)return;const q=yield function os(){return st.apply(this,arguments)}();$.underlyingResolver=q?$.cordovaResolver:$.browserResolver})()}}function nr(re){return re.unwrap()}function Pi(re){return Zi(re)}function Zi(re){const{_tokenResponse:$}=re instanceof ce.ZR?re.customData:re;if(!$)return null;if(!(re instanceof ce.ZR)&&"temporaryProof"in $&&"phoneNumber"in $)return P.P.credentialFromResult(re);const q=$.providerId;if(!q||q===P.o.PASSWORD)return null;let Ce;switch(q){case P.o.GOOGLE:Ce=P.Q;break;case P.o.FACEBOOK:Ce=P.N;break;case P.o.GITHUB:Ce=P.T;break;case P.o.TWITTER:Ce=P.W;break;default:const{oauthIdToken:Ze,oauthAccessToken:vt,oauthTokenSecret:It,pendingToken:Le,nonce:at}=$;return vt||It||Ze||Le?Le?q.startsWith("saml.")?P.aL._create(q,Le):P.J._fromParams({providerId:q,signInMethod:q,pendingToken:Le,idToken:Ze,accessToken:vt}):new P.U(q).credential({idToken:Ze,accessToken:vt,rawNonce:at}):null}return re instanceof ce.ZR?Ce.credentialFromError(re):Ce.credentialFromResult(re)}function Lt(re,$){return $.catch(q=>{throw q instanceof ce.ZR&&function Mt(re,$){var q,Ce;const Ze=null===(q=$.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ce=$)||void 0===Ce?void 0:Ce.code))$.resolver=new X(re,P.an(re,$));else if(Ze){const vt=Zi($),It=$;vt&&(It.credential=vt,It.tenantId=Ze.tenantId||void 0,It.email=Ze.email||void 0,It.phoneNumber=Ze.phoneNumber||void 0)}}(re,q),q}).then(q=>{const Ze=q.user;return{operationType:q.operationType,credential:Pi(q),additionalUserInfo:P.al(q),user:G.getOrCreate(Ze)}})}function fr(re,$){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(re,$){const q=yield $;return{verificationId:q.verificationId,confirm:Ce=>Lt(re,q.confirm(Ce))}})).apply(this,arguments)}class X{constructor($,q){this.resolver=q,this.auth=function Ai(re){return re.wrapped()}($)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn($){return Lt(nr(this.auth),this.resolver.resolveSignIn($))}}class G{constructor($){this._delegate=$,this.multiFactor=P.ao($)}static getOrCreate($){return G.USER_MAP.has($)||G.USER_MAP.set($,new G($)),G.USER_MAP.get($)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult($){return this._delegate.getIdTokenResult($)}getIdToken($){return this._delegate.getIdToken($)}linkAndRetrieveDataWithCredential($){return this.linkWithCredential($)}linkWithCredential($){var q=this;return(0,a.Z)(function*(){return Lt(q.auth,P.Z(q._delegate,$))})()}linkWithPhoneNumber($,q){var Ce=this;return(0,a.Z)(function*(){return fr(Ce.auth,P.l(Ce._delegate,$,q))})()}linkWithPopup($){var q=this;return(0,a.Z)(function*(){return Lt(q.auth,P.d(q._delegate,$,Nt))})()}linkWithRedirect($){var q=this;return(0,a.Z)(function*(){return yield kn(P.aE(q.auth)),P.g(q._delegate,$,Nt)})()}reauthenticateAndRetrieveDataWithCredential($){return this.reauthenticateWithCredential($)}reauthenticateWithCredential($){var q=this;return(0,a.Z)(function*(){return Lt(q.auth,P._(q._delegate,$))})()}reauthenticateWithPhoneNumber($,q){return fr(this.auth,P.r(this._delegate,$,q))}reauthenticateWithPopup($){return Lt(this.auth,P.e(this._delegate,$,Nt))}reauthenticateWithRedirect($){var q=this;return(0,a.Z)(function*(){return yield kn(P.aE(q.auth)),P.h(q._delegate,$,Nt)})()}sendEmailVerification($){return P.ab(this._delegate,$)}unlink($){var q=this;return(0,a.Z)(function*(){return yield P.ak(q._delegate,$),q})()}updateEmail($){return P.ag(this._delegate,$)}updatePassword($){return P.ah(this._delegate,$)}updatePhoneNumber($){return P.u(this._delegate,$)}updateProfile($){return P.af(this._delegate,$)}verifyBeforeUpdateEmail($,q){return P.ac(this._delegate,$,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const j=P.ax;let Y=(()=>{class re{constructor(q,Ce){if(this.app=q,Ce.isInitialized())return this._delegate=Ce.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ze}=q.options;j(Ze,"invalid-api-key",{appName:q.name}),j(Ze,"invalid-api-key",{appName:q.name});const vt=typeof window<"u"?Nt:void 0;this._delegate=Ce.initialize({options:{persistence:Ae(Ze,q.name),popupRedirectResolver:vt}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Ce){P.G(this._delegate,q,Ce)}applyActionCode(q){return P.a2(this._delegate,q)}checkActionCode(q){return P.a3(this._delegate,q)}confirmPasswordReset(q,Ce){return P.a1(this._delegate,q,Ce)}createUserWithEmailAndPassword(q,Ce){var Ze=this;return(0,a.Z)(function*(){return Lt(Ze._delegate,P.a5(Ze._delegate,q,Ce))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return P.aa(this._delegate,q)}isSignInWithEmailLink(q){return P.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,a.Z)(function*(){j(Gn(),q._delegate,"operation-not-supported-in-this-environment");const Ce=yield P.j(q._delegate,Nt);return Ce?Lt(q._delegate,Promise.resolve(Ce)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function Dn(re,$){(0,P.aE)(re)._logFramework($)}(this._delegate,q)}onAuthStateChanged(q,Ce,Ze){const{next:vt,error:It,complete:Le}=K(q,Ce,Ze);return this._delegate.onAuthStateChanged(vt,It,Le)}onIdTokenChanged(q,Ce,Ze){const{next:vt,error:It,complete:Le}=K(q,Ce,Ze);return this._delegate.onIdTokenChanged(vt,It,Le)}sendSignInLinkToEmail(q,Ce){return P.a7(this._delegate,q,Ce)}sendPasswordResetEmail(q,Ce){return P.a0(this._delegate,q,Ce||void 0)}setPersistence(q){var Ce=this;return(0,a.Z)(function*(){let Ze;switch(function as(re,$){bn(Object.values(zn).includes($),re,"invalid-persistence-type"),(0,ce.b$)()?bn($!==zn.SESSION,re,"unsupported-persistence-type"):(0,ce.UG)()?bn($===zn.NONE,re,"unsupported-persistence-type"):hr()?bn($===zn.NONE||$===zn.LOCAL&&(0,ce.hl)(),re,"unsupported-persistence-type"):bn($===zn.NONE||ss(),re,"unsupported-persistence-type")}(Ce._delegate,q),q){case zn.SESSION:Ze=P.a;break;case zn.LOCAL:Ze=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case zn.NONE:Ze=P.L;break;default:return P.at("argument-error",{appName:Ce._delegate.name})}return Ce._delegate.setPersistence(Ze)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Lt(this._delegate,P.X(this._delegate))}signInWithCredential(q){return Lt(this._delegate,P.Y(this._delegate,q))}signInWithCustomToken(q){return Lt(this._delegate,P.$(this._delegate,q))}signInWithEmailAndPassword(q,Ce){return Lt(this._delegate,P.a6(this._delegate,q,Ce))}signInWithEmailLink(q,Ce){return Lt(this._delegate,P.a9(this._delegate,q,Ce))}signInWithPhoneNumber(q,Ce){return fr(this._delegate,P.s(this._delegate,q,Ce))}signInWithPopup(q){var Ce=this;return(0,a.Z)(function*(){return j(Gn(),Ce._delegate,"operation-not-supported-in-this-environment"),Lt(Ce._delegate,P.c(Ce._delegate,q,Nt))})()}signInWithRedirect(q){var Ce=this;return(0,a.Z)(function*(){return j(Gn(),Ce._delegate,"operation-not-supported-in-this-environment"),yield kn(Ce._delegate),P.f(Ce._delegate,q,Nt)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return P.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return re.Persistence=zn,re})();function K(re,$,q){let Ce=re;"function"!=typeof re&&({next:Ce,error:$,complete:q}=re);const Ze=Ce;return{next:It=>Ze(It&&G.getOrCreate(It)),error:$,complete:q}}function Ae(re,$){const q=function In(re,$){const q=pt();if(!q)return[];const Ce=P.az(Ti,re,$);switch(q.getItem(Ce)){case zn.NONE:return[P.L];case zn.LOCAL:return[P.i,P.a];case zn.SESSION:return[P.a];default:return[]}}(re,$);if(typeof self<"u"&&!q.includes(P.i)&&q.push(P.i),typeof window<"u")for(const Ce of[P.b,P.a])q.includes(Ce)||q.push(Ce);return q.includes(P.L)||q.push(P.L),q}class qe{constructor(){this.providerId="phone",this._delegate=new P.P(nr(H.Z.auth()))}static credential($,q){return P.P.credential($,q)}verifyPhoneNumber($,q){return this._delegate.verifyPhoneNumber($,q)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=P.P.PROVIDER_ID;const Ct=P.ax;class mn{constructor($,q,Ce=H.Z.app()){var Ze;Ct(null===(Ze=Ce.options)||void 0===Ze?void 0:Ze.apiKey,"invalid-api-key",{appName:Ce.name}),this._delegate=new P.R($,q,Ce.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function li(re){re.INTERNAL.registerComponent(new ae.wA("auth-compat",$=>{const q=$.getProvider("app-compat").getImmediate(),Ce=$.getProvider("auth");return new Y(q,Ce)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:mn,TwitterAuthProvider:P.W,Auth:Y,AuthCredential:P.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),re.registerVersion("@firebase/auth-compat","0.2.19")}(H.Z)},9751:(ht,ke,L)=>{L.d(ke,{y:()=>me});var a=L(930),H=L(727),P=L(8822),ce=L(9635),de=L(2416),ye=L(576),ae=L(2806);let me=(()=>{class ee{constructor(Ne){Ne&&(this._subscribe=Ne)}lift(Ne){const Ie=new ee;return Ie.source=this,Ie.operator=Ne,Ie}subscribe(Ne,Ie,lt){const Ee=function Z(ee){return ee&&ee instanceof a.Lv||function W(ee){return ee&&(0,ye.m)(ee.next)&&(0,ye.m)(ee.error)&&(0,ye.m)(ee.complete)}(ee)&&(0,H.Nn)(ee)}(Ne)?Ne:new a.Hp(Ne,Ie,lt);return(0,ae.x)(()=>{const{operator:_e,source:it}=this;Ee.add(_e?_e.call(Ee,it):it?this._subscribe(Ee):this._trySubscribe(Ee))}),Ee}_trySubscribe(Ne){try{return this._subscribe(Ne)}catch(Ie){Ne.error(Ie)}}forEach(Ne,Ie){return new(Ie=we(Ie))((lt,Ee)=>{const _e=new a.Hp({next:it=>{try{Ne(it)}catch(rt){Ee(rt),_e.unsubscribe()}},error:Ee,complete:lt});this.subscribe(_e)})}_subscribe(Ne){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Ne)}[P.L](){return this}pipe(...Ne){return(0,ce.U)(Ne)(this)}toPromise(Ne){return new(Ne=we(Ne))((Ie,lt)=>{let Ee;this.subscribe(_e=>Ee=_e,_e=>lt(_e),()=>Ie(Ee))})}}return ee.create=Ge=>new ee(Ge),ee})();function we(ee){var Ge;return null!==(Ge=ee??de.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(ht,ke,L)=>{L.d(ke,{x:()=>ae});var a=L(9751),H=L(727);const ce=(0,L(3888).d)(we=>function(){we(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=L(8737),ye=L(2806);let ae=(()=>{class we extends a.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ee=new me(this,this);return ee.operator=Z,ee}_throwIfClosed(){if(this.closed)throw new ce}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ee,isStopped:Ge,observers:Ne}=this;return ee||Ge?H.Lc:(this.currentObservers=null,Ne.push(Z),new H.w0(()=>{this.currentObservers=null,(0,de.P)(Ne,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ee,thrownError:Ge,isStopped:Ne}=this;ee?Z.error(Ge):Ne&&Z.complete()}asObservable(){const Z=new a.y;return Z.source=this,Z}}return we.create=(W,Z)=>new me(W,Z),we})();class me extends ae{constructor(W,Z){super(),this.destination=W,this.source=Z}next(W){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ee||ee.call(Z,W)}error(W){var Z,ee;null===(ee=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ee||ee.call(Z,W)}complete(){var W,Z;null===(Z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===Z||Z.call(W)}_subscribe(W){var Z,ee;return null!==(ee=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(W))&&void 0!==ee?ee:H.Lc}}},930:(ht,ke,L)=>{L.d(ke,{Hp:()=>lt,Lv:()=>ee});var a=L(576),H=L(727),P=L(2416),ce=L(7849),de=L(5032);const ye=we("C",void 0,void 0);function we(Fe,Re,Se){return{kind:Fe,value:Re,error:Se}}var W=L(3410),Z=L(2806);class ee extends H.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,H.Nn)(Re)&&Re.add(this)):this.destination=rt}static create(Re,Se,We){return new lt(Re,Se,We)}next(Re){this.isStopped?it(function me(Fe){return we("N",Fe,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?it(function ae(Fe){return we("E",void 0,Fe)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?it(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Ne(Fe,Re){return Ge.call(Fe,Re)}class Ie{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Re)}catch(We){Ee(We)}}error(Re){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Re)}catch(We){Ee(We)}else Ee(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Se){Ee(Se)}}}class lt extends ee{constructor(Re,Se,We){let le;if(super(),(0,a.m)(Re)||!Re)le={next:Re??void 0,error:Se??void 0,complete:We??void 0};else{let he;this&&P.v.useDeprecatedNextContext?(he=Object.create(Re),he.unsubscribe=()=>this.unsubscribe(),le={next:Re.next&&Ne(Re.next,he),error:Re.error&&Ne(Re.error,he),complete:Re.complete&&Ne(Re.complete,he)}):le=Re}this.destination=new Ie(le)}}function Ee(Fe){P.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Fe):(0,ce.h)(Fe)}function it(Fe,Re){const{onStoppedNotification:Se}=P.v;Se&&W.z.setTimeout(()=>Se(Fe,Re))}const rt={closed:!0,next:de.Z,error:function _e(Fe){throw Fe},complete:de.Z}},727:(ht,ke,L)=>{L.d(ke,{Lc:()=>ye,w0:()=>de,Nn:()=>ae});var a=L(576);const P=(0,L(3888).d)(we=>function(Z){we(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ce=L(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ne of Z)Ne.remove(this);else Z.remove(this);const{initialTeardown:ee}=this;if((0,a.m)(ee))try{ee()}catch(Ne){W=Ne instanceof P?Ne.errors:[Ne]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Ne of Ge)try{me(Ne)}catch(Ie){W=W??[],Ie instanceof P?W=[...W,...Ie.errors]:W.push(Ie)}}if(W)throw new P(W)}}add(W){var Z;if(W&&W!==this)if(this.closed)me(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(W)}}_hasParent(W){const{_parentage:Z}=this;return Z===W||Array.isArray(Z)&&Z.includes(W)}_addParent(W){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(W),Z):Z?[Z,W]:W}_removeParent(W){const{_parentage:Z}=this;Z===W?this._parentage=null:Array.isArray(Z)&&(0,ce.P)(Z,W)}remove(W){const{_finalizers:Z}=this;Z&&(0,ce.P)(Z,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const we=new de;return we.closed=!0,we})();const ye=de.EMPTY;function ae(we){return we instanceof de||we&&"closed"in we&&(0,a.m)(we.remove)&&(0,a.m)(we.add)&&(0,a.m)(we.unsubscribe)}function me(we){(0,a.m)(we)?we():we.unsubscribe()}},2416:(ht,ke,L)=>{L.d(ke,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,ke,L)=>{L.d(ke,{E:()=>H});const H=new(L(9751).y)(de=>de.complete())},8996:(ht,ke,L)=>{L.d(ke,{D:()=>Re});var a=L(8421),H=L(5363),P=L(9468),ye=L(9751),me=L(2202),we=L(576),W=L(9672);function ee(Se,We){if(!Se)throw new Error("Iterable cannot be null");return new ye.y(le=>{(0,W.f)(le,We,()=>{const he=Se[Symbol.asyncIterator]();(0,W.f)(le,We,()=>{he.next().then(be=>{be.done?le.complete():le.next(be.value)})},0,!0)})})}var Ge=L(3670),Ne=L(8239),Ie=L(1144),lt=L(6495),Ee=L(2206),_e=L(4532),it=L(3260);function Re(Se,We){return We?function Fe(Se,We){if(null!=Se){if((0,Ge.c)(Se))return function ce(Se,We){return(0,a.Xf)(Se).pipe((0,P.R)(We),(0,H.Q)(We))}(Se,We);if((0,Ie.z)(Se))return function ae(Se,We){return new ye.y(le=>{let he=0;return We.schedule(function(){he===Se.length?le.complete():(le.next(Se[he++]),le.closed||this.schedule())})})}(Se,We);if((0,Ne.t)(Se))return function de(Se,We){return(0,a.Xf)(Se).pipe((0,P.R)(We),(0,H.Q)(We))}(Se,We);if((0,Ee.D)(Se))return ee(Se,We);if((0,lt.T)(Se))return function Z(Se,We){return new ye.y(le=>{let he;return(0,W.f)(le,We,()=>{he=Se[me.h](),(0,W.f)(le,We,()=>{let be,J;try{({value:be,done:J}=he.next())}catch(ne){return void le.error(ne)}J?le.complete():le.next(be)},0,!0)}),()=>(0,we.m)(he?.return)&&he.return()})}(Se,We);if((0,it.L)(Se))return function rt(Se,We){return ee((0,it.Q)(Se),We)}(Se,We)}throw(0,_e.z)(Se)}(Se,We):(0,a.Xf)(Se)}},8421:(ht,ke,L)=>{L.d(ke,{Xf:()=>Ge});var a=L(655),H=L(1144),P=L(8239),ce=L(9751),de=L(3670),ye=L(2206),ae=L(4532),me=L(6495),we=L(3260),W=L(576),Z=L(7849),ee=L(8822);function Ge(Fe){if(Fe instanceof ce.y)return Fe;if(null!=Fe){if((0,de.c)(Fe))return function Ne(Fe){return new ce.y(Re=>{const Se=Fe[ee.L]();if((0,W.m)(Se.subscribe))return Se.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,H.z)(Fe))return function Ie(Fe){return new ce.y(Re=>{for(let Se=0;Se<Fe.length&&!Re.closed;Se++)Re.next(Fe[Se]);Re.complete()})}(Fe);if((0,P.t)(Fe))return function lt(Fe){return new ce.y(Re=>{Fe.then(Se=>{Re.closed||(Re.next(Se),Re.complete())},Se=>Re.error(Se)).then(null,Z.h)})}(Fe);if((0,ye.D)(Fe))return _e(Fe);if((0,me.T)(Fe))return function Ee(Fe){return new ce.y(Re=>{for(const Se of Fe)if(Re.next(Se),Re.closed)return;Re.complete()})}(Fe);if((0,we.L)(Fe))return function it(Fe){return _e((0,we.Q)(Fe))}(Fe)}throw(0,ae.z)(Fe)}function _e(Fe){return new ce.y(Re=>{(function rt(Fe,Re){var Se,We,le,he;return(0,a.mG)(this,void 0,void 0,function*(){try{for(Se=(0,a.KL)(Fe);!(We=yield Se.next()).done;)if(Re.next(We.value),Re.closed)return}catch(be){le={error:be}}finally{try{We&&!We.done&&(he=Se.return)&&(yield he.call(Se))}finally{if(le)throw le.error}}Re.complete()})})(Fe,Re).catch(Se=>Re.error(Se))})}},6451:(ht,ke,L)=>{L.d(ke,{T:()=>ye});var a=L(8189),H=L(8421),P=L(515),ce=L(3269),de=L(8996);function ye(...ae){const me=(0,ce.yG)(ae),we=(0,ce._6)(ae,1/0),W=ae;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,a.J)(we)((0,de.D)(W,me)):P.E}},5403:(ht,ke,L)=>{L.d(ke,{x:()=>H});var a=L(930);function H(ce,de,ye,ae,me){return new P(ce,de,ye,ae,me)}class P extends a.Lv{constructor(de,ye,ae,me,we,W){super(de),this.onFinalize=we,this.shouldUnsubscribe=W,this._next=ye?function(Z){try{ye(Z)}catch(ee){de.error(ee)}}:super._next,this._error=me?function(Z){try{me(Z)}catch(ee){de.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=ae?function(){try{ae()}catch(Z){de.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(ht,ke,L)=>{L.d(ke,{U:()=>P});var a=L(4482),H=L(5403);function P(ce,de){return(0,a.e)((ye,ae)=>{let me=0;ye.subscribe((0,H.x)(ae,we=>{ae.next(ce.call(de,we,me++))}))})}},8189:(ht,ke,L)=>{L.d(ke,{J:()=>P});var a=L(5577),H=L(4671);function P(ce=1/0){return(0,a.z)(H.y,ce)}},5577:(ht,ke,L)=>{L.d(ke,{z:()=>me});var a=L(4004),H=L(8421),P=L(4482),ce=L(9672),de=L(5403),ae=L(576);function me(we,W,Z=1/0){return(0,ae.m)(W)?me((ee,Ge)=>(0,a.U)((Ne,Ie)=>W(ee,Ne,Ge,Ie))((0,H.Xf)(we(ee,Ge))),Z):("number"==typeof W&&(Z=W),(0,P.e)((ee,Ge)=>function ye(we,W,Z,ee,Ge,Ne,Ie,lt){const Ee=[];let _e=0,it=0,rt=!1;const Fe=()=>{rt&&!Ee.length&&!_e&&W.complete()},Re=We=>_e<ee?Se(We):Ee.push(We),Se=We=>{Ne&&W.next(We),_e++;let le=!1;(0,H.Xf)(Z(We,it++)).subscribe((0,de.x)(W,he=>{Ge?.(he),Ne?Re(he):W.next(he)},()=>{le=!0},void 0,()=>{if(le)try{for(_e--;Ee.length&&_e<ee;){const he=Ee.shift();Ie?(0,ce.f)(W,Ie,()=>Se(he)):Se(he)}Fe()}catch(he){W.error(he)}}))};return we.subscribe((0,de.x)(W,Re,()=>{rt=!0,Fe()})),()=>{lt?.()}}(ee,Ge,we,Z)))}},5363:(ht,ke,L)=>{L.d(ke,{Q:()=>ce});var a=L(9672),H=L(4482),P=L(5403);function ce(de,ye=0){return(0,H.e)((ae,me)=>{ae.subscribe((0,P.x)(me,we=>(0,a.f)(me,de,()=>me.next(we),ye),()=>(0,a.f)(me,de,()=>me.complete(),ye),we=>(0,a.f)(me,de,()=>me.error(we),ye)))})}},3099:(ht,ke,L)=>{L.d(ke,{B:()=>de});var a=L(8421),H=L(7579),P=L(930),ce=L(4482);function de(ae={}){const{connector:me=(()=>new H.x),resetOnError:we=!0,resetOnComplete:W=!0,resetOnRefCountZero:Z=!0}=ae;return ee=>{let Ge,Ne,Ie,lt=0,Ee=!1,_e=!1;const it=()=>{Ne?.unsubscribe(),Ne=void 0},rt=()=>{it(),Ge=Ie=void 0,Ee=_e=!1},Fe=()=>{const Re=Ge;rt(),Re?.unsubscribe()};return(0,ce.e)((Re,Se)=>{lt++,!_e&&!Ee&&it();const We=Ie=Ie??me();Se.add(()=>{lt--,0===lt&&!_e&&!Ee&&(Ne=ye(Fe,Z))}),We.subscribe(Se),!Ge&&lt>0&&(Ge=new P.Hp({next:le=>We.next(le),error:le=>{_e=!0,it(),Ne=ye(rt,we,le),We.error(le)},complete:()=>{Ee=!0,it(),Ne=ye(rt,W),We.complete()}}),(0,a.Xf)(Re).subscribe(Ge))})(ee)}}function ye(ae,me,...we){if(!0===me)return void ae();if(!1===me)return;const W=new P.Hp({next:()=>{W.unsubscribe(),ae()}});return me(...we).subscribe(W)}},9468:(ht,ke,L)=>{L.d(ke,{R:()=>H});var a=L(4482);function H(P,ce=0){return(0,a.e)((de,ye)=>{ye.add(P.schedule(()=>de.subscribe(ye),ce))})}},8505:(ht,ke,L)=>{L.d(ke,{b:()=>de});var a=L(576),H=L(4482),P=L(5403),ce=L(4671);function de(ye,ae,me){const we=(0,a.m)(ye)||ae||me?{next:ye,error:ae,complete:me}:ye;return we?(0,H.e)((W,Z)=>{var ee;null===(ee=we.subscribe)||void 0===ee||ee.call(we);let Ge=!0;W.subscribe((0,P.x)(Z,Ne=>{var Ie;null===(Ie=we.next)||void 0===Ie||Ie.call(we,Ne),Z.next(Ne)},()=>{var Ne;Ge=!1,null===(Ne=we.complete)||void 0===Ne||Ne.call(we),Z.complete()},Ne=>{var Ie;Ge=!1,null===(Ie=we.error)||void 0===Ie||Ie.call(we,Ne),Z.error(Ne)},()=>{var Ne,Ie;Ge&&(null===(Ne=we.unsubscribe)||void 0===Ne||Ne.call(we)),null===(Ie=we.finalize)||void 0===Ie||Ie.call(we)}))}):ce.y}},4408:(ht,ke,L)=>{L.d(ke,{o:()=>de});var a=L(727);class H extends a.w0{constructor(ae,me){super()}schedule(ae,me=0){return this}}const P={setInterval(ye,ae,...me){const{delegate:we}=P;return we?.setInterval?we.setInterval(ye,ae,...me):setInterval(ye,ae,...me)},clearInterval(ye){const{delegate:ae}=P;return(ae?.clearInterval||clearInterval)(ye)},delegate:void 0};var ce=L(8737);class de extends H{constructor(ae,me){super(ae,me),this.scheduler=ae,this.work=me,this.pending=!1}schedule(ae,me=0){if(this.closed)return this;this.state=ae;const we=this.id,W=this.scheduler;return null!=we&&(this.id=this.recycleAsyncId(W,we,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(W,this.id,me),this}requestAsyncId(ae,me,we=0){return P.setInterval(ae.flush.bind(ae,this),we)}recycleAsyncId(ae,me,we=0){if(null!=we&&this.delay===we&&!1===this.pending)return me;P.clearInterval(me)}execute(ae,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const we=this._execute(ae,me);if(we)return we;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,me){let W,we=!1;try{this.work(ae)}catch(Z){we=!0,W=Z||new Error("Scheduled action threw falsy error")}if(we)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:ae,scheduler:me}=this,{actions:we}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(we,this),null!=ae&&(this.id=this.recycleAsyncId(me,ae,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,ke,L)=>{L.d(ke,{v:()=>P});var a=L(6063);class H{constructor(de,ye=H.now){this.schedulerActionCtor=de,this.now=ye}schedule(de,ye=0,ae){return new this.schedulerActionCtor(this,de).schedule(ae,ye)}}H.now=a.l.now;class P extends H{constructor(de,ye=H.now){super(de,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:ye}=this;if(this._active)return void ye.push(de);let ae;this._active=!0;do{if(ae=de.execute(de.state,de.delay))break}while(de=ye.shift());if(this._active=!1,ae){for(;de=ye.shift();)de.unsubscribe();throw ae}}}},4986:(ht,ke,L)=>{L.d(ke,{P:()=>ce,z:()=>P});var a=L(4408);const P=new(L(7565).v)(a.o),ce=P},6063:(ht,ke,L)=>{L.d(ke,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(ht,ke,L)=>{L.d(ke,{z:()=>a});const a={setTimeout(H,P,...ce){const{delegate:de}=a;return de?.setTimeout?de.setTimeout(H,P,...ce):setTimeout(H,P,...ce)},clearTimeout(H){const{delegate:P}=a;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ht,ke,L)=>{L.d(ke,{h:()=>H});const H=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,ke,L)=>{L.d(ke,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,ke,L)=>{L.d(ke,{_6:()=>ye,jO:()=>ce,yG:()=>de});var a=L(576),H=L(3532);function P(ae){return ae[ae.length-1]}function ce(ae){return(0,a.m)(P(ae))?ae.pop():void 0}function de(ae){return(0,H.K)(P(ae))?ae.pop():void 0}function ye(ae,me){return"number"==typeof P(ae)?ae.pop():me}},8737:(ht,ke,L)=>{function a(H,P){if(H){const ce=H.indexOf(P);0<=ce&&H.splice(ce,1)}}L.d(ke,{P:()=>a})},3888:(ht,ke,L)=>{function a(H){const ce=H(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}L.d(ke,{d:()=>a})},2806:(ht,ke,L)=>{L.d(ke,{O:()=>ce,x:()=>P});var a=L(2416);let H=null;function P(de){if(a.v.useDeprecatedSynchronousErrorHandling){const ye=!H;if(ye&&(H={errorThrown:!1,error:null}),de(),ye){const{errorThrown:ae,error:me}=H;if(H=null,ae)throw me}}else de()}function ce(de){a.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=de)}},9672:(ht,ke,L)=>{function a(H,P,ce,de=0,ye=!1){const ae=P.schedule(function(){ce(),ye?H.add(this.schedule(null,de)):this.unsubscribe()},de);if(H.add(ae),!ye)return ae}L.d(ke,{f:()=>a})},4671:(ht,ke,L)=>{function a(H){return H}L.d(ke,{y:()=>a})},1144:(ht,ke,L)=>{L.d(ke,{z:()=>a});const a=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ht,ke,L)=>{L.d(ke,{D:()=>H});var a=L(576);function H(P){return Symbol.asyncIterator&&(0,a.m)(P?.[Symbol.asyncIterator])}},576:(ht,ke,L)=>{function a(H){return"function"==typeof H}L.d(ke,{m:()=>a})},3670:(ht,ke,L)=>{L.d(ke,{c:()=>P});var a=L(8822),H=L(576);function P(ce){return(0,H.m)(ce[a.L])}},6495:(ht,ke,L)=>{L.d(ke,{T:()=>P});var a=L(2202),H=L(576);function P(ce){return(0,H.m)(ce?.[a.h])}},8239:(ht,ke,L)=>{L.d(ke,{t:()=>H});var a=L(576);function H(P){return(0,a.m)(P?.then)}},3260:(ht,ke,L)=>{L.d(ke,{L:()=>ce,Q:()=>P});var a=L(655),H=L(576);function P(de){return(0,a.FC)(this,arguments,function*(){const ae=de.getReader();try{for(;;){const{value:me,done:we}=yield(0,a.qq)(ae.read());if(we)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(me)}}finally{ae.releaseLock()}})}function ce(de){return(0,H.m)(de?.getReader)}},3532:(ht,ke,L)=>{L.d(ke,{K:()=>H});var a=L(576);function H(P){return P&&(0,a.m)(P.schedule)}},4482:(ht,ke,L)=>{L.d(ke,{A:()=>H,e:()=>P});var a=L(576);function H(ce){return(0,a.m)(ce?.lift)}function P(ce){return de=>{if(H(de))return de.lift(function(ye){try{return ce(ye,this)}catch(ae){this.error(ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,ke,L)=>{function a(){}L.d(ke,{Z:()=>a})},9635:(ht,ke,L)=>{L.d(ke,{U:()=>P,z:()=>H});var a=L(4671);function H(...ce){return P(ce)}function P(ce){return 0===ce.length?a.y:1===ce.length?ce[0]:function(ye){return ce.reduce((ae,me)=>me(ae),ye)}}},7849:(ht,ke,L)=>{L.d(ke,{h:()=>P});var a=L(2416),H=L(3410);function P(ce){H.z.setTimeout(()=>{const{onUnhandledError:de}=a.v;if(!de)throw ce;de(ce)})}},4532:(ht,ke,L)=>{function a(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(ke,{z:()=>a})},655:(ht,ke,L)=>{function ce(J,ne){var ge={};for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&ne.indexOf(ue)<0&&(ge[ue]=J[ue]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ue=Object.getOwnPropertySymbols(J);Ue<ue.length;Ue++)ne.indexOf(ue[Ue])<0&&Object.prototype.propertyIsEnumerable.call(J,ue[Ue])&&(ge[ue[Ue]]=J[ue[Ue]])}return ge}function me(J,ne,ge,ue){return new(ge||(ge=Promise))(function(He,yt){function en(Dn){try{Ye(ue.next(Dn))}catch($n){yt($n)}}function qt(Dn){try{Ye(ue.throw(Dn))}catch($n){yt($n)}}function Ye(Dn){Dn.done?He(Dn.value):function Ue(He){return He instanceof ge?He:new ge(function(yt){yt(He)})}(Dn.value).then(en,qt)}Ye((ue=ue.apply(J,ne||[])).next())})}function Ee(J){return this instanceof Ee?(this.v=J,this):new Ee(J)}function _e(J,ne,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ue=ge.apply(J,ne||[]),He=[];return Ue={},yt("next"),yt("throw"),yt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function yt(ln){ue[ln]&&(Ue[ln]=function(tn){return new Promise(function(Wt,Ht){He.push([ln,tn,Wt,Ht])>1||en(ln,tn)})})}function en(ln,tn){try{!function qt(ln){ln.value instanceof Ee?Promise.resolve(ln.value.v).then(Ye,Dn):$n(He[0][2],ln)}(ue[ln](tn))}catch(Wt){$n(He[0][3],Wt)}}function Ye(ln){en("next",ln)}function Dn(ln){en("throw",ln)}function $n(ln,tn){ln(tn),He.shift(),He.length&&en(He[0][0],He[0][1])}}function rt(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ne=J[Symbol.asyncIterator];return ne?ne.call(J):(J=function ee(J){var ne="function"==typeof Symbol&&Symbol.iterator,ge=ne&&J[ne],ue=0;if(ge)return ge.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ue>=J.length&&(J=void 0),{value:J&&J[ue++],done:!J}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ge={},ue("next"),ue("throw"),ue("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ue(He){ge[He]=J[He]&&function(yt){return new Promise(function(en,qt){!function Ue(He,yt,en,qt){Promise.resolve(qt).then(function(Ye){He({value:Ye,done:en})},yt)}(en,qt,(yt=J[He](yt)).done,yt.value)})}}}L.d(ke,{FC:()=>_e,KL:()=>rt,_T:()=>ce,mG:()=>me,qq:()=>Ee})},4650:(ht,ke,L)=>{L.d(ke,{$8M:()=>Ac,$Z:()=>JE,AFp:()=>FR,ALo:()=>fR,AaK:()=>me,BQk:()=>tp,CHM:()=>mf,CRH:()=>PI,CZH:()=>lw,CqO:()=>jv,D6c:()=>AB,EJc:()=>mB,EiD:()=>_M,EpF:()=>mx,F$t:()=>np,F4k:()=>Hv,FYo:()=>vr,FiY:()=>Ke,G48:()=>f_,Gf:()=>OI,GfV:()=>hE,Gpc:()=>Z,Gre:()=>lb,Hsn:()=>RD,Ikx:()=>op,JOm:()=>qa,JVY:()=>XC,KtG:()=>ba,L6k:()=>JC,LAX:()=>gM,LFG:()=>Bn,LSH:()=>sE,Lbi:()=>Ip,Lck:()=>tR,MAs:()=>ID,MGl:()=>ip,MMx:()=>Bb,NdJ:()=>Rg,O4$:()=>vu,OlP:()=>Rn,Oqu:()=>ob,PXZ:()=>iS,Q6J:()=>Vv,QGY:()=>AD,QP$:()=>Ze,QbO:()=>hB,Qsj:()=>WL,R0b:()=>Us,RDi:()=>qC,Rgc:()=>gp,SBq:()=>zl,Sil:()=>hw,Suo:()=>a_,TTD:()=>Xs,TgZ:()=>ep,Udp:()=>Fg,VKq:()=>lR,W1O:()=>ER,WFA:()=>Ql,X6Q:()=>uS,XFs:()=>st,Xpm:()=>Y,Xts:()=>Lc,Y36:()=>lh,YKP:()=>_I,YNc:()=>DD,Yjl:()=>re,Yz7:()=>tn,Z0I:()=>Do,ZZ4:()=>Iw,_Bn:()=>gI,_UZ:()=>SD,_Vd:()=>Ou,_c5:()=>SB,_uU:()=>jD,aQg:()=>Tw,c2e:()=>fB,cJS:()=>Ht,cg1:()=>Ju,d8E:()=>pb,dDg:()=>vB,dqk:()=>Nt,eBb:()=>eE,eFA:()=>YR,ekj:()=>Lg,eoX:()=>eS,f3M:()=>S,g9A:()=>VR,h0i:()=>Ih,hGG:()=>TB,hij:()=>Ug,iGM:()=>Kb,ifc:()=>mt,ip1:()=>NR,jDz:()=>iR,kL8:()=>gb,kcU:()=>Bd,lG2:()=>li,lcZ:()=>EI,lqb:()=>Wr,lri:()=>Ah,mCW:()=>se,n5z:()=>io,n_E:()=>mp,oAB:()=>Ct,oxw:()=>xD,pB0:()=>b,q3G:()=>Ui,q4F:()=>fE,qLn:()=>Ff,qOj:()=>xv,qZA:()=>xg,qzn:()=>Pc,rWj:()=>zR,sBO:()=>KR,sIi:()=>qu,s_b:()=>rd,soG:()=>uw,tb:()=>cw,tp0:()=>kt,uIk:()=>Pv,vHH:()=>Ie,vpe:()=>Xo,wAp:()=>xt,xp6:()=>pk,ynx:()=>Uv,z2F:()=>d_,z3N:()=>Ga,zSh:()=>yn,zs3:()=>Bc});var a=L(7579),H=L(727),P=L(9751),ce=L(6451),de=L(3099);function ye(o){for(let l in o)if(o[l]===ye)return l;throw Error("Could not find renamed property on target object.")}function ae(o,l){for(const u in l)l.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=l[u])}function me(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(me).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function we(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const W=ye({__forward_ref__:ye});function Z(o){return o.__forward_ref__=Z,o.toString=function(){return me(this())},o}function ee(o){return Ge(o)?o():o}function Ge(o){return"function"==typeof o&&o.hasOwnProperty(W)&&o.__forward_ref__===Z}class Ie extends Error{constructor(l,u){super(function lt(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function Ee(o){return"string"==typeof o?o:null==o?"":String(o)}function Re(o,l){throw new Ie(-201,!1)}function qt(o,l){null==o&&function Ye(o,l,u,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,o,null,"!=")}function tn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ht(o){return{providers:o.providers||[],imports:o.imports||[]}}function Ri(o){return Oi(o,hr)||Oi(o,Hr)}function Do(o){return null!==Ri(o)}function Oi(o,l){return o.hasOwnProperty(l)?o[l]:null}function ss(o){return o&&(o.hasOwnProperty(Gn)||o.hasOwnProperty(os))?o[Gn]:null}const hr=ye({\u0275prov:ye}),Gn=ye({\u0275inj:ye}),Hr=ye({ngInjectableDef:ye}),os=ye({ngInjectorDef:ye});var st=(()=>((st=st||{})[st.Default=0]="Default",st[st.Host=1]="Host",st[st.Self=2]="Self",st[st.SkipSelf=4]="SkipSelf",st[st.Optional=8]="Optional",st))();let Si;function bn(o){const l=Si;return Si=o,l}function Ti(o,l,u){const h=Ri(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&st.Optional?null:void 0!==l?l:void Re(me(o))}function kn(o){return{toString:o}.toString()}var xn=(()=>((xn=xn||{})[xn.OnPush=0]="OnPush",xn[xn.Default=1]="Default",xn))(),mt=(()=>{return(o=mt||(mt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",mt;var o})();const Nt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Pi={},Mt=[],Zi=ye({\u0275cmp:ye}),Lt=ye({\u0275dir:ye}),fr=ye({\u0275pipe:ye}),Yt=ye({\u0275mod:ye}),X=ye({\u0275fac:ye}),G=ye({__NG_ELEMENT_ID__:ye});let j=0;function Y(o){return kn(()=>{const u=!0===o.standalone,h={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===xn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||Mt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||mt.Emulated,id:"c"+j++,styles:o.styles||Mt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=pn(o.inputs,h),f.outputs=pn(o.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ae).filter(qe):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ce).filter(qe):null,f})}function Ae(o){return $(o)||q(o)}function qe(o){return null!==o}function Ct(o){return kn(()=>({type:o.type,bootstrap:o.bootstrap||Mt,declarations:o.declarations||Mt,imports:o.imports||Mt,exports:o.exports||Mt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null}))}function pn(o,l){if(null==o)return Pi;const u={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,l&&(l[f]=m)}return u}const li=Y;function re(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function $(o){return o[Zi]||null}function q(o){return o[Lt]||null}function Ce(o){return o[fr]||null}function Ze(o){const l=$(o)||q(o)||Ce(o);return null!==l&&l.standalone}function vt(o,l){const u=o[Yt]||null;if(!u&&!0===l)throw new Error(`Type ${me(o)} does not have '\u0275mod' property.`);return u}function ci(o){return Array.isArray(o)&&"object"==typeof o[1]}function Ir(o){return Array.isArray(o)&&!0===o[1]}function Ss(o){return 0!=(8&o.flags)}function da(o){return 2==(2&o.flags)}function ha(o){return 1==(1&o.flags)}function mr(o){return null!==o.template}function hu(o){return 0!=(256&o[2])}function Ni(o,l){return o.hasOwnProperty(X)?o[X]:null}class ga{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Xs(){return kd}function kd(o){return o.type.prototype.ngOnChanges&&(o.setInput=fu),_c}function _c(){const o=_a(this),l=o?.current;if(l){const u=o.previous;if(u===Pi)o.previous=l;else for(let h in l)u[h]=l[h];o.current=null,this.ngOnChanges(l)}}function fu(o,l,u,h){const f=_a(o)||function Ro(o,l){return o[xd]=l}(o,{previous:Pi,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],D=v[C];m[C]=new ga(D&&D.currentValue,l,v===Pi),o[h]=l}Xs.ngInherit=!0;const xd="__ngSimpleChanges__";function _a(o){return o[xd]||null}function Un(o){for(;Array.isArray(o);)o=o[0];return o}function $r(o,l){return Un(l[o])}function Fi(o,l){return Un(l[o.index])}function Po(o,l){return o.data[l]}function ls(o,l){return o[l]}function un(o,l){const u=l[o];return ci(u)?u:u[0]}function vc(o){return 4==(4&o[2])}function Js(o){return 64==(64&o[2])}function Mr(o,l){return null==l?null:o[l]}function pl(o){o[18]=0}function qn(o,l){o[5]+=l;let u=o,h=o[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Pt={lFrame:Dl(null),bindingsEnabled:!0};function No(){return Pt.bindingsEnabled}function Oe(){return Pt.lFrame.lView}function Kt(){return Pt.lFrame.tView}function mf(o){return Pt.lFrame.contextLView=o,o[8]}function ba(o){return Pt.lFrame.contextLView=null,o}function ui(){let o=wa();for(;null!==o&&64===o.type;)o=o.parent;return o}function wa(){return Pt.lFrame.currentTNode}function ir(o,l){const u=Pt.lFrame;u.currentTNode=o,u.isParent=l}function wc(){return Pt.lFrame.isParent}function Ca(){Pt.lFrame.isParent=!1}function di(){const o=Pt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function wl(){return Pt.lFrame.bindingIndex++}function ks(o){const l=Pt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,u}function Nd(o,l){const u=Pt.lFrame;u.bindingIndex=u.bindingRootIndex=o,Ea(l)}function Ea(o){Pt.lFrame.currentDirectiveIndex=o}function _u(o){const l=Pt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function Cl(){return Pt.lFrame.currentQueryIndex}function yu(o){Pt.lFrame.currentQueryIndex=o}function El(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Fd(o,l,u){if(u&st.SkipSelf){let f=l,m=o;for(;!(f=f.parent,null!==f||u&st.Host||(f=El(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,o=m}const h=Pt.lFrame=yf();return h.currentTNode=l,h.lView=o,!0}function Da(o){const l=yf(),u=o[1];Pt.lFrame=l,l.currentTNode=u.firstChild,l.lView=o,l.tView=u,l.contextLView=o,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function yf(){const o=Pt.lFrame,l=null===o?null:o.child;return null===l?Dl(o):l}function Dl(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function vf(){const o=Pt.lFrame;return Pt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ld=vf;function eo(){const o=vf();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Ln(){return Pt.lFrame.selectedIndex}function xs(o){Pt.lFrame.selectedIndex=o}function Vn(){const o=Pt.lFrame;return Po(o.tView,o.selectedIndex)}function vu(){Pt.lFrame.currentNamespace="svg"}function Bd(){!function wu(){Pt.lFrame.currentNamespace=null}()}function Eu(o,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=o.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:R}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-u,v),C&&((o.contentHooks||(o.contentHooks=[])).push(u,C),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,C)),D&&(o.viewHooks||(o.viewHooks=[])).push(-u,D),A&&((o.viewHooks||(o.viewHooks=[])).push(u,A),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,A)),null!=R&&(o.destroyHooks||(o.destroyHooks=[])).push(u,R)}}function Ia(o,l,u){Ta(o,l,3,u)}function Sa(o,l,u,h){(3&o[2])===u&&Ta(o,l,u,h)}function Hd(o,l){let u=o[2];(3&u)===l&&(u&=2047,u+=1,o[2]=u)}function Ta(o,l,u,h){const m=h??-1,v=l.length-1;let C=0;for(let D=void 0!==h?65535&o[18]:0;D<v;D++)if("number"==typeof l[D+1]){if(C=l[D],null!=h&&C>=h)break}else l[D]<0&&(o[18]+=65536),(C<m||-1==m)&&(jd(o,u,l,D),o[18]=(4294901760&o[18])+D+2),D++}function jd(o,l,u,h){const f=u[h]<0,m=u[h+1],C=o[f?-u[h]:u[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class kr{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Rs(o,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],v=u[h++],C=u[h++];o.setAttribute(l,v,C,m)}else{const m=f,v=u[++h];Iu(m)?o.setProperty(l,m,v):o.setAttribute(l,m,v),h++}}return h}function Sl(o){return 3===o||4===o||6===o}function Iu(o){return 64===o.charCodeAt(0)}function Tl(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Gd(o,u,f,null,-1===u||2===u?l[++h]:null)}}return o}function Gd(o,l,u,h,f){let m=0,v=o.length;if(-1===l)v=-1;else for(;m<o.length;){const C=o[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<o.length;){const C=o[m];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(o[m+1]=f));if(h===o[m+1])return void(o[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,l),m=v+1),o.splice(m++,0,u),null!==h&&o.splice(m++,0,h),null!==f&&o.splice(m++,0,f)}function wf(o){return-1!==o}function hi(o){return 32767&o}function no(o,l){let u=function Cf(o){return o>>16}(o),h=l;for(;u>0;)h=h[15],u--;return h}let Su=!0;function Al(o){const l=Su;return Su=o,l}let zd=0;const _r={};function Os(o,l){const u=Ic(o,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(o.injectorIndex=l.length,Tu(h.data,o),Tu(l,null),Tu(h.blueprint,null));const f=Ml(o,l),m=o.injectorIndex;if(wf(f)){const v=hi(f),C=no(f,l),D=C[1].data;for(let A=0;A<8;A++)l[m+A]=C[v+A]|D[v+A]}return l[m+8]=f,m}function Tu(o,l){o.push(0,0,0,0,0,0,0,0,l)}function Ic(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Ml(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=Pa(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Fo(o,l,u){!function qd(o,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(G)&&(h=u[G]),null==h&&(h=u[G]=zd++);const f=255&h;l.data[o+(f>>5)]|=1<<f}(o,l,u)}function Ma(o,l,u){if(u&st.Optional)return o;Re()}function Lo(o,l,u,h){if(u&st.Optional&&void 0===h&&(h=null),0==(u&(st.Self|st.Host))){const f=o[9],m=bn(void 0);try{return f?f.get(l,h,u&st.Optional):Ti(l,h,u&st.Optional)}finally{bn(m)}}return Ma(h,0,u)}function ka(o,l,u,h=st.Default,f){if(null!==o){if(1024&l[2]){const v=function If(o,l,u,h,f){let m=o,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=Wd(m,v,u,h|st.Self,_r);if(C!==_r)return C;let D=m.parent;if(!D){const A=v[21];if(A){const R=A.get(u,_r,h);if(R!==_r)return R}D=Pa(v),v=v[15]}m=D}return f}(o,l,u,h,_r);if(v!==_r)return v}const m=Wd(o,l,u,h,_r);if(m!==_r)return m}return Lo(l,u,h,f)}function Wd(o,l,u,h,f){const m=function Df(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(G)?o[G]:void 0;return"number"==typeof l?l>=0?255&l:Au:l}(u);if("function"==typeof m){if(!Fd(l,o,h))return h&st.Host?Ma(f,0,h):Lo(l,u,h,f);try{const v=m(h);if(null!=v||h&st.Optional)return v;Re()}finally{Ld()}}else if("number"==typeof m){let v=null,C=Ic(o,l),D=-1,A=h&st.Host?l[16][6]:null;for((-1===C||h&st.SkipSelf)&&(D=-1===C?Ml(o,l):l[C+8],-1!==D&&Tc(h,!1)?(v=l[1],C=hi(D),l=no(D,l)):C=-1);-1!==C;){const R=l[1];if(xa(m,C,R.data)){const B=Sc(C,l,u,v,h,A);if(B!==_r)return B}D=l[C+8],-1!==D&&Tc(h,l[1].data[C+8]===A)&&xa(m,C,l)?(v=R,C=hi(D),l=no(D,l)):C=-1}}return f}function Sc(o,l,u,h,f,m){const v=l[1],C=v.data[o+8],R=xl(C,v,u,null==h?da(C)&&Su:h!=v&&0!=(3&C.type),f&st.Host&&m===C);return null!==R?us(l,v,R,C):_r}function xl(o,l,u,h,f){const m=o.providerIndexes,v=l.data,C=1048575&m,D=o.directiveStart,R=m>>20,Q=f?C+R:o.directiveEnd;for(let oe=h?C:C+R;oe<Q;oe++){const Te=v[oe];if(oe<D&&u===Te||oe>=D&&Te.type===u)return oe}if(f){const oe=v[D];if(oe&&mr(oe)&&oe.type===u)return D}return null}function us(o,l,u,h){let f=o[u];const m=l.data;if(function Du(o){return o instanceof kr}(f)){const v=f;v.resolving&&function it(o,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${o}${u}`)}(function _e(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ee(o)}(m[u]));const C=Al(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?bn(v.injectImpl):null;Fd(o,h,st.Default);try{f=o[u]=v.factory(void 0,m,o,h),l.firstCreatePass&&u>=h.directiveStart&&function Ud(o,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(h){const v=kd(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,m))}(u,m[u],l)}finally{null!==D&&bn(D),Al(C),v.resolving=!1,Ld()}}return f}function xa(o,l,u){return!!(u[l+(o>>5)]&1<<o)}function Tc(o,l){return!(o&st.Self||o&st.Host&&l)}class Ra{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return ka(this._tNode,this._lView,l,h,u)}}function Au(){return new Ra(ui(),Oe())}function io(o){return kn(()=>{const l=o.prototype.constructor,u=l[X]||Oa(l),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const m=f[X]||Oa(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function Oa(o){return Ge(o)?()=>{const l=Oa(ee(o));return l&&l()}:Ni(o)}function Pa(o){const l=o[1],u=l.type;return 2===u?l.declTNode:1===u?o[6]:null}function Ac(o){return function kl(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const u=o.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(Sl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(ui(),o)}const Na="__parameters__";function La(o,l,u){return kn(()=>{const h=function Mu(o){return function(...u){if(o){const h=o(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(D,A,R){const B=D.hasOwnProperty(Na)?D[Na]:Object.defineProperty(D,Na,{value:[]})[Na];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(v),D}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class Rn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=tn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Li(o,l){void 0===l&&(l=o);for(let u=0;u<o.length;u++){let h=o[u];Array.isArray(h)?(l===o&&(l=o.slice(0,u)),Li(h,l)):l!==o&&l.push(h)}return l}function hs(o,l){o.forEach(u=>Array.isArray(u)?hs(u,l):l(u))}function so(o,l,u){l>=o.length?o.push(u):o.splice(l,0,u)}function Ho(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function zr(o,l){const u=[];for(let h=0;h<o;h++)u.push(l);return u}function yr(o,l,u){let h=Vi(o,l);return h>=0?o[1|h]=u:(h=~h,function Af(o,l,u,h){let f=o.length;if(f==l)o.push(u,h);else if(1===f)o.push(h,o[0]),o[0]=u;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=u,o[l+1]=h}}(o,h,l,u)),h}function Va(o,l){const u=Vi(o,l);if(u>=0)return o[1|u]}function Vi(o,l){return function St(o,l,u){let h=0,f=o.length>>u;for(;f!==h;){const m=h+(f-h>>1),v=o[m<<u];if(l===v)return m<<u;v>l?f=m:h=m+1}return~(f<<u)}(o,l,1)}const Ki={},ku="__NG_DI_FLAG__",Ba="ngTempTokenPath",Qd=/\n/gm,Ha="__source";let rr;function qr(o){const l=rr;return rr=o,l}function xc(o,l=st.Default){if(void 0===rr)throw new Ie(-203,!1);return null===rr?Ti(o,void 0,l):rr.get(o,l&st.Optional?null:void 0,l)}function Bn(o,l=st.Default){return(function zn(){return Si}()||xc)(ee(o),l)}function S(o,l=st.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),Bn(o,l)}function T(o){const l=[];for(let u=0;u<o.length;u++){const h=ee(o[u]);if(Array.isArray(h)){if(0===h.length)throw new Ie(900,!1);let f,m=st.Default;for(let v=0;v<h.length;v++){const C=h[v],D=U(C);"number"==typeof D?-1===D?f=C.token:m|=D:f=C}l.push(Bn(f,m))}else l.push(Bn(h))}return l}function k(o,l){return o[ku]=l,o.prototype[ku]=l,o}function U(o){return o[ku]}const Ke=k(La("Optional"),8),kt=k(La("SkipSelf"),4);let Vm,xf;function qC(o){Vm=o}function xu(o){return function Bm(){if(void 0===xf&&(xf=null,Nt.trustedTypes))try{xf=Nt.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return xf}()?.createHTML(o)||o}class Hl{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Hm extends Hl{getTypeName(){return"HTML"}}class KC extends Hl{getTypeName(){return"Style"}}class xy extends Hl{getTypeName(){return"Script"}}class QC extends Hl{getTypeName(){return"URL"}}class jm extends Hl{getTypeName(){return"ResourceURL"}}function Ga(o){return o instanceof Hl?o.changingThisBreaksApplicationSecurity:o}function Pc(o,l){const u=function Ry(o){return o instanceof Hl&&o.getTypeName()||null}(o);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function XC(o){return new Hm(o)}function JC(o){return new KC(o)}function eE(o){return new xy(o)}function gM(o){return new QC(o)}function b(o){return new jm(o)}class y{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(xu(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class E{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=xu(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=xu(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const V=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function se(o){return(o=String(o)).match(V)?o:"unsafe:"+o}function Je(o){const l={};for(const u of o.split(","))l[u]=!0;return l}function gt(...o){const l={};for(const u of o)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const Zt=Je("area,br,col,hr,img,wbr"),Hn=Je("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),co=Je("rp,rt"),Jd=gt(Zt,gt(Hn,Je("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gt(co,Je("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gt(co,Hn)),Of=Je("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pf=Je("srcset"),Gm=gt(Of,Pf,Je("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Je("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zm=Je("script,style,template");class Py{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!Jd.hasOwnProperty(u))return this.sanitizedSomething=!0,!zm.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,C=v.toLowerCase();if(!Gm.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;Of[C]&&(D=se(D)),Pf[C]&&(o=D,D=(o=String(o)).split(",").map(l=>se(l.trim())).join(", ")),this.buf.push(" ",v,'="',Ny(D),'"')}var o;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();Jd.hasOwnProperty(u)&&!Zt.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Ny(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const iE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,qm=/([^\#-~ |!])/g;function Ny(o){return o.replace(/&/g,"&amp;").replace(iE,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(qm,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Fy;function _M(o,l){let u=null;try{Fy=Fy||function g(o){const l=new E(o);return function x(){try{return!!(new window.DOMParser).parseFromString(xu(""),"text/html")}catch{return!1}}()?new y(l):l}(o);let h=l?String(l):"";u=Fy.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Fy.getInertBodyElement(h)}while(h!==m);return xu((new Py).sanitizeChildren(rE(u)||u))}finally{if(u){const h=rE(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function rE(o){return"content"in o&&function VL(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Ui=(()=>((Ui=Ui||{})[Ui.NONE=0]="NONE",Ui[Ui.HTML=1]="HTML",Ui[Ui.STYLE=2]="STYLE",Ui[Ui.SCRIPT=3]="SCRIPT",Ui[Ui.URL=4]="URL",Ui[Ui.RESOURCE_URL=5]="RESOURCE_URL",Ui))();function sE(o){const l=function Yn(){const o=Oe();return o&&o[12]}();return l?l.sanitize(Ui.URL,o)||"":Pc(o,"URL")?Ga(o):se(Ee(o))}const Lc=new Rn("ENVIRONMENT_INITIALIZER"),bi=new Rn("INJECTOR",-1),Kn=new Rn("INJECTOR_DEF_TYPES");class Nf{get(l,u=Ki){if(u===Ki){const h=new Error(`NullInjectorError: No provider for ${me(l)}!`);throw h.name="NullInjectorError",h}return u}}function pi(...o){return{\u0275providers:ct(0,o)}}function ct(o,...l){const u=[],h=new Set;let f;return hs(l,m=>{const v=m;ri(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&jl(f,u),u}function jl(o,l){for(let u=0;u<o.length;u++){const{providers:f}=o[u];hs(f,m=>{l.push(m)})}}function ri(o,l,u,h){if(!(o=ee(o)))return!1;let f=null,m=ss(o);const v=!m&&$(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const D=o.ngModule;if(m=ss(D),!m)return!1;f=D}const C=h.has(f);if(v){if(C)return!1;if(h.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of D)ri(A,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let A;h.add(f);try{hs(m.imports,R=>{ri(R,l,u,h)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&jl(A,l)}if(!C){const A=Ni(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:Mt},{provide:Kn,useValue:f,multi:!0},{provide:Lc,useValue:()=>Bn(f),multi:!0})}const D=m.providers;null==D||C||hs(D,R=>{l.push(R)})}}return f!==o&&void 0!==o.providers}const eh=ye({provide:String,useValue:ye});function th(o){return null!==o&&"object"==typeof o&&eh in o}function Gl(o){return"function"==typeof o}const yn=new Rn("Set Injector scope."),Ru={},aE={};let nh;function mi(){return void 0===nh&&(nh=new Nf),nh}class Wr{}class lE extends Wr{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Wm(l,v=>this.processProvider(v)),this.records.set(bi,Vc(void 0,this)),f.has("environment")&&this.records.set(Wr,Vc(void 0,this));const m=this.records.get(yn);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Kn.multi,Mt,st.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=qr(this),h=bn(void 0);try{return l()}finally{qr(u),bn(h)}}get(l,u=Ki,h=st.Default){this.assertNotDestroyed();const f=qr(this),m=bn(void 0);try{if(!(h&st.SkipSelf)){let C=this.records.get(l);if(void 0===C){const D=function EM(o){return"function"==typeof o||"object"==typeof o&&o instanceof Rn}(l)&&Ri(l);C=D&&this.injectableDefInScope(D)?Vc(Qi(l),Ru):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&st.Self?mi():this.parent).get(l,u=h&st.Optional&&u===Ki?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Ba]=v[Ba]||[]).unshift(me(l)),f)throw v;return function te(o,l,u,h){const f=o[Ba];throw l[Ha]&&f.unshift(l[Ha]),o.message=function fe(o,l,u,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=me(l);if(Array.isArray(l))f=l.map(me).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):me(C)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${o.replace(Qd,"\n  ")}`}("\n"+o.message,f,u,h),o.ngTokenPath=f,o[Ba]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{bn(m),qr(f)}}resolveInjectorInitializers(){const l=qr(this),u=bn(void 0);try{const h=this.get(Lc.multi,Mt,st.Self);for(const f of h)f()}finally{qr(l),bn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(me(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(l){let u=Gl(l=ee(l))?l:ee(l&&l.provide);const h=function bM(o){return th(o)?Vc(void 0,o.useValue):Vc(Ly(o),Ru)}(l);if(Gl(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=Vc(void 0,Ru,!0),f.factory=()=>T(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===Ru&&(u.value=aE,u.value=u.factory()),"object"==typeof u.value&&u.value&&function CM(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ee(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Qi(o){const l=Ri(o),u=null!==l?l.factory:Ni(o);if(null!==u)return u;if(o instanceof Rn)throw new Ie(204,!1);if(o instanceof Function)return function cE(o){const l=o.length;if(l>0)throw zr(l,"?"),new Ie(204,!1);const u=function Nn(o){const l=o&&(o[hr]||o[Hr]);if(l){const u=function Cs(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Ie(204,!1)}function Ly(o,l,u){let h;if(Gl(o)){const f=ee(o);return Ni(f)||Qi(f)}if(th(o))h=()=>ee(o.useValue);else if(function $l(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...T(o.deps||[]));else if(function oE(o){return!(!o||!o.useExisting)}(o))h=()=>Bn(ee(o.useExisting));else{const f=ee(o&&(o.useClass||o.provide));if(!function wM(o){return!!o.deps}(o))return Ni(f)||Qi(f);h=()=>new f(...T(o.deps))}return h}function Vc(o,l,u=!1){return{factory:o,value:l,multi:u?[]:void 0}}function DM(o){return!!o.\u0275providers}function Wm(o,l){for(const u of o)Array.isArray(u)?Wm(u,l):DM(u)?Wm(u.\u0275providers,l):l(u)}class uE{}class AM{resolveComponentFactory(l){throw function SM(o){const l=Error(`No component factory found for ${me(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let Ou=(()=>{class o{}return o.NULL=new AM,o})();function MM(){return Pu(ui(),Oe())}function Pu(o,l){return new zl(Fi(o,l))}let zl=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=MM,o})();function kM(o){return o instanceof zl?o.nativeElement:o}class vr{}let WL=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function dE(){const o=Oe(),u=un(ui().index,o);return(ci(u)?u:o)[11]}(),o})(),ih=(()=>{class o{}return o.\u0275prov=tn({token:o,providedIn:"root",factory:()=>null}),o})();class hE{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const fE=new hE("14.2.0"),Vy={};function jy(o){return o.ngOriginalError}class Ff{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&jy(l);for(;u&&jy(u);)u=jy(u);return u||null}}const $y=new Map;let UM=0;const Lf="__ngContext__";function or(o,l){ci(l)?(o[Lf]=l[20],function jM(o){$y.set(o[20],o)}(l)):o[Lf]=l}function Vf(o){const l=o[Lf];return"number"==typeof l?function EE(o){return $y.get(o)||null}(l):l||null}function Gy(o){const l=Vf(o);return l?ci(l)?l:l.lView:null}function za(o){return o instanceof Function?o():o}var qa=(()=>((qa=qa||{})[qa.Important=1]="Important",qa[qa.DashCase=2]="DashCase",qa))();function kE(o,l){return undefined(o,l)}function Xm(o){const l=o[3];return Ir(l)?l[3]:l}function Wy(o){return KM(o[13])}function Jm(o){return KM(o[4])}function KM(o){for(;null!==o&&!Ir(o);)o=o[4];return o}function sh(o,l,u,h,f){if(null!=h){let m,v=!1;Ir(h)?m=h:ci(h)&&(v=!0,h=h[0]);const C=Un(h);0===o&&null!==u?null==f?FE(l,u,C):Vu(l,u,C,f||null,!0):1===o&&null!==u?Vu(l,u,C,f||null,!0):2===o?function HE(o,l,u){const h=Yy(o,l);h&&function oV(o,l,u,h){o.removeChild(l,u,h)}(o,h,l,u)}(l,C,v):3===o&&l.destroyNode(C),null!=m&&function ek(o,l,u,h,f){const m=u[7];m!==Un(u)&&sh(l,o,h,m,f);for(let C=10;C<u.length;C++){const D=u[C];Wa(D[1],D,o,l,h,m)}}(l,o,m,u,f)}}function xE(o,l,u){return o.createElement(l,u)}function QM(o,l){const u=o[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,qn(f,-1)),u.splice(h,1)}function ng(o,l){if(o.length<=10)return;const u=10+l,h=o[u];if(h){const f=h[17];null!==f&&f!==o&&QM(f,h),l>0&&(o[u-1][4]=h[4]);const m=Ho(o,10+l);!function sV(o,l){Wa(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function PE(o,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Wa(o,l,u,3,null,null),function tg(o){let l=o[13];if(!l)return Xi(o[1],o);for(;l;){let u=null;if(ci(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==o;)ci(l)&&Xi(l[1],l),l=l[3];null===l&&(l=o),ci(l)&&Xi(l[1],l),u=l&&l[4]}l=u}}(l)}}function Xi(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function XM(o,l){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof kr)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],D=m[v+1];try{D.call(C)}finally{}}else try{m.call(f)}finally{}}}}(o,l),function Lu(o,l){const u=o.cleanup,h=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],C="function"==typeof v?v(l):Un(l[v]),D=h[f=u[m+2]],A=u[m+3];"boolean"==typeof A?C.removeEventListener(u[m],D,A):A>=0?h[f=A]():h[f=-A].unsubscribe(),m+=2}else{const v=h[f=u[m+1]];u[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Ir(l[3])){u!==l[3]&&QM(u,l);const h=l[19];null!==h&&h.detachView(o)}!function QL(o){$y.delete(o[20])}(l)}}function ig(o,l,u){return function NE(o,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===mt.None||f===mt.Emulated)return null}return Fi(h,u)}(o,l.parent,u)}function Vu(o,l,u,h,f){o.insertBefore(l,u,h,f)}function FE(o,l,u){o.appendChild(l,u)}function LE(o,l,u,h,f){null!==h?Vu(o,l,u,h,f):FE(o,l,u)}function Yy(o,l){return o.parentNode(l)}function oh(o,l,u){return BE(o,l,u)}let BE=function JM(o,l,u){return 40&o.type?Fi(o,u):null};function ah(o,l,u,h){const f=ig(o,h,l),m=l[11],C=oh(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let D=0;D<u.length;D++)LE(m,f,u[D],C,!1);else LE(m,f,u,C,!1)}function Hf(o,l){if(null!==l){const u=l.type;if(3&u)return Fi(l,o);if(4&u)return Qy(-1,o[l.index]);if(8&u){const h=l.child;if(null!==h)return Hf(o,h);{const f=o[l.index];return Ir(f)?Qy(-1,f):Un(f)}}if(32&u)return kE(l,o)()||Un(o[l.index]);{const h=Ky(o,l);return null!==h?Array.isArray(h)?h[0]:Hf(Xm(o[16]),h):Hf(o,l.next)}}return null}function Ky(o,l){return null!==l?o[16][6].projection[l.projection]:null}function Qy(o,l){const u=10+o+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return Hf(h,f)}return l[7]}function Xy(o,l,u,h,f,m,v){for(;null!=u;){const C=h[u.index],D=u.type;if(v&&0===l&&(C&&or(Un(C),h),u.flags|=4),64!=(64&u.flags))if(8&D)Xy(o,l,u.child,h,f,m,!1),sh(l,o,f,C,m);else if(32&D){const A=kE(u,h);let R;for(;R=A();)sh(l,o,f,R,m);sh(l,o,f,C,m)}else 16&D?jE(o,l,h,u,f,m):sh(l,o,f,C,m);u=v?u.projectionNext:u.next}}function Wa(o,l,u,h,f,m){Xy(u,h,o.firstChild,l,f,m,!1)}function jE(o,l,u,h,f,m){const v=u[16],D=v[6].projection[h.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)sh(l,o,f,D[A],m);else Xy(o,l,D,v[3],f,m,!0)}function tk(o,l,u){o.setAttribute(l,"style",u)}function GE(o,l,u){""===u?o.removeAttribute(l,"class"):o.setAttribute(l,"class",u)}function nk(o,l,u){let h=o.length;for(;;){const f=o.indexOf(l,u);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=l.length;if(f+m===h||o.charCodeAt(f+m)<=32)return f}u=f+1}}const rk="ng-template";function sk(o,l,u){let h=0;for(;h<o.length;){let f=o[h++];if(u&&"class"===f){if(f=o[h],-1!==nk(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function zE(o){return 4===o.type&&o.value!==rk}function ok(o,l,u){return l===(4!==o.type||u?o.value:rk)}function qE(o,l,u){let h=4;const f=o.attrs||[],m=function ck(o){for(let l=0;l<o.length;l++)if(Sl(o[l]))return l;return o.length}(f);let v=!1;for(let C=0;C<l.length;C++){const D=l[C];if("number"!=typeof D){if(!v)if(4&h){if(h=2|1&h,""!==D&&!ok(o,D,u)||""===D&&1===l.length){if(uo(h))return!1;v=!0}}else{const A=8&h?D:l[++C];if(8&h&&null!==o.attrs){if(!sk(o.attrs,A,u)){if(uo(h))return!1;v=!0}continue}const B=ak(8&h?"class":D,f,zE(o),u);if(-1===B){if(uo(h))return!1;v=!0;continue}if(""!==A){let Q;Q=B>m?"":f[B+1].toLowerCase();const oe=8&h?Q:null;if(oe&&-1!==nk(oe,A,0)||2&h&&A!==Q){if(uo(h))return!1;v=!0}}}}else{if(!v&&!uo(h)&&!uo(D))return!1;if(v&&uo(D))continue;v=!1,h=D|1&h}}return uo(h)||v}function uo(o){return 0==(1&o)}function ak(o,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function uk(o,l){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const h=o[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,o)}function Jy(o,l,u=!1){for(let h=0;h<l.length;h++)if(qE(o,l[h],u))return!0;return!1}function dk(o,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function WE(o,l){return o?":not("+l.trim()+")":l}function lV(o){let l=o[0],u=1,h=2,f="",m=!1;for(;u<o.length;){let v=o[u];if("string"==typeof v)if(2&h){const C=o[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!uo(v)&&(l+=WE(m,f),f=""),h=v,m=m||!uo(h);u++}return""!==f&&(l+=WE(m,f)),l}const jt={};function pk(o){ZE(Kt(),Oe(),Ln()+o,!1)}function ZE(o,l,u,h){if(!h)if(3==(3&l[2])){const m=o.preOrderCheckHooks;null!==m&&Ia(l,m,u)}else{const m=o.preOrderHooks;null!==m&&Sa(l,m,0,u)}xs(u)}function Fs(o,l=null,u=null,h){const f=yk(o,l,u,h);return f.resolveInjectorInitializers(),f}function yk(o,l=null,u=null,h,f=new Set){const m=[u||Mt,pi(o)];return h=h||("object"==typeof o?void 0:me(o)),new lE(m,l||mi(),h||null,f)}let Bc=(()=>{class o{static create(u,h){if(Array.isArray(u))return Fs({name:""},h,u,"");{const f=u.name??"";return Fs({name:f},u.parent,u.providers,f)}}}return o.THROW_IF_NOT_FOUND=Ki,o.NULL=new Nf,o.\u0275prov=tn({token:o,providedIn:"any",factory:()=>Bn(bi)}),o.__NG_ELEMENT_ID__=-1,o})();function lh(o,l=st.Default){const u=Oe();return null===u?Bn(o,l):ka(ui(),u,ee(o),l)}function JE(){throw new Error("invalid")}function ag(o,l){return o<<17|l<<2}function Go(o){return o>>17&32767}function sv(o){return 2|o}function Wl(o){return(131068&o)>>2}function ov(o,l){return-131069&o|l<<2}function av(o){return 1|o}function pg(o,l){const u=o.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const v=o.data[m];yu(f),v.contentQueries(2,l[m],m)}}}function jc(o,l,u,h,f,m,v,C,D,A,R){const B=l.blueprint.slice();return B[0]=f,B[2]=76|h,(null!==R||o&&1024&o[2])&&(B[2]|=1024),pl(B),B[3]=B[15]=o,B[8]=u,B[10]=v||o&&o[10],B[11]=C||o&&o[11],B[12]=D||o&&o[12]||null,B[9]=A||o&&o[9]||null,B[6]=m,B[20]=function HM(){return UM++}(),B[21]=R,B[16]=2==l.type?o[16]:B,B}function Hu(o,l,u,h,f){let m=o.data[l];if(null===m)m=function _v(o,l,u,h,f){const m=wa(),v=wc(),D=o.data[l]=function Uk(o,l,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,h,f);return null===o.firstChild&&(o.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(o,l,u,h,f),function Pd(){return Pt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const v=function bc(){const o=Pt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ir(m,!0),m}function ju(o,l,u,h){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(h),o.blueprint.push(h),o.data.push(null);return f}function qo(o,l,u){Da(l);try{const h=o.viewQuery;null!==h&&Yf(1,h,u);const f=o.template;null!==f&&Wo(o,l,f,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&pg(o,l),o.staticViewQueries&&Yf(2,o.viewQuery,u);const m=o.components;null!==m&&function Vk(o,l){for(let u=0;u<l.length;u++)Eg(o,l[u])}(l,m)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{l[2]&=-5,eo()}}function dh(o,l,u,h){const f=l[2];if(128!=(128&f)){Da(l);try{pl(l),function bl(o){return Pt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Wo(o,l,u,2,h);const v=3==(3&f);if(v){const A=o.preOrderCheckHooks;null!==A&&Ia(l,A,null)}else{const A=o.preOrderHooks;null!==A&&Sa(l,A,0,null),Hd(l,0)}if(function Gu(o){for(let l=Wy(o);null!==l;l=Jm(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(512&f[2])&&qn(m,1),f[2]|=512}}}(l),function Wk(o){for(let l=Wy(o);null!==l;l=Jm(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];Js(h)&&dh(f,h,f.template,h[8])}}(l),null!==o.contentQueries&&pg(o,l),v){const A=o.contentCheckHooks;null!==A&&Ia(l,A)}else{const A=o.contentHooks;null!==A&&Sa(l,A,1),Hd(l,1)}!function Hc(o,l){const u=o.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)xs(~f);else{const m=f,v=u[++h],C=u[++h];Nd(v,m),C(2,l[m])}}}finally{xs(-1)}}(o,l);const C=o.components;null!==C&&function mg(o,l){for(let u=0;u<l.length;u++)Dv(o,l[u])}(l,C);const D=o.viewQuery;if(null!==D&&Yf(2,D,h),v){const A=o.viewCheckHooks;null!==A&&Ia(l,A)}else{const A=o.viewHooks;null!==A&&Sa(l,A,2),Hd(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,qn(l[3],-1))}finally{eo()}}}function lD(o,l,u,h){const f=l[10],v=vc(l);try{!v&&f.begin&&f.begin(),v&&qo(o,l,h),dh(o,l,u,h)}finally{!v&&f.end&&f.end()}}function Wo(o,l,u,h,f){const m=Ln(),v=2&h;try{xs(-1),v&&l.length>22&&ZE(o,l,22,!1),u(h,f)}finally{xs(m)}}function $c(o,l,u){if(Ss(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function $u(o,l,u){!No()||(function wg(o,l,u,h){const f=u.directiveStart,m=u.directiveEnd;o.firstCreatePass||Os(u,l),or(h,l);const v=u.initialInputs;for(let C=f;C<m;C++){const D=o.data[C],A=mr(D);A&&Cv(l,u,D);const R=us(l,o,C,u);or(R,l),null!==v&&zk(0,C-f,R,D,0,v),A&&(un(u.index,l)[8]=R)}}(o,l,u,Fi(u,l)),128==(128&u.flags)&&function $k(o,l,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,v=function _f(){return Pt.lFrame.currentDirectiveIndex}();try{xs(m);for(let C=h;C<f;C++){const D=o.data[C],A=l[C];Ea(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&dD(D,A)}}finally{xs(-1),Ea(v)}}(o,l,u))}function yv(o,l,u=Fi){const h=l.localNames;if(null!==h){let f=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],C=-1===v?u(l,o):o[v];o[f++]=C}}}function gg(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=_g(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function _g(o,l,u,h,f,m,v,C,D,A){const R=22+h,B=R+f,Q=function yg(o,l){const u=[];for(let h=0;h<l;h++)u.push(h<o?null:jt);return u}(R,B),oe="function"==typeof A?A():A;return Q[1]={type:o,blueprint:Q,template:u,queries:null,viewQuery:C,declTNode:l,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:oe,incompleteFirstPass:!1}}function vg(o,l,u,h){const f=mD(l);null===u?f.push(h):(f.push(u),o.firstCreatePass&&Mv(o).push(h,f.length-1))}function cD(o,l,u){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function uD(o,l){const h=l.directiveEnd,f=o.data,m=l.attrs,v=[];let C=null,D=null;for(let A=l.directiveStart;A<h;A++){const R=f[A],B=R.inputs,Q=null===m||zE(l)?null:qk(B,m);v.push(Q),C=cD(B,A,C),D=cD(R.outputs,A,D)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=D}function ms(o,l,u,h,f,m,v,C){const D=Fi(l,u);let R,A=l.inputs;!C&&null!=A&&(R=A[h])?(Kf(o,u,R,h,f),da(l)&&qf(u,l.index)):3&l.type&&(h=function Bs(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=v?v(f,l.value||"",h):f,m.setProperty(D,h,f))}function qf(o,l){const u=un(l,o);16&u[2]||(u[2]|=32)}function bv(o,l,u,h){let f=!1;if(No()){const m=function Gk(o,l,u){const h=o.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];Jy(u,v.selectors,!1)&&(f||(f=[]),Fo(Os(u,l),o,v.type),mr(v)?(Wf(o,u),f.unshift(v)):f.push(v))}return f}(o,l,u),v=null===h?null:{"":-1};if(null!==m){f=!0,wv(u,o.data.length,m.length);for(let R=0;R<m.length;R++){const B=m[R];B.providersResolver&&B.providersResolver(B)}let C=!1,D=!1,A=ju(o,l,m.length,null);for(let R=0;R<m.length;R++){const B=m[R];u.mergedAttrs=Tl(u.mergedAttrs,B.hostAttrs),fD(o,u,l,A,B),hD(A,B,v),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const Q=B.type.prototype;!C&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),C=!0),!D&&(Q.ngOnChanges||Q.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),D=!0),A++}uD(o,u)}v&&function Cg(o,l,u){if(l){const h=o.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Ie(-301,!1);h.push(l[f],m)}}}(u,h,v)}return u.mergedAttrs=Tl(u.mergedAttrs,u.attrs),f}function jk(o,l,u,h,f,m){const v=m.hostBindings;if(v){let C=o.hostBindingOpCodes;null===C&&(C=o.hostBindingOpCodes=[]);const D=~l.index;(function vV(o){let l=o.length;for(;l>0;){const u=o[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=D&&C.push(D),C.push(h,f,v)}}function dD(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function Wf(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function hD(o,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=o;mr(l)&&(u[""]=o)}}function wv(o,l,u){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+u,o.providerIndexes=l}function fD(o,l,u,h,f){o.data[h]=f;const m=f.factory||(f.factory=Ni(f.type)),v=new kr(m,mr(f),lh);o.blueprint[h]=v,u[h]=v,jk(o,l,0,h,ju(o,u,f.hostVars,jt),f)}function Cv(o,l,u){const h=Fi(l,o),f=gg(u),m=o[10],v=Dg(o,jc(o,f,null,u.onPush?32:16,h,l,m,m.createRenderer(h,u),null,null,null));o[l.index]=v}function Zo(o,l,u,h,f,m){const v=Fi(o,l);!function Ev(o,l,u,h,f,m,v){if(null==m)o.removeAttribute(l,f,u);else{const C=null==v?Ee(m):v(m,h||"",f);o.setAttribute(l,f,C,u)}}(l[11],v,m,o.value,u,h,f)}function zk(o,l,u,h,f,m){const v=m[l];if(null!==v){const C=h.setInput;for(let D=0;D<v.length;){const A=v[D++],R=v[D++],B=v[D++];null!==C?h.setInput(u,B,A,R):u[R]=B}}}function qk(o,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,o[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function pD(o,l,u,h){return new Array(o,!0,!1,l,null,0,h,u,null,null)}function Dv(o,l){const u=un(l,o);if(Js(u)){const h=u[1];48&u[2]?dh(h,u,h.template,u[8]):u[5]>0&&Zf(u)}}function Zf(o){for(let h=Wy(o);null!==h;h=Jm(h))for(let f=10;f<h.length;f++){const m=h[f];if(Js(m))if(512&m[2]){const v=m[1];dh(v,m,v.template,m[8])}else m[5]>0&&Zf(m)}const u=o[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=un(u[h],o);Js(f)&&f[5]>0&&Zf(f)}}function Eg(o,l){const u=un(l,o),h=u[1];(function Zk(o,l){for(let u=l.length;u<o.blueprint.length;u++)l.push(o.blueprint[u])})(h,u),qo(h,u,u[8])}function Dg(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function Iv(o){for(;o;){o[2]|=32;const l=Xm(o);if(hu(o)&&!l)return o;o=l}return null}function Yf(o,l,u){yu(0),l(o,u)}function mD(o){return o[7]||(o[7]=[])}function Mv(o){return o.cleanup||(o.cleanup=[])}function gD(o,l,u){return(null===o||mr(o))&&(u=function Rd(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(u[l.index])),u[11]}function Kk(o,l){const u=o[9],h=u?u.get(Ff,null):null;h&&h.handleError(l)}function Kf(o,l,u,h,f){for(let m=0;m<u.length;){const v=u[m++],C=u[m++],D=l[v],A=o.data[v];null!==A.setInput?A.setInput(D,f,h,C):D[C]=f}}function Sg(o,l,u){let h=u?o.styles:null,f=u?o.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=we(f,C):2==m&&(h=we(h,C+": "+l[++v]+";"))}u?o.styles=h:o.stylesWithoutHost=h,u?o.classes=f:o.classesWithoutHost=f}function Tg(o,l,u,h,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(Un(m)),Ir(m))for(let C=10;C<m.length;C++){const D=m[C],A=D[1].firstChild;null!==A&&Tg(D[1],D,A,h)}const v=u.type;if(8&v)Tg(o,l,u.child,h);else if(32&v){const C=kE(u,l);let D;for(;D=C();)h.push(D)}else if(16&v){const C=Ky(l,u);if(Array.isArray(C))h.push(...C);else{const D=Xm(l[16]);Tg(D[1],D,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class hh{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Tg(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Ir(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(ng(l,h),Ho(u,h))}this._attachedToViewContainer=!1}PE(this._lView[1],this._lView)}onDestroy(l){vg(this._lView[1],this._lView,null,l)}markForCheck(){Iv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Sv(o,l,u){const h=l[10];h.begin&&h.begin();try{dh(o,l,o.template,u)}catch(f){throw Kk(l,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Fu(o,l){Wa(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=l}}class kv extends hh{constructor(l){super(l),this._view=l}detectChanges(){!function Ig(o){!function Yk(o){for(let l=0;l<o.components.length;l++){const u=o.components[l],h=Gy(u);if(null!==h){const f=h[1];lD(f,h,f.template,u)}}}(o[8])}(this._view)}checkNoChanges(){}get context(){return null}}class Ag extends Ou{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=$(l);return new Qf(u,this.ngModule)}}function Qk(o){const l=[];for(let u in o)o.hasOwnProperty(u)&&l.push({propName:o[u],templateName:u});return l}class Jk{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,Vy,h);return f!==Vy||u===Vy?f:this.parentInjector.get(l,u,h)}}class Qf extends uE{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function hk(o){return o.map(lV).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Qk(this.componentDef.inputs)}get outputs(){return Qk(this.componentDef.outputs)}create(l,u,h,f){let m=(f=f||this.ngModule)instanceof Wr?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new Jk(l,m):l,C=v.get(vr,null);if(null===C)throw new Ie(407,!1);const D=v.get(ih,null),A=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=h?function Bk(o,l,u){return o.selectRootElement(l,u===mt.ShadowDom)}(A,h,this.componentDef.encapsulation):xE(C.createRenderer(null,this.componentDef),R,function Xk(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),Q=this.componentDef.onPush?288:272,oe={components:[]},Te=_g(0,null,null,1,0,null,null,null,null,null),je=jc(null,Te,oe,Q,null,null,C,A,D,v,null);let tt,ut;Da(je);try{const Rt=function ix(o,l,u,h,f,m){const v=u[1];u[22]=o;const D=Hu(v,22,2,"#host",null),A=D.mergedAttrs=l.hostAttrs;null!==A&&(Sg(D,A,!0),null!==o&&(Rs(f,o,A),null!==D.classes&&GE(f,o,D.classes),null!==D.styles&&tk(f,o,D.styles)));const R=h.createRenderer(o,l),B=jc(u,gg(l),null,l.onPush?32:16,u[22],D,h,R,m||null,null,null);return v.firstCreatePass&&(Fo(Os(D,u),v,l.type),Wf(v,D),wv(D,u.length,1)),Dg(u,B),u[22]=B}(B,this.componentDef,je,C,A);if(B)if(h)Rs(A,B,["ng-version",fE.full]);else{const{attrs:Ve,classes:Tt}=function fk(o){const l=[],u=[];let h=1,f=2;for(;h<o.length;){let m=o[h];if("string"==typeof m)2===f?""!==m&&l.push(m,o[++h]):8===f&&u.push(m);else{if(!uo(f))break;f=m}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ve&&Rs(A,B,Ve),Tt&&Tt.length>0&&GE(A,B,Tt.join(" "))}if(ut=Po(Te,22),void 0!==u){const Ve=ut.projection=[];for(let Tt=0;Tt<this.ngContentSelectors.length;Tt++){const dn=u[Tt];Ve.push(null!=dn?Array.from(dn):null)}}tt=function rx(o,l,u,h,f){const m=u[1],v=function Hk(o,l,u){const h=ui();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),fD(o,h,l,ju(o,l,1,null),u),uD(o,h));const f=us(l,o,h.directiveStart,h);or(f,l);const m=Fi(h,l);return m&&or(m,l),f}(m,u,l);if(h.components.push(v),o[8]=v,null!==f)for(const D of f)D(v,l);if(l.contentQueries){const D=ui();l.contentQueries(1,v,D.directiveStart)}const C=ui();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(xs(C.index),jk(u[1],C,0,C.directiveStart,C.directiveEnd,l),dD(l,v)),v}(Rt,this.componentDef,je,oe,[sx]),qo(Te,je,null)}finally{eo()}return new tx(this.componentType,tt,Pu(ut,je),je,ut)}}class tx extends class IM{}{constructor(l,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new kv(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const m=this._rootLView;Kf(m[1],m,f,l,u),qf(m,this._tNode.index)}}get injector(){return new Ra(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function sx(){const o=ui();Eu(Oe()[1],o)}function xv(o){let l=function Mg(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const h=[o];for(;l;){let f;if(mr(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ie(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const v=o;v.inputs=Rv(o.inputs),v.declaredInputs=Rv(o.declaredInputs),v.outputs=Rv(o.outputs);const C=f.hostBindings;C&&lx(o,C);const D=f.viewQuery,A=f.contentQueries;if(D&&ax(o,D),A&&yD(o,A),ae(o.inputs,f.inputs),ae(o.declaredInputs,f.declaredInputs),ae(o.outputs,f.outputs),mr(f)&&f.data.animation){const R=o.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(o),C===xv&&(u=!1)}}l=Object.getPrototypeOf(l)}!function ox(o){let l=0,u=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Tl(f.hostAttrs,u=Tl(u,f.hostAttrs))}}(h)}function Rv(o){return o===Pi?{}:o===Mt?[]:o}function ax(o,l){const u=o.viewQuery;o.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function yD(o,l){const u=o.contentQueries;o.contentQueries=u?(h,f,m)=>{l(h,f,m),u(h,f,m)}:l}function lx(o,l){const u=o.hostBindings;o.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let fh=null;function zu(){if(!fh){const o=Nt.Symbol;if(o&&o.iterator)fh=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(fh=h)}}}return fh}function qu(o){return!!ph(o)&&(Array.isArray(o)||!(o instanceof Map)&&zu()in o)}function ph(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function br(o,l,u){return!Object.is(o[l],u)&&(o[l]=u,!0)}function Pv(o,l,u,h){const f=Oe();return br(f,wl(),l)&&(Kt(),Zo(Vn(),f,o,l,u,h)),Pv}function gh(o,l,u,h){return br(o,wl(),u)?l+Ee(u)+h:jt}function DD(o,l,u,h,f,m,v,C){const D=Oe(),A=Kt(),R=o+22,B=A.firstCreatePass?function fx(o,l,u,h,f,m,v,C,D){const A=l.consts,R=Hu(l,o,4,v||null,Mr(A,C));bv(l,u,R,Mr(A,D)),Eu(l,R);const B=R.tViews=_g(2,R,h,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),B.queries=l.queries.embeddedTView(R)),R}(R,A,D,l,u,h,f,m,v):A.data[R];ir(B,!1);const Q=D[11].createComment("");ah(A,D,Q,B),or(Q,D),Dg(D,D[R]=pD(Q,D,Q,B)),ha(B)&&$u(A,D,B),null!=v&&yv(D,B,C)}function ID(o){return ls(function vl(){return Pt.lFrame.contextLView}(),22+o)}function Vv(o,l,u){const h=Oe();return br(h,wl(),l)&&ms(Kt(),Vn(),h,o,l,h[11],u,!1),Vv}function kg(o,l,u,h,f){const v=f?"class":"style";Kf(o,u,l.inputs[v],v,h)}function ep(o,l,u,h){const f=Oe(),m=Kt(),v=22+o,C=f[11],D=f[v]=xE(C,l,function Cu(){return Pt.lFrame.currentNamespace}()),A=m.firstCreatePass?function Bv(o,l,u,h,f,m,v){const C=l.consts,A=Hu(l,o,2,f,Mr(C,m));return bv(l,u,A,Mr(C,v)),null!==A.attrs&&Sg(A,A.attrs,!1),null!==A.mergedAttrs&&Sg(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(v,m,f,0,l,u,h):m.data[v];ir(A,!0);const R=A.mergedAttrs;null!==R&&Rs(C,D,R);const B=A.classes;null!==B&&GE(C,D,B);const Q=A.styles;return null!==Q&&tk(C,D,Q),64!=(64&A.flags)&&ah(m,f,D,A),0===function gl(){return Pt.lFrame.elementDepthCount}()&&or(D,f),function Od(){Pt.lFrame.elementDepthCount++}(),ha(A)&&($u(m,f,A),$c(m,A,f)),null!==h&&yv(f,A),ep}function xg(){let o=ui();wc()?Ca():(o=o.parent,ir(o,!1));const l=o;!function _l(){Pt.lFrame.elementDepthCount--}();const u=Kt();return u.firstCreatePass&&(Eu(u,o),Ss(o)&&u.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Ec(o){return 0!=(16&o.flags)}(l)&&kg(u,l,Oe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Dc(o){return 0!=(32&o.flags)}(l)&&kg(u,l,Oe(),l.stylesWithoutHost,!1),xg}function SD(o,l,u,h){return ep(o,l,u,h),xg(),SD}function Uv(o,l,u){const h=Oe(),f=Kt(),m=o+22,v=f.firstCreatePass?function DV(o,l,u,h,f){const m=l.consts,v=Mr(m,h),C=Hu(l,o,8,"ng-container",v);return null!==v&&Sg(C,v,!0),bv(l,u,C,Mr(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,h,l,u):f.data[m];ir(v,!0);const C=h[m]=h[11].createComment("");return ah(f,h,C,v),or(C,h),ha(v)&&($u(f,h,v),$c(f,v,h)),null!=u&&yv(h,v),Uv}function tp(){let o=ui();const l=Kt();return wc()?Ca():(o=o.parent,ir(o,!1)),l.firstCreatePass&&(Eu(l,o),Ss(o)&&l.queries.elementEnd(o)),tp}function mx(){return Oe()}function AD(o){return!!o&&"function"==typeof o.then}function Hv(o){return!!o&&"function"==typeof o.subscribe}const jv=Hv;function Rg(o,l,u,h){const f=Oe(),m=Kt(),v=ui();return MD(m,f,f[11],v,o,l,0,h),Rg}function Ql(o,l){const u=ui(),h=Oe(),f=Kt();return MD(f,h,gD(_u(f.data),u,h),u,o,l),Ql}function MD(o,l,u,h,f,m,v,C){const D=ha(h),R=o.firstCreatePass&&Mv(o),B=l[8],Q=mD(l);let oe=!0;if(3&h.type||C){const tt=Fi(h,l),ut=C?C(tt):tt,Rt=Q.length,Ve=C?dn=>C(Un(dn[h.index])):h.index;let Tt=null;if(!C&&D&&(Tt=function mo(o,l,u,h){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===h){const C=l[7],D=f[m+2];return C.length>D?C[D]:null}"string"==typeof v&&(m+=2)}return null}(o,l,f,h.index)),null!==Tt)(Tt.__ngLastListenerFn__||Tt).__ngNextListenerFn__=m,Tt.__ngLastListenerFn__=m,oe=!1;else{m=kD(h,l,B,m,!1);const dn=u.listen(ut,f,m);Q.push(m,dn),R&&R.push(f,Ve,Rt,Rt+1)}}else m=kD(h,l,B,m,!1);const Te=h.outputs;let je;if(oe&&null!==Te&&(je=Te[f])){const tt=je.length;if(tt)for(let ut=0;ut<tt;ut+=2){const Jn=l[je[ut]][je[ut+1]].subscribe(m),ad=Q.length;Q.push(m,Jn),R&&R.push(f,h.index,ad,-(ad+1))}}}function $v(o,l,u,h){try{return!1!==u(h)}catch(f){return Kk(o,f),!1}}function kD(o,l,u,h,f){return function m(v){if(v===Function)return h;Iv(2&o.flags?un(o.index,l):l);let D=$v(l,0,h,v),A=m.__ngNextListenerFn__;for(;A;)D=$v(l,0,A,v)&&D,A=A.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function xD(o=1){return function to(o){return(Pt.lFrame.contextLView=function Vd(o,l){for(;o>0;)l=l[15],o--;return l}(o,Pt.lFrame.contextLView))[8]}(o)}function gx(o,l){let u=null;const h=function lk(o){const l=o.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(o);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===h?Jy(o,m,!0):dk(h,m))return f}else u=f}return u}function np(o){const l=Oe()[16][6];if(!l.projection){const h=l.projection=zr(o?o.length:1,null),f=h.slice();let m=l.child;for(;null!==m;){const v=o?gx(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function RD(o,l=0,u){const h=Oe(),f=Kt(),m=Hu(f,22+o,16,null,u||null);null===m.projection&&(m.projection=l),Ca(),64!=(64&m.flags)&&function sg(o,l,u){jE(l[11],0,l,u,ig(o,u,l),oh(u.parent||l[6],u,l))}(f,h,m)}function ip(o,l,u,h,f){const m=Oe(),v=gh(m,l,u,h);return v!==jt&&ms(Kt(),Vn(),m,o,v,m[11],f,!1),ip}function Zv(o,l,u,h,f){const m=o[u+1],v=null===l;let C=h?Go(m):Wl(m),D=!1;for(;0!==C&&(!1===D||v);){const R=o[C+1];Og(o[C],l)&&(D=!0,o[C+1]=h?av(R):sv(R)),C=h?Go(R):Wl(R)}D&&(o[u+1]=h?sv(m):av(m))}function Og(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Vi(o,l)>=0}const Hi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Yv(o){return o.substring(Hi.key,Hi.keyEnd)}function VD(o,l){const u=Hi.textEnd;return u===l?-1:(l=Hi.keyEnd=function Qv(o,l,u){for(;l<u&&o.charCodeAt(l)>32;)l++;return l}(o,Hi.key=l,u),Ku(o,l,u))}function Ku(o,l,u){for(;l<u&&o.charCodeAt(l)<=32;)l++;return l}function Fg(o,l,u){return Ya(o,l,u,!1),Fg}function Lg(o,l){return Ya(o,l,null,!0),Lg}function Qo(o,l){for(let u=function LD(o){return function Pg(o){Hi.key=0,Hi.keyEnd=0,Hi.value=0,Hi.valueEnd=0,Hi.textEnd=o.length}(o),VD(o,Ku(o,0,Hi.textEnd))}(l);u>=0;u=VD(l,u))yr(o,Yv(l),!0)}function Ya(o,l,u,h){const f=Oe(),m=Kt(),v=ks(2);m.firstUpdatePass&&Qu(m,o,v,h),l!==jt&&br(f,v,l)&&bx(m,m.data[Ln()],f,f[11],o,f[v+1]=function Cx(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=me(Ga(o)))),o}(l,u),h,v)}function eb(o,l){return l>=o.expandoStartIndex}function Qu(o,l,u,h){const f=o.data;if(null===f[u+1]){const m=f[Ln()],v=eb(o,u);sb(m,h)&&null===l&&!v&&(l=!1),l=function tb(o,l,u,h){const f=_u(o);let m=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=Bg(u=ib(null,o,l,u,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(u=ib(f,o,l,u,h),null===m){let D=function Vg(o,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Wl(h))return o[Go(h)]}(o,l,h);void 0!==D&&Array.isArray(D)&&(D=ib(null,o,l,D[1],h),D=Bg(D,l.attrs,h),function yx(o,l,u,h){o[Go(u?l.classBindings:l.styleBindings)]=h}(o,l,h,D))}else m=function nb(o,l,u){let h;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)h=Bg(h,o[m].hostAttrs,u);return Bg(h,l.attrs,u)}(o,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,h),function PD(o,l,u,h,f,m){let v=m?l.classBindings:l.styleBindings,C=Go(v),D=Wl(v);o[h]=u;let R,A=!1;if(Array.isArray(u)){const B=u;R=B[1],(null===R||Vi(B,R)>0)&&(A=!0)}else R=u;if(f)if(0!==D){const Q=Go(o[C+1]);o[h+1]=ag(Q,C),0!==Q&&(o[Q+1]=ov(o[Q+1],h)),o[C+1]=function Rk(o,l){return 131071&o|l<<17}(o[C+1],h)}else o[h+1]=ag(C,0),0!==C&&(o[C+1]=ov(o[C+1],h)),C=h;else o[h+1]=ag(D,0),0===C?C=h:o[D+1]=ov(o[D+1],h),D=h;A&&(o[h+1]=sv(o[h+1])),Zv(o,R,h,!0),Zv(o,R,h,!1),function ND(o,l,u,h,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&Vi(m,l)>=0&&(u[h+1]=av(u[h+1]))}(l,R,o,h,m),v=ag(C,D),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,h)}}function ib(o,l,u,h,f){let m=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(m=l[C],h=Bg(h,m.hostAttrs,f),m!==o);)C++;return null!==o&&(u.directiveStylingLast=C),h}function Bg(o,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),yr(o,v,!!u||l[++m]))}return void 0===o?null:o}function bx(o,l,u,h,f,m,v,C){if(!(3&l.type))return;const D=o.data,A=D[C+1];rb(function nD(o){return 1==(1&o)}(A)?wx(D,l,u,f,Wl(A),v):void 0)||(rb(m)||function tD(o){return 2==(2&o)}(A)&&(m=wx(D,null,u,f,C,v)),function $E(o,l,u,h,f){if(l)f?o.addClass(u,h):o.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:qa.DashCase;null==f?o.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=qa.Important),o.setStyle(u,h,f,m))}}(h,v,$r(Ln(),u),f,m))}function wx(o,l,u,h,f,m){const v=null===l;let C;for(;f>0;){const D=o[f],A=Array.isArray(D),R=A?D[1]:D,B=null===R;let Q=u[f+1];Q===jt&&(Q=B?Mt:void 0);let oe=B?Va(Q,h):R===h?Q:void 0;if(A&&!rb(oe)&&(oe=Va(D,h)),rb(oe)&&(C=oe,v))return C;const Te=o[f+1];f=v?Go(Te):Wl(Te)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(C=Va(D,h))}return C}function rb(o){return void 0!==o}function sb(o,l){return 0!=(o.flags&(l?16:32))}function jD(o,l=""){const u=Oe(),h=Kt(),f=o+22,m=h.firstCreatePass?Hu(h,f,1,l,null):h.data[f],v=u[f]=function Zy(o,l){return o.createText(l)}(u[11],l);ah(h,u,v,m),ir(m,!1)}function ob(o){return Ug("",o,""),ob}function Ug(o,l,u){const h=Oe(),f=gh(h,o,l,u);return f!==jt&&function Gc(o,l,u){const h=$r(l,o);!function Qn(o,l,u){o.setValue(l,u)}(o[11],h,u)}(h,Ln(),f),Ug}function lb(o,l,u){!function Ka(o,l,u,h){const f=Kt(),m=ks(2);f.firstUpdatePass&&Qu(f,null,m,h);const v=Oe();if(u!==jt&&br(v,m,u)){const C=f.data[Ln()];if(sb(C,h)&&!eb(f,m)){let D=h?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(u=we(D,u||"")),kg(f,C,v,u,h)}else!function SV(o,l,u,h,f,m,v,C){f===jt&&(f=Mt);let D=0,A=0,R=0<f.length?f[0]:null,B=0<m.length?m[0]:null;for(;null!==R||null!==B;){const Q=D<f.length?f[D+1]:void 0,oe=A<m.length?m[A+1]:void 0;let je,Te=null;R===B?(D+=2,A+=2,Q!==oe&&(Te=B,je=oe)):null===B||null!==R&&R<B?(D+=2,Te=R):(A+=2,Te=B,je=oe),null!==Te&&bx(o,l,u,h,Te,je,v,C),R=D<f.length?f[D]:null,B=A<m.length?m[A]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function IV(o,l,u){if(null==u||""===u)return Mt;const h=[],f=Ga(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)o(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&o(h,m,f[m]);else"string"==typeof f&&l(h,f);return h}(o,l,u),h,m)}}(yr,Qo,gh(Oe(),o,l,u),!0)}function op(o,l,u){const h=Oe();return br(h,wl(),l)&&ms(Kt(),Vn(),h,o,l,h[11],u,!0),op}function pb(o,l,u){const h=Oe();if(br(h,wl(),l)){const m=Kt(),v=Vn();ms(m,v,h,o,l,gD(_u(m.data),v,h),u,!0)}return pb}const qc=void 0;var Ax=["en",[["a","p"],["AM","PM"],qc],[["AM","PM"],qc,qc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qc,"{1} 'at' {0}",qc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mb(o){const u=Math.floor(Math.abs(o)),h=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let ap={};function Ju(o){const l=function Mx(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=_b(l);if(u)return u;const h=l.split("-")[0];if(u=_b(h),u)return u;if("en"===h)return Ax;throw new Ie(701,!1)}function gb(o){return Ju(o)[xt.PluralCase]}function _b(o){return o in ap||(ap[o]=Nt.ng&&Nt.ng.common&&Nt.ng.common.locales&&Nt.ng.common.locales[o]),ap[o]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const lp="en-US";let vb=lp;function Pb(o,l,u,h,f){if(o=ee(o),Array.isArray(o))for(let m=0;m<o.length;m++)Pb(o[m],l,u,h,f);else{const m=Kt(),v=Oe();let C=Gl(o)?o:ee(o.provide),D=Ly(o);const A=ui(),R=1048575&A.providerIndexes,B=A.directiveStart,Q=A.providerIndexes>>20;if(Gl(o)||!o.multi){const oe=new kr(D,f,lh),Te=Fb(C,l,f?R:R+Q,B);-1===Te?(Fo(Os(A,v),m,C),Nb(m,o,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(oe),v.push(oe)):(u[Te]=oe,v[Te]=oe)}else{const oe=Fb(C,l,R+Q,B),Te=Fb(C,l,R,R+Q),je=oe>=0&&u[oe],tt=Te>=0&&u[Te];if(f&&!tt||!f&&!je){Fo(Os(A,v),m,C);const ut=function eR(o,l,u,h,f){const m=new kr(o,u,lh);return m.multi=[],m.index=l,m.componentProviders=0,mI(m,f,h&&!u),m}(f?Jx:Xx,u.length,f,h,D);!f&&tt&&(u[Te].providerFactory=ut),Nb(m,o,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ut),v.push(ut)}else Nb(m,o,oe>-1?oe:Te,mI(u[f?Te:oe],D,!f&&h));!f&&h&&tt&&u[Te].componentProviders++}}}function Nb(o,l,u,h){const f=Gl(l),m=function sr(o){return!!o.useClass}(l);if(f||m){const D=(m?ee(l.useClass):l).prototype.ngOnDestroy;if(D){const A=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(u);-1===R?A.push(u,[h,D]):A[R+1].push(h,D)}else A.push(u,D)}}}function mI(o,l,u){return u&&o.componentProviders++,o.multi.push(l)-1}function Fb(o,l,u,h){for(let f=u;f<h;f++)if(l[f]===o)return f;return-1}function Xx(o,l,u,h){return Lb(this.multi,[])}function Jx(o,l,u,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=us(u,u[1],this.providerFactory.index,h);m=C.slice(0,v),Lb(f,m);for(let D=v;D<C.length;D++)m.push(C[D])}else m=[],Lb(f,m);return m}function Lb(o,l){for(let u=0;u<o.length;u++)l.push((0,o[u])());return l}function gI(o,l=[]){return u=>{u.providersResolver=(h,f)=>function Qx(o,l,u){const h=Kt();if(h.firstCreatePass){const f=mr(o);Pb(u,h.data,h.blueprint,f,!0),Pb(l,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,l)}}class Ih{}class _I{}function tR(o,l){return new nR(o,l??null)}class nR extends Ih{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ag(this);const h=vt(l);this._bootstrapComponents=za(h.bootstrap),this._r3Injector=yk(l,u,[{provide:Ih,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],me(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Vb extends _I{constructor(l){super(),this.moduleType=l}create(l){return new nR(this.moduleType,l)}}class zV extends Ih{constructor(l,u,h){super(),this.componentFactoryResolver=new Ag(this),this.instance=null;const f=new lE([...l,{provide:Ih,useValue:this},{provide:Ou,useValue:this.componentFactoryResolver}],u||mi(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Bb(o,l,u=null){return new zV(o,l,u).injector}let e_=(()=>{class o{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=ct(0,u.type),f=h.length>0?Bb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return o.\u0275prov=tn({token:o,providedIn:"environment",factory:()=>new o(Bn(Wr))}),o})();function iR(o){o.getStandaloneInjector=l=>l.get(e_).getOrCreateStandaloneInjector(o)}function lR(o,l,u,h){return n_(Oe(),di(),o,l,u,h)}function n_(o,l,u,h,f,m){const v=l+u;return br(o,v,f)?function Yo(o,l,u){return o[l]=u}(o,v+1,m?h.call(m,f):h(f)):function Zc(o,l){const u=o[l];return u===jt?void 0:u}(o,v+1)}function fR(o,l){const u=Kt();let h;const f=o+22;u.firstCreatePass?(h=function pR(o,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(o===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=Ni(h.type)),v=bn(lh);try{const C=Al(!1),D=m();return Al(C),function px(o,l,u,h){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),l[u]=h}(u,Oe(),f,D),D}finally{bn(v)}}function EI(o,l,u){const h=o+22,f=Oe(),m=ls(f,h);return function r_(o,l){return o[1].data[l].pure}(f,h)?n_(f,di(),l,m.transform,u,m):m.transform(u)}function qb(o){return l=>{setTimeout(o,void 0,l)}}const Xo=class gR extends a.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,m=u||(()=>null),v=h;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=qb(m),f&&(f=qb(f)),v&&(v=qb(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof H.w0&&l.add(C),C}};function II(){return this._results[zu()]()}class mp{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=zu(),h=mp.prototype;h[u]||(h[u]=II)}get changes(){return this._changes||(this._changes=new Xo)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=Li(l);(this._changesDetected=!function Uo(o,l,u){if(o.length!==l.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],m=l[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Wb,o})();const _p=gp,$i=class extends _p{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=jc(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),qo(h,f,l),new hh(f)}};function Wb(){return Th(ui(),Oe())}function Th(o,l){return 4&o.type?new $i(l,o,Pu(o,l)):null}let rd=(()=>{class o{}return o.__NG_ELEMENT_ID__=SI,o})();function SI(){return TI(ui(),Oe())}const Zb=rd,yp=class extends Zb{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Pu(this._hostTNode,this._hostLView)}get injector(){return new Ra(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ml(this._hostTNode,this._hostLView);if(wf(l)){const u=no(l,this._hostLView),h=hi(l);return new Ra(u[1].data[h+8],u)}return new Ra(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Yb(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=l.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(l,u,h,f,m){const v=l&&!function ii(o){return"function"==typeof o}(l);let C;if(v)C=u;else{const B=u||{};C=B.index,h=B.injector,f=B.projectableNodes,m=B.environmentInjector||B.ngModuleRef}const D=v?l:new Qf($(l)),A=h||this.parentInjector;if(!m&&null==D.ngModule){const Q=(v?A:this.parentInjector).get(Wr,null);Q&&(m=Q)}const R=D.create(A,f,void 0,m);return this.insert(R.hostView,C),R}insert(l,u){const h=l._lView,f=h[1];if(function mu(o){return Ir(o[3])}(h)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const B=h[3],Q=new yp(B,B[6],B[3]);Q.detach(Q.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function RE(o,l,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=l),h<m-10?(l[4]=u[f],so(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function OE(o,l){const u=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===u?o[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(o),l[2]|=64}(f,h,v,m);const C=Qy(m,v),D=h[11],A=Yy(D,v[7]);return null!==A&&function eg(o,l,u,h,f,m){h[0]=f,h[6]=l,Wa(o,h,u,1,f,m)}(f,v[6],D,h,A,C),l.attachToViewContainerRef(),so(s_(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Yb(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=ng(this._lContainer,u);h&&(Ho(s_(this._lContainer),u),PE(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=ng(this._lContainer,u);return h&&null!=Ho(s_(this._lContainer),u)?new hh(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function Yb(o){return o[8]}function s_(o){return o[8]||(o[8]=[])}function TI(o,l){let u;const h=l[o.index];if(Ir(h))u=h;else{let f;if(8&o.type)f=Un(h);else{const m=l[11];f=m.createComment("");const v=Fi(o,l);Vu(m,Yy(m,v),f,function aV(o,l){return o.nextSibling(l)}(m,v),!1)}l[o.index]=u=pD(h,l,f,o),Dg(l,u)}return new yp(u,o,l)}class AI{constructor(l){this.queryList=l,this.matches=null}clone(){return new AI(this.queryList)}setDirty(){this.queryList.setDirty()}}class MI{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new MI(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==CR(l,u).matches&&this.queries[u].setDirty()}}class _R{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class kI{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new kI(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class xI{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new xI(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(l,u,JV(u,m)),this.matchTNodeWithReadOption(l,u,xl(u,l,m,!1,!1))}else h===gp?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,xl(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===zl||f===rd||f===gp&&4&u.type)this.addMatch(u.index,-2);else{const m=xl(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function JV(o,l){const u=o.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function vR(o,l,u,h){return-1===u?function yR(o,l){return 11&o.type?Pu(o,l):4&o.type?Th(o,l):null}(l,o):-2===u?function RI(o,l,u){return u===zl?Pu(l,o):u===gp?Th(l,o):u===rd?TI(l,o):void 0}(o,l,h):us(o,o[1],u,l)}function o_(o,l,u,h){const f=l[19].queries[h];if(null===f.matches){const m=o.data,v=u.matches,C=[];for(let D=0;D<v.length;D+=2){const A=v[D];C.push(A<0?null:vR(l,m[A],v[D+1],u.metadata.read))}f.matches=C}return f.matches}function vp(o,l,u,h){const f=o.queries.getByIndex(u),m=f.matches;if(null!==m){const v=o_(o,l,f,u);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)h.push(v[C/2]);else{const A=m[C+1],R=l[-D];for(let B=10;B<R.length;B++){const Q=R[B];Q[17]===Q[3]&&vp(Q[1],Q,A,h)}if(null!==R[9]){const B=R[9];for(let Q=0;Q<B.length;Q++){const oe=B[Q];vp(oe[1],oe,A,h)}}}}}return h}function Kb(o){const l=Oe(),u=Kt(),h=Cl();yu(h+1);const f=CR(u,h);if(o.dirty&&vc(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?vp(u,l,h,[]):o_(u,l,f,h);o.reset(m,kM),o.notifyOnChanges()}return!0}return!1}function OI(o,l,u){const h=Kt();h.firstCreatePass&&(NI(h,new _R(o,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),bR(h,Oe(),l)}function a_(o,l,u,h){const f=Kt();if(f.firstCreatePass){const m=ui();NI(f,new _R(l,u,h),m.index),function wR(o,l){const u=o.contentQueries||(o.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,l)}(f,o),2==(2&u)&&(f.staticContentQueries=!0)}bR(f,Oe(),u)}function PI(){return function eB(o,l){return o[19].queries[l].queryList}(Oe(),Cl())}function bR(o,l,u){const h=new mp(4==(4&u));vg(o,l,h,h.destroy),null===l[19]&&(l[19]=new MI),l[19].queries.push(new AI(h))}function NI(o,l,u){null===o.queries&&(o.queries=new kI),o.queries.track(new xI(l,u))}function CR(o,l){return o.queries.getByIndex(l)}function ER(o,l){return Th(o,l)}function aw(...o){}const NR=new Rn("Application Initializer");let lw=(()=>{class o{constructor(u){this.appInits=u,this.resolve=aw,this.reject=aw,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(AD(m))u.push(m);else if(jv(m)){const v=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Bn(NR,8))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const FR=new Rn("AppId",{providedIn:"root",factory:function LR(){return`${WI()}${WI()}${WI()}`}});function WI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const VR=new Rn("Platform Initializer"),Ip=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),cw=new Rn("appBootstrapListener"),hB=new Rn("AnimationModuleType");let fB=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const uw=new Rn("LocaleId",{providedIn:"root",factory:()=>S(uw,st.Optional|st.SkipSelf)||function pB(){return typeof $localize<"u"&&$localize.locale||lp}()}),mB=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class BR{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let hw=(()=>{class o{compileModuleSync(u){return new Vb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=za(vt(u).declarations).reduce((v,C)=>{const D=$(C);return D&&v.push(new Qf(D)),v},[]);return new BR(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const pw=(()=>Promise.resolve(0))();function YI(o){typeof Zone>"u"?pw.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Us{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xo(!1),this.onMicrotaskEmpty=new Xo(!1),this.onStable=new Xo(!1),this.onError=new Xo(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function KI(){let o=Nt.requestAnimationFrame,l=Nt.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function XI(o){const l=()=>{!function $R(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(Nt,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Sp(o),o.isCheckStableRunning=!0,QI(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Sp(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,v,C)=>{try{return mw(o),u.invokeTask(f,m,v,C)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),JI(o)}},onInvoke:(u,h,f,m,v,C,D)=>{try{return mw(o),u.invoke(f,m,v,C,D)}finally{o.shouldCoalesceRunChangeDetection&&l(),JI(o)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,Sp(o),QI(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Us.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Us.isInAngularZone())throw new Ie(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,jR,aw,aw);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const jR={};function QI(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Sp(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function mw(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function JI(o){o._nesting--,QI(o)}class GR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xo,this.onMicrotaskEmpty=new Xo,this.onStable=new Xo,this.onError=new Xo}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const Ah=new Rn(""),zR=new Rn("");let tS,vB=(()=>{class o{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,tS||(function bB(o){tS=o}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Us.assertNotInAngularZone(),YI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())YI(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return o.\u0275fac=function(u){return new(u||o)(Bn(Us),Bn(eS),Bn(zR))},o.\u0275prov=tn({token:o,factory:o.\u0275fac}),o})(),eS=(()=>{class o{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return tS?.findTestabilityInTree(this,u,h)??null}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),ic=null;const nS=new Rn("AllowMultipleToken"),gw=new Rn("PlatformDestroyListeners");class iS{constructor(l,u){this.name=l,this.token=u}}function YR(o,l,u=[]){const h=`Platform: ${l}`,f=new Rn(h);return(m=[])=>{let v=yw();if(!v||v.injector.get(nS,!1)){const C=[...u,...m,{provide:f,useValue:!0}];o?o(C):function sd(o){if(ic&&!ic.get(nS,!1))throw new Ie(400,!1);ic=o;const l=o.get(ea);(function _w(o){const l=o.get(VR,null);l&&l.forEach(u=>u())})(o)}(function oS(o=[],l){return Bc.create({name:l,providers:[{provide:yn,useValue:"platform"},{provide:gw,useValue:new Set([()=>ic=null])},...o]})}(C,h))}return function sS(o){const l=yw();if(!l)throw new Ie(401,!1);return l}()}}function yw(){return ic?.get(ea)??null}let ea=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function vw(o,l){let u;return u="noop"===o?new GR:("zone.js"===o?void 0:o)||new Us(l),u}(h?.ngZone,function aS(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:Us,useValue:f}];return f.run(()=>{const v=Bc.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(v),D=C.injector.get(Ff,null);if(!D)throw new Ie(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{D.handleError(R)}});C.onDestroy(()=>{h_(this._modules,C),A.unsubscribe()})}),function bw(o,l,u){try{const h=u();return AD(h)?h.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>o.handleError(h)),h}}(D,f,()=>{const A=C.injector.get(lw);return A.runInitializers(),A.donePromise.then(()=>(function bb(o){qt(o,"Expected localeId to be defined"),"string"==typeof o&&(vb=o.toLowerCase().replace(/_/g,"-"))}(C.injector.get(uw,lp)||lp),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const f=ww({},h);return function qR(o,l,u){const h=new Vb(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(d_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ie(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(gw,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Bn(Bc))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function ww(o,l){return Array.isArray(l)?l.reduce(ww,o):{...o,...l}}let d_=(()=>{class o{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Us.assertNotInAngularZone(),YI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ce.T)(m,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof uE;if(!this._injector.get(lw).done)throw!f&&Ze(u),new Ie(405,false);let v;v=f?u:this._injector.get(Ou).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function ZR(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ih),A=v.create(Bc.NULL,[],h||v.selector,C),R=A.location.nativeElement,B=A.injector.get(Ah,null);return B?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),h_(this.components,A),B?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;h_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(cw,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>h_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ie(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(u){return new(u||o)(Bn(Us),Bn(Wr),Bn(Ff))},o.\u0275prov=tn({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function h_(o,l){const u=o.indexOf(l);u>-1&&o.splice(u,1)}let lS=!0,cS=!1;function uS(){return cS=!0,lS}function f_(){if(cS)throw new Error("Cannot enable prod mode after platform setup.");lS=!1}let KR=(()=>{class o{}return o.__NG_ELEMENT_ID__=QR,o})();function QR(o){return function XR(o,l,u){if(da(o)&&!u){const h=un(o.index,l);return new hh(h,h)}return 47&o.type?new hh(l[16],l):null}(ui(),Oe(),16==(16&o))}class tO{constructor(){}supports(l){return qu(l)}create(l){return new nO(l)}}const Dw=(o,l)=>l;class nO{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||Dw}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<wS(h,f,m)?u:h,C=wS(v,f,m),D=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const A=C-f,R=D-f;if(A!=R){for(let Q=0;Q<A;Q++){const oe=Q<m.length?m[Q]:m[Q]=0,Te=oe+Q;R<=Te&&Te<A&&(m[Q]=oe+1)}m[v.previousIndex]=R-A}}C!==D&&l(v,C,D)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!qu(l))throw new Ie(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,C),h=!0),u=u._next}else f=0,function ux(o,l){if(Array.isArray(o))for(let u=0;u<o.length;u++)l(o[u]);else{const u=o[zu()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new y_(u,h),m,f),l}_verifyReinsertion(l,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new bS),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bS),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class y_{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class vS{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class bS{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new vS,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wS(o,l,u){const h=o.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class Mh{constructor(){}supports(l){return l instanceof Map||ph(l)}create(){return new iO}}class iO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||ph(l)))throw new Ie(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new CS(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class CS{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ES(){return new Iw([new tO])}let Iw=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||ES()),deps:[[o,new kt,new Ke]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ie(901,!1)}}return o.\u0275prov=tn({token:o,providedIn:"root",factory:ES}),o})();function Sw(){return new Tw([new Mh])}let Tw=(()=>{class o{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new o(u)}static extend(u){return{provide:o,useFactory:h=>o.create(u,h||Sw()),deps:[[o,new kt,new Ke]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Ie(901,!1)}}return o.\u0275prov=tn({token:o,providedIn:"root",factory:Sw}),o})();const SB=YR(null,"core",[]);let TB=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Bn(d_))},o.\u0275mod=Ct({type:o}),o.\u0275inj=Ht({}),o})();function AB(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(ht,ke,L)=>{L.d(ke,{Z:()=>Ie});var a=L(2090),H=L(4859),P=L(9681),ce=L(1877);class de{constructor(Ee,_e){this._delegate=Ee,this.firebase=_e,(0,P._addComponent)(Ee,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this._delegate.automaticDataCollectionEnabled=Ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ee=>{this._delegate.checkDestroyed(),Ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(Ee,_e=P._DEFAULT_ENTRY_NAME){var it;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(Ee);return!rt.isInitialized()&&"EXPLICIT"===(null===(it=rt.getComponent())||void 0===it?void 0:it.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:_e})}_removeServiceInstance(Ee,_e=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ee).clearInstance(_e)}_addComponent(Ee){(0,P._addComponent)(this._delegate,Ee)}_addOrOverwriteComponent(Ee){(0,P._addOrOverwriteComponent)(this._delegate,Ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function we(){const lt=function me(lt){const Ee={},_e={__esModule:!0,initializeApp:function Fe(le,he={}){const be=P.initializeApp(le,he);if((0,a.r3)(Ee,be.name))return Ee[be.name];const J=new lt(be,_e);return Ee[be.name]=J,J},app:rt,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Se(le){const he=le.name,be=he.replace("-compat","");if(P._registerComponent(le)&&"PUBLIC"===le.type){const J=(ne=rt())=>{if("function"!=typeof ne[be])throw ae.create("invalid-app-argument",{appName:he});return ne[be]()};void 0!==le.serviceProps&&(0,a.ZB)(J,le.serviceProps),_e[be]=J,lt.prototype[be]=function(...ne){return this._getService.bind(this,he).apply(this,le.multipleInstances?ne:[])}}return"PUBLIC"===le.type?_e[be]:null},removeApp:function it(le){delete Ee[le]},useAsService:function We(le,he){return"serverAuth"===he?null:he},modularAPIs:P}};function rt(le){if(!(0,a.r3)(Ee,le=le||P._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:le});return Ee[le]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Re(){return Object.keys(Ee).map(le=>Ee[le])}}),rt.App=lt,_e}(de);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:we,extendNamespace:function Ee(_e){(0,a.ZB)(lt,_e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),lt}(),Z=new ce.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=W;!function Ne(lt){(0,P.registerVersion)("@firebase/app-compat","0.1.33",lt)}()},9681:(ht,ke,L)=>{L.r(ke),L.d(ke,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>ss,_DEFAULT_ENTRY_NAME:()=>qt,_addComponent:()=>ln,_addOrOverwriteComponent:()=>tn,_apps:()=>Dn,_clearComponents:()=>Do,_components:()=>$n,_getProvider:()=>Ht,_registerComponent:()=>Wt,_removeServiceInstance:()=>Ri,deleteApp:()=>os,getApp:()=>Gn,getApps:()=>Hr,initializeApp:()=>hr,onLog:()=>zn,registerVersion:()=>Si,setLogLevel:()=>bn});var a=L(5861),H=L(4859),P=L(1877),ce=L(2090),de=L(8766);class ye{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function ae(j){return"VERSION"===j.getComponent()?.type}(K)){const Ae=K.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(K=>K).join(" ")}}const me="@firebase/app",W=new P.Yd("@firebase/app"),qt="[DEFAULT]",Ye={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,$n=new Map;function ln(j,Y){try{j.container.addComponent(Y)}catch(K){W.debug(`Component ${Y.name} failed to register with FirebaseApp ${j.name}`,K)}}function tn(j,Y){j.container.addOrOverwriteComponent(Y)}function Wt(j){const Y=j.name;if($n.has(Y))return W.debug(`There were multiple attempts to register component ${Y}.`),!1;$n.set(Y,j);for(const K of Dn.values())ln(K,j);return!0}function Ht(j,Y){const K=j.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),j.container.getProvider(Y)}function Ri(j,Y,K=qt){Ht(j,Y).clearInstance(K)}function Do(){$n.clear()}const Nn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Cs{constructor(Y,K,Ae){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Nn.create("app-deleted",{appName:this._name})}}const ss="9.9.4";function hr(j,Y={}){"object"!=typeof Y&&(Y={name:Y});const K=Object.assign({name:qt,automaticDataCollectionEnabled:!1},Y),Ae=K.name;if("string"!=typeof Ae||!Ae)throw Nn.create("bad-app-name",{appName:String(Ae)});const qe=Dn.get(Ae);if(qe){if((0,ce.vZ)(j,qe.options)&&(0,ce.vZ)(K,qe.config))return qe;throw Nn.create("duplicate-app",{appName:Ae})}const Ct=new H.H0(Ae);for(const pn of $n.values())Ct.addComponent(pn);const mn=new Cs(j,K,Ct);return Dn.set(Ae,mn),mn}function Gn(j=qt){const Y=Dn.get(j);if(!Y)throw Nn.create("no-app",{appName:j});return Y}function Hr(){return Array.from(Dn.values())}function os(j){return st.apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(j){const Y=j.name;Dn.has(Y)&&(Dn.delete(Y),yield Promise.all(j.container.getProviders().map(K=>K.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Si(j,Y,K){var Ae;let qe=null!==(Ae=Ye[j])&&void 0!==Ae?Ae:j;K&&(qe+=`-${K}`);const Ct=qe.match(/\s|\//),mn=Y.match(/\s|\//);if(Ct||mn){const pn=[`Unable to register library "${qe}" with version "${Y}":`];return Ct&&pn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),Ct&&mn&&pn.push("and"),mn&&pn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void W.warn(pn.join(" "))}Wt(new H.wA(`${qe}-version`,()=>({library:qe,version:Y}),"VERSION"))}function zn(j,Y){if(null!==j&&"function"!=typeof j)throw Nn.create("invalid-log-argument");(0,P.Am)(j,Y)}function bn(j){(0,P.Ub)(j)}const kn="firebase-heartbeat-store";let xn=null;function In(){return xn||(xn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(j,Y)=>{0===Y&&j.createObjectStore(kn)}}).catch(j=>{throw Nn.create("idb-open",{originalErrorMessage:j.message})})),xn}function mt(){return(mt=(0,a.Z)(function*(j){var Y;try{return(yield In()).transaction(kn).objectStore(kn).get(Ai(j))}catch(K){if(K instanceof ce.ZR)W.warn(K.message);else{const Ae=Nn.create("idb-get",{originalErrorMessage:null===(Y=K)||void 0===Y?void 0:Y.message});W.warn(Ae.message)}}})).apply(this,arguments)}function Nt(j,Y){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(j,Y){var K;try{const qe=(yield In()).transaction(kn,"readwrite");return yield qe.objectStore(kn).put(Y,Ai(j)),qe.done}catch(Ae){if(Ae instanceof ce.ZR)W.warn(Ae.message);else{const qe=Nn.create("idb-set",{originalErrorMessage:null===(K=Ae)||void 0===K?void 0:K.message});W.warn(qe.message)}}})).apply(this,arguments)}function Ai(j){return`${j.name}!${j.options.appId}`}class Zi{constructor(Y){this.container=Y,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Yt(K),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var Y=this;return(0,a.Z)(function*(){const Ae=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Lt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==qe&&!Y._heartbeatsCache.heartbeats.some(Ct=>Ct.date===qe))return Y._heartbeatsCache.heartbeats.push({date:qe,agent:Ae}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Ct=>{const mn=new Date(Ct.date).valueOf();return Date.now()-mn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,a.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const K=Lt(),{heartbeatsToSend:Ae,unsentEntries:qe}=function fr(j,Y=1024){const K=[];let Ae=j.slice();for(const qe of j){const Ct=K.find(mn=>mn.agent===qe.agent);if(Ct){if(Ct.dates.push(qe.date),X(K)>Y){Ct.dates.pop();break}}else if(K.push({agent:qe.agent,dates:[qe.date]}),X(K)>Y){K.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:K,unsentEntries:Ae}}(Y._heartbeatsCache.heartbeats),Ct=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ae}));return Y._heartbeatsCache.lastSentHeartbeatDate=K,qe.length>0?(Y._heartbeatsCache.heartbeats=qe,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Ct})()}}function Lt(){return(new Date).toISOString().substring(0,10)}class Yt{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,a.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function pt(j){return mt.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var K=this;return(0,a.Z)(function*(){var Ae;if(yield K._canUseIndexedDBPromise){const Ct=yield K.read();return Nt(K.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Ct.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var K=this;return(0,a.Z)(function*(){var Ae;if(yield K._canUseIndexedDBPromise){const Ct=yield K.read();return Nt(K.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Y.heartbeats]})}})()}}function X(j){return(0,ce.L)(JSON.stringify({version:2,heartbeats:j})).length}!function G(j){Wt(new H.wA("platform-logger",Y=>new ye(Y),"PRIVATE")),Wt(new H.wA("heartbeat",Y=>new Zi(Y),"PRIVATE")),Si(me,"0.7.32",j),Si(me,"0.7.32","esm2017"),Si("fire-js","")}("")},4859:(ht,ke,L)=>{L.d(ke,{H0:()=>me,wA:()=>P,zt:()=>de});var a=L(5861),H=L(2090);class P{constructor(W,Z,ee){this.name=W,this.instanceFactory=Z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ce="[DEFAULT]";class de{constructor(W,Z){this.name=W,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const Z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(Z)){const ee=new H.BH;if(this.instancesDeferred.set(Z,ee),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:Z});Ge&&ee.resolve(Ge)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(W){var Z;const ee=this.normalizeInstanceIdentifier(W?.identifier),Ge=null!==(Z=W?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Ne){if(Ge)return null;throw Ne}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function ae(we){return"EAGER"===we.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[Z,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(Z);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Ne)}catch{}}}}clearInstance(W=ce){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,a.Z)(function*(){const Z=Array.from(W.instances.values());yield Promise.all([...Z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...Z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ce){return this.instances.has(W)}getOptions(W=ce){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:Z={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:Z});for(const[Ne,Ie]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Ne)&&Ie.resolve(Ge);return Ge}onInit(W,Z){var ee;const Ge=this.normalizeInstanceIdentifier(Z),Ne=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Ne.add(W),this.onInitCallbacks.set(Ge,Ne);const Ie=this.instances.get(Ge);return Ie&&W(Ie,Ge),()=>{Ne.delete(W)}}invokeOnInitCallbacks(W,Z){const ee=this.onInitCallbacks.get(Z);if(ee)for(const Ge of ee)try{Ge(W,Z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:Z={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(we=W,we===ce?void 0:we),options:Z}),this.instances.set(W,ee),this.instancesOptions.set(W,Z),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch{}var we;return ee||null}normalizeInstanceIdentifier(W=ce){return this.component?this.component.multipleInstances?W:ce:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const Z=this.getProvider(W.name);if(Z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);Z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const Z=new de(W,this);return this.providers.set(W,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,ke,L)=>{L.d(ke,{Am:()=>we,Ub:()=>me,Yd:()=>ae,in:()=>H});const a=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ce=H.INFO,de={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ye=(W,Z,...ee)=>{if(Z<W.logLevel)return;const Ge=(new Date).toISOString(),Ne=de[Z];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ne](`[${Ge}]  ${W.name}:`,...ee)};class ae{constructor(Z){this.name=Z,this._logLevel=ce,this._logHandler=ye,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in H))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?P[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Z),this._logHandler(this,H.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Z),this._logHandler(this,H.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Z),this._logHandler(this,H.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Z),this._logHandler(this,H.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Z),this._logHandler(this,H.ERROR,...Z)}}function me(W){a.forEach(Z=>{Z.setLogLevel(W)})}function we(W,Z){for(const ee of a){let Ge=null;Z&&Z.level&&(Ge=P[Z.level]),ee.userLogHandler=null===W?null:(Ne,Ie,...lt)=>{const Ee=lt.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");Ie>=(Ge??Ne.logLevel)&&W({level:H[Ie].toLowerCase(),message:Ee,args:lt,type:Ne.name})}}}},8766:(ht,ke,L)=>{L.d(ke,{Lj:()=>Fe,X3:()=>rt});var a=L(5861);let P,ce;const ae=new WeakMap,me=new WeakMap,we=new WeakMap,W=new WeakMap,Z=new WeakMap;let Ne={get(he,be,J){if(he instanceof IDBTransaction){if("done"===be)return me.get(he);if("objectStoreNames"===be)return he.objectStoreNames||we.get(he);if("store"===be)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return _e(he[be])},set:(he,be,J)=>(he[be]=J,!0),has:(he,be)=>he instanceof IDBTransaction&&("done"===be||"store"===be)||be in he};function Ee(he){return"function"==typeof he?function lt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...be){return he.apply(it(this),be),_e(ae.get(this))}:function(...be){return _e(he.apply(it(this),be))}:function(be,...J){const ne=he.call(it(this),be,...J);return we.set(ne,be.sort?be.sort():[be]),_e(ne)}}(he):(he instanceof IDBTransaction&&function Ge(he){if(me.has(he))return;const be=new Promise((J,ne)=>{const ge=()=>{he.removeEventListener("complete",ue),he.removeEventListener("error",Ue),he.removeEventListener("abort",Ue)},ue=()=>{J(),ge()},Ue=()=>{ne(he.error||new DOMException("AbortError","AbortError")),ge()};he.addEventListener("complete",ue),he.addEventListener("error",Ue),he.addEventListener("abort",Ue)});me.set(he,be)}(he),((he,be)=>be.some(J=>he instanceof J))(he,function de(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Ne):he)}function _e(he){if(he instanceof IDBRequest)return function ee(he){const be=new Promise((J,ne)=>{const ge=()=>{he.removeEventListener("success",ue),he.removeEventListener("error",Ue)},ue=()=>{J(_e(he.result)),ge()},Ue=()=>{ne(he.error),ge()};he.addEventListener("success",ue),he.addEventListener("error",Ue)});return be.then(J=>{J instanceof IDBCursor&&ae.set(J,he)}).catch(()=>{}),Z.set(be,he),be}(he);if(W.has(he))return W.get(he);const be=Ee(he);return be!==he&&(W.set(he,be),Z.set(be,he)),be}const it=he=>Z.get(he);function rt(he,be,{blocked:J,upgrade:ne,blocking:ge,terminated:ue}={}){const Ue=indexedDB.open(he,be),He=_e(Ue);return ne&&Ue.addEventListener("upgradeneeded",yt=>{ne(_e(Ue.result),yt.oldVersion,yt.newVersion,_e(Ue.transaction))}),J&&Ue.addEventListener("blocked",()=>J()),He.then(yt=>{ue&&yt.addEventListener("close",()=>ue()),ge&&yt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),He}function Fe(he,{blocked:be}={}){const J=indexedDB.deleteDatabase(he);return be&&J.addEventListener("blocked",()=>be()),_e(J).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],We=new Map;function le(he,be){if(!(he instanceof IDBDatabase)||be in he||"string"!=typeof be)return;if(We.get(be))return We.get(be);const J=be.replace(/FromIndex$/,""),ne=be!==J,ge=Se.includes(J);if(!(J in(ne?IDBIndex:IDBObjectStore).prototype)||!ge&&!Re.includes(J))return;const ue=function(){var Ue=(0,a.Z)(function*(He,...yt){const en=this.transaction(He,ge?"readwrite":"readonly");let qt=en.store;return ne&&(qt=qt.index(yt.shift())),(yield Promise.all([qt[J](...yt),ge&&en.done]))[0]});return function(yt){return Ue.apply(this,arguments)}}();return We.set(be,ue),ue}!function Ie(he){Ne=he(Ne)}(he=>({...he,get:(be,J,ne)=>le(be,J)||he.get(be,J,ne),has:(be,J)=>!!le(be,J)||he.has(be,J)}))},5861:(ht,ke,L)=>{function a(P,ce,de,ye,ae,me,we){try{var W=P[me](we),Z=W.value}catch(ee){return void de(ee)}W.done?ce(Z):Promise.resolve(Z).then(ye,ae)}function H(P){return function(){var ce=this,de=arguments;return new Promise(function(ye,ae){var me=P.apply(ce,de);function we(Z){a(me,ye,ae,we,W,"next",Z)}function W(Z){a(me,ye,ae,we,W,"throw",Z)}we(void 0)})}}L.d(ke,{Z:()=>H})}},ht=>{ht(ht.s=7442)}]);