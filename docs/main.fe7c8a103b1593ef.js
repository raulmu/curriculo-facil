"use strict";(self.webpackChunkcurriculo_facil=self.webpackChunkcurriculo_facil||[]).push([[179],{2011:(ht,xe,V)=>{V.d(xe,{Dh:()=>me,GT:()=>ye,cc:()=>Fe,hO:()=>$e,on:()=>W,pX:()=>de,xv:()=>Ce});var o=V(4650),H=V(127),P=V(5813);ht=V.hmd(ht);const ce=["ngOnDestroy"],de=(_e,nt,it,Ne={})=>new Proxy(_e,{get:(Re,Se)=>it.runOutsideAngular(()=>{var Ze;if(_e[Se])return!(null===(Ze=Ne?.spy)||void 0===Ze)&&Ze.get&&Ne.spy.get(Se,_e[Se]),_e[Se];if(ce.indexOf(Se)>-1)return()=>{};const le=nt.toPromise().then(he=>{const we=he&&he[Se];return"function"==typeof we?we.bind(he):we&&we.then?we.then(J=>it.run(()=>J)):it.run(()=>we)});return new Proxy(()=>{},{get:(he,we)=>le[we],apply:(he,we,J)=>le.then(ne=>{var ge;const ue=ne&&ne(...J);return!(null===(ge=Ne?.spy)||void 0===ge)&&ge.apply&&Ne.spy.apply(Se,J,ue),ue})})})}),ye=(_e,nt)=>{nt.forEach(it=>{Object.getOwnPropertyNames(it.prototype||it).forEach(Ne=>{Object.defineProperty(_e.prototype,Ne,Object.getOwnPropertyDescriptor(it.prototype||it,Ne))})})};class oe{constructor(nt){return nt}}const me=new o.OlP("angularfire2.app.options"),Ce=new o.OlP("angularfire2.app.name");function W(_e,nt,it){const Re="object"==typeof it&&it||{};Re.name=Re.name||"string"==typeof it&&it||"[DEFAULT]";const Ze=H.Z.apps.filter(le=>le&&le.name===Re.name)[0]||nt.runOutsideAngular(()=>H.Z.initializeApp(_e,Re));try{JSON.stringify(_e)!==JSON.stringify(Ze.options)&&Z("error",`${Ze.name} Firebase App already initialized with different options${ht.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new oe(Ze)}const Z=(_e,...nt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[_e](...nt)},te={provide:oe,useFactory:W,deps:[me,o.R0b,[new o.FiY,Ce]]};let $e=(()=>{class _e{constructor(it){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",o.q4F.full,it.toString())}static initializeApp(it,Ne){return{ngModule:_e,providers:[{provide:me,useValue:it},{provide:Ce,useValue:Ne}]}}}return _e.\u0275fac=function(it){return new(it||_e)(o.LFG(o.Lbi))},_e.\u0275mod=o.oAB({type:_e}),_e.\u0275inj=o.cJS({providers:[te]}),_e})();function Fe(_e,nt,it,Ne,Re){const[,Se,Ze]=globalThis.\u0275AngularfireInstanceCache.find(le=>le[0]===_e)||[];if(Se)return function Ie(_e,nt){try{return _e.toString()===nt.toString()}catch{return _e===nt}}(Re,Ze)||(De("error",`${nt} was already initialized on the ${it} Firebase App with different settings.${lt?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:Re,was:Ze})),Se;{const le=Ne();return globalThis.\u0275AngularfireInstanceCache.push([_e,le,Re]),le}}const lt=!!ht.hot,De=(_e,...nt)=>{(0,o.X6Q)()&&typeof console<"u"&&console[_e](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ht,xe,V)=>{V.d(xe,{q4:()=>cr,iC:()=>$s,fc:()=>Nc,HU:()=>Ja,vb:()=>Yr,JM:()=>Hl});var o=V(4650),H=V(5867),P=V(5861),ce=V(9681),de=V(2090),ye=V(4859),oe=V(1877),me=V(8766);const Ce="@firebase/installations",W="0.5.12",te=`w:${W}`,$e="FIS_v2",nt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function it(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function Ne({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function Re(S){return{token:S.token,requestStatus:2,expiresIn:ne(S.expiresIn),creationTime:Date.now()}}function Se(S,T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,P.Z)(function*(S,T){const U=(yield T.json()).error;return nt.create("request-failed",{requestName:S,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function le({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function he(S,{refreshToken:T}){const k=le(S);return k.append("Authorization",function ge(S){return`${$e} ${S}`}(T)),k}function we(S){return J.apply(this,arguments)}function J(){return(J=(0,P.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function ne(S){return Number(S.replace("s","000"))}function ue(S,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:k}){const U=Ne(S),ee=le(S),fe=T.getImmediate({optional:!0});if(fe){const kt=yield fe.getHeartbeatsHeader();kt&&ee.append("x-firebase-client",kt)}const We={method:"POST",headers:ee,body:JSON.stringify({fid:k,authVersion:$e,appId:S.appId,sdkVersion:te})},_t=yield we(()=>fetch(U,We));if(_t.ok){const kt=yield _t.json();return{fid:kt.fid||k,registrationStatus:2,refreshToken:kt.refreshToken,authToken:Re(kt.authToken)}}throw yield Se("Create Installation",_t)})).apply(this,arguments)}function He(S){return new Promise(T=>{setTimeout(T,S)})}const tn=/^[cdef][\w-]{21}$/;function Ke(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const k=function Dn(S){return function vt(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return tn.test(k)?k:""}catch{return""}}function Yn(S){return`${S.appName}!${S.appId}`}const cn=new Map;function nn(S,T){const k=Yn(S);Vi(k,T),function Vo(S,T){const k=function Ln(){return!Bi&&"BroadcastChannel"in self&&(Bi=new BroadcastChannel("[Firebase] FID Change"),Bi.onmessage=S=>{Vi(S.data.key,S.data.fid)}),Bi}();k&&k.postMessage({key:S,fid:T}),function xs(){0===cn.size&&Bi&&(Bi.close(),Bi=null)}()}(k,T)}function Vi(S,T){const k=cn.get(S);if(k)for(const U of k)U(T)}let Bi=null;const Kn="firebase-installations-store";let $r=null;function ds(){return $r||($r=(0,me.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(Kn)}})),$r}function rt(S,T){return xi.apply(this,arguments)}function xi(){return(xi=(0,P.Z)(function*(S,T){const k=Yn(S),ee=(yield ds()).transaction(Kn,"readwrite"),fe=ee.objectStore(Kn),Pe=yield fe.get(k);return yield fe.put(T,k),yield ee.done,(!Pe||Pe.fid!==T.fid)&&nn(S,T.fid),T})).apply(this,arguments)}function Qn(S){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(S){const T=Yn(S),U=(yield ds()).transaction(Kn,"readwrite");yield U.objectStore(Kn).delete(T),yield U.done})).apply(this,arguments)}function ki(S,T){return hs.apply(this,arguments)}function hs(){return(hs=(0,P.Z)(function*(S,T){const k=Yn(S),ee=(yield ds()).transaction(Kn,"readwrite"),fe=ee.objectStore(Kn),Pe=yield fe.get(k),We=T(Pe);return void 0===We?yield fe.delete(k):yield fe.put(We,k),yield ee.done,We&&(!Pe||Pe.fid!==We.fid)&&nn(S,We.fid),We})).apply(this,arguments)}function xn(S){return kn.apply(this,arguments)}function kn(){return(kn=(0,P.Z)(function*(S){let T;const k=yield ki(S.appConfig,U=>{const ee=In(U),fe=mt(S,ee);return T=fe.registrationPromise,fe.installationEntry});return""===k.fid?{installationEntry:yield T}:{installationEntry:k,registrationPromise:T}})).apply(this,arguments)}function In(S){return xt(S||{fid:Ke(),registrationStatus:0})}function mt(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(nt.create("app-offline"))};const k={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},U=function gt(S,T){return Ft.apply(this,arguments)}(S,k);return{installationEntry:k,registrationPromise:U}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:or(S)}:{installationEntry:T}}function Ft(){return(Ft=(0,P.Z)(function*(S,T){try{const k=yield ue(S,T);return rt(S.appConfig,k)}catch(k){throw it(k)&&409===k.customData.serverCode?yield Qn(S.appConfig):yield rt(S.appConfig,{fid:T.fid,registrationStatus:0}),k}})).apply(this,arguments)}function or(S){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,P.Z)(function*(S){let T=yield Ui(S.appConfig);for(;1===T.registrationStatus;)yield He(100),T=yield Ui(S.appConfig);if(0===T.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield xn(S);return U||k}return T})).apply(this,arguments)}function Ui(S){return ki(S,T=>{if(!T)throw nt.create("installation-not-found");return xt(T)})}function xt(S){return function Ki(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function Vt(S,T){return mr.apply(this,arguments)}function mr(){return(mr=(0,P.Z)(function*({appConfig:S,heartbeatServiceProvider:T},k){const U=Kt(S,k),ee=he(S,k),fe=T.getImmediate({optional:!0});if(fe){const kt=yield fe.getHeartbeatsHeader();kt&&ee.append("x-firebase-client",kt)}const We={method:"POST",headers:ee,body:JSON.stringify({installation:{sdkVersion:te,appId:S.appId}})},_t=yield we(()=>fetch(U,We));if(_t.ok)return Re(yield _t.json());throw yield Se("Generate Auth Token",_t)})).apply(this,arguments)}function Kt(S,{fid:T}){return`${Ne(S)}/${T}/authTokens:generate`}function X(S){return $.apply(this,arguments)}function $(){return($=(0,P.Z)(function*(S,T=!1){let k;const U=yield ki(S.appConfig,fe=>{if(!Dt(fe))throw nt.create("not-registered");const Pe=fe.authToken;if(!T&&gn(Pe))return fe;if(1===Pe.requestStatus)return k=j(S,T),fe;{if(!navigator.onLine)throw nt.create("app-offline");const We=fi(fe);return k=Ae(S,We),We}});return k?yield k:U.authToken})).apply(this,arguments)}function j(S,T){return Y.apply(this,arguments)}function Y(){return(Y=(0,P.Z)(function*(S,T){let k=yield K(S.appConfig);for(;1===k.authToken.requestStatus;)yield He(100),k=yield K(S.appConfig);const U=k.authToken;return 0===U.requestStatus?X(S,T):U})).apply(this,arguments)}function K(S){return ki(S,T=>{if(!Dt(T))throw nt.create("not-registered");return function re(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Ae(S,T){return qe.apply(this,arguments)}function qe(){return(qe=(0,P.Z)(function*(S,T){try{const k=yield Vt(S,T),U=Object.assign(Object.assign({},T),{authToken:k});return yield rt(S.appConfig,U),k}catch(k){if(!it(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield rt(S.appConfig,U)}else yield Qn(S.appConfig);throw k}})).apply(this,arguments)}function Dt(S){return void 0!==S&&2===S.registrationStatus}function gn(S){return 2===S.requestStatus&&!function mn(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function fi(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function q(){return(q=(0,P.Z)(function*(S){const T=S,{installationEntry:k,registrationPromise:U}=yield xn(T);return U?U.catch(console.error):X(T).catch(console.error),k.fid})).apply(this,arguments)}function Ye(){return(Ye=(0,P.Z)(function*(S,T=!1){const k=S;return yield bt(k),(yield X(k,T)).token})).apply(this,arguments)}function bt(S){return St.apply(this,arguments)}function St(){return(St=(0,P.Z)(function*(S){const{registrationPromise:T}=yield xn(S);T&&(yield T)})).apply(this,arguments)}function Bo(S){return nt.create("missing-app-config-values",{valueName:S})}const Uo="installations",Ho=S=>{const T=S.getProvider("app").getImmediate(),k=function Pn(S){if(!S||!S.options)throw Bo("App Configuration");if(!S.name)throw Bo("App Name");const T=["projectId","apiKey","appId"];for(const k of T)if(!S.options[k])throw Bo(k);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},wa=S=>{const T=S.getProvider("app").getImmediate(),k=(0,ce._getProvider)(T,Uo).getImmediate();return{getId:()=>function G(S){return q.apply(this,arguments)}(k),getToken:ee=>function Ee(S){return Ye.apply(this,arguments)}(k,ee)}};(function gc(){(0,ce._registerComponent)(new ye.wA(Uo,Ho,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("installations-internal",wa,"PRIVATE"))})(),(0,ce.registerVersion)(Ce,W),(0,ce.registerVersion)(Ce,W,"esm2017");const Rs="@firebase/remote-config",Xn=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class yc{constructor(T,k,U,ee){this.client=T,this.storage=k,this.storageCache=U,this.logger=ee}isCachedDataFresh(T,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,ee=U<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${ee}.`),ee}fetch(T){var k=this;return(0,P.Z)(function*(){const[U,ee]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(ee&&k.isCachedDataFresh(T.cacheMaxAgeMillis,U))return ee;T.eTag=ee&&ee.eTag;const fe=yield k.client.fetch(T),Pe=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===fe.status&&Pe.push(k.storage.setLastSuccessfulFetchResponse(fe)),yield Promise.all(Pe),fe})()}}function vl(S=navigator){return S.languages&&S.languages[0]||S.language}class zo{constructor(T,k,U,ee,fe,Pe){this.firebaseInstallations=T,this.sdkVersion=k,this.namespace=U,this.projectId=ee,this.apiKey=fe,this.appId=Pe}fetch(T){var k=this;return(0,P.Z)(function*(){var U,ee,fe;const[Pe,We]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ht={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},Ct={sdk_version:k.sdkVersion,app_instance_id:Pe,app_instance_id_token:We,app_id:k.appId,language_code:vl()},ii={method:"POST",headers:Ht,body:JSON.stringify(Ct)},Ci=fetch(kt,ii),vo=new Promise((er,wo)=>{T.signal.addEventListener(()=>{const qu=new Error("The operation was aborted.");qu.name="AbortError",wo(qu)})});let zs;try{yield Promise.race([Ci,vo]),zs=yield Ci}catch(er){let wo="fetch-client-network";throw"AbortError"===(null===(U=er)||void 0===U?void 0:U.name)&&(wo="fetch-timeout"),Xn.create(wo,{originalErrorMessage:null===(ee=er)||void 0===ee?void 0:ee.message})}let ea=zs.status;const bo=zs.headers.get("ETag")||void 0;let vs,yi;if(200===zs.status){let er;try{er=yield zs.json()}catch(wo){throw Xn.create("fetch-client-parse",{originalErrorMessage:null===(fe=wo)||void 0===fe?void 0:fe.message})}vs=er.entries,yi=er.state}if("INSTANCE_STATE_UNSPECIFIED"===yi?ea=500:"NO_CHANGE"===yi?ea=304:("NO_TEMPLATE"===yi||"EMPTY_CONFIG"===yi)&&(vs={}),304!==ea&&200!==ea)throw Xn.create("fetch-status",{httpStatus:ea});return{status:ea,eTag:bo,config:vs}})()}}class Ns{constructor(T,k){this.client=T,this.storage=k}fetch(T){var k=this;return(0,P.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(T,U)})()}attemptFetch(T,{throttleEndTimeMillis:k,backoffCount:U}){var ee=this;return(0,P.Z)(function*(){yield function Tr(S,T){return new Promise((k,U)=>{const ee=Math.max(T-Date.now(),0),fe=setTimeout(k,ee);S.addEventListener(()=>{clearTimeout(fe),U(Xn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,k);try{const fe=yield ee.client.fetch(T);return yield ee.storage.deleteThrottleMetadata(),fe}catch(fe){if(!function Km(S){if(!(S instanceof de.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(fe))throw fe;const Pe={throttleEndTimeMillis:Date.now()+(0,de.$s)(U),backoffCount:U+1};return yield ee.storage.setThrottleMetadata(Pe),ee.attemptFetch(T,Pe)}})()}}class bl{constructor(T,k,U,ee,fe){this.app=T,this._client=k,this._storageCache=U,this._storage=ee,this._logger=fe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function wl(S,T){var k;const U=S.target.error||void 0;return Xn.create(T,{originalErrorMessage:U&&(null===(k=U)||void 0===k?void 0:k.message)})}const Da="app_namespace_store";class vc{constructor(T,k,U,ee=function Jm(){return new Promise((S,T)=>{var k;try{const U=indexedDB.open("firebase_remote_config",1);U.onerror=ee=>{T(wl(ee,"storage-open"))},U.onsuccess=ee=>{S(ee.target.result)},U.onupgradeneeded=ee=>{0===ee.oldVersion&&ee.target.result.createObjectStore(Da,{keyPath:"compositeKey"})}}catch(U){T(Xn.create("storage-open",{originalErrorMessage:null===(k=U)||void 0===k?void 0:k.message}))}})}()){this.appId=T,this.appName=k,this.namespace=U,this.openDbPromise=ee}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var k=this;return(0,P.Z)(function*(){const U=yield k.openDbPromise;return new Promise((ee,fe)=>{var Pe;const _t=U.transaction([Da],"readonly").objectStore(Da),kt=k.createCompositeKey(T);try{const Ht=_t.get(kt);Ht.onerror=Ct=>{fe(wl(Ct,"storage-get"))},Ht.onsuccess=Ct=>{const ii=Ct.target.result;ee(ii?ii.value:void 0)}}catch(Ht){fe(Xn.create("storage-get",{originalErrorMessage:null===(Pe=Ht)||void 0===Pe?void 0:Pe.message}))}})})()}set(T,k){var U=this;return(0,P.Z)(function*(){const ee=yield U.openDbPromise;return new Promise((fe,Pe)=>{var We;const kt=ee.transaction([Da],"readwrite").objectStore(Da),Ht=U.createCompositeKey(T);try{const Ct=kt.put({compositeKey:Ht,value:k});Ct.onerror=ii=>{Pe(wl(ii,"storage-set"))},Ct.onsuccess=()=>{fe()}}catch(Ct){Pe(Xn.create("storage-set",{originalErrorMessage:null===(We=Ct)||void 0===We?void 0:We.message}))}})})()}delete(T){var k=this;return(0,P.Z)(function*(){const U=yield k.openDbPromise;return new Promise((ee,fe)=>{var Pe;const _t=U.transaction([Da],"readwrite").objectStore(Da),kt=k.createCompositeKey(T);try{const Ht=_t.delete(kt);Ht.onerror=Ct=>{fe(wl(Ct,"storage-delete"))},Ht.onsuccess=()=>{ee()}}catch(Ht){fe(Xn.create("storage-delete",{originalErrorMessage:null===(Pe=Ht)||void 0===Pe?void 0:Pe.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ia{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,P.Z)(function*(){const k=T.storage.getLastFetchStatus(),U=T.storage.getLastSuccessfulFetchTimestampMillis(),ee=T.storage.getActiveConfig(),fe=yield k;fe&&(T.lastFetchStatus=fe);const Pe=yield U;Pe&&(T.lastSuccessfulFetchTimestampMillis=Pe);const We=yield ee;We&&(T.activeConfig=We)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Fy(){return bc.apply(this,arguments)}function bc(){return(bc=(0,P.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Ld(){(0,ce._registerComponent)(new ye.wA("remote-config",function S(T,{instanceIdentifier:k}){const U=T.getProvider("app").getImmediate(),ee=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xn.create("registration-window");if(!(0,de.hl)())throw Xn.create("indexed-db-unavailable");const{projectId:fe,apiKey:Pe,appId:We}=U.options;if(!fe)throw Xn.create("registration-project-id");if(!Pe)throw Xn.create("registration-api-key");if(!We)throw Xn.create("registration-app-id");const _t=new vc(We,U.name,k=k||"firebase"),kt=new Ia(_t),Ht=new oe.Yd(Rs);Ht.logLevel=oe.in.ERROR;const Ct=new zo(ee,ce.SDK_VERSION,k,fe,Pe,We),ii=new Ns(Ct,_t),Ci=new yc(ii,_t,kt,Ht),vo=new bl(U,Ci,kt,_t,Ht);return function _n(S){const T=(0,de.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(vo),vo},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Rs,"0.3.11"),(0,ce.registerVersion)(Rs,"0.3.11","esm2017")}();const Hi="/firebase-messaging-sw.js",Ta="/firebase-cloud-messaging-push-scope",co="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",wc="google.c.a.c_id",Iu="google.c.a.c_l",Ud="google.c.a.ts",Aa="google.c.a.e";var Ar=(()=>{return(S=Ar||(Ar={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",Ar;var S})();function Fs(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yr(S){const k=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),ee=new Uint8Array(U.length);for(let fe=0;fe<U.length;++fe)ee[fe]=U.charCodeAt(fe);return ee}const Wo="fcm_token_details_db",Ma="fcm_token_object_Store";function eg(S){return Su.apply(this,arguments)}function Su(){return Su=(0,P.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(fe=>fe.name).includes(Wo))return null;let T=null;return(yield(0,me.X3)(Wo,5,{upgrade:(U=(0,P.Z)(function*(ee,fe,Pe,We){var _t;if(fe<2||!ee.objectStoreNames.contains(Ma))return;const kt=We.objectStore(Ma),Ht=yield kt.index("fcmSenderId").get(S);if(yield kt.clear(),Ht)if(2===fe){const Ct=Ht;if(!Ct.auth||!Ct.p256dh||!Ct.endpoint)return;T={token:Ct.fcmToken,createTime:null!==(_t=Ct.createTime)&&void 0!==_t?_t:Date.now(),subscriptionOptions:{auth:Ct.auth,p256dh:Ct.p256dh,endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:"string"==typeof Ct.vapidKey?Ct.vapidKey:Fs(Ct.vapidKey)}}}else if(3===fe){const Ct=Ht;T={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Fs(Ct.auth),p256dh:Fs(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Fs(Ct.vapidKey)}}}else if(4===fe){const Ct=Ht;T={token:Ct.fcmToken,createTime:Ct.createTime,subscriptionOptions:{auth:Fs(Ct.auth),p256dh:Fs(Ct.p256dh),endpoint:Ct.endpoint,swScope:Ct.swScope,vapidKey:Fs(Ct.vapidKey)}}}}),function(fe,Pe,We,_t){return U.apply(this,arguments)})})).close(),yield(0,me.Lj)(Wo),yield(0,me.Lj)("fcm_vapid_details_db"),yield(0,me.Lj)("undefined"),Gn(T)?T:null;var U}),Su.apply(this,arguments)}function Gn(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const qr="firebase-messaging-store";let ji=null;function Cc(){return ji||(ji=(0,me.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(qr)}})),ji}function Zo(S){return fs.apply(this,arguments)}function fs(){return(fs=(0,P.Z)(function*(S){const T=xr(S),U=yield(yield Cc()).transaction(qr).objectStore(qr).get(T);if(U)return U;{const ee=yield eg(S.appConfig.senderId);if(ee)return yield dn(S,ee),ee}})).apply(this,arguments)}function dn(S,T){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,P.Z)(function*(S,T){const k=xr(S),ee=(yield Cc()).transaction(qr,"readwrite");return yield ee.objectStore(qr).put(T,k),yield ee.done,T})).apply(this,arguments)}function uo(S){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,P.Z)(function*(S){const T=xr(S),U=(yield Cc()).transaction(qr,"readwrite");yield U.objectStore(qr).delete(T),yield U.done})).apply(this,arguments)}function xr({appConfig:S}){return S.appId}const Jn=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nt(S,T){return El.apply(this,arguments)}function El(){return(El=(0,P.Z)(function*(S,T){var k;const U=yield Sl(S),ee=Oe(T),fe={method:"POST",headers:U,body:JSON.stringify(ee)};let Pe;try{Pe=yield(yield fetch(Yo(S.appConfig),fe)).json()}catch(We){throw Jn.create("token-subscribe-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Pe.error)throw Jn.create("token-subscribe-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Jn.create("token-subscribe-no-token");return Pe.token})).apply(this,arguments)}function tg(S,T){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,P.Z)(function*(S,T){var k;const U=yield Sl(S),ee=Oe(T.subscriptionOptions),fe={method:"PATCH",headers:U,body:JSON.stringify(ee)};let Pe;try{Pe=yield(yield fetch(`${Yo(S.appConfig)}/${T.token}`,fe)).json()}catch(We){throw Jn.create("token-update-failed",{errorInfo:null===(k=We)||void 0===k?void 0:k.toString()})}if(Pe.error)throw Jn.create("token-update-failed",{errorInfo:Pe.error.message});if(!Pe.token)throw Jn.create("token-update-no-token");return Pe.token})).apply(this,arguments)}function jd(S,T){return Il.apply(this,arguments)}function Il(){return(Il=(0,P.Z)(function*(S,T){var k;const ee={method:"DELETE",headers:yield Sl(S)};try{const Pe=yield(yield fetch(`${Yo(S.appConfig)}/${T}`,ee)).json();if(Pe.error)throw Jn.create("token-unsubscribe-failed",{errorInfo:Pe.error.message})}catch(fe){throw Jn.create("token-unsubscribe-failed",{errorInfo:null===(k=fe)||void 0===k?void 0:k.toString()})}})).apply(this,arguments)}function Yo({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Sl(S){return xa.apply(this,arguments)}function xa(){return(xa=(0,P.Z)(function*({appConfig:S,installations:T}){const k=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Oe({p256dh:S,auth:T,endpoint:k,vapidKey:U}){const ee={web:{endpoint:k,auth:T,p256dh:S}};return U!==co&&(ee.web.applicationPubKey=U),ee}const Qt=6048e5;function Tf(S){return ka.apply(this,arguments)}function ka(){return(ka=(0,P.Z)(function*(S){const T=yield Af(S.swRegistration,S.vapidKey),k={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:Fs(T.getKey("auth")),p256dh:Fs(T.getKey("p256dh"))},U=yield Zo(S.firebaseDependencies);if(U){if(ng(U.subscriptionOptions,k))return Date.now()>=U.createTime+Qt?Dc(S,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield jd(S.firebaseDependencies,U.token)}catch(ee){console.warn(ee)}return Ic(S.firebaseDependencies,k)}return Ic(S.firebaseDependencies,k)})).apply(this,arguments)}function mi(S){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,P.Z)(function*(S){const T=yield Zo(S.firebaseDependencies);T&&(yield jd(S.firebaseDependencies,T.token),yield uo(S.firebaseDependencies));const k=yield S.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Dc(S,T){return ar.apply(this,arguments)}function ar(){return(ar=(0,P.Z)(function*(S,T){try{const k=yield tg(S.firebaseDependencies,T),U=Object.assign(Object.assign({},T),{token:k,createTime:Date.now()});return yield dn(S.firebaseDependencies,U),k}catch(k){throw yield mi(S),k}})).apply(this,arguments)}function Ic(S,T){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,P.Z)(function*(S,T){const U={token:yield Nt(S,T),createTime:Date.now(),subscriptionOptions:T};return yield dn(S,U),U.token})).apply(this,arguments)}function Af(S,T){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,P.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yr(T)})})).apply(this,arguments)}function ng(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function Ls(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function gi(S,T){if(!T.notification)return;S.notification={};const k=T.notification.title;k&&(S.notification.title=k);const U=T.notification.body;U&&(S.notification.body=U);const ee=T.notification.image;ee&&(S.notification.image=ee)}(T,S),function ps(S,T){!T.data||(S.data=T.data)}(T,S),function Al(S,T){var k,U,ee,fe,Pe;if(!(T.fcmOptions||null!==(k=T.notification)&&void 0!==k&&k.click_action))return;S.fcmOptions={};const We=null!==(ee=null===(U=T.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==ee?ee:null===(fe=T.notification)||void 0===fe?void 0:fe.click_action;We&&(S.fcmOptions.link=We);const _t=null===(Pe=T.fcmOptions)||void 0===Pe?void 0:Pe.analytics_label;_t&&(S.fcmOptions.analyticsLabel=_t)}(T,S),T}function Ml(S){return"object"==typeof S&&!!S&&wc in S}function Vs(S,T){const k=[];for(let U=0;U<S.length;U++)k.push(S.charAt(U)),U<T.length&&k.push(T.charAt(U));return k.join("")}function Au(S){return Jn.create("missing-app-config-values",{valueName:S})}Vs("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Vs("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $d{constructor(T,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ee=function Gd(S){if(!S||!S.options)throw Au("App Configuration Object");if(!S.name)throw Au("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:k}=S;for(const U of T)if(!k[U])throw Au(U);return{appName:S.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:ee,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Mf(S){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,P.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register(Hi,{scope:Ta}),S.swRegistration.update().catch(()=>{})}catch(k){throw Jn.create("failed-service-worker-registration",{browserErrorMessage:null===(T=k)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function Mu(S,T){return xl.apply(this,arguments)}function xl(){return(xl=(0,P.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield Mf(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw Jn.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function xu(S,T){return kl.apply(this,arguments)}function kl(){return(kl=(0,P.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=co)})).apply(this,arguments)}function Na(){return(Na=(0,P.Z)(function*(S,T){if(!navigator)throw Jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Jn.create("permission-blocked");return yield xu(S,T?.vapidKey),yield Mu(S,T?.serviceWorkerRegistration),Tf(S)})).apply(this,arguments)}function xf(S,T,k){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,P.Z)(function*(S,T,k){const U=kf(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[wc],message_name:k[Iu],message_time:k[Ud],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function kf(S){switch(S){case Ar.NOTIFICATION_CLICKED:return"notification_open";case Ar.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ho(){return(ho=(0,P.Z)(function*(S,T){const k=T.data;if(!k.isFirebaseMessaging)return;S.onMessageHandler&&k.messageType===Ar.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(Ls(k)):S.onMessageHandler.next(Ls(k)));const U=k.data;Ml(U)&&"1"===U[Aa]&&(yield xf(S,k.messageType,U))})).apply(this,arguments)}const fo="@firebase/messaging",Bn=S=>{const T=new $d(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function qd(S,T){return ho.apply(this,arguments)}(T,k)),T},Bs=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:U=>function zd(S,T){return Na.apply(this,arguments)}(T,U)}};function ku(){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,P.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Un(){(0,ce._registerComponent)(new ye.wA("messaging",Bn,"PUBLIC")),(0,ce._registerComponent)(new ye.wA("messaging-internal",Bs,"PRIVATE")),(0,ce.registerVersion)(fo,"0.9.16"),(0,ce.registerVersion)(fo,"0.9.16","esm2017")}();const Va="analytics",Qd="firebase_id",Fu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xd="https://www.googletagmanager.com/gtag/js",ei=new oe.Yd("@firebase/analytics");function Sc(S){return Promise.all(S.map(T=>T.catch(k=>k)))}function Tc(S,T){const k=document.createElement("script");k.src=`${Xd}?l=${S}&id=${T}`,k.async=!0,document.head.appendChild(k)}function Rf(S,T,k,U,ee,fe){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,P.Z)(function*(S,T,k,U,ee,fe){const Pe=U[ee];try{if(Pe)yield T[Pe];else{const _t=(yield Sc(k)).find(kt=>kt.measurementId===ee);_t&&(yield T[_t.appId])}}catch(We){ei.error(We)}S("config",ee,fe)})).apply(this,arguments)}function Us(S,T,k,U,ee){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,P.Z)(function*(S,T,k,U,ee){try{let fe=[];if(ee&&ee.send_to){let Pe=ee.send_to;Array.isArray(Pe)||(Pe=[Pe]);const We=yield Sc(k);for(const _t of Pe){const kt=We.find(Ct=>Ct.measurementId===_t),Ht=kt&&T[kt.appId];if(!Ht){fe=[];break}fe.push(Ht)}}0===fe.length&&(fe=Object.values(T)),yield Promise.all(fe),S("event",U,ee||{})}catch(fe){ei.error(fe)}})).apply(this,arguments)}function Jd(){const S=window.document.getElementsByTagName("script");for(const T of Object.values(S))if(T.src&&T.src.includes(Xd))return T;return null}const _i=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Fl=new class Vu{constructor(T={},k=1e3){this.throttleMetadata=T,this.intervalMillis=k}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,k){this.throttleMetadata[T]=k}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function Ba(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function Nf(S){return ti.apply(this,arguments)}function ti(){return(ti=(0,P.Z)(function*(S){var T;const{appId:k,apiKey:U}=S,ee={method:"GET",headers:Ba(U)},fe=Fu.replace("{app-id}",k),Pe=yield fetch(fe,ee);if(200!==Pe.status&&304!==Pe.status){let We="";try{const _t=yield Pe.json();null!==(T=_t.error)&&void 0!==T&&T.message&&(We=_t.error.message)}catch{}throw _i.create("config-fetch-failed",{httpStatus:Pe.status,responseMessage:We})}return Pe.json()})).apply(this,arguments)}function eh(S){return vr.apply(this,arguments)}function vr(){return(vr=(0,P.Z)(function*(S,T=Fl,k){const{appId:U,apiKey:ee,measurementId:fe}=S.options;if(!U)throw _i.create("no-app-id");if(!ee){if(fe)return{measurementId:fe,appId:U};throw _i.create("no-api-key")}const Pe=T.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},We=new Ll;return setTimeout((0,P.Z)(function*(){We.abort()}),void 0!==k?k:6e4),th({appId:U,apiKey:ee,measurementId:fe},Pe,We,T)})).apply(this,arguments)}function th(S,T,k){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,P.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:k},U,ee=Fl){var fe,Pe;const{appId:We,measurementId:_t}=S;try{yield Bu(U,T)}catch(kt){if(_t)return ei.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${null===(fe=kt)||void 0===fe?void 0:fe.message}]`),{appId:We,measurementId:_t};throw kt}try{const kt=yield Nf(S);return ee.deleteThrottleMetadata(We),kt}catch(kt){const Ht=kt;if(!Mc(Ht)){if(ee.deleteThrottleMetadata(We),_t)return ei.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${_t} provided in the "measurementId" field in the local Firebase config. [${Ht?.message}]`),{appId:We,measurementId:_t};throw kt}const Ct=503===Number(null===(Pe=Ht?.customData)||void 0===Pe?void 0:Pe.httpStatus)?(0,de.$s)(k,ee.intervalMillis,30):(0,de.$s)(k,ee.intervalMillis),ii={throttleEndTimeMillis:Date.now()+Ct,backoffCount:k+1};return ee.setThrottleMetadata(We,ii),ei.debug(`Calling attemptFetch again in ${Ct} millis`),th(S,ii,U,ee)}})).apply(this,arguments)}function Bu(S,T){return new Promise((k,U)=>{const ee=Math.max(T-Date.now(),0),fe=setTimeout(k,ee);S.addEventListener(()=>{clearTimeout(fe),U(_i.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Mc(S){if(!(S instanceof de.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class Ll{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Ko,kc;function Ua(){return(Ua=(0,P.Z)(function*(S,T,k,U,ee){if(ee&&ee.global)S("event",k,U);else{const fe=yield T;S("event",k,Object.assign(Object.assign({},U),{send_to:fe}))}})).apply(this,arguments)}function Ga(S){kc=S}function Uu(S){Ko=S}function mo(){return $a.apply(this,arguments)}function $a(){return($a=(0,P.Z)(function*(){var S;if(!(0,de.hl)())return ei.warn(_i.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(T){return ei.warn(_i.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function za(){return(za=(0,P.Z)(function*(S,T,k,U,ee,fe,Pe){var We;const _t=eh(S);_t.then(Ci=>{k[Ci.measurementId]=Ci.appId,S.options.measurementId&&Ci.measurementId!==S.options.measurementId&&ei.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ci.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ci=>ei.error(Ci)),T.push(_t);const kt=mo().then(Ci=>{if(Ci)return U.getId()}),[Ht,Ct]=yield Promise.all([_t,kt]);Jd()||Tc(fe,Ht.measurementId),kc&&(ee("consent","default",kc),Ga(void 0)),ee("js",new Date);const ii=null!==(We=Pe?.config)&&void 0!==We?We:{};return ii.origin="firebase",ii.update=!0,null!=Ct&&(ii[Qd]=Ct),ee("config",Ht.measurementId,ii),Ko&&(ee("set",Ko),Uu(void 0)),Ht.measurementId})).apply(this,arguments)}class Rc{constructor(T){this.app=T}_delete(){return delete Qi[this.app.options.appId],Promise.resolve()}}let Qi={},qa=[];const Xo={};let Za,gs,Wa="dataLayer",ih=!1;function Vf(S,T,k){!function ig(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map((U,ee)=>`(${ee+1}) ${U}`).join(" "),k=_i.create("invalid-analytics-context",{errorInfo:T});ei.warn(k.message)}}();const U=S.options.appId;if(!U)throw _i.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw _i.create("no-api-key");ei.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Qi[U])throw _i.create("already-exists",{id:U});if(!ih){!function Ac(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(Wa);const{wrappedGtag:fe,gtagCore:Pe}=function Nl(S,T,k,U,ee){let fe=function(...Pe){window[U].push(arguments)};return window[ee]&&"function"==typeof window[ee]&&(fe=window[ee]),window[ee]=function Lu(S,T,k,U){function fe(){return(fe=(0,P.Z)(function*(Pe,We,_t){try{"event"===Pe?yield Us(S,T,k,We,_t):"config"===Pe?yield Rf(S,T,k,U,We,_t):"consent"===Pe?S("consent","update",_t):S("set",We)}catch(kt){ei.error(kt)}})).apply(this,arguments)}return function ee(Pe,We,_t){return fe.apply(this,arguments)}}(fe,S,T,k),{gtagCore:fe,wrappedGtag:window[ee]}}(Qi,qa,Xo,Wa,"gtag");gs=fe,Za=Pe,ih=!0}return Qi[U]=function Lf(S,T,k,U,ee,fe,Pe){return za.apply(this,arguments)}(S,qa,Xo,T,Za,Wa,k),new Rc(S)}function Vy(){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,P.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const ju="@firebase/analytics";!function Xi(){(0,ce._registerComponent)(new ye.wA(Va,(T,{options:k})=>Vf(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new ye.wA("analytics-internal",function S(T){try{const k=T.getProvider(Va).getImmediate();return{logEvent:(U,ee,fe)=>function rn(S,T,k,U){S=(0,de.m9)(S),function Vl(S,T,k,U,ee){return Ua.apply(this,arguments)}(gs,Qi[S.app.options.appId],T,k,U).catch(ee=>ei.error(ee))}(k,U,ee,fe)}}catch(k){throw _i.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(ju,"0.8.0"),(0,ce.registerVersion)(ju,"0.8.0","esm2017")}();var js=V(4408),Jo=V(7565);const _o=new class lr extends Jo.v{}(class Ul extends js.o{constructor(T,k){super(T,k),this.scheduler=T,this.work=k}schedule(T,k=0){return k>0?super.schedule(T,k):(this.delay=k,this.state=T,this.scheduler.flush(this),this)}execute(T,k){return k>0||this.closed?super.execute(T,k):this._execute(T,k)}requestAsyncId(T,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(T,k,U):T.flush(this)}});var ct=V(4986),Ya=V(8505),Gu=V(5363),Oc=V(9468);const cr=new o.GfV("7.4.1"),Ka="__angularfire_symbol__analyticsIsSupportedValue",Zr="__angularfire_symbol__analyticsIsSupported",Gs="__angularfire_symbol__remoteConfigIsSupportedValue",Ji="__angularfire_symbol__remoteConfigIsSupported",$u="__angularfire_symbol__messagingIsSupportedValue",Qa="__angularfire_symbol__messagingIsSupported";function Hl(S,T,k){if(T){if(1===T.length)return T[0];const fe=T.filter(Pe=>Pe.app===k);if(1===fe.length)return fe[0]}return k.container.getProvider(S).getImmediate({optional:!0})}globalThis[Zr]||(globalThis[Zr]=Vy().then(S=>globalThis[Ka]=S).catch(()=>globalThis[Ka]=!1)),globalThis[Qa]||(globalThis[Qa]=ku().then(S=>globalThis[$u]=S).catch(()=>globalThis[$u]=!1)),globalThis[Ji]||(globalThis[Ji]=Fy().then(S=>globalThis[Gs]=S).catch(()=>globalThis[Gs]=!1));const Yr=(S,T)=>{const k=T?[T]:(0,H.C6)(),U=[];return k.forEach(ee=>{ee.container.getProvider(S).instances.forEach(Pe=>{U.includes(Pe)||U.push(Pe)})}),U};function _s(){}class Hn{constructor(T,k=_o){this.zone=T,this.delegate=k}now(){return this.delegate.now()}schedule(T,k,U){const ee=this.zone;return this.delegate.schedule(function(Pe){ee.runGuarded(()=>{T.apply(this,[Pe])})},k,U)}}class ys{constructor(T){this.zone=T,this.task=null}call(T,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",_s,{},_s,_s)),k.pipe((0,Ya.b)({next:U,complete:U,error:U})).subscribe(T).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ja=(()=>{class S{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new Hn(Zone.current)),this.insideAngular=k.run(()=>new Hn(Zone.current,ct.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(k){return new(k||S)(o.LFG(o.R0b))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Et(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Nc(S){return S.pipe((0,Gu.Q)(Et().outsideAngular))}function $s(S){return Et(),function oh(S){return function(k){return(k=k.lift(new ys(S.ngZone))).pipe((0,Oc.R)(S.outsideAngular),(0,Gu.Q)(S.insideAngular))}}(Et())(S)}},8554:(ht,xe,V)=>{V.d(xe,{$:()=>Yo,A:()=>Z,B:()=>Fe,G:()=>wa,H:()=>gr,J:()=>Ns,L:()=>gn,M:()=>bc,N:()=>Bd,P:()=>ct,Q:()=>wc,R:()=>rg,T:()=>Iu,U:()=>co,V:()=>Ar,W:()=>Fs,X:()=>eg,Y:()=>Cl,Z:()=>Nt,_:()=>tg,a:()=>po,a0:()=>Tf,a1:()=>mi,a2:()=>Dc,a3:()=>Ic,a4:()=>Af,a5:()=>ng,a6:()=>gi,a7:()=>ps,a8:()=>Ml,a9:()=>Vs,aA:()=>Ci,aB:()=>_t,aC:()=>Nc,aD:()=>yo,aE:()=>wt,aI:()=>Ba,aL:()=>Aa,aa:()=>Mf,ab:()=>Mu,ac:()=>xu,af:()=>xf,ag:()=>kf,ah:()=>qd,ak:()=>qr,al:()=>Ou,an:()=>Xd,ao:()=>Ol,ap:()=>Jt,aq:()=>we,ar:()=>at,as:()=>bt,at:()=>it,au:()=>tl,av:()=>bo,aw:()=>Ne,ax:()=>le,ay:()=>ne,az:()=>mn,b:()=>_i,c:()=>$u,d:()=>sg,e:()=>zu,f:()=>oh,g:()=>U,h:()=>S,i:()=>$a,j:()=>Pe,k:()=>Wf,l:()=>rh,m:()=>Eo,o:()=>me,r:()=>js,s:()=>ci,u:()=>_o});var o=V(5861),H=V(2090),P=V(9681),ce=V(655),de=V(1877),ye=V(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ie=function $e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},lt=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new de.Yd("@firebase/auth");function nt(w,...g){_e.logLevel<=de.in.ERROR&&_e.error(`Auth (${P.SDK_VERSION}): ${w}`,...g)}function it(w,...g){throw Ze(w,...g)}function Ne(w,...g){return Ze(w,...g)}function Re(w,g,y){const E=Object.assign(Object.assign({},Ie()),{[g]:y});return new H.LL("auth","Firebase",E).create(g,{appName:w.name})}function Se(w,g,y){if(!(g instanceof y))throw y.name!==g.constructor.name&&it(w,"argument-error"),Re(w,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ze(w,...g){if("string"!=typeof w){const y=g[0],E=[...g.slice(1)];return E[0]&&(E[0].appName=w.name),w._errorFactory.create(y,...E)}return lt.create(w,...g)}function le(w,g,...y){if(!w)throw Ze(g,...y)}function he(w){const g="INTERNAL ASSERTION FAILED: "+w;throw nt(g),new Error(g)}function we(w,g){w||he(g)}const J=new Map;function ne(w){we(w instanceof Function,"Expected a class definition");let g=J.get(w);return g?(we(g instanceof w,"Instance stored in cache mismatched with class"),g):(g=new w,J.set(w,g),g)}function Ue(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function He(){return"http:"===vt()||"https:"===vt()}function vt(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ke{constructor(g,y){this.shortDelay=g,this.longDelay=y,we(y>g,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function tn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(w,g){we(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return g?`${y}${g.startsWith("/")?g.slice(1):g}`:y}class Yn{static initialize(g,y,E){this.fetchImpl=g,y&&(this.headersImpl=y),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void he("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void he("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void he("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const cn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},nn=new Ke(3e4,6e4);function Yt(w,g){return w.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:w.tenantId}):g}function Gt(w,g,y,E){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,o.Z)(function*(w,g,y,E,x={}){return Vo(w,x,(0,o.Z)(function*(){let L={},se={};E&&("GET"===g?se=E:L={body:JSON.stringify(E)});const ke=(0,H.xO)(Object.assign({key:w.config.apiKey},se)).slice(1),Xe=yield w._getAdditionalHeaders();return Xe["Content-Type"]="application/json",w.languageCode&&(Xe["X-Firebase-Locale"]=w.languageCode),Yn.fetch()(us(w,w.config.apiHost,y,ke),Object.assign({method:g,headers:Xe,referrerPolicy:"no-referrer"},L))}))})).apply(this,arguments)}function Vo(w,g,y){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(w,g,y){w._canInitEmulator=!1;const E=Object.assign(Object.assign({},cn),g);try{const x=new pr(w),L=yield Promise.race([y(),x.promise]);x.clearNetworkTimeout();const se=yield L.json();if("needConfirmation"in se)throw Kn(w,"account-exists-with-different-credential",se);if(L.ok&&!("errorMessage"in se))return se;{const ke=L.ok?se.errorMessage:se.error.message,[Xe,ft]=ke.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xe)throw Kn(w,"credential-already-in-use",se);if("EMAIL_EXISTS"===Xe)throw Kn(w,"email-already-in-use",se);if("USER_DISABLED"===Xe)throw Kn(w,"user-disabled",se);const $t=E[Xe]||Xe.toLowerCase().replace(/[_\s]+/g,"-");if(ft)throw Re(w,$t,ft);it(w,$t)}}catch(x){if(x instanceof H.ZR)throw x;it(w,"network-request-failed")}})).apply(this,arguments)}function Ln(w,g,y,E){return xs.apply(this,arguments)}function xs(){return(xs=(0,o.Z)(function*(w,g,y,E,x={}){const L=yield Gt(w,g,y,E,x);return"mfaPendingCredential"in L&&it(w,"multi-factor-auth-required",{_serverResponse:L}),L})).apply(this,arguments)}function us(w,g,y,E){const x=`${g}${y}?${E}`;return w.config.emulator?Dn(w.config,x):`${w.config.apiScheme}://${x}`}class pr{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((y,E)=>{this.timer=setTimeout(()=>E(Ne(this.auth,"network-request-failed")),nn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(w,g,y){const E={appName:w.name};y.email&&(E.email=y.email),y.phoneNumber&&(E.phoneNumber=y.phoneNumber);const x=Ne(w,g,E);return x.customData._tokenResponse=y,x}function ds(){return(ds=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function rt(w,g){return xi.apply(this,arguments)}function xi(){return(xi=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Qn(w,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function ki(w){if(w)try{const g=new Date(Number(w));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function kn(){return(kn=(0,o.Z)(function*(w,g=!1){const y=(0,H.m9)(w),E=yield y.getIdToken(g),x=mt(E);le(x&&x.exp&&x.auth_time&&x.iat,y.auth,"internal-error");const L="object"==typeof x.firebase?x.firebase:void 0,se=L?.sign_in_provider;return{claims:x,token:E,authTime:ki(In(x.auth_time)),issuedAtTime:ki(In(x.iat)),expirationTime:ki(In(x.exp)),signInProvider:se||null,signInSecondFactor:L?.sign_in_second_factor||null}})).apply(this,arguments)}function In(w){return 1e3*Number(w)}function mt(w){var g;const[y,E,x]=w.split(".");if(void 0===y||void 0===E||void 0===x)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const L=(0,H.tV)(E);return L?JSON.parse(L):(nt("Failed to decode base64 JWT payload"),null)}catch(L){return nt("Caught error parsing JWT payload as JSON",null===(g=L)||void 0===g?void 0:g.toString()),null}}function Ft(w,g){return or.apply(this,arguments)}function or(){return(or=(0,o.Z)(function*(w,g,y=!1){if(y)return g;try{return yield g}catch(E){throw E instanceof H.ZR&&Ri(E)&&w.auth.currentUser===w&&(yield w.auth.signOut()),E}})).apply(this,arguments)}function Ri({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Ui{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var y;if(g){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const x=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(g=!1){var y=this;if(!this.isRunning)return;const E=this.getInterval(g);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),E)}iteration(){var g=this;return(0,o.Z)(function*(){var y;try{yield g.user.getIdToken(!0)}catch(E){return void("auth/network-request-failed"===(null===(y=E)||void 0===y?void 0:y.code)&&g.schedule(!0))}g.schedule()})()}}class xt{constructor(g,y){this.createdAt=g,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=ki(this.lastLoginAt),this.creationTime=ki(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ki(w){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,o.Z)(function*(w){var g;const y=w.auth,E=yield w.getIdToken(),x=yield Ft(w,Qn(y,{idToken:E}));le(x?.users.length,y,"internal-error");const L=x.users[0];w._notifyReloadListener(L);const se=null!==(g=L.providerUserInfo)&&void 0!==g&&g.length?$(L.providerUserInfo):[],ke=X(w.providerData,se),$t=!!w.isAnonymous&&!(w.email&&L.passwordHash||ke?.length),Nn={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:ke,metadata:new xt(L.createdAt,L.lastLoginAt),isAnonymous:$t};Object.assign(w,Nn)})).apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(w){const g=(0,H.m9)(w);yield Ki(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function X(w,g){return[...w.filter(E=>!g.some(x=>x.providerId===E.providerId)),...g]}function $(w){return w.map(g=>{var{providerId:y}=g,E=(0,ce._T)(g,["providerId"]);return{providerId:y,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Y(){return(Y=(0,o.Z)(function*(w,g){const y=yield Vo(w,{},(0,o.Z)(function*(){const E=(0,H.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:x,apiKey:L}=w.config,se=us(w,x,"/v1/token",`key=${L}`),ke=yield w._getAdditionalHeaders();return ke["Content-Type"]="application/x-www-form-urlencoded",Yn.fetch()(se,{method:"POST",headers:ke,body:E})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class K{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){le(g.idToken,"internal-error"),le(typeof g.idToken<"u","internal-error"),le(typeof g.refreshToken<"u","internal-error");const y="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function gt(w){const g=mt(w);return le(g,"internal-error"),le(typeof g.exp<"u","internal-error"),le(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,y)}getToken(g,y=!1){var E=this;return(0,o.Z)(function*(){return le(!E.accessToken||E.refreshToken,g,"user-token-expired"),y||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(g,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,y){var E=this;return(0,o.Z)(function*(){const{accessToken:x,refreshToken:L,expiresIn:se}=yield function j(w,g){return Y.apply(this,arguments)}(g,y);E.updateTokensAndExpiration(x,L,Number(se))})()}updateTokensAndExpiration(g,y,E){this.refreshToken=y||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(g,y){const{refreshToken:E,accessToken:x,expirationTime:L}=y,se=new K;return E&&(le("string"==typeof E,"internal-error",{appName:g}),se.refreshToken=E),x&&(le("string"==typeof x,"internal-error",{appName:g}),se.accessToken=x),L&&(le("number"==typeof L,"internal-error",{appName:g}),se.expirationTime=L),se}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new K,this.toJSON())}_performRefresh(){return he("not implemented")}}function Ae(w,g){le("string"==typeof w||typeof w>"u","internal-error",{appName:g})}class qe{constructor(g){var{uid:y,auth:E,stsTokenManager:x}=g,L=(0,ce._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=E,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.emailVerified=L.emailVerified||!1,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.tenantId=L.tenantId||null,this.providerData=L.providerData?[...L.providerData]:[],this.metadata=new xt(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(g){var y=this;return(0,o.Z)(function*(){const E=yield Ft(y,y.stsTokenManager.getToken(y.auth,g));return le(E,y.auth,"internal-error"),y.accessToken!==E&&(y.accessToken=E,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),E})()}getIdTokenResult(g){return function xn(w){return kn.apply(this,arguments)}(this,g)}reload(){return function mr(w){return Kt.apply(this,arguments)}(this)}_assign(g){this!==g&&(le(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(y=>Object.assign({},y)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new qe(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,y=!1){var E=this;return(0,o.Z)(function*(){let x=!1;g.idToken&&g.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(g),x=!0),y&&(yield Ki(E)),yield E.auth._persistUserIfCurrent(E),x&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var g=this;return(0,o.Z)(function*(){const y=yield g.getIdToken();return yield Ft(g,function $r(w,g){return ds.apply(this,arguments)}(g.auth,{idToken:y})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,y){var E,x,L,se,ke,Xe,ft,$t;const Nn=null!==(E=y.displayName)&&void 0!==E?E:void 0,qs=null!==(x=y.email)&&void 0!==x?x:void 0,Uc=null!==(L=y.phoneNumber)&&void 0!==L?L:void 0,Zf=null!==(se=y.photoURL)&&void 0!==se?se:void 0,cg=null!==(ke=y.tenantId)&&void 0!==ke?ke:void 0,uh=null!==(Xe=y._redirectEventId)&&void 0!==Xe?Xe:void 0,Hc=null!==(ft=y.createdAt)&&void 0!==ft?ft:void 0,dh=null!==($t=y.lastLoginAt)&&void 0!==$t?$t:void 0,{uid:Yf,emailVerified:Kf,isAnonymous:Qf,providerData:ug,stsTokenManager:dg}=y;le(Yf&&dg,g,"internal-error");const Zu=K.fromJSON(this.name,dg);le("string"==typeof Yf,g,"internal-error"),Ae(Nn,g.name),Ae(qs,g.name),le("boolean"==typeof Kf,g,"internal-error"),le("boolean"==typeof Qf,g,"internal-error"),Ae(Uc,g.name),Ae(Zf,g.name),Ae(cg,g.name),Ae(uh,g.name),Ae(Hc,g.name),Ae(dh,g.name);const Do=new qe({uid:Yf,auth:g,email:qs,emailVerified:Kf,displayName:Nn,isAnonymous:Qf,photoURL:Zf,phoneNumber:Uc,tenantId:cg,stsTokenManager:Zu,createdAt:Hc,lastLoginAt:dh});return ug&&Array.isArray(ug)&&(Do.providerData=ug.map(Xf=>Object.assign({},Xf))),uh&&(Do._redirectEventId=uh),Do}static _fromIdTokenResponse(g,y,E=!1){return(0,o.Z)(function*(){const x=new K;x.updateFromServerResponse(y);const L=new qe({uid:y.localId,auth:g,stsTokenManager:x,isAnonymous:E});return yield Ki(L),L})()}}const gn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,E){var x=this;return(0,o.Z)(function*(){x.storage[y]=E})()}_get(y){var E=this;return(0,o.Z)(function*(){const x=E.storage[y];return void 0===x?null:x})()}_remove(y){var E=this;return(0,o.Z)(function*(){delete E.storage[y]})()}_addListener(y,E){}_removeListener(y,E){}}return w.type="NONE",w})();function mn(w,g,y){return`firebase:${w}:${g}:${y}`}class fi{constructor(g,y,E){this.persistence=g,this.auth=y,this.userKey=E;const{config:x,name:L}=this.auth;this.fullUserKey=mn(this.userKey,x.apiKey,L),this.fullPersistenceKey=mn("persistence",x.apiKey,L),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,o.Z)(function*(){const y=yield g.persistence._get(g.fullUserKey);return y?qe._fromJSON(g.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var y=this;return(0,o.Z)(function*(){if(y.persistence===g)return;const E=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=g,E?y.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,y,E="authUser"){return(0,o.Z)(function*(){if(!y.length)return new fi(ne(gn),g,E);const x=(yield Promise.all(y.map(function(){var ft=(0,o.Z)(function*($t){if(yield $t._isAvailable())return $t});return function($t){return ft.apply(this,arguments)}}()))).filter(ft=>ft);let L=x[0]||ne(gn);const se=mn(E,g.config.apiKey,g.name);let ke=null;for(const ft of y)try{const $t=yield ft._get(se);if($t){const Nn=qe._fromJSON(g,$t);ft!==L&&(ke=Nn),L=ft;break}}catch{}const Xe=x.filter(ft=>ft._shouldAllowMigration);return L._shouldAllowMigration&&Xe.length?(L=Xe[0],ke&&(yield L._set(se,ke.toJSON())),yield Promise.all(y.map(function(){var ft=(0,o.Z)(function*($t){if($t!==L)try{yield $t._remove(se)}catch{}});return function($t){return ft.apply(this,arguments)}}())),new fi(L,g,E)):new fi(L,g,E)})()}}function re(w){const g=w.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ye(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(G(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(St(g))return"Blackberry";if(Le(g))return"Webos";if(q(g))return"Safari";if((g.includes("chrome/")||Ee(g))&&!g.includes("edge/"))return"Chrome";if(bt(g))return"Android";{const E=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function G(w=(0,H.z$)()){return/firefox\//i.test(w)}function q(w=(0,H.z$)()){const g=w.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Ee(w=(0,H.z$)()){return/crios\//i.test(w)}function Ye(w=(0,H.z$)()){return/iemobile/i.test(w)}function bt(w=(0,H.z$)()){return/android/i.test(w)}function St(w=(0,H.z$)()){return/blackberry/i.test(w)}function Le(w=(0,H.z$)()){return/webos/i.test(w)}function at(w=(0,H.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function Jt(w=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function wn(w=(0,H.z$)()){return at(w)||bt(w)||Le(w)||St(w)||/windows phone/i.test(w)||Ye(w)}function Pn(w,g=[]){let y;switch(w){case"Browser":y=re((0,H.z$)());break;case"Worker":y=`${re((0,H.z$)())}-${w}`;break;default:y=w}const E=g.length?g.join(","):"FirebaseCore-web";return`${y}/JsCore/${P.SDK_VERSION}/${E}`}class Bo{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,y){const E=L=>new Promise((se,ke)=>{try{se(g(L))}catch(Xe){ke(Xe)}});E.onAbort=y,this.queue.push(E);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(g){var y=this;return(0,o.Z)(function*(){var E;if(y.auth.currentUser===g)return;const x=[];try{for(const L of y.queue)yield L(g),L.onAbort&&x.push(L.onAbort)}catch(L){x.reverse();for(const se of x)try{se()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(E=L)||void 0===E?void 0:E.message})}})()}}class Uo{constructor(g,y,E){this.app=g,this.heartbeatServiceProvider=y,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ho(this),this.idTokenSubscription=new Ho(this),this.beforeStateQueue=new Bo(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(g,y){var E=this;return y&&(this._popupRedirectResolver=ne(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var x,L;if(!E._deleted&&(E.persistenceManager=yield fi.create(E,g),!E._deleted)){if(null!==(x=E._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(y),E.lastNotifiedUid=(null===(L=E.currentUser)||void 0===L?void 0:L.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,o.Z)(function*(){if(g._deleted)return;const y=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||y){if(g.currentUser&&y&&g.currentUser.uid===y.uid)return g._currentUser._assign(y),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(y,!0)}})()}initializeCurrentUser(g){var y=this;return(0,o.Z)(function*(){var E;const x=yield y.assertedPersistence.getCurrentUser();let L=x,se=!1;if(g&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const ke=null===(E=y.redirectUser)||void 0===E?void 0:E._redirectEventId,Xe=L?._redirectEventId,ft=yield y.tryRedirectSignIn(g);(!ke||ke===Xe)&&ft?.user&&(L=ft.user,se=!0)}if(!L)return y.directlySetCurrentUser(null);if(!L._redirectEventId){if(se)try{yield y.beforeStateQueue.runMiddleware(L)}catch(ke){L=x,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(ke))}return L?y.reloadAndSetCurrentUserOrClear(L):y.directlySetCurrentUser(null)}return le(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===L._redirectEventId?y.directlySetCurrentUser(L):y.reloadAndSetCurrentUserOrClear(L)})()}tryRedirectSignIn(g){var y=this;return(0,o.Z)(function*(){let E=null;try{E=yield y._popupRedirectResolver._completeRedirectFn(y,g,!0)}catch{yield y._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(g){var y=this;return(0,o.Z)(function*(){var E;try{yield Ki(g)}catch(x){if("auth/network-request-failed"!==(null===(E=x)||void 0===E?void 0:E.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function Zt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var g=this;return(0,o.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var y=this;return(0,o.Z)(function*(){const E=g?(0,H.m9)(g):null;return E&&le(E.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(E&&E._clone(y))})()}_updateCurrentUser(g,y=!1){var E=this;return(0,o.Z)(function*(){if(!E._deleted)return g&&le(E.tenantId===g.tenantId,E,"tenant-id-mismatch"),y||(yield E.beforeStateQueue.runMiddleware(g)),E.queue((0,o.Z)(function*(){yield E.directlySetCurrentUser(g),E.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,o.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(ne(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new H.LL("auth","Firebase",g())}onAuthStateChanged(g,y,E){return this.registerStateListener(this.authStateSubscription,g,y,E)}beforeAuthStateChanged(g,y){return this.beforeStateQueue.pushCallback(g,y)}onIdTokenChanged(g,y,E){return this.registerStateListener(this.idTokenSubscription,g,y,E)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,y){var E=this;return(0,o.Z)(function*(){const x=yield E.getOrInitRedirectPersistenceManager(y);return null===g?x.removeCurrentUser():x.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const E=g&&ne(g)||y._popupRedirectResolver;le(E,y,"argument-error"),y.redirectPersistenceManager=yield fi.create(y,[ne(E._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(g){var y=this;return(0,o.Z)(function*(){var E,x;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(E=y._currentUser)||void 0===E?void 0:E._redirectEventId)===g?y._currentUser:(null===(x=y.redirectUser)||void 0===x?void 0:x._redirectEventId)===g?y.redirectUser:null})()}_persistUserIfCurrent(g){var y=this;return(0,o.Z)(function*(){if(g===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(y=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,y,E,x){if(this._deleted)return()=>{};const L="function"==typeof y?y:y.next.bind(y),se=this._isInitialized?Promise.resolve():this._initializationPromise;return le(se,this,"internal-error"),se.then(()=>L(this.currentUser)),"function"==typeof y?g.addObserver(y,E,x):g.addObserver(y)}directlySetCurrentUser(g){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==g&&y._currentUser._stopProactiveRefresh(),g&&y.isProactiveRefreshEnabled&&g._startProactiveRefresh(),y.currentUser=g,g?yield y.assertedPersistence.setCurrentUser(g):yield y.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,o.Z)(function*(){var y;const E={"X-Client-Version":g.clientVersion};g.app.options.appId&&(E["X-Firebase-gmpid"]=g.app.options.appId);const x=yield null===(y=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return x&&(E["X-Firebase-Client"]=x),E})()}}function wt(w){return(0,H.m9)(w)}class Ho{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wa(w,g,y){const E=wt(w);le(E._canInitEmulator,E,"emulator-config-failed"),le(/^https?:\/\//.test(g),E,"invalid-emulator-scheme");const x=!!y?.disableWarnings,L=gc(g),{host:se,port:ke}=function Rs(w){const g=gc(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(g.length));if(!y)return{host:"",port:null};const E=y[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(E);if(x){const L=x[1];return{host:L,port:li(E.substr(L.length+1))}}{const[L,se]=E.split(":");return{host:L,port:li(se)}}}(g);E.config.emulator={url:`${L}//${se}${null===ke?"":`:${ke}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:se,port:ke,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function jo(){function w(){const g=document.createElement("p"),y=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function gc(w){const g=w.indexOf(":");return g<0?"":w.substr(0,g+1)}function li(w){if(!w)return null;const g=Number(w);return isNaN(g)?null:g}class gr{constructor(g,y){this.providerId=g,this.signInMethod=y}toJSON(){return he("not implemented")}_getIdTokenResponse(g){return he("not implemented")}_linkToIdToken(g,y){return he("not implemented")}_getReauthenticationResolver(g){return he("not implemented")}}function Ir(w,g){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:resetPassword",Yt(w,g))})).apply(this,arguments)}function _c(w,g){return un.apply(this,arguments)}function un(){return(un=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Df(w,g){return _l.apply(this,arguments)}function _l(){return(_l=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:update",Yt(w,g))})).apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithPassword",Yt(w,g))})).apply(this,arguments)}function zr(w,g){return $o.apply(this,arguments)}function $o(){return($o=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:sendOobCode",Yt(w,g))})).apply(this,arguments)}function Os(w,g){return _n.apply(this,arguments)}function _n(){return(_n=(0,o.Z)(function*(w,g){return zr(w,g)})).apply(this,arguments)}function If(w,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,o.Z)(function*(w,g){return zr(w,g)})).apply(this,arguments)}function Sr(w,g){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,o.Z)(function*(w,g){return zr(w,g)})).apply(this,arguments)}function Ca(w,g){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(w,g){return zr(w,g)})).apply(this,arguments)}function Du(){return(Du=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithEmailLink",Yt(w,g))})).apply(this,arguments)}function yc(){return(yc=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithEmailLink",Yt(w,g))})).apply(this,arguments)}class vl extends gr{constructor(g,y,E,x=null){super("password",E),this._email=g,this._password=y,this._tenantId=x}static _fromEmailAndPassword(g,y){return new vl(g,y,"password")}static _fromEmailAndCode(g,y,E=null){return new vl(g,y,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(g){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function yl(w,g){return Go.apply(this,arguments)}(g,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function _r(w,g){return Du.apply(this,arguments)}(g,{email:y._email,oobCode:y._password});default:it(g,"internal-error")}})()}_linkToIdToken(g,y){var E=this;return(0,o.Z)(function*(){switch(E.signInMethod){case"password":return _c(g,{idToken:y,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ym(w,g){return yc.apply(this,arguments)}(g,{idToken:y,email:E._email,oobCode:E._password});default:it(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function zo(w,g){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithIdp",Yt(w,g))})).apply(this,arguments)}class Ns extends gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const y=new Ns(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(y.idToken=g.idToken),g.accessToken&&(y.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(y.nonce=g.nonce),g.pendingToken&&(y.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(y.accessToken=g.oauthToken,y.secret=g.oauthTokenSecret):it("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x}=y,L=(0,ce._T)(y,["providerId","signInMethod"]);if(!E||!x)return null;const se=new Ns(E,x);return se.idToken=L.idToken||void 0,se.accessToken=L.accessToken||void 0,se.secret=L.secret,se.nonce=L.nonce,se.pendingToken=L.pendingToken||null,se}_getIdTokenResponse(g){return zo(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,zo(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,zo(g,y)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),g.postBody=(0,H.xO)(y)}return g}}function Qm(w,g){return Nd.apply(this,arguments)}function Nd(){return(Nd=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:sendVerificationCode",Yt(w,g))})).apply(this,arguments)}function wl(){return(wl=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithPhoneNumber",Yt(w,g))})).apply(this,arguments)}function Fd(){return(Fd=(0,o.Z)(function*(w,g){const y=yield Ln(w,"POST","/v1/accounts:signInWithPhoneNumber",Yt(w,g));if(y.temporaryProof)throw Kn(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const Xm={USER_NOT_FOUND:"user-not-found"};function vc(){return(vc=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithPhoneNumber",Yt(w,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Xm)})).apply(this,arguments)}class Ia extends gr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,y){return new Ia({verificationId:g,verificationCode:y})}static _fromTokenResponse(g,y){return new Ia({phoneNumber:g,temporaryProof:y})}_getIdTokenResponse(g){return function bl(w,g){return wl.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,y){return function Da(w,g){return Fd.apply(this,arguments)}(g,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function Jm(w,g){return vc.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:y,verificationId:E,verificationCode:x}=this.params;return g&&y?{temporaryProof:g,phoneNumber:y}:{sessionInfo:E,code:x}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:L}=g;return E||y||x||L?new Ia({verificationId:y,verificationCode:E,phoneNumber:x,temporaryProof:L}):null}}class Sa{constructor(g){var y,E,x,L,se,ke;const Xe=(0,H.zd)((0,H.pd)(g)),ft=null!==(y=Xe.apiKey)&&void 0!==y?y:null,$t=null!==(E=Xe.oobCode)&&void 0!==E?E:null,Nn=function Ld(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Xe.mode)&&void 0!==x?x:null);le(ft&&$t&&Nn,"argument-error"),this.apiKey=ft,this.operation=Nn,this.code=$t,this.continueUrl=null!==(L=Xe.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(se=Xe.languageCode)&&void 0!==se?se:null,this.tenantId=null!==(ke=Xe.tenantId)&&void 0!==ke?ke:null}static parseLink(g){const y=function Vd(w){const g=(0,H.zd)((0,H.pd)(w)).link,y=g?(0,H.zd)((0,H.pd)(g)).deep_link_id:null,E=(0,H.zd)((0,H.pd)(w)).deep_link_id;return(E?(0,H.zd)((0,H.pd)(E)).link:null)||E||y||g||w}(g);try{return new Sa(y)}catch{return null}}}let bc=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,E){return vl._fromEmailAndPassword(y,E)}static credentialWithLink(y,E){const x=Sa.parseLink(E);return le(x,"argument-error"),vl._fromEmailAndCode(y,x.code,x.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class Hi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Ta extends Hi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class co extends Ta{static credentialFromJSON(g){const y="string"==typeof g?JSON.parse(g):g;return le("providerId"in y&&"signInMethod"in y,"argument-error"),Ns._fromParams(y)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return le(g.idToken||g.accessToken,"argument-error"),Ns._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return co.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return co.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:y,oauthAccessToken:E,oauthTokenSecret:x,pendingToken:L,nonce:se,providerId:ke}=g;if(!E&&!x&&!y&&!L||!ke)return null;try{return new co(ke)._credential({idToken:y,accessToken:E,nonce:se,pendingToken:L})}catch{return null}}}let Bd=(()=>{class w extends Ta{constructor(){super("facebook.com")}static credential(y){return Ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),wc=(()=>{class w extends Ta{constructor(){super("google.com"),this.addScope("profile")}static credential(y,E){return Ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:E,oauthAccessToken:x}=y;if(!E&&!x)return null;try{return w.credential(E,x)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Iu=(()=>{class w extends Ta{constructor(){super("github.com")}static credential(y){return Ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Aa extends gr{constructor(g,y){super(g,g),this.pendingToken=y}_getIdTokenResponse(g){return zo(g,this.buildRequest())}_linkToIdToken(g,y){const E=this.buildRequest();return E.idToken=y,zo(g,E)}_getReauthenticationResolver(g){const y=this.buildRequest();return y.autoCreate=!1,zo(g,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const y="string"==typeof g?JSON.parse(g):g,{providerId:E,signInMethod:x,pendingToken:L}=y;return E&&x&&L&&E===x?new Aa(E,L):null}static _create(g,y){return new Aa(g,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ar extends Hi{constructor(g){le(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Ar.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Ar.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const y=Aa.fromJSON(g);return le(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:y,providerId:E}=g;if(!y||!E)return null;try{return Aa._create(E,y)}catch{return null}}}let Fs=(()=>{class w extends Ta{constructor(){super("twitter.com")}static credential(y,E){return Ns._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:E})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:E,oauthTokenSecret:x}=y;if(!E||!x)return null;try{return w.credential(E,x)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function yr(w,g){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signUp",Yt(w,g))})).apply(this,arguments)}class Mr{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,y,E,x=!1){return(0,o.Z)(function*(){const L=yield qe._fromIdTokenResponse(g,E,x),se=Ma(E);return new Mr({user:L,providerId:se,_tokenResponse:E,operationType:y})})()}static _forOperation(g,y,E){return(0,o.Z)(function*(){yield g._updateTokensIfNecessary(E,!0);const x=Ma(E);return new Mr({user:g,providerId:x,_tokenResponse:E,operationType:y})})()}}function Ma(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function eg(w){return Su.apply(this,arguments)}function Su(){return(Su=(0,o.Z)(function*(w){var g;const y=wt(w);if(yield y._initializationPromise,null!==(g=y.currentUser)&&void 0!==g&&g.isAnonymous)return new Mr({user:y.currentUser,providerId:null,operationType:"signIn"});const E=yield yr(y,{returnSecureToken:!0}),x=yield Mr._fromIdTokenResponse(y,"signIn",E,!0);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class Gn extends H.ZR{constructor(g,y,E,x){var L;super(y.code,y.message),this.operationType=E,this.user=x,Object.setPrototypeOf(this,Gn.prototype),this.customData={appName:g.name,tenantId:null!==(L=g.tenantId)&&void 0!==L?L:void 0,_serverResponse:y.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(g,y,E,x){return new Gn(g,y,E,x)}}function Hd(w,g,y,E){return("reauthenticate"===g?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Gn._fromErrorAndOperation(w,L,g,E):L})}function Sf(w){return new Set(w.map(({providerId:g})=>g).filter(g=>!!g))}function qr(w,g){return ji.apply(this,arguments)}function ji(){return(ji=(0,o.Z)(function*(w,g){const y=(0,H.m9)(w);yield fs(!0,y,g);const{providerUserInfo:E}=yield rt(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[g]}),x=Sf(E||[]);return y.providerData=y.providerData.filter(L=>x.has(L.providerId)),x.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Cc(w,g){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,o.Z)(function*(w,g,y=!1){const E=yield Ft(w,g._linkToIdToken(w.auth,yield w.getIdToken()),y);return Mr._forOperation(w,"link",E)})).apply(this,arguments)}function fs(w,g,y){return dn.apply(this,arguments)}function dn(){return(dn=(0,o.Z)(function*(w,g,y){yield Ki(g);const x=!1===w?"provider-already-linked":"no-such-provider";le(Sf(g.providerData).has(y)===w,g.auth,x)})).apply(this,arguments)}function Ec(w,g){return uo.apply(this,arguments)}function uo(){return(uo=(0,o.Z)(function*(w,g,y=!1){var E;const{auth:x}=w,L="reauthenticate";try{const se=yield Ft(w,Hd(x,L,g,w),y);le(se.idToken,x,"internal-error");const ke=mt(se.idToken);le(ke,x,"internal-error");const{sub:Xe}=ke;return le(w.uid===Xe,x,"user-mismatch"),Mr._forOperation(w,L,se)}catch(se){throw"auth/user-not-found"===(null===(E=se)||void 0===E?void 0:E.code)&&it(x,"user-mismatch"),se}})).apply(this,arguments)}function Tu(w,g){return xr.apply(this,arguments)}function xr(){return(xr=(0,o.Z)(function*(w,g,y=!1){const E="signIn",x=yield Hd(w,E,g),L=yield Mr._fromIdTokenResponse(w,E,x);return y||(yield w._updateCurrentUser(L.user)),L})).apply(this,arguments)}function Cl(w,g){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,o.Z)(function*(w,g){return Tu(wt(w),g)})).apply(this,arguments)}function Nt(w,g){return El.apply(this,arguments)}function El(){return(El=(0,o.Z)(function*(w,g){const y=(0,H.m9)(w);return yield fs(!1,y,g.providerId),Cc(y,g)})).apply(this,arguments)}function tg(w,g){return Dl.apply(this,arguments)}function Dl(){return(Dl=(0,o.Z)(function*(w,g){return Ec((0,H.m9)(w),g)})).apply(this,arguments)}function jd(w,g){return Il.apply(this,arguments)}function Il(){return(Il=(0,o.Z)(function*(w,g){return Ln(w,"POST","/v1/accounts:signInWithCustomToken",Yt(w,g))})).apply(this,arguments)}function Yo(w,g){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,o.Z)(function*(w,g){const y=wt(w),E=yield jd(y,{token:g,returnSecureToken:!0}),x=yield Mr._fromIdTokenResponse(y,"signIn",E);return yield y._updateCurrentUser(x.user),x})).apply(this,arguments)}class xa{constructor(g,y){this.factorId=g,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(g,y){return"phoneInfo"in y?Oe._fromServerResponse(g,y):it(g,"internal-error")}}class Oe extends xa{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,y){return new Oe(y)}}function Qt(w,g,y){var E;le((null===(E=y.url)||void 0===E?void 0:E.length)>0,w,"invalid-continue-uri"),le(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),g.continueUrl=y.url,g.dynamicLinkDomain=y.dynamicLinkDomain,g.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(le(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),g.iOSBundleId=y.iOS.bundleId),y.android&&(le(y.android.packageName.length>0,w,"missing-android-pkg-name"),g.androidInstallApp=y.android.installApp,g.androidMinimumVersionCode=y.android.minimumVersion,g.androidPackageName=y.android.packageName)}function Tf(w,g,y){return ka.apply(this,arguments)}function ka(){return(ka=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w),x={requestType:"PASSWORD_RESET",email:g};y&&Qt(E,x,y),yield If(E,x)})).apply(this,arguments)}function mi(w,g,y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,o.Z)(function*(w,g,y){yield Ir((0,H.m9)(w),{oobCode:g,newPassword:y})})).apply(this,arguments)}function Dc(w,g){return ar.apply(this,arguments)}function ar(){return(ar=(0,o.Z)(function*(w,g){yield Df((0,H.m9)(w),{oobCode:g})})).apply(this,arguments)}function Ic(w,g){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,o.Z)(function*(w,g){const y=(0,H.m9)(w),E=yield Ir(y,{oobCode:g}),x=E.requestType;switch(le(x,y,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(E.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(E.mfaInfo,y,"internal-error");default:le(E.email,y,"internal-error")}let L=null;return E.mfaInfo&&(L=xa._fromServerResponse(wt(y),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:L},operation:x}})).apply(this,arguments)}function Af(w,g){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,o.Z)(function*(w,g){const{data:y}=yield Ic((0,H.m9)(w),g);return y.email})).apply(this,arguments)}function ng(w,g,y){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,o.Z)(function*(w,g,y){const E=wt(w),x=yield yr(E,{returnSecureToken:!0,email:g,password:y}),L=yield Mr._fromIdTokenResponse(E,"signIn",x);return yield E._updateCurrentUser(L.user),L})).apply(this,arguments)}function gi(w,g,y){return Cl((0,H.m9)(w),bc.credential(g,y))}function ps(w,g,y){return Al.apply(this,arguments)}function Al(){return(Al=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w),x={requestType:"EMAIL_SIGNIN",email:g};le(y.handleCodeInApp,E,"argument-error"),y&&Qt(E,x,y),yield Sr(E,x)})).apply(this,arguments)}function Ml(w,g){return"EMAIL_SIGNIN"===Sa.parseLink(g)?.operation}function Vs(w,g,y){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w),x=bc.credentialWithLink(g,y||Ue());return le(x._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Cl(E,x)})).apply(this,arguments)}function Au(w,g){return $d.apply(this,arguments)}function $d(){return($d=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:createAuthUri",Yt(w,g))})).apply(this,arguments)}function Mf(w,g){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,o.Z)(function*(w,g){const E={identifier:g,continueUri:He()?Ue():"http://localhost"},{signinMethods:x}=yield Au((0,H.m9)(w),E);return x||[]})).apply(this,arguments)}function Mu(w,g){return xl.apply(this,arguments)}function xl(){return(xl=(0,o.Z)(function*(w,g){const y=(0,H.m9)(w),x={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};g&&Qt(y.auth,x,g);const{email:L}=yield Os(y.auth,x);L!==w.email&&(yield w.reload())})).apply(this,arguments)}function xu(w,g,y){return kl.apply(this,arguments)}function kl(){return(kl=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:g};y&&Qt(E.auth,L,y);const{email:se}=yield Ca(E.auth,L);se!==w.email&&(yield w.reload())})).apply(this,arguments)}function zd(w,g){return Na.apply(this,arguments)}function Na(){return(Na=(0,o.Z)(function*(w,g){return Gt(w,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function xf(w,g){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,o.Z)(function*(w,{displayName:g,photoURL:y}){if(void 0===g&&void 0===y)return;const E=(0,H.m9)(w),L={idToken:yield E.getIdToken(),displayName:g,photoUrl:y,returnSecureToken:!0},se=yield Ft(E,zd(E.auth,L));E.displayName=se.displayName||null,E.photoURL=se.photoUrl||null;const ke=E.providerData.find(({providerId:Xe})=>"password"===Xe);ke&&(ke.displayName=E.displayName,ke.photoURL=E.photoURL),yield E._updateTokensIfNecessary(se)})).apply(this,arguments)}function kf(w,g){return ho((0,H.m9)(w),g,null)}function qd(w,g){return ho((0,H.m9)(w),null,g)}function ho(w,g,y){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(w,g,y){const{auth:E}=w,L={idToken:yield w.getIdToken(),returnSecureToken:!0};g&&(L.email=g),y&&(L.password=y);const se=yield Ft(w,_c(E,L));yield w._updateTokensIfNecessary(se,!0)})).apply(this,arguments)}class Bn{constructor(g,y,E={}){this.isNewUser=g,this.providerId=y,this.profile=E}}class Bs extends Bn{constructor(g,y,E,x){super(g,y,E),this.username=x}}class Un extends Bn{constructor(g,y){super(g,"facebook.com",y)}}class ku extends Bs{constructor(g,y){super(g,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class Ru extends Bn{constructor(g,y){super(g,"google.com",y)}}class Zd extends Bs{constructor(g,y,E){super(g,"twitter.com",y,E)}}function Ou(w){const{user:g,_tokenResponse:y}=w;return g.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Wd(w){var g,y;if(!w)return null;const{providerId:E}=w,x=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},L=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!E&&w?.idToken){const se=null===(y=null===(g=mt(w.idToken))||void 0===g?void 0:g.firebase)||void 0===y?void 0:y.sign_in_provider;if(se)return new Bn(L,"anonymous"!==se&&"custom"!==se?se:null)}if(!E)return null;switch(E){case"facebook.com":return new Un(L,x);case"github.com":return new ku(L,x);case"google.com":return new Ru(L,x);case"twitter.com":return new Zd(L,x,w.screenName||null);case"custom":case"anonymous":return new Bn(L,null);default:return new Bn(L,E,x)}}(y)}class kr{constructor(g,y){this.type=g,this.credential=y}static _fromIdtoken(g){return new kr("enroll",g)}static _fromMfaPendingCredential(g){return new kr("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var y,E;if(g?.multiFactorSession){if(null!==(y=g.multiFactorSession)&&void 0!==y&&y.pendingCredential)return kr._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(E=g.multiFactorSession)&&void 0!==E&&E.idToken)return kr._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Fu{constructor(g,y,E){this.session=g,this.hints=y,this.signInResolver=E}static _fromError(g,y){const E=wt(g),x=y.customData._serverResponse,L=(x.mfaInfo||[]).map(ke=>xa._fromServerResponse(E,ke));le(x.mfaPendingCredential,E,"internal-error");const se=kr._fromMfaPendingCredential(x.mfaPendingCredential);return new Fu(se,L,function(){var ke=(0,o.Z)(function*(Xe){const ft=yield Xe._process(E,se);delete x.mfaInfo,delete x.mfaPendingCredential;const $t=Object.assign(Object.assign({},x),{idToken:ft.idToken,refreshToken:ft.refreshToken});switch(y.operationType){case"signIn":const Nn=yield Mr._fromIdTokenResponse(E,y.operationType,$t);return yield E._updateCurrentUser(Nn.user),Nn;case"reauthenticate":return le(y.user,E,"internal-error"),Mr._forOperation(y.user,y.operationType,$t);default:it(E,"internal-error")}});return function(Xe){return ke.apply(this,arguments)}}())}resolveSignIn(g){var y=this;return(0,o.Z)(function*(){return y.signInResolver(g)})()}}function Xd(w,g){var y;const E=(0,H.m9)(w),x=g;return le(g.customData.operationType,E,"argument-error"),le(null===(y=x.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,E,"argument-error"),Fu._fromError(E,x)}function ei(w,g){return Gt(w,"POST","/v2/accounts/mfaEnrollment:start",Yt(w,g))}class Ac{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(E=>xa._fromServerResponse(g.auth,E)))})}static _fromUser(g){return new Ac(g)}getSession(){var g=this;return(0,o.Z)(function*(){return kr._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,y){var E=this;return(0,o.Z)(function*(){const x=g,L=yield E.getSession(),se=yield Ft(E.user,x._process(E.user.auth,L,y));return yield E.user._updateTokensIfNecessary(se),E.user.reload()})()}unenroll(g){var y=this;return(0,o.Z)(function*(){var E;const x="string"==typeof g?g:g.uid,L=yield y.user.getIdToken(),se=yield Ft(y.user,function Tc(w,g){return Gt(w,"POST","/v2/accounts/mfaEnrollment:withdraw",Yt(w,g))}(y.user.auth,{idToken:L,mfaEnrollmentId:x}));y.enrolledFactors=y.enrolledFactors.filter(({uid:ke})=>ke!==x),yield y.user._updateTokensIfNecessary(se);try{yield y.user.reload()}catch(ke){if("auth/user-token-expired"!==(null===(E=ke)||void 0===E?void 0:E.code))throw ke}})()}}const Rf=new WeakMap;function Ol(w){const g=(0,H.m9)(w);return Rf.has(g)||Rf.set(g,Ac._fromUser(g)),Rf.get(g)}const Us="__sak";class Pl{constructor(g,y){this.storageRetriever=g,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(Us,"1"),this.storage.removeItem(Us),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,y){return this.storage.setItem(g,JSON.stringify(y)),Promise.resolve()}_get(g){const y=this.storage.getItem(g);return Promise.resolve(y?JSON.parse(y):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const _i=(()=>{class w extends Pl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,E)=>this.onStorageEvent(y,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Lu(){const w=(0,H.z$)();return q(w)||at(w)}()&&function ks(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=wn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const E of Object.keys(this.listeners)){const x=this.storage.getItem(E),L=this.localCache[E];x!==L&&y(E,L,x)}}onStorageEvent(y,E=!1){if(!y.key)return void this.forAllChangedKeys((ke,Xe,ft)=>{this.notifyListeners(ke,ft)});const x=y.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ke=this.storage.getItem(x);if(y.newValue!==ke)null!==y.newValue?this.storage.setItem(x,y.newValue):this.storage.removeItem(x);else if(this.localCache[x]===y.newValue&&!E)return}const L=()=>{const ke=this.storage.getItem(x);!E&&this.localCache[x]===ke||this.notifyListeners(x,ke)},se=this.storage.getItem(x);!function Ut(){return(0,H.w1)()&&10===document.documentMode}()||se===y.newValue||y.newValue===y.oldValue?L():setTimeout(L,10)}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const L of Array.from(x))L(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,E,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:E,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,E){var x=()=>super._set,L=this;return(0,o.Z)(function*(){yield x().call(L,y,E),L.localCache[y]=JSON.stringify(E)})()}_get(y){var E=()=>super._get,x=this;return(0,o.Z)(function*(){const L=yield E().call(x,y);return x.localCache[y]=JSON.stringify(L),L})()}_remove(y){var E=()=>super._remove,x=this;return(0,o.Z)(function*(){yield E().call(x,y),delete x.localCache[y]})()}}return w.type="LOCAL",w})(),po=(()=>{class w extends Pl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,E){}_removeListener(y,E){}}return w.type="SESSION",w})();let Fl=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const E=this.receivers.find(L=>L.isListeningto(y));if(E)return E;const x=new w(y);return this.receivers.push(x),x}isListeningto(y){return this.eventTarget===y}handleEvent(y){var E=this;return(0,o.Z)(function*(){const x=y,{eventId:L,eventType:se,data:ke}=x.data,Xe=E.handlersMap[se];if(!Xe?.size)return;x.ports[0].postMessage({status:"ack",eventId:L,eventType:se});const ft=Array.from(Xe).map(function(){var Nn=(0,o.Z)(function*(qs){return qs(x.origin,ke)});return function(qs){return Nn.apply(this,arguments)}}()),$t=yield function Vu(w){return Promise.all(w.map(function(){var g=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(E){return{fulfilled:!1,reason:E}}});return function(y){return g.apply(this,arguments)}}()))}(ft);x.ports[0].postMessage({status:"done",eventId:L,eventType:se,response:$t})})()}_subscribe(y,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(E)}_unsubscribe(y,E){this.handlersMap[y]&&E&&this.handlersMap[y].delete(E),(!E||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function Ba(w="",g=10){let y="";for(let E=0;E<g;E++)y+=Math.floor(10*Math.random());return w+y}class Nf{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,y,E=50){var x=this;return(0,o.Z)(function*(){const L=typeof MessageChannel<"u"?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let se,ke;return new Promise((Xe,ft)=>{const $t=Ba("",20);L.port1.start();const Nn=setTimeout(()=>{ft(new Error("unsupported_event"))},E);ke={messageChannel:L,onMessage(qs){const Uc=qs;if(Uc.data.eventId===$t)switch(Uc.data.status){case"ack":clearTimeout(Nn),se=setTimeout(()=>{ft(new Error("timeout"))},3e3);break;case"done":clearTimeout(se),Xe(Uc.data.response);break;default:clearTimeout(Nn),clearTimeout(se),ft(new Error("invalid_response"))}}},x.handlers.add(ke),L.port1.addEventListener("message",ke.onMessage),x.target.postMessage({eventType:g,eventId:$t,data:y},[L.port2])}).finally(()=>{ke&&x.removeMessageHandler(ke)})})()}}function ti(){return window}function vr(){return typeof ti().WorkerGlobalScope<"u"&&"function"==typeof ti().importScripts}function Hs(){return(Hs=(0,o.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ll="firebaseLocalStorageDb",Vl="firebaseLocalStorage",Ua="fbase_key";class Qo{constructor(g){this.request=g}toPromise(){return new Promise((g,y)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function Ha(w,g){return w.transaction([Vl],g?"readwrite":"readonly").objectStore(Vl)}function xc(){const w=indexedDB.open(Ll,1);return new Promise((g,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const E=w.result;try{E.createObjectStore(Vl,{keyPath:Ua})}catch(x){y(x)}}),w.addEventListener("success",(0,o.Z)(function*(){const E=w.result;E.objectStoreNames.contains(Vl)?g(E):(E.close(),yield function nh(){const w=indexedDB.deleteDatabase(Ll);return new Qo(w).toPromise()}(),g(yield xc()))}))})}function Bl(w,g,y){return ms.apply(this,arguments)}function ms(){return(ms=(0,o.Z)(function*(w,g,y){const E=Ha(w,!0).put({[Ua]:g,value:y});return new Qo(E).toPromise()})).apply(this,arguments)}function ja(){return(ja=(0,o.Z)(function*(w,g){const y=Ha(w,!1).get(g),E=yield new Qo(y).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function kc(w,g){const y=Ha(w,!0).delete(g);return new Qo(y).toPromise()}const $a=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield xc()),y.db})()}_withRetries(y){var E=this;return(0,o.Z)(function*(){let x=0;for(;;)try{const L=yield E._openDb();return yield y(L)}catch(L){if(x++>3)throw L;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return vr()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=Fl._getInstance(function Mc(){return vr()?self:null}()),y.receiver._subscribe("keyChanged",function(){var E=(0,o.Z)(function*(x,L){return{keyProcessed:(yield y._poll()).includes(L.key)}});return function(x,L){return E.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var E=(0,o.Z)(function*(x,L){return["keyChanged"]});return function(x,L){return E.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var E,x;if(y.activeServiceWorker=yield function th(){return Hs.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Nf(y.activeServiceWorker);const L=yield y.sender._send("ping",{},800);!L||(null===(E=L[0])||void 0===E?void 0:E.fulfilled)&&(null===(x=L[0])||void 0===x?void 0:x.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var E=this;return(0,o.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Bu(){var w;return(null===(w=navigator?.serviceWorker)||void 0===w?void 0:w.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:y},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield xc();return yield Bl(y,Us,"1"),yield kc(y,Us),!0}catch{}return!1})()}_withPendingWrite(y){var E=this;return(0,o.Z)(function*(){E.pendingWrites++;try{yield y()}finally{E.pendingWrites--}})()}_set(y,E){var x=this;return(0,o.Z)(function*(){return x._withPendingWrite((0,o.Z)(function*(){return yield x._withRetries(L=>Bl(L,y,E)),x.localCache[y]=E,x.notifyServiceWorker(y)}))})()}_get(y){var E=this;return(0,o.Z)(function*(){const x=yield E._withRetries(L=>function Ff(w,g){return ja.apply(this,arguments)}(L,y));return E.localCache[y]=x,x})()}_remove(y){var E=this;return(0,o.Z)(function*(){return E._withPendingWrite((0,o.Z)(function*(){return yield E._withRetries(x=>kc(x,y)),delete E.localCache[y],E.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const E=yield y._withRetries(se=>{const ke=Ha(se,!1).getAll();return new Qo(ke).toPromise()});if(!E)return[];if(0!==y.pendingWrites)return[];const x=[],L=new Set;for(const{fbase_key:se,value:ke}of E)L.add(se),JSON.stringify(y.localCache[se])!==JSON.stringify(ke)&&(y.notifyListeners(se,ke),x.push(se));for(const se of Object.keys(y.localCache))y.localCache[se]&&!L.has(se)&&(y.notifyListeners(se,null),x.push(se));return x})()}notifyListeners(y,E){this.localCache[y]=E;const x=this.listeners[y];if(x)for(const L of Array.from(x))L(E)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(E)}_removeListener(y,E){this.listeners[y]&&(this.listeners[y].delete(E),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function Lf(w,g){return Gt(w,"POST","/v2/accounts/mfaSignIn:start",Yt(w,g))}function Qi(){return(Qi=(0,o.Z)(function*(w){return(yield Gt(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Xo(w){return new Promise((g,y)=>{const E=document.createElement("script");E.setAttribute("src",w),E.onload=g,E.onerror=x=>{const L=Ne("internal-error");L.customData=x,y(L)},E.type="text/javascript",E.charset="UTF-8",function qa(){var w,g;return null!==(g=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==g?g:document}().appendChild(E)})}function Wa(w){return`__${w}${Math.floor(1e6*Math.random())}`}const gs=1e12;class ih{constructor(g){this.auth=g,this.counter=gs,this._widgets=new Map}render(g,y){const E=this.counter;return this._widgets.set(E,new Rn(g,this.auth.name,y||{})),this.counter++,E}reset(g){var y;const E=g||gs;null===(y=this._widgets.get(E))||void 0===y||y.delete(),this._widgets.delete(E)}getResponse(g){var y;return(null===(y=this._widgets.get(g||gs))||void 0===y?void 0:y.getResponse())||""}execute(g){var y=this;return(0,o.Z)(function*(){var E;return null===(E=y._widgets.get(g||gs))||void 0===E||E.execute(),""})()}}class Rn{constructor(g,y,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof g?document.getElementById(g):g;le(x,"argument-error",{appName:y}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ig(w){const g=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<w;E++)g.push(y.charAt(Math.floor(Math.random()*y.length)));return g.join("")}(50);const{callback:g,"expired-callback":y}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vf=Wa("rcb"),vC=new Ke(3e4,6e4);class Vy{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=ti().grecaptcha)||void 0===g||!g.render)}load(g,y=""){return le(function Bf(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),g,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(ti().grecaptcha):new Promise((E,x)=>{const L=ti().setTimeout(()=>{x(Ne(g,"network-request-failed"))},vC.get());ti()[Vf]=()=>{ti().clearTimeout(L),delete ti()[Vf];const ke=ti().grecaptcha;if(!ke)return void x(Ne(g,"internal-error"));const Xe=ke.render;ke.render=(ft,$t)=>{const Nn=Xe(ft,$t);return this.counter++,Nn},this.hostLanguage=y,E(ke)},Xo(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Vf,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(L),x(Ne(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var y;return!(null===(y=ti().grecaptcha)||void 0===y||!y.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bC{load(g){return(0,o.Z)(function*(){return new ih(g)})()}clearedOneInstance(){}}const go="recaptcha",By={theme:"light",type:"image"};class rg{constructor(g,y=Object.assign({},By),E){this.parameters=y,this.type=go,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(E),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof g?document.getElementById(g):g;le(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bC:new Vy,this.validateStartingState()}verify(){var g=this;return(0,o.Z)(function*(){g.assertNotDestroyed();const y=yield g.render(),E=g.getAssertedRecaptcha();return E.getResponse(y)||new Promise(L=>{const se=ke=>{!ke||(g.tokenChangeListeners.delete(se),L(ke))};g.tokenChangeListeners.add(se),g.isInvisible&&E.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return y=>{if(this.tokenChangeListeners.forEach(E=>E(y)),"function"==typeof g)g(y);else if("string"==typeof g){const E=ti()[g];"function"==typeof E&&E(y)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,o.Z)(function*(){if(yield g.init(),!g.widgetId){let y=g.container;if(!g.isInvisible){const E=document.createElement("div");y.appendChild(E),y=E}g.widgetId=g.getAssertedRecaptcha().render(y,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,o.Z)(function*(){le(He()&&!vr(),g.auth,"internal-error"),yield function Oi(){let w=null;return new Promise(g=>{"complete"!==document.readyState?(w=()=>g(),window.addEventListener("load",w)):g()}).catch(g=>{throw w&&window.removeEventListener("load",w),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const y=yield function Rc(w){return Qi.apply(this,arguments)}(g.auth);le(y,g.auth,"internal-error"),g.parameters.sitekey=y})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class rn{constructor(g,y){this.verificationId=g,this.onConfirmation=y}confirm(g){const y=Ia._fromVerification(this.verificationId,g);return this.onConfirmation(y)}}function ci(w,g,y){return ju.apply(this,arguments)}function ju(){return(ju=(0,o.Z)(function*(w,g,y){const E=wt(w),x=yield Jo(E,g,(0,H.m9)(y));return new rn(x,L=>Cl(E,L))})).apply(this,arguments)}function rh(w,g,y){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w);yield fs(!1,E,"phone");const x=yield Jo(E.auth,g,(0,H.m9)(y));return new rn(x,L=>Nt(E,L))})).apply(this,arguments)}function js(w,g,y){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w),x=yield Jo(E.auth,g,(0,H.m9)(y));return new rn(x,L=>tg(E,L))})).apply(this,arguments)}function Jo(w,g,y){return lr.apply(this,arguments)}function lr(){return(lr=(0,o.Z)(function*(w,g,y){var E;const x=yield y.verify();try{let L;if(le("string"==typeof x,w,"argument-error"),le(y.type===go,w,"argument-error"),L="string"==typeof g?{phoneNumber:g}:g,"session"in L){const se=L.session;if("phoneNumber"in L)return le("enroll"===se.type,w,"internal-error"),(yield ei(w,{idToken:se.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{le("signin"===se.type,w,"internal-error");const ke=(null===(E=L.multiFactorHint)||void 0===E?void 0:E.uid)||L.multiFactorUid;return le(ke,w,"missing-multi-factor-info"),(yield Lf(w,{mfaPendingCredential:se.credential,mfaEnrollmentId:ke,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:se}=yield Qm(w,{phoneNumber:L.phoneNumber,recaptchaToken:x});return se}}finally{y._reset()}})).apply(this,arguments)}function _o(w,g){return On.apply(this,arguments)}function On(){return(On=(0,o.Z)(function*(w,g){yield Cc((0,H.m9)(w),g)})).apply(this,arguments)}let ct=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=wt(y)}verifyPhoneNumber(y,E){return Jo(this.auth,y,(0,H.m9)(E))}static credential(y,E){return Ia._fromVerification(y,E)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:E,temporaryProof:x}=y;return E&&x?Ia._fromTokenResponse(E,x):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Ya(w,g){return g?ne(g):(le(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class Gu extends gr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return zo(g,this._buildIdpRequest())}_linkToIdToken(g,y){return zo(g,this._buildIdpRequest(y))}_getReauthenticationResolver(g){return zo(g,this._buildIdpRequest())}_buildIdpRequest(g){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(y.idToken=g),y}}function Oc(w){return Tu(w.auth,new Gu(w),w.bypassAuthState)}function cr(w){const{auth:g,user:y}=w;return le(y,g,"internal-error"),Ec(y,new Gu(w),w.bypassAuthState)}function Ka(w){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,o.Z)(function*(w){const{auth:g,user:y}=w;return le(y,g,"internal-error"),Cc(y,new Gu(w),w.bypassAuthState)})).apply(this,arguments)}class Gs{constructor(g,y,E,x,L=!1){this.auth=g,this.resolver=E,this.user=x,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var g=this;return new Promise(function(){var y=(0,o.Z)(function*(E,x){g.pendingPromise={resolve:E,reject:x};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(L){g.reject(L)}});return function(E,x){return y.apply(this,arguments)}}())}onAuthEvent(g){var y=this;return(0,o.Z)(function*(){const{urlResponse:E,sessionId:x,postBody:L,tenantId:se,error:ke,type:Xe}=g;if(ke)return void y.reject(ke);const ft={auth:y.auth,requestUri:E,sessionId:x,tenantId:se||void 0,postBody:L||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Xe)(ft))}catch($t){y.reject($t)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Oc;case"linkViaPopup":case"linkViaRedirect":return Ka;case"reauthViaPopup":case"reauthViaRedirect":return cr;default:it(this.auth,"internal-error")}}resolve(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){we(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ji=new Ke(2e3,1e4);function $u(w,g,y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,o.Z)(function*(w,g,y){const E=wt(w);Se(w,g,Hi);const x=Ya(E,y);return new Hl(E,"signInViaPopup",g,x).executeNotNull()})).apply(this,arguments)}function zu(w,g,y){return sh.apply(this,arguments)}function sh(){return(sh=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w);Se(E.auth,g,Hi);const x=Ya(E.auth,y);return new Hl(E.auth,"reauthViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}function sg(w,g,y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w);Se(E.auth,g,Hi);const x=Ya(E.auth,y);return new Hl(E.auth,"linkViaPopup",g,x,E).executeNotNull()})).apply(this,arguments)}let Hl=(()=>{class w extends Gs{constructor(y,E,x,L,se){super(y,E,L,se),this.provider=x,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const E=yield y.execute();return le(E,y.auth,"internal-error"),E})()}onExecution(){var y=this;return(0,o.Z)(function*(){we(1===y.filter.length,"Popup operations only handle one event");const E=Ba();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],E),y.authWindow.associatedEvent=E,y.resolver._originValidation(y.auth).catch(x=>{y.reject(x)}),y.resolver._isIframeWebStorageSupported(y.auth,x=>{x||y.reject(Ne(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var E,x;this.pollId=null!==(x=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Ji.get())};y()}}return w.currentPopupAction=null,w})();const _s=new Map;class Hn extends Gs{constructor(g,y,E=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,E),this.eventId=null}execute(){var g=()=>super.execute,y=this;return(0,o.Z)(function*(){let E=_s.get(y.auth._key());if(!E){try{const L=(yield function ys(w,g){return Ja.apply(this,arguments)}(y.resolver,y.auth))?yield g().call(y):null;E=()=>Promise.resolve(L)}catch(x){E=()=>Promise.reject(x)}_s.set(y.auth._key(),E)}return y.bypassAuthState||_s.set(y.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(g){var y=()=>super.onAuthEvent,E=this;return(0,o.Z)(function*(){if("signInViaRedirect"===g.type)return y().call(E,g);if("unknown"!==g.type){if(g.eventId){const x=yield E.auth._redirectUserForId(g.eventId);if(x)return E.user=x,y().call(E,g);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Ja(){return(Ja=(0,o.Z)(function*(w,g){const y=$s(g),E=el(w);if(!(yield E._isAvailable()))return!1;const x="true"===(yield E._get(y));return yield E._remove(y),x})).apply(this,arguments)}function Et(w,g){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,o.Z)(function*(w,g){return el(w)._set($s(g),"true")})).apply(this,arguments)}function yo(){_s.clear()}function Nc(w,g){_s.set(w._key(),g)}function el(w){return ne(w._redirectPersistence)}function $s(w){return mn("pendingRedirect",w.config.apiKey,w.name)}function oh(w,g,y){return function ni(w,g,y){return Fc.apply(this,arguments)}(w,g,y)}function Fc(){return(Fc=(0,o.Z)(function*(w,g,y){const E=wt(w);Se(w,g,Hi);const x=Ya(E,y);return yield Et(x,E),x._openRedirect(E,g,"signInViaRedirect")})).apply(this,arguments)}function S(w,g,y){return function T(w,g,y){return k.apply(this,arguments)}(w,g,y)}function k(){return(k=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w);Se(E.auth,g,Hi);const x=Ya(E.auth,y);yield Et(x,E.auth);const L=yield Ht(E);return x._openRedirect(E.auth,g,"reauthViaRedirect",L)})).apply(this,arguments)}function U(w,g,y){return function ee(w,g,y){return fe.apply(this,arguments)}(w,g,y)}function fe(){return(fe=(0,o.Z)(function*(w,g,y){const E=(0,H.m9)(w);Se(E.auth,g,Hi);const x=Ya(E.auth,y);yield fs(!1,E,g.providerId),yield Et(x,E.auth);const L=yield Ht(E);return x._openRedirect(E.auth,g,"linkViaRedirect",L)})).apply(this,arguments)}function Pe(w,g){return We.apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(w,g){return yield wt(w)._initializationPromise,_t(w,g,!1)})).apply(this,arguments)}function _t(w,g){return kt.apply(this,arguments)}function kt(){return(kt=(0,o.Z)(function*(w,g,y=!1){const E=wt(w),x=Ya(E,g),se=yield new Hn(E,x,y).execute();return se&&!y&&(delete se.user._redirectEventId,yield E._persistUserIfCurrent(se.user),yield E._setRedirectUser(null,g)),se})).apply(this,arguments)}function Ht(w){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,o.Z)(function*(w){const g=Ba(`${w.uid}:::`);return w._redirectEventId=g,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),g})).apply(this,arguments)}class Ci{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let y=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(g,E)&&(y=!0,this.sendToConsumer(g,E),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function ea(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zs(w);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=g,y=!0)),y}sendToConsumer(g,y){var E;if(g.error&&!zs(g)){const x=(null===(E=g.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";y.onError(Ne(this.auth,x))}else y.onAuthEvent(g)}isEventForConsumer(g,y){const E=null===y.eventId||!!g.eventId&&g.eventId===y.eventId;return y.filter.includes(g.type)&&E}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(vo(g))}saveEventToCache(g){this.cachedEventUids.add(vo(g)),this.lastProcessedEventTime=Date.now()}}function vo(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(g=>g).join("-")}function zs({type:w,error:g}){return"unknown"===w&&"auth/no-auth-event"===g?.code}function bo(w){return vs.apply(this,arguments)}function vs(){return(vs=(0,o.Z)(function*(w,g={}){return Gt(w,"GET","/v1/projects",g)})).apply(this,arguments)}const yi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,er=/^https?/;function qu(){return(qu=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:g}=yield bo(w);for(const y of g)try{if(FA(y))return}catch{}it(w,"unauthorized-domain")})).apply(this,arguments)}function FA(w){const g=Ue(),{protocol:y,hostname:E}=new URL(g);if(w.startsWith("chrome-extension://")){const se=new URL(w);return""===se.hostname&&""===E?"chrome-extension:"===y&&w.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===y&&se.hostname===E}if(!er.test(y))return!1;if(yi.test(w))return E===w;const x=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(E)}const Uf=new Ke(3e4,6e4);function Lc(){const w=ti().___jsl;if(w?.H)for(const g of Object.keys(w.H))if(w.H[g].r=w.H[g].r||[],w.H[g].L=w.H[g].L||[],w.H[g].r=[...w.H[g].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let Co=null;function og(w){return Co=Co||function Hf(w){return new Promise((g,y)=>{var E,x,L;function se(){Lc(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{Lc(),y(Ne(w,"network-request-failed"))},timeout:Uf.get()})}if(null!==(x=null===(E=ti().gapi)||void 0===E?void 0:E.iframes)&&void 0!==x&&x.Iframe)g(gapi.iframes.getContext());else{if(null===(L=ti().gapi)||void 0===L||!L.load){const ke=Wa("iframefcb");return ti()[ke]=()=>{gapi.load?se():y(Ne(w,"network-request-failed"))},Xo(`https://apis.google.com/js/api.js?onload=${ke}`).catch(Xe=>y(Xe))}se()}}).catch(g=>{throw Co=null,g})}(w),Co}const jf=new Ke(5e3,15e3),Uy={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},VA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lg(w){const g=w.config;le(g.authDomain,w,"auth-domain-config-required");const y=g.emulator?Dn(g,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,E={apiKey:g.apiKey,appName:w.name,v:P.SDK_VERSION},x=VA.get(w.config.apiHost);x&&(E.eid=x);const L=w._getFrameworks();return L.length&&(E.fw=L.join(",")),`${y}?${(0,H.xO)(E).slice(1)}`}function Gf(){return Gf=(0,o.Z)(function*(w){const g=yield og(w),y=ti().gapi;return le(y,w,"internal-error"),g.open({where:document.body,url:lg(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Uy,dontclear:!0},E=>new Promise(function(){var x=(0,o.Z)(function*(L,se){yield E.restyle({setHideOnLeave:!1});const ke=Ne(w,"network-request-failed"),Xe=ti().setTimeout(()=>{se(ke)},jf.get());function ft(){ti().clearTimeout(Xe),L(E)}E.ping(ft).then(ft,()=>{se(ke)})});return function(L,se){return x.apply(this,arguments)}}()))}),Gf.apply(this,arguments)}const $f={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Gy{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tl(w,g,y,E,x,L){le(w.config.authDomain,w,"auth-domain-config-required"),le(w.config.apiKey,w,"invalid-api-key");const se={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:E,v:P.SDK_VERSION,eventId:x};if(g instanceof Hi){g.setDefaultLanguage(w.languageCode),se.providerId=g.providerId||"",(0,H.xb)(g.getCustomParameters())||(se.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Xe,ft]of Object.entries(L||{}))se[Xe]=ft}if(g instanceof Ta){const Xe=g.getScopes().filter(ft=>""!==ft);Xe.length>0&&(se.scopes=Xe.join(","))}w.tenantId&&(se.tid=w.tenantId);const ke=se;for(const Xe of Object.keys(ke))void 0===ke[Xe]&&delete ke[Xe];return`${function ta({config:w}){return w.emulator?Dn(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,H.xO)(ke).slice(1)}`}const ah="webStorageSupport",Wf=class qf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=_t,this._overrideRedirectResult=Nc}_openPopup(g,y,E,x){var L=this;return(0,o.Z)(function*(){var se;we(null===(se=L.eventManagers[g._key()])||void 0===se?void 0:se.manager,"_initialize() not called before _openPopup()");const ke=tl(g,y,E,Ue(),x);return function Vc(w,g,y,E=500,x=600){const L=Math.max((window.screen.availHeight-x)/2,0).toString(),se=Math.max((window.screen.availWidth-E)/2,0).toString();let ke="";const Xe=Object.assign(Object.assign({},$f),{width:E.toString(),height:x.toString(),top:L,left:se}),ft=(0,H.z$)().toLowerCase();y&&(ke=Ee(ft)?"_blank":y),G(ft)&&(g=g||"http://localhost",Xe.scrollbars="yes");const $t=Object.entries(Xe).reduce((qs,[Uc,Zf])=>`${qs}${Uc}=${Zf},`,"");if(function Vn(w=(0,H.z$)()){var g;return at(w)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(ft)&&"_self"!==ke)return function Gl(w,g){const y=document.createElement("a");y.href=w,y.target=g;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(E)}(g||"",ke),new Gy(null);const Nn=window.open(g||"",ke,$t);le(Nn,w,"popup-blocked");try{Nn.focus()}catch{}return new Gy(Nn)}(g,ke,Ba())})()}_openRedirect(g,y,E,x){var L=this;return(0,o.Z)(function*(){return yield L._originValidation(g),function eh(w){ti().location.href=w}(tl(g,y,E,Ue(),x)),new Promise(()=>{})})()}_initialize(g){const y=g._key();if(this.eventManagers[y]){const{manager:x,promise:L}=this.eventManagers[y];return x?Promise.resolve(x):(we(L,"If manager is not set, promise should be"),L)}const E=this.initAndGetManager(g);return this.eventManagers[y]={promise:E},E.catch(()=>{delete this.eventManagers[y]}),E}initAndGetManager(g){var y=this;return(0,o.Z)(function*(){const E=yield function wC(w){return Gf.apply(this,arguments)}(g),x=new Ci(g);return E.register("authEvent",L=>(le(L?.authEvent,g,"invalid-auth-event"),{status:x.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[g._key()]={manager:x},y.iframes[g._key()]=E,x})()}_isIframeWebStorageSupported(g,y){this.iframes[g._key()].send(ah,{type:ah},x=>{var L;const se=null===(L=x?.[0])||void 0===L?void 0:L[ah];void 0!==se&&y(!!se),it(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const y=g._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function wo(w){return qu.apply(this,arguments)}(g)),this.originValidationPromises[y]}get _shouldInitProactively(){return wn()||q()||at()}};class ch extends class lh{constructor(g){this.factorId=g}_process(g,y,E){switch(y.type){case"enroll":return this._finalizeEnroll(g,y.credential,E);case"signin":return this._finalizeSignIn(g,y.credential);default:return he("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new ch(g)}_finalizeEnroll(g,y,E){return function Sc(w,g){return Gt(w,"POST","/v2/accounts/mfaEnrollment:finalize",Yt(w,g))}(g,{idToken:y,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,y){return function za(w,g){return Gt(w,"POST","/v2/accounts/mfaSignIn:finalize",Yt(w,g))}(g,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Eo=(()=>{class w{constructor(){}static assertion(y){return ch._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var na="@firebase/auth";class CC{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const y=this.auth.onIdTokenChanged(E=>{var x;g((null===(x=E)||void 0===x?void 0:x.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,y),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const y=this.internalListeners.get(g);!y||(this.internalListeners.delete(g),y(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function $y(w){(0,P._registerComponent)(new ye.wA("auth",(g,{options:y})=>{const E=g.getProvider("app").getImmediate(),x=g.getProvider("heartbeat"),{apiKey:L,authDomain:se}=E.options;return((ke,Xe)=>{le(L&&!L.includes(":"),"invalid-api-key",{appName:ke.name}),le(!se?.includes(":"),"argument-error",{appName:ke.name});const ft={apiKey:L,authDomain:se,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn(w)},$t=new Uo(ke,Xe,ft);return function ue(w,g){const y=g?.persistence||[],E=(Array.isArray(y)?y:[y]).map(ne);g?.errorMap&&w._updateErrorMap(g.errorMap),w._initializeWithPersistence(E,g?.popupRedirectResolver)}($t,y),$t})(E,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,y,E)=>{g.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new ye.wA("auth-internal",g=>{const y=wt(g.getProvider("auth").getImmediate());return new CC(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(na,"0.20.6",function EC(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,P.registerVersion)(na,"0.20.6","esm2017")}("Browser")},2090:(ht,xe,V)=>{V.d(xe,{$s:()=>Ki,BH:()=>$e,DV:()=>Gt,Dv:()=>ki,G6:()=>le,GJ:()=>nn,L:()=>me,LL:()=>Ue,Mn:()=>Se,Pz:()=>Zt,Sg:()=>Fe,UG:()=>De,UI:()=>Vo,US:()=>ye,Wj:()=>kn,Yr:()=>Ze,ZB:()=>Z,ZR:()=>ue,b$:()=>it,cI:()=>tn,d:()=>Ne,dS:()=>mt,eu:()=>we,g5:()=>P,gK:()=>hs,gQ:()=>$r,h$:()=>oe,hl:()=>he,hu:()=>H,jU:()=>_e,lb:()=>In,m9:()=>Kt,ne:()=>ds,p$:()=>W,pd:()=>Kn,r3:()=>Yt,ru:()=>nt,tV:()=>Ce,uI:()=>lt,ug:()=>gt,vZ:()=>Bi,w1:()=>Re,w9:()=>cn,xO:()=>us,xb:()=>Vi,z$:()=>Ie,zI:()=>J,zd:()=>pr});const H=function(X,$){if(!X)throw P($)},P=function(X){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+X)},ce=function(X){const $=[];let j=0;for(let Y=0;Y<X.length;Y++){let K=X.charCodeAt(Y);K<128?$[j++]=K:K<2048?($[j++]=K>>6|192,$[j++]=63&K|128):55296==(64512&K)&&Y+1<X.length&&56320==(64512&X.charCodeAt(Y+1))?(K=65536+((1023&K)<<10)+(1023&X.charCodeAt(++Y)),$[j++]=K>>18|240,$[j++]=K>>12&63|128,$[j++]=K>>6&63|128,$[j++]=63&K|128):($[j++]=K>>12|224,$[j++]=K>>6&63|128,$[j++]=63&K|128)}return $},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(X,$){if(!Array.isArray(X))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Y=[];for(let K=0;K<X.length;K+=3){const Ae=X[K],qe=K+1<X.length,Dt=qe?X[K+1]:0,gn=K+2<X.length,mn=gn?X[K+2]:0;let G=(15&Dt)<<2|mn>>6,q=63&mn;gn||(q=64,qe||(G=64)),Y.push(j[Ae>>2],j[(3&Ae)<<4|Dt>>4],j[G],j[q])}return Y.join("")},encodeString(X,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(X):this.encodeByteArray(ce(X),$)},decodeString(X,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(X):function(X){const $=[];let j=0,Y=0;for(;j<X.length;){const K=X[j++];if(K<128)$[Y++]=String.fromCharCode(K);else if(K>191&&K<224){const Ae=X[j++];$[Y++]=String.fromCharCode((31&K)<<6|63&Ae)}else if(K>239&&K<365){const gn=((7&K)<<18|(63&X[j++])<<12|(63&X[j++])<<6|63&X[j++])-65536;$[Y++]=String.fromCharCode(55296+(gn>>10)),$[Y++]=String.fromCharCode(56320+(1023&gn))}else{const Ae=X[j++],qe=X[j++];$[Y++]=String.fromCharCode((15&K)<<12|(63&Ae)<<6|63&qe)}}return $.join("")}(this.decodeStringToByteArray(X,$))},decodeStringToByteArray(X,$){this.init_();const j=$?this.charToByteMapWebSafe_:this.charToByteMap_,Y=[];for(let K=0;K<X.length;){const Ae=j[X.charAt(K++)],Dt=K<X.length?j[X.charAt(K)]:0;++K;const mn=K<X.length?j[X.charAt(K)]:64;++K;const re=K<X.length?j[X.charAt(K)]:64;if(++K,null==Ae||null==Dt||null==mn||null==re)throw Error();Y.push(Ae<<2|Dt>>4),64!==mn&&(Y.push(Dt<<4&240|mn>>2),64!==re&&Y.push(mn<<6&192|re))}return Y},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let X=0;X<this.ENCODED_VALS.length;X++)this.byteToCharMap_[X]=this.ENCODED_VALS.charAt(X),this.charToByteMap_[this.byteToCharMap_[X]]=X,this.byteToCharMapWebSafe_[X]=this.ENCODED_VALS_WEBSAFE.charAt(X),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[X]]=X,X>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(X)]=X,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(X)]=X)}}},oe=function(X){const $=ce(X);return ye.encodeByteArray($,!0)},me=function(X){return oe(X).replace(/\./g,"")},Ce=function(X){try{return ye.decodeString(X,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function W(X){return Z(void 0,X)}function Z(X,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===X&&(X={});break;case Array:X=[];break;default:return $}for(const j in $)!$.hasOwnProperty(j)||!te(j)||(X[j]=Z(X[j],$[j]));return X}function te(X){return"__proto__"!==X}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,j)=>{this.resolve=$,this.reject=j})}wrapCallback($){return(j,Y)=>{j?this.reject(j):this.resolve(Y),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(j):$(j,Y))}}}function Fe(X,$){if(X.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Y=$||"demo-project",K=X.iat||0,Ae=X.sub||X.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const qe=Object.assign({iss:`https://securetoken.google.com/${Y}`,aud:Y,iat:K,exp:K+3600,auth_time:K,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},X);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(qe)),""].join(".")}function Ie(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ie())}function De(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function _e(){return"object"==typeof self&&self.self===self}function nt(){const X="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof X&&void 0!==X.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ie().indexOf("Electron/")>=0}function Re(){const X=Ie();return X.indexOf("MSIE ")>=0||X.indexOf("Trident/")>=0}function Se(){return Ie().indexOf("MSAppHost/")>=0}function Ze(){return!1}function le(){return!De()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function we(){return new Promise((X,$)=>{try{let j=!0;const Y="validate-browser-context-for-indexeddb-analytics-module",K=self.indexedDB.open(Y);K.onsuccess=()=>{K.result.close(),j||self.indexedDB.deleteDatabase(Y),X(!0)},K.onupgradeneeded=()=>{j=!1},K.onerror=()=>{var Ae;$((null===(Ae=K.error)||void 0===Ae?void 0:Ae.message)||"")}}catch(j){$(j)}})}function J(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ue extends Error{constructor($,j,Y){super(j),this.code=$,this.customData=Y,this.name="FirebaseError",Object.setPrototypeOf(this,ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ue.prototype.create)}}class Ue{constructor($,j,Y){this.service=$,this.serviceName=j,this.errors=Y}create($,...j){const Y=j[0]||{},K=`${this.service}/${$}`,Ae=this.errors[$],qe=Ae?function He(X,$){return X.replace(vt,(j,Y)=>{const K=$[Y];return null!=K?String(K):`<${Y}?>`})}(Ae,Y):"Error";return new ue(K,`${this.serviceName}: ${qe} (${K}).`,Y)}}const vt=/\{\$([^}]+)}/g;function tn(X){return JSON.parse(X)}function Zt(X){return JSON.stringify(X)}const Ke=function(X){let $={},j={},Y={},K="";try{const Ae=X.split(".");$=tn(Ce(Ae[0])||""),j=tn(Ce(Ae[1])||""),K=Ae[2],Y=j.d||{},delete j.d}catch{}return{header:$,claims:j,data:Y,signature:K}},cn=function(X){const j=Ke(X).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},nn=function(X){const $=Ke(X).claims;return"object"==typeof $&&!0===$.admin};function Yt(X,$){return Object.prototype.hasOwnProperty.call(X,$)}function Gt(X,$){if(Object.prototype.hasOwnProperty.call(X,$))return X[$]}function Vi(X){for(const $ in X)if(Object.prototype.hasOwnProperty.call(X,$))return!1;return!0}function Vo(X,$,j){const Y={};for(const K in X)Object.prototype.hasOwnProperty.call(X,K)&&(Y[K]=$.call(j,X[K],K,X));return Y}function Bi(X,$){if(X===$)return!0;const j=Object.keys(X),Y=Object.keys($);for(const K of j){if(!Y.includes(K))return!1;const Ae=X[K],qe=$[K];if(Ln(Ae)&&Ln(qe)){if(!Bi(Ae,qe))return!1}else if(Ae!==qe)return!1}for(const K of Y)if(!j.includes(K))return!1;return!0}function Ln(X){return null!==X&&"object"==typeof X}function us(X){const $=[];for(const[j,Y]of Object.entries(X))Array.isArray(Y)?Y.forEach(K=>{$.push(encodeURIComponent(j)+"="+encodeURIComponent(K))}):$.push(encodeURIComponent(j)+"="+encodeURIComponent(Y));return $.length?"&"+$.join("&"):""}function pr(X){const $={};return X.replace(/^\?/,"").split("&").forEach(Y=>{if(Y){const[K,Ae]=Y.split("=");$[decodeURIComponent(K)]=decodeURIComponent(Ae)}}),$}function Kn(X){const $=X.indexOf("?");if(!$)return"";const j=X.indexOf("#",$);return X.substring($,j>0?j:void 0)}class $r{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let $=1;$<this.blockSize;++$)this.pad_[$]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_($,j){j||(j=0);const Y=this.W_;if("string"==typeof $)for(let re=0;re<16;re++)Y[re]=$.charCodeAt(j)<<24|$.charCodeAt(j+1)<<16|$.charCodeAt(j+2)<<8|$.charCodeAt(j+3),j+=4;else for(let re=0;re<16;re++)Y[re]=$[j]<<24|$[j+1]<<16|$[j+2]<<8|$[j+3],j+=4;for(let re=16;re<80;re++){const G=Y[re-3]^Y[re-8]^Y[re-14]^Y[re-16];Y[re]=4294967295&(G<<1|G>>>31)}let mn,fi,K=this.chain_[0],Ae=this.chain_[1],qe=this.chain_[2],Dt=this.chain_[3],gn=this.chain_[4];for(let re=0;re<80;re++){re<40?re<20?(mn=Dt^Ae&(qe^Dt),fi=1518500249):(mn=Ae^qe^Dt,fi=1859775393):re<60?(mn=Ae&qe|Dt&(Ae|qe),fi=2400959708):(mn=Ae^qe^Dt,fi=3395469782);const G=(K<<5|K>>>27)+mn+gn+fi+Y[re]&4294967295;gn=Dt,Dt=qe,qe=4294967295&(Ae<<30|Ae>>>2),Ae=K,K=G}this.chain_[0]=this.chain_[0]+K&4294967295,this.chain_[1]=this.chain_[1]+Ae&4294967295,this.chain_[2]=this.chain_[2]+qe&4294967295,this.chain_[3]=this.chain_[3]+Dt&4294967295,this.chain_[4]=this.chain_[4]+gn&4294967295}update($,j){if(null==$)return;void 0===j&&(j=$.length);const Y=j-this.blockSize;let K=0;const Ae=this.buf_;let qe=this.inbuf_;for(;K<j;){if(0===qe)for(;K<=Y;)this.compress_($,K),K+=this.blockSize;if("string"==typeof $){for(;K<j;)if(Ae[qe]=$.charCodeAt(K),++qe,++K,qe===this.blockSize){this.compress_(Ae),qe=0;break}}else for(;K<j;)if(Ae[qe]=$[K],++qe,++K,qe===this.blockSize){this.compress_(Ae),qe=0;break}}this.inbuf_=qe,this.total_+=j}digest(){const $=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let K=this.blockSize-1;K>=56;K--)this.buf_[K]=255&j,j/=256;this.compress_(this.buf_);let Y=0;for(let K=0;K<5;K++)for(let Ae=24;Ae>=0;Ae-=8)$[Y]=this.chain_[K]>>Ae&255,++Y;return $}}function ds(X,$){const j=new rt(X,$);return j.subscribe.bind(j)}class rt{constructor($,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{$(this)}).catch(Y=>{this.error(Y)})}next($){this.forEachObserver(j=>{j.next($)})}error($){this.forEachObserver(j=>{j.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,j,Y){let K;if(void 0===$&&void 0===j&&void 0===Y)throw new Error("Missing Observer.");K=function Qn(X,$){if("object"!=typeof X||null===X)return!1;for(const j of $)if(j in X&&"function"==typeof X[j])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:j,complete:Y},void 0===K.next&&(K.next=bn),void 0===K.error&&(K.error=bn),void 0===K.complete&&(K.complete=bn);const Ae=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?K.error(this.finalError):K.complete()}catch{}}),this.observers.push(K),Ae}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,$)}sendOne($,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{j(this.observers[$])}catch(Y){typeof console<"u"&&console.error&&console.error(Y)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function bn(){}const ki=function(X,$,j,Y){let K;if(Y<$?K="at least "+$:Y>j&&(K=0===j?"none":"no more than "+j),K)throw new Error(X+" failed: Was called with "+Y+(1===Y?" argument.":" arguments.")+" Expects "+K+".")};function hs(X,$){return`${X} failed: ${$} argument `}function kn(X,$,j,Y){if((!Y||j)&&"function"!=typeof j)throw new Error(hs(X,$)+"must be a valid function.")}function In(X,$,j,Y){if((!Y||j)&&("object"!=typeof j||null===j))throw new Error(hs(X,$)+"must be a valid context object.")}const mt=function(X){const $=[];let j=0;for(let Y=0;Y<X.length;Y++){let K=X.charCodeAt(Y);if(K>=55296&&K<=56319){const Ae=K-55296;Y++,H(Y<X.length,"Surrogate pair missing trail surrogate."),K=65536+(Ae<<10)+(X.charCodeAt(Y)-56320)}K<128?$[j++]=K:K<2048?($[j++]=K>>6|192,$[j++]=63&K|128):K<65536?($[j++]=K>>12|224,$[j++]=K>>6&63|128,$[j++]=63&K|128):($[j++]=K>>18|240,$[j++]=K>>12&63|128,$[j++]=K>>6&63|128,$[j++]=63&K|128)}return $},gt=function(X){let $=0;for(let j=0;j<X.length;j++){const Y=X.charCodeAt(j);Y<128?$++:Y<2048?$+=2:Y>=55296&&Y<=56319?($+=4,j++):$+=3}return $};function Ki(X,$=1e3,j=2){const Y=$*Math.pow(j,X),K=Math.round(.5*Y*(Math.random()-.5)*2);return Math.min(144e5,Y+K)}function Kt(X){return X&&X._delegate?X._delegate:X}},9:(ht,xe,V)=>{var o=V(4650);let H=null;function P(){return H}const oe=new o.OlP("DocumentToken");let me=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ce(){return(0,o.LFG)(Z)}()},providedIn:"platform"}),n})();const W=new o.OlP("Location Initialized");let Z=(()=>{class n extends me{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=P().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){te()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){te()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function $e(){return new Z((0,o.LFG)(oe))}()},providedIn:"platform"}),n})();function te(){return!!window.history.pushState}function Fe(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function lt(n){return n&&"?"!==n[0]?"?"+n:n}let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(nt)},providedIn:"root"}),n})();const _e=new o.OlP("appBaseHref");let nt=(()=>{class n extends De{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,o.f3M)(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Fe(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+lt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+lt(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+lt(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(me),o.LFG(_e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),it=(()=>{class n extends De{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Fe(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+lt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+lt(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(me),o.LFG(_e,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(e){this._subject=new o.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=Ie(Ze(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+lt(i))}normalize(e){return n.stripTrailingSlash(function Se(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ze(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+lt(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=lt,n.joinWithSlash=Fe,n.stripTrailingSlash=Ie,n.\u0275fac=function(e){return new(e||n)(o.LFG(De))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Re(){return new Ne((0,o.LFG)(De))}()},providedIn:"root"}),n})();function Ze(n){return n.replace(/\/index.html$/,"")}var J=(()=>((J=J||{})[J.Format=0]="Format",J[J.Standalone=1]="Standalone",J))(),ne=(()=>((ne=ne||{})[ne.Narrow=0]="Narrow",ne[ne.Abbreviated=1]="Abbreviated",ne[ne.Wide=2]="Wide",ne[ne.Short=3]="Short",ne))(),ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge))(),ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Group=1]="Group",ue[ue.List=2]="List",ue[ue.PercentSign=3]="PercentSign",ue[ue.PlusSign=4]="PlusSign",ue[ue.MinusSign=5]="MinusSign",ue[ue.Exponential=6]="Exponential",ue[ue.SuperscriptingExponent=7]="SuperscriptingExponent",ue[ue.PerMille=8]="PerMille",ue[ue.Infinity=9]="Infinity",ue[ue.NaN=10]="NaN",ue[ue.TimeSeparator=11]="TimeSeparator",ue[ue.CurrencyDecimal=12]="CurrencyDecimal",ue[ue.CurrencyGroup=13]="CurrencyGroup",ue))();function cn(n,t){return rt((0,o.cg1)(n)[o.wAp.DateFormat],t)}function nn(n,t){return rt((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function Yt(n,t){return rt((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Gt(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ue.CurrencyDecimal)return e[o.wAp.NumberSymbols][ue.Decimal];if(t===ue.CurrencyGroup)return e[o.wAp.NumberSymbols][ue.Group]}return i}function pr(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function rt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function xi(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const hs=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,xn={},kn=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var In=(()=>((In=In||{})[In.Short=0]="Short",In[In.ShortGMT=1]="ShortGMT",In[In.Long=2]="Long",In[In.Extended=3]="Extended",In))(),mt=(()=>((mt=mt||{})[mt.FullYear=0]="FullYear",mt[mt.Month=1]="Month",mt[mt.Date=2]="Date",mt[mt.Hours=3]="Hours",mt[mt.Minutes=4]="Minutes",mt[mt.Seconds=5]="Seconds",mt[mt.FractionalSeconds=6]="FractionalSeconds",mt[mt.Day=7]="Day",mt))(),gt=(()=>((gt=gt||{})[gt.DayPeriods=0]="DayPeriods",gt[gt.Days=1]="Days",gt[gt.Months=2]="Months",gt[gt.Eras=3]="Eras",gt))();function Ft(n,t,e,i){let r=function q(n){if(Ye(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(d=>+d);return or(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(hs))return function Ee(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,p=Number(n[6]||0),_=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,d,p,_),t}(i)}const t=new Date(n);if(!Ye(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ri(e,t)||t;let d,c=[];for(;t;){if(d=kn.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const b=c.pop();if(!b)break;t=b}}let p=r.getTimezoneOffset();i&&(p=fi(i,p),r=function G(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function re(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(fi(t,r)-r))}(r,i,!0));let _="";return c.forEach(b=>{const I=function mn(n){if(gn[n])return gn[n];let t;switch(n){case"G":case"GG":case"GGG":t=Kt(gt.Eras,ne.Abbreviated);break;case"GGGG":t=Kt(gt.Eras,ne.Wide);break;case"GGGGG":t=Kt(gt.Eras,ne.Narrow);break;case"y":t=Vt(mt.FullYear,1,0,!1,!0);break;case"yy":t=Vt(mt.FullYear,2,0,!0,!0);break;case"yyy":t=Vt(mt.FullYear,3,0,!1,!0);break;case"yyyy":t=Vt(mt.FullYear,4,0,!1,!0);break;case"Y":t=Dt(1);break;case"YY":t=Dt(2,!0);break;case"YYY":t=Dt(3);break;case"YYYY":t=Dt(4);break;case"M":case"L":t=Vt(mt.Month,1,1);break;case"MM":case"LL":t=Vt(mt.Month,2,1);break;case"MMM":t=Kt(gt.Months,ne.Abbreviated);break;case"MMMM":t=Kt(gt.Months,ne.Wide);break;case"MMMMM":t=Kt(gt.Months,ne.Narrow);break;case"LLL":t=Kt(gt.Months,ne.Abbreviated,J.Standalone);break;case"LLLL":t=Kt(gt.Months,ne.Wide,J.Standalone);break;case"LLLLL":t=Kt(gt.Months,ne.Narrow,J.Standalone);break;case"w":t=qe(1);break;case"ww":t=qe(2);break;case"W":t=qe(1,!0);break;case"d":t=Vt(mt.Date,1);break;case"dd":t=Vt(mt.Date,2);break;case"c":case"cc":t=Vt(mt.Day,1);break;case"ccc":t=Kt(gt.Days,ne.Abbreviated,J.Standalone);break;case"cccc":t=Kt(gt.Days,ne.Wide,J.Standalone);break;case"ccccc":t=Kt(gt.Days,ne.Narrow,J.Standalone);break;case"cccccc":t=Kt(gt.Days,ne.Short,J.Standalone);break;case"E":case"EE":case"EEE":t=Kt(gt.Days,ne.Abbreviated);break;case"EEEE":t=Kt(gt.Days,ne.Wide);break;case"EEEEE":t=Kt(gt.Days,ne.Narrow);break;case"EEEEEE":t=Kt(gt.Days,ne.Short);break;case"a":case"aa":case"aaa":t=Kt(gt.DayPeriods,ne.Abbreviated);break;case"aaaa":t=Kt(gt.DayPeriods,ne.Wide);break;case"aaaaa":t=Kt(gt.DayPeriods,ne.Narrow);break;case"b":case"bb":case"bbb":t=Kt(gt.DayPeriods,ne.Abbreviated,J.Standalone,!0);break;case"bbbb":t=Kt(gt.DayPeriods,ne.Wide,J.Standalone,!0);break;case"bbbbb":t=Kt(gt.DayPeriods,ne.Narrow,J.Standalone,!0);break;case"B":case"BB":case"BBB":t=Kt(gt.DayPeriods,ne.Abbreviated,J.Format,!0);break;case"BBBB":t=Kt(gt.DayPeriods,ne.Wide,J.Format,!0);break;case"BBBBB":t=Kt(gt.DayPeriods,ne.Narrow,J.Format,!0);break;case"h":t=Vt(mt.Hours,1,-12);break;case"hh":t=Vt(mt.Hours,2,-12);break;case"H":t=Vt(mt.Hours,1);break;case"HH":t=Vt(mt.Hours,2);break;case"m":t=Vt(mt.Minutes,1);break;case"mm":t=Vt(mt.Minutes,2);break;case"s":t=Vt(mt.Seconds,1);break;case"ss":t=Vt(mt.Seconds,2);break;case"S":t=Vt(mt.FractionalSeconds,1);break;case"SS":t=Vt(mt.FractionalSeconds,2);break;case"SSS":t=Vt(mt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=$(In.Short);break;case"ZZZZZ":t=$(In.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=$(In.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=$(In.Long);break;default:return null}return gn[n]=t,t}(b);_+=I?I(r,e,p):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),_}function or(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ri(n,t){const e=function He(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(xn[e]=xn[e]||{},xn[e][t])return xn[e][t];let i="";switch(t){case"shortDate":i=cn(n,ge.Short);break;case"mediumDate":i=cn(n,ge.Medium);break;case"longDate":i=cn(n,ge.Long);break;case"fullDate":i=cn(n,ge.Full);break;case"shortTime":i=nn(n,ge.Short);break;case"mediumTime":i=nn(n,ge.Medium);break;case"longTime":i=nn(n,ge.Long);break;case"fullTime":i=nn(n,ge.Full);break;case"short":const r=Ri(n,"shortTime"),s=Ri(n,"shortDate");i=Ui(Yt(n,ge.Short),[r,s]);break;case"medium":const c=Ri(n,"mediumTime"),d=Ri(n,"mediumDate");i=Ui(Yt(n,ge.Medium),[c,d]);break;case"long":const p=Ri(n,"longTime"),_=Ri(n,"longDate");i=Ui(Yt(n,ge.Long),[p,_]);break;case"full":const b=Ri(n,"fullTime"),I=Ri(n,"fullDate");i=Ui(Yt(n,ge.Full),[b,I])}return i&&(xn[e][t]=i),i}function Ui(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function xt(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.slice(c.length-t)),s+c}function Vt(n,t,e=0,i=!1,r=!1){return function(s,c){let d=function mr(n,t){switch(n){case mt.FullYear:return t.getFullYear();case mt.Month:return t.getMonth();case mt.Date:return t.getDate();case mt.Hours:return t.getHours();case mt.Minutes:return t.getMinutes();case mt.Seconds:return t.getSeconds();case mt.FractionalSeconds:return t.getMilliseconds();case mt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===mt.Hours)0===d&&-12===e&&(d=12);else if(n===mt.FractionalSeconds)return function Ki(n,t){return xt(n,3).substring(0,t)}(d,t);const p=Gt(c,ue.MinusSign);return xt(d,t,p,i,r)}}function Kt(n,t,e=J.Format,i=!1){return function(r,s){return function X(n,t,e,i,r,s){switch(e){case gt.Months:return function Zt(n,t,e){const i=(0,o.cg1)(n),s=rt([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return rt(s,e)}(t,r,i)[n.getMonth()];case gt.Days:return function tn(n,t,e){const i=(0,o.cg1)(n),s=rt([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return rt(s,e)}(t,r,i)[n.getDay()];case gt.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(s){const _=function Kn(n){const t=(0,o.cg1)(n);return pr(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?xi(i):[xi(i[0]),xi(i[1])])}(t),b=function $r(n,t,e){const i=(0,o.cg1)(n);pr(i);const s=rt([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return rt(s,e)||[]}(t,r,i),I=_.findIndex(M=>{if(Array.isArray(M)){const[O,N]=M,z=c>=O.hours&&d>=O.minutes,ie=c<N.hours||c===N.hours&&d<N.minutes;if(O.hours<N.hours){if(z&&ie)return!0}else if(z||ie)return!0}else if(M.hours===c&&M.minutes===d)return!0;return!1});if(-1!==I)return b[I]}return function vt(n,t,e){const i=(0,o.cg1)(n),s=rt([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return rt(s,e)}(t,r,i)[c<12?0:1];case gt.Eras:return function Ke(n,t){return rt((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function $(n){return function(t,e,i){const r=-1*i,s=Gt(e,ue.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case In.Short:return(r>=0?"+":"")+xt(c,2,s)+xt(Math.abs(r%60),2,s);case In.ShortGMT:return"GMT"+(r>=0?"+":"")+xt(c,1,s);case In.Long:return"GMT"+(r>=0?"+":"")+xt(c,2,s)+":"+xt(Math.abs(r%60),2,s);case In.Extended:return 0===i?"Z":(r>=0?"+":"")+xt(c,2,s)+":"+xt(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ae(n){return or(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function qe(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=Ae(e),c=function K(n){const t=or(n,0,1).getDay();return or(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),d=s.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return xt(r,n,Gt(i,ue.MinusSign))}}function Dt(n,t=!1){return function(e,i){return xt(Ae(e).getFullYear(),n,Gt(i,ue.MinusSign),t)}}const gn={};function fi(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Ye(n){return n instanceof Date&&!isNaN(n.valueOf())}function _c(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let un=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Go{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Go(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),$o(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{$o(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $o(n,t){n.context.$implicit=t.item}let _n=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new If,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){pi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){pi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class If{constructor(){this.$implicit=null,this.ngIf=null}}function pi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class Sr{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ps=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Ca=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new Sr(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ps,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})(),Ea=(()=>{class n{constructor(e,i,r){r._addDefault(new Sr(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Ps,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]],standalone:!0}),n})(),yc=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split("."),c=-1===r.indexOf("-")?void 0:o.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Tr(n,t){return new o.vHH(2100,!1)}class Km{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Ns{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Qm=new Ns,Nd=new Km;let bl=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Qm;if((0,o.F4k)(e))return Nd;throw Tr()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Jm=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let vc=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){if(null==e||""===e||e!=e)return null;try{return Ft(e,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(c){throw Tr()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(Jm,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Ar="browser";function Ma(n){return"server"===n}let Hd=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Sf((0,o.LFG)(oe),window)}),n})();class Sf{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function ji(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=qr(this.window.history)||qr(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function qr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Zo{}class ho extends class qd extends class ye{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function de(n){H||(H=n)}(new ho)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Wd(){return fo=fo||document.querySelector("base"),fo?fo.getAttribute("href"):null}();return null==e?null:function Bs(n){Bn=Bn||document.createElement("a"),Bn.setAttribute("href",n);const t=Bn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return _c(document.cookie,t)}}let Bn,fo=null;const Un=new o.OlP("TRANSITION_ID"),Ru=[{provide:o.ip1,useFactory:function ku(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=P(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Un,oe,o.zs3],multi:!0}];let Ou=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Pu=new o.OlP("EventManagerPlugins");let Yd=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Pu),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Nu{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=P().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Fa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),La=(()=>{class n extends Fa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Kd),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Kd))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Kd(n){P().remove(n)}const Va={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qd=/%COMP%/g;function Tc(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Tc(n,r,e):(r=r.replace(Qd,n),e.push(r))}return e}function Ac(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ol=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Us(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Jd(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Of(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Tc(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Yd),o.LFG(La),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Us{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Va[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Nl(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Nl(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=Va[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Va[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ac(i)):this.eventManager.addEventListener(t,e,Ac(i))}}function Nl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Jd extends Us{constructor(t,e,i,r){super(t),this.component=i;const s=Tc(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function ei(n){return"_ngcontent-%COMP%".replace(Qd,n)}(r+"-"+i.id),this.hostAttr=function Sc(n){return"_nghost-%COMP%".replace(Qd,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Of extends Us{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=Tc(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let _i=(()=>{class n extends Nu{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Pf=["alt","control","meta","shift"],po={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vu={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fl=(()=>{class n extends Nu{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="",d=i.indexOf("code");if(d>-1&&(i.splice(d,1),c="code."),Pf.forEach(_=>{const b=i.indexOf(_);b>-1&&(i.splice(b,1),c+=_+".")}),c+=s,0!=i.length||0===s.length)return null;const p={};return p.domEventName=r,p.fullKey=c,p}static matchEventFullKeyCode(e,i){let r=po[e.key]||e.key,s="";return i.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Pf.forEach(c=>{c!==r&&(0,Vu[c])(e)&&(s+=c+".")}),s+=r,s===i)}static eventCallback(e,i,r){return s=>{n.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ll=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Ar},{provide:o.g9A,useValue:function th(){ho.makeCurrent()},multi:!0},{provide:oe,useFactory:function Bu(){return(0,o.RDi)(document),document},deps:[]}]),Ko=new o.OlP(""),Vl=[{provide:o.rWj,useClass:class Zd{addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(p){c=c||p,s--,0==s&&i(c)};r.forEach(function(p){p.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?P().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:o.lri,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b,o.eoX,o.rWj]}],Ua=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Hs(){return new o.qLn},deps:[]},{provide:Pu,useClass:_i,multi:!0,deps:[oe,o.R0b,o.Lbi]},{provide:Pu,useClass:Fl,multi:!0,deps:[oe]},{provide:Ol,useClass:Ol,deps:[Yd,La,o.AFp]},{provide:o.FYo,useExisting:Ol},{provide:Fa,useExisting:La},{provide:La,useClass:La,deps:[oe]},{provide:Yd,useClass:Yd,deps:[Pu,o.R0b]},{provide:Zo,useClass:Ou,deps:[]},[]];let Qo=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Un,useExisting:o.AFp},Ru]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ko,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[...Ua,...Vl],imports:[qo,o.hGG]}),n})(),ms=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Bl(){return new ms((0,o.LFG)(oe))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let go=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(rg),i},providedIn:"root"}),n})(),rg=(()=>{class n extends go{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function By(n){return new rg(n.get(oe))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var rn=V(8996),ci=V(9751);const{isArray:ju}=Array,{getPrototypeOf:rh,prototype:Xi,keys:js}=Object;function Ul(n){if(1===n.length){const t=n[0];if(ju(t))return{args:t,keys:null};if(function Jo(n){return n&&"object"==typeof n&&rh(n)===Xi}(t)){const e=js(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var lr=V(8421),_o=V(3269),On=V(5403),ct=V(4004);const{isArray:Ya}=Array;function Oc(n){return(0,ct.U)(t=>function Gu(n,t){return Ya(t)?n(...t):n(t)}(n,t))}function cr(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function Ka(...n){const t=(0,_o.jO)(n),{args:e,keys:i}=Ul(n),r=new ci.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let p=c,_=c;for(let b=0;b<c;b++){let I=!1;(0,lr.Xf)(e[b]).subscribe((0,On.x)(s,M=>{I||(I=!0,_--),d[b]=M},()=>p--,void 0,()=>{(!p||!I)&&(_||s.next(i?cr(i,d):d),s.complete())}))}});return t?r.pipe(Oc(t)):r}let Zr=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Gs=(()=>{class n extends Zr{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Ji=new o.OlP("NgValueAccessor"),zu={provide:Ji,useExisting:(0,o.Gpc)(()=>Xa),multi:!0},sg=new o.OlP("CompositionEventMode");let Xa=(()=>{class n extends Zr{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sh(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(sg,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([zu]),o.qOj]}),n})();function Yr(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function _s(n){return null!=n&&"number"==typeof n.length}const Hn=new o.OlP("NgValidators"),ys=new o.OlP("NgAsyncValidators"),Ja=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Et{static min(t){return function Pc(n){return t=>{if(Yr(t.value)||Yr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function yo(n){return t=>{if(Yr(t.value)||Yr(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Nc(t)}static requiredTrue(t){return function el(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function $s(n){return Yr(n.value)||Ja.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function oh(n){return t=>Yr(t.value)||!_s(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ni(n){return t=>_s(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Fc(n){if(!n)return S;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Yr(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return We(t)}static composeAsync(t){return kt(t)}}function Nc(n){return Yr(n.value)?{required:!0}:null}function S(n){return null}function T(n){return null!=n}function k(n){return(0,o.QGY)(n)?(0,rn.D)(n):n}function U(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function ee(n,t){return t.map(e=>e(n))}function Pe(n){return n.map(t=>function fe(n){return!n.validate}(t)?t:e=>t.validate(e))}function We(n){if(!n)return null;const t=n.filter(T);return 0==t.length?null:function(e){return U(ee(e,t))}}function _t(n){return null!=n?We(Pe(n)):null}function kt(n){if(!n)return null;const t=n.filter(T);return 0==t.length?null:function(e){return Ka(ee(e,t).map(k)).pipe((0,ct.U)(U))}}function Ht(n){return null!=n?kt(Pe(n)):null}function Ct(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ii(n){return n._rawValidators}function Ci(n){return n._rawAsyncValidators}function vo(n){return n?Array.isArray(n)?n:[n]:[]}function zs(n,t){return Array.isArray(n)?n.includes(t):n===t}function ea(n,t){const e=vo(t);return vo(n).forEach(r=>{zs(e,r)||e.push(r)}),e}function bo(n,t){return vo(t).filter(e=>!zs(n,e))}class vs{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=_t(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Ht(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class yi extends vs{get formDirective(){return null}get path(){return null}}class er extends vs{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wo{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Uf=(()=>{class n extends wo{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(er,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[o.qOj]}),n})(),Lc=(()=>{class n extends wo{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yi,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[o.qOj]}),n})();const Gl="VALID",Wu="INVALID",$l="PENDING",tl="DISABLED";function ta(n){return(lh(n)?n.validators:n)||null}function ah(n){return Array.isArray(n)?_t(n):n||null}function qf(n,t){return(lh(t)?t.asyncValidators:n)||null}function Wf(n){return Array.isArray(n)?Ht(n):n||null}function lh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function ch(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[e])throw new o.vHH(1001,"")}function Eo(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new o.vHH(1002,"")})}class na{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ah(this._rawValidators),this._composedAsyncValidatorFn=Wf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Gl}get invalid(){return this.status===Wu}get pending(){return this.status==$l}get disabled(){return this.status===tl}get enabled(){return this.status!==tl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ah(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Wf(t)}addValidators(t){this.setValidators(ea(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ea(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(bo(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(bo(t,this._rawAsyncValidators))}hasValidator(t){return zs(this._rawValidators,t)}hasAsyncValidator(t){return zs(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=$l,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=tl,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Gl||this.status===$l)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?tl:Gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=$l,this._hasOwnPendingAsyncValidator=!0;const e=k(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?tl:this.errors?Wu:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($l)?$l:this._anyControlsHaveStatus(Wu)?Wu:Gl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){lh(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class Bc extends na{constructor(t,e,i){super(ta(e),qf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Eo(this,0,t),Object.keys(t).forEach(i=>{ch(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function w(n,t){return[...t.path,n]}function g(n,t){L(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function ke(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&ft(n,t)})}(n,t),function $t(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Xe(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&ft(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function x(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function y(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),se(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function E(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function L(n,t){const e=ii(n);null!==t.validator?n.setValidators(Ct(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=Ci(n);null!==t.asyncValidator?n.setAsyncValidators(Ct(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();E(t._rawValidators,r),E(t._rawAsyncValidators,r)}function se(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ii(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=Ci(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return E(t._rawValidators,i),E(t._rawAsyncValidators,i),e}function ft(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Nn(n,t){L(n,t)}function Hc(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function Yf(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Kf(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===Xa?e=s:function dh(n){return Object.getPrototypeOf(n.constructor)===Gs}(s)?i=s:r=s}),r||i||e||null}const dg={provide:yi,useExisting:(0,o.Gpc)(()=>Do)},Zu=(()=>Promise.resolve(null))();let Do=(()=>{class n extends yi{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new Bc({},_t(e),Ht(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Zu.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),g(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Zu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Zu.then(()=>{const i=this._findContainer(e.path),r=new Bc({});Nn(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Zu.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Zu.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,Yf(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hn,10),o.Y36(ys,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([dg]),o.qOj]}),n})();function Xf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Jf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const jn=class extends na{constructor(t=null,e,i){super(ta(e),qf(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lh(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Jf(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Xf(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Xf(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Jf(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let Ei=(()=>{class n extends yi{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return w(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const GA={provide:er,useExisting:(0,o.Gpc)(()=>zy)},TC=(()=>Promise.resolve(null))();let zy=(()=>{class n extends er{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new jn,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Kf(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),Hc(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){g(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){TC.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=0!==i&&(0,o.D6c)(i);TC.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?w(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yi,9),o.Y36(Hn,10),o.Y36(ys,10),o.Y36(Ji,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([GA]),o.qOj,o.TTD]}),n})(),hg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Wy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const ep=new o.OlP("NgModelWithFormControlWarning"),Yy={provide:yi,useExisting:(0,o.Gpc)(()=>Yu)};let Yu=(()=>{class n extends yi{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(se(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return g(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){y(e.control||null,e,!1),function Qf(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,Yf(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(y(i||null,e),(n=>n instanceof jn)(r)&&(g(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Nn(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function qs(n,t){return se(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){L(this.form,this),this._oldForm&&se(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hn,10),o.Y36(ys,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Yy]),o.qOj,o.TTD]}),n})();const RC={provide:yi,useExisting:(0,o.Gpc)(()=>nl)};let nl=(()=>{class n extends Ei{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){tp(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yi,13),o.Y36(Hn,10),o.Y36(ys,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([RC]),o.qOj]}),n})();const zA={provide:yi,useExisting:(0,o.Gpc)(()=>fh)};let fh=(()=>{class n extends yi{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return w(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){tp(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(yi,13),o.Y36(Hn,10),o.Y36(ys,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([zA]),o.qOj]}),n})();function tp(n){return!(n instanceof nl||n instanceof Yu||n instanceof fh)}const qA={provide:er,useExisting:(0,o.Gpc)(()=>np)};let np=(()=>{class n extends er{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Kf(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),Hc(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return w(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(yi,13),o.Y36(Hn,10),o.Y36(ys,10),o.Y36(Ji,10),o.Y36(ep,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([qA]),o.qOj,o.TTD]}),n})(),Ku=(()=>{class n{constructor(){this._validator=S}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):S,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const QA={provide:Hn,useExisting:(0,o.Gpc)(()=>sp),multi:!0};let gg,sp=(()=>{class n extends Ku{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=o.D6c,this.createValidator=e=>Nc}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([QA]),o.qOj]}),n})(),HC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wy]}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[HC]}),n})(),IL=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:ep,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[HC]}),n})();class mg extends na{constructor(t,e,i){super(ta(e),qf(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Eo(this,0,t),t.forEach((i,r)=>{ch(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}try{gg=typeof Intl<"u"&&Intl.v8BreakIterator}catch{gg=!1}let Qu,tr=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Mr(n){return n===Ar}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!gg)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tv=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function _g(){if(Qu)return Qu;if("object"!=typeof document||!document)return Qu=new Set(tv),Qu;let n=document.createElement("input");return Qu=new Set(tv.filter(t=>(n.setAttribute("type",t),n.type===t))),Qu}let ap,Xu,iv;function zl(n){return function nv(){if(null==ap&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ap=!0}))}finally{ap=ap||!1}return ap}()?n:!!n.capture}function nM(){if(null==Xu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Xu=!1,Xu;if("scrollBehavior"in document.documentElement.style)Xu=!0;else{const n=Element.prototype.scrollTo;Xu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Xu}function lp(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function ql(n){return n.composedPath?n.composedPath()[0]:n.target}function rv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Tt=V(7579),$n=V(727);class Rr extends Tt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function st(...n){const t=(0,_o.yG)(n);return(0,rn.D)(n,t)}function Ws(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var vi=V(8505),_h=V(4986),Gi=V(4482);function uv(n,t=_h.z){return(0,Gi.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const _=s;s=null,i.next(_)}};function p(){const _=c+n,b=t.now();if(b<_)return r=this.schedule(void 0,_-b),void i.add(r);d()}e.subscribe((0,On.x)(i,_=>{s=_,c=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function zn(n,t){return(0,Gi.e)((e,i)=>{let r=0;e.subscribe((0,On.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var Wc=V(515);function qn(n){return n<=0?()=>Wc.E:(0,Gi.e)((t,e)=>{let i=0;t.subscribe((0,On.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function UM(n){return zn((t,e)=>n<=e)}var yh=V(4671);function Kl(n,t=yh.y){return n=n??HM,(0,Gi.e)((e,i)=>{let r,s=!0;e.subscribe((0,On.x)(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function HM(n,t){return n===t}var Dg=V(5032);function Pi(n){return(0,Gi.e)((t,e)=>{(0,lr.Xf)(n).subscribe((0,On.x)(e,()=>e.complete(),Dg.Z)),!e.closed&&t.subscribe(e)})}function Sn(n){return null!=n&&"false"!=`${n}`}function pp(n,t=0){return eE(n)?Number(n):t}function eE(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function Ig(n){return Array.isArray(n)?n:[n]}function $i(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ql(n){return n instanceof o.SBq?n.nativeElement:n}let dv=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GM=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ql(e);return new ci.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Tt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(dv))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hv=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Sn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=pp(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(uv(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(GM),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Sg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[dv]}),n})();var fv=V(9672);function tE(...n){const t=(0,_o.yG)(n),e=(0,_o.jO)(n),{args:i,keys:r}=Ul(n);if(0===i.length)return(0,rn.D)([],t);const s=new ci.y(function pv(n,t,e=yh.y){return i=>{nE(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let p=0;p<r;p++)nE(t,()=>{const _=(0,rn.D)(n[p],t);let b=!1;_.subscribe((0,On.x)(i,I=>{s[p]=I,b||(b=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>cr(r,c):yh.y));return e?s.pipe(Oc(e)):s}function nE(n,t,e){n?(0,fv.f)(e,n,t):t()}var Tg=V(8189);function bh(...n){return function vh(){return(0,Tg.J)(1)}()((0,rn.D)(n,(0,_o.yG)(n)))}function nr(...n){const t=(0,_o.yG)(n);return(0,Gi.e)((e,i)=>{(t?bh(n,e,t):bh(n,e)).subscribe(i)})}const So=new Set;let ed,$M=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Xl}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function gv(n){if(!So.has(n))try{ed||(ed=document.createElement("style"),ed.setAttribute("type","text/css"),document.head.appendChild(ed)),ed.sheet&&(ed.sheet.insertRule(`@media ${n} {body{ }}`,0),So.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xl(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let mp=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Tt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return _v(Ig(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=tE(_v(Ig(e)).map(c=>this._registerQuery(c).observable));return s=bh(s.pipe(qn(1)),s.pipe(UM(1),uv(0))),s.pipe((0,ct.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:p,query:_})=>{d.matches=d.matches||p,d.breakpoints[_]=p}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new ci.y(c=>{const d=p=>this._zone.run(()=>c.next(p));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(nr(i),(0,ct.U)(({matches:c})=>({query:e,matches:c})),Pi(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($M),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _v(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class rE{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Tt.x,this._typeaheadSubscription=$n.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Tt.x,this.change=new Tt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,vi.b)(e=>this._pressedLetters.push(e)),uv(t),zn(()=>this._pressedLetters.length>0),(0,ct.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Ws(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class WM extends rE{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class sE extends rE{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ag=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function oE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function pV(n){try{return n.frameElement}catch{return null}}(function vV(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===KM(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=KM(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function _V(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function yV(n){return!function ZM(n){return function mV(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function aE(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Cv(n){return function gV(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||YM(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function YM(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function KM(n){if(!YM(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class bV{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(qn(1)).subscribe(t)}}let Ev=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new bV(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ag),o.LFG(o.R0b),o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wV=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Sn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Sn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=lp(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(oe))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function Mg(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function _p(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const XM=new o.OlP("cdk-input-modality-detector-options"),Zc={ignoreKeys:[18,17,224,91,16]},wh=zl({passive:!0,capture:!0});let JM=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new Rr(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=ql(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Mg(c)?"keyboard":"mouse"),this._mostRecentTarget=ql(c))},this._onTouchstart=c=>{_p(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=ql(c))},this._options={...Zc,...s},this.modalityDetected=this._modality.pipe(UM(1)),this.modalityChanged=this.modalityDetected.pipe(Kl()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,wh),r.addEventListener("mousedown",this._onMousedown,wh),r.addEventListener("touchstart",this._onTouchstart,wh)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,wh),document.removeEventListener("mousedown",this._onMousedown,wh),document.removeEventListener("touchstart",this._onTouchstart,wh))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr),o.LFG(o.R0b),o.LFG(oe),o.LFG(XM,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const uE=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function ex(){return null}}),tx=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Ch=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(uE,8),o.LFG(o.R0b),o.LFG(oe),o.LFG(tx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Iv=new o.OlP("cdk-focus-monitor-default-options"),Jl=zl({passive:!0,capture:!0});let ia=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tt.x,this._rootNodeFocusAndBlurListener=d=>{for(let _=ql(d);_;_=_.parentElement)"focus"===d.type?this._onFocus(d,_):this._onBlur(d,_)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Ql(e);if(!this._platform.isBrowser||1!==r.nodeType)return st(null);const s=function sM(n){if(function rM(){if(null==iv){const n=typeof document<"u"?document.head:null;iv=!(!n||!n.createShadowRoot&&!n.attachShadow)}return iv}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new Tt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=Ql(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=Ql(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,p])=>this._originChanged(d,i,p)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=ql(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Jl),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Jl)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Pi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Jl),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Jl),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const s=e.labels;if(s)for(let c=0;c<s.length;c++)if(s[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(tr),o.LFG(JM),o.LFG(oe,8),o.LFG(Iv,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vp=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this._focusOrigin=null,this.cdkFocusChange=new o.vpe}get focusOrigin(){return this._focusOrigin}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>{this._focusOrigin=i,this.cdkFocusChange.emit(i)})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ia))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"},exportAs:["cdkMonitorFocus"]}),n})();const dE="cdk-high-contrast-black-on-white",Sv="cdk-high-contrast-white-on-black",xg="cdk-high-contrast-active";let kg=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,o.f3M)(mp).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(xg,dE,Sv),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(xg,dE):2===i&&e.add(xg,Sv)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr),o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rg=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kg))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Sg]}),n})();const hE=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function Tv(){return(0,o.f3M)(oe)}}),nx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ra=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function EV(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?nx.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(hE,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function Zs(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function fE(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const sx=["*"],ax=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function mE(){return!0}});let Wn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!rv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kg),o.LFG(ax,8),o.LFG(oe))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bp,bp]}),n})();function wp(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=Sn(t)}}}function nd(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Og(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Sn(t)}}}function Mv(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?pp(e):this.defaultTabIndex}}}function xv(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const sa=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function kv(){return(0,o.f3M)(o.soG)}});class ir{constructor(){this._localeChanges=new Tt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Yc=new o.OlP("mat-date-formats"),MV=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Pg(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let gE=(()=>{class n extends ir{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Pg(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Pg(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Pg(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(MV.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(sa,8),o.LFG(tr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const cx={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let ux=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:ir,useClass:gE}]}),n})(),Rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:Yc,useValue:cx}],imports:[ux]}),n})(),Ov=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vE{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const dx={enterDuration:225,exitDuration:150},Ep=zl({passive:!0}),hx=["mousedown","touchstart"],Nv=["mouseup","mouseleave","touchend","touchcancel"];class bE{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ql(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...dx,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function wE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,p=e-r.top,_=s.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=d-c+"px",b.style.top=p-c+"px",b.style.height=2*c+"px",b.style.width=2*c+"px",null!=i.color&&(b.style.backgroundColor=i.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);const I=window.getComputedStyle(b),O=I.transitionDuration,N="none"===I.transitionProperty||"0s"===O||"0s, 0s"===O,z=new vE(this,b,i,N);b.style.transform="scale3d(1, 1, 1)",z.state=0,i.persistent||(this._mostRecentTransientRipple=z);let ie=null;return!N&&(_||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Me=()=>this._finishRippleTransition(z),ze=()=>this._destroyRipple(z);b.addEventListener("transitionend",Me),b.addEventListener("transitioncancel",ze),ie={onTransitionEnd:Me,onTransitionCancel:ze}}),this._activeRipples.set(z,ie),(N||!_)&&this._finishRippleTransition(z),z}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...dx,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ql(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(hx))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Nv),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Mg(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!_p(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Ep)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(hx.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ep)}),this._pointerUpEventsRegistered&&Nv.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ep)}))}}const CE=new o.OlP("mat-ripple-global-options");let Kc=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new bE(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(tr),o.Y36(CE,8),o.Y36(o.QbO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),To=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wn,Wn]}),n})(),Ng=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:rgba(0,0,0,0)}.mat-pseudo-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-pseudo-checkbox._mat-animation-noopable::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}'],encapsulation:2,changeDetection:0}),n})(),Fg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wn]}),n})();const Eh=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),DE=new o.OlP("MatOptgroup");let Dp=0;class px{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let PV=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+Dp++,this.onSelectionChange=new o.vpe,this._stateChanges=new Tt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=Sn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!Ws(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new px(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),IE=(()=>{class n extends PV{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Eh,8),o.Y36(DE,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:sx,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,Zs,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,fE,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},dependencies:[Kc,_n,Ng],styles:['.mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.mat-option.mat-active::before{content:""}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}[dir=rtl] .cdk-high-contrast-active .mat-option.mat-selected:not(.mat-option-multiple)::after{right:auto;left:16px}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}'],encapsulation:2,changeDetection:0}),n})();function mx(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let SE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[To,qo,Wn,Fg]}),n})();const _x=["*",[["mat-toolbar-row"]]],yx=["*","mat-toolbar-row"],TE=nd(class{constructor(n){this._elementRef=n}});let Fv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),vx=(()=>{class n extends TE{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(tr),o.Y36(oe))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Fv,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:yx,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(_x),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),bx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wn,Wn]}),n})();const wx=["mat-button",""],Cx=["*"],Dx=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Lg=nd(wp(Og(class{constructor(n){this._elementRef=n}})));let Ni=(()=>{class n extends Lg{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of Dx)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ia),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(Kc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:wx,ngContentSelectors:Cx,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Kc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),id=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[To,Wn,Wn]}),n})();class ME{}const oa="*";function ec(n,t){return{type:7,name:n,definitions:t,options:{}}}function bi(n,t=null){return{type:4,styles:t,timings:n}}function Dh(n,t=null){return{type:3,steps:n,options:t}}function br(n,t=null){return{type:2,steps:n,options:t}}function yn(n){return{type:6,styles:n,offset:null}}function Kr(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ys(n){return{type:5,steps:n}}function wr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Qc(n=null){return{type:9,options:n}}function Xc(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function rd(n){Promise.resolve(null).then(n)}class sl{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){rd(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class sd{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?rd(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function Lv(n){return new o.vHH(3e3,!1)}function YE(){return typeof window<"u"&&typeof window.document<"u"}function Ih(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function tc(n){switch(n.length){case 0:return new sl;case 1:return n[0];default:return new sd(n)}}function $v(n,t,e,i,r=new Map,s=new Map){const c=[],d=[];let p=-1,_=null;if(i.forEach(b=>{const I=b.get("offset"),M=I==p,O=M&&_||new Map;b.forEach((N,z)=>{let ie=z,Me=N;if("offset"!==z)switch(ie=t.normalizePropertyName(ie,c),Me){case"!":Me=r.get(z);break;case oa:Me=s.get(z);break;default:Me=t.normalizeStyleValue(z,ie,Me,c)}O.set(ie,Me)}),M||d.push(O),_=O,p=I}),c.length)throw function Hv(n){return new o.vHH(3502,!1)}();return d}function jg(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Gg(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Gg(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Gg(e,"destroy",n)))}}function Gg(n,t,e){const s=$g(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function $g(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function ws(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function zv(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let zg=(n,t)=>!1,Rx=(n,t,e)=>[],KE=null;function qv(n){const t=n.parentNode||n.host;return t===KE?null:t}(Ih()||typeof Element<"u")&&(YE()?(KE=(()=>document.documentElement)(),zg=(n,t)=>{for(;t;){if(t===n)return!0;t=qv(t)}return!1}):zg=(n,t)=>n.contains(t),Rx=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let ri=null,Wv=!1;const XE=zg,Zv=Rx;let od=(()=>{class n{validateStyleProperty(e){return function Nx(n){ri||(ri=function QE(){return typeof document<"u"?document.body:null}()||{},Wv=!!ri.style&&"WebkitAppearance"in ri.style);let t=!0;return ri.style&&!function Px(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in ri.style,!t&&Wv&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ri.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return XE(e,i)}getParentElement(e){return qv(e)}query(e,i,r){return Zv(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],p){return new sl(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Yv=(()=>{class n{}return n.NOOP=new od,n})();const qg="ng-enter",Qv="ng-leave",Sh="ng-trigger",Th=".ng-trigger",aa="ng-animating",Xv=".ng-animating";function eu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Ao(parseFloat(t[1]),t[2])}function Ao(n,t){return"s"===t?1e3*n:n}function Cs(n,t,e){return n.hasOwnProperty("duration")?n:function la(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(Lv()),{duration:0,delay:0,easing:""};r=Ao(parseFloat(d[1]),d[2]);const p=d[3];null!=p&&(s=Ao(parseFloat(p),d[4]));const _=d[5];_&&(c=_)}else r=n;if(!e){let d=!1,p=t.length;r<0&&(t.push(function xE(){return new o.vHH(3100,!1)}()),d=!0),s<0&&(t.push(function kE(){return new o.vHH(3101,!1)}()),d=!0),d&&t.splice(p,0,Lv())}return{duration:r,delay:s,easing:c}}(n,t,e)}function Ah(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Jv(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function tu(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function eD(n,t,e){return e?t+":"+e+";":""}function Wg(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=eD(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=eD(0,tb(e),n.style[e]));n.setAttribute("style",t)}function Es(n,t,e){n.style&&(t.forEach((i,r)=>{const s=Kg(r);e&&!e.has(r)&&e.set(r,n.style[s]),n.style[s]=i}),Ih()&&Wg(n))}function ad(n,t){n.style&&(t.forEach((e,i)=>{const r=Kg(i);n.style[r]=""}),Ih()&&Wg(n))}function Mh(n){return Array.isArray(n)?1==n.length?n[0]:br(n):n}const Zg=new RegExp("{{\\s*(.+?)\\s*}}","g");function eb(n){let t=[];if("string"==typeof n){let e;for(;e=Zg.exec(n);)t.push(e[1]);Zg.lastIndex=0}return t}function ld(n,t,e){const i=n.toString(),r=i.replace(Zg,(s,c)=>{let d=t[c];return null==d&&(e.push(function OE(n){return new o.vHH(3003,!1)}()),d=""),d.toString()});return r==i?n:r}function Yg(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tD=/-+([a-z0-9])/g;function Kg(n){return n.replace(tD,(...t)=>t[1].toUpperCase())}function tb(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ds(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function PE(n){return new o.vHH(3004,!1)}()}}function nb(n,t){return window.getComputedStyle(n)[t]}function jx(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function Gx(n,t,e){if(":"==n[0]){const p=function $x(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Ug(n){return new o.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function xx(n){return new o.vHH(3015,!1)}()),t;const r=i[1],s=i[2],c=i[3];t.push(oD(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(oD(c,r))}(i,e,t)):e.push(n),e}const Jg=new Set(["true","1"]),e_=new Set(["false","0"]);function oD(n,t){const e=Jg.has(n)||e_.has(n),i=Jg.has(t)||e_.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Jg.has(n):e_.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Jg.has(t):e_.has(t)),c&&d}}const zx=new RegExp("s*:selfs*,?","g");function ib(n,t,e,i){return new qx(n).build(t,e,i)}class qx{constructor(t){this._driver=t}build(t,e,i){const r=new Yx(e);return this._resetContextStyleTimingState(r),Ds(this,Mh(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function FE(){return new o.vHH(3006,!1)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const p=d,_=p.name;_.toString().split(/\s*,\s*/).forEach(b=>{p.name=b,s.push(this.visitState(p,e))}),p.name=_}else if(1==d.type){const p=this.visitTransition(d,e);i+=p.queryCount,r+=p.depCount,c.push(p)}else e.errors.push(function Tx(){return new o.vHH(3007,!1)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{d instanceof Map&&d.forEach(p=>{eb(p).forEach(_=>{c.hasOwnProperty(_)||s.add(_)})})}),s.size&&(Yg(s.values()),e.errors.push(function Ax(n,t){return new o.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ds(this,Mh(t.animation),e);return{type:1,matchers:jx(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:nu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ds(this,i,e)),options:nu(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=Ds(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:nu(t.options)}}visitAnimate(t,e){const i=function cD(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return t_(Cs(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=t_(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Cs(e,t);return t_(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:yn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const _={};i.easing&&(_.easing=i.easing),c=yn(_)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(c,e);p.isEmptyStep=d,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let d of r)"string"==typeof d?d===oa?i.push(d):e.errors.push(new o.vHH(3002,!1)):i.push(Jv(d));let s=!1,c=null;return i.forEach(d=>{if(d instanceof Map&&(d.has("easing")&&(c=d.get("easing"),d.delete("easing")),!s))for(let p of d.values())if(p.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((d,p)=>{const _=e.collectedStyles.get(e.currentQuerySelector),b=_.get(p);let I=!0;b&&(s!=r&&s>=b.startTime&&r<=b.endTime&&(e.errors.push(function VE(n,t,e,i,r){return new o.vHH(3010,!1)}()),I=!1),s=b.startTime),I&&_.set(p,{startTime:s,endTime:r}),e.options&&function Ux(n,t,e){const i=t.params||{},r=eb(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function RE(n){return new o.vHH(3001,!1)}())})}(d,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Vv(){return new o.vHH(3011,!1)}()),i;let s=0;const c=[];let d=!1,p=!1,_=0;const b=t.steps.map(Me=>{const ze=this._makeStyleAst(Me,e);let Je=null!=ze.offset?ze.offset:function Kx(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(ze.styles),Qe=0;return null!=Je&&(s++,Qe=ze.offset=Je),p=p||Qe<0||Qe>1,d=d||Qe<_,_=Qe,c.push(Qe),ze});p&&e.errors.push(function Bv(){return new o.vHH(3012,!1)}()),d&&e.errors.push(function Mx(){return new o.vHH(3200,!1)}());const I=t.steps.length;let M=0;s>0&&s<I?e.errors.push(function Vg(){return new o.vHH(3202,!1)}()):0==s&&(M=1/(I-1));const O=I-1,N=e.currentTime,z=e.currentAnimateTimings,ie=z.duration;return b.forEach((Me,ze)=>{const Je=M>0?ze==O?1:M*ze:c[ze],Qe=Je*ie;e.currentTime=N+z.delay+Qe,z.duration=Qe,this._validateStyleAst(Me,e),Me.offset=Je,i.styles.push(Me)}),i}visitReference(t,e){return{type:8,animation:Ds(this,Mh(t.animation),e),options:nu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:nu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:nu(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function Wx(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(zx,"")),n=n.replace(/@\*/g,Th).replace(/@\w+/g,e=>Th+"-"+e.slice(1)).replace(/:animating/g,Xv),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,ws(e.collectedStyles,e.currentQuerySelector,new Map);const d=Ds(this,Mh(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:nu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Bg(){return new o.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Cs(t.timings,e.errors,!0);return{type:12,animation:Ds(this,Mh(t.animation),e),timings:i,options:null}}}class Yx{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function nu(n){return n?(n=Ah(n)).params&&(n.params=function Zx(n){return n?Ah(n):null}(n.params)):n={},n}function t_(n,t,e){return{duration:n,delay:t,easing:e}}function n_(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class xp{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hD=new RegExp(":enter","g"),rb=new RegExp(":leave","g");function kp(n,t,e,i,r,s=new Map,c=new Map,d,p,_=[]){return(new cd).buildKeyframes(n,t,e,i,r,s,c,d,p,_)}class cd{buildKeyframes(t,e,i,r,s,c,d,p,_,b=[]){_=_||new xp;const I=new sb(t,e,_,r,s,b,[]);I.options=p;const M=p.delay?eu(p.delay):0;I.currentTimeline.delayNextStep(M),I.currentTimeline.setStyles([c],null,I.errors,p),Ds(this,i,I);const O=I.timelines.filter(N=>N.containsAnimation());if(O.length&&d.size){let N;for(let z=O.length-1;z>=0;z--){const ie=O[z];if(ie.element===e){N=ie;break}}N&&!N.allowOnlyTimelineStyles()&&N.setStyles([d],null,I.errors,p)}return O.length?O.map(N=>N.buildKeyframes()):[n_(e,[],[],[],0,M,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?eu(i.duration):null,d=null!=i.delay?eu(i.delay):null;return 0!==c&&t.forEach(p=>{const _=e.appendInstructionToTimeline(p,c,d);s=Math.max(s,_.duration+_.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),Ds(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=i_);const c=eu(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>Ds(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?eu(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),Ds(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Cs(e.params?ld(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(p=>{d.forwardTime((p.offset||0)*s),d.setStyles(p.styles,p.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?eu(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=i_);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let p=null;d.forEach((_,b)=>{e.currentQueryIndex=b;const I=e.createSubContext(t.options,_);s&&I.delayNextStep(s),_===e.element&&(p=I.currentTimeline),Ds(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let p=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":p=d-p;break;case"full":p=i.currentStaggerTime}const b=e.currentTimeline;p&&b.delayNextStep(p);const I=b.currentTime;Ds(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const i_={};class sb{constructor(t,e,i,r,s,c,d,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=i_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new nc(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=eu(i.duration)),null!=i.delay&&(r.delay=eu(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=ld(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new sb(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=i_,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new Qx(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(hD,"."+this._enterClassName)).replace(rb,"."+this._leaveClassName);let _=this._driver.query(this.element,t,1!=i);0!==i&&(_=i<0?_.slice(_.length+i,_.length):_.slice(0,i)),d.push(..._)}return!s&&0==d.length&&c.push(function Uv(n){return new o.vHH(3014,!1)}()),d}}class nc{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new nc(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||oa),this._currentKeyframe.set(e,oa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const s=r&&r.params||{},c=function UV(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let s of i)e.set(s,oa)}else tu(r,e)}),e}(t,this._globalTimelineStyles);for(let[d,p]of c){const _=ld(p,s,i);this._pendingStyles.set(d,_),this._localTimelineStyles.has(d)||this._backFill.set(d,this._globalTimelineStyles.get(d)??oa),this._updateStyle(d,_)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,p)=>{const _=tu(d,new Map,this._backFill);_.forEach((b,I)=>{"!"===b?t.add(I):b===oa&&e.add(I)}),i||_.set("offset",p/this.duration),r.push(_)});const s=t.size?Yg(t.values()):[],c=e.size?Yg(e.values()):[];if(i){const d=r[0],p=new Map(d);d.set("offset",0),p.set("offset",1),r=[d,p]}return n_(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class Qx extends nc{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,p=tu(t[0]);p.set("offset",0),s.push(p);const _=tu(t[0]);_.set("offset",r_(d)),s.push(_);const b=t.length-1;for(let I=1;I<=b;I++){let M=tu(t[I]);const O=M.get("offset");M.set("offset",r_((e+O*i)/c)),s.push(M)}i=c,e=0,r="",t=s}return n_(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function r_(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class s_{}const Rt=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Jx extends s_{normalizePropertyName(t,e){return Kg(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(Rt.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function NE(n,t){return new o.vHH(3005,!1)}())}return c+s}}function pD(n,t,e,i,r,s,c,d,p,_,b,I,M){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:p,preStyleProps:_,postStyleProps:b,totalTime:I,errors:M}}const ob={};class ud{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function o_(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,s,c,d,p,_,b){const I=[],M=this.ast.options&&this.ast.options.params||ob,N=this.buildStyles(i,d&&d.params||ob,I),z=p&&p.params||ob,ie=this.buildStyles(r,z,I),Me=new Set,ze=new Map,Je=new Map,Qe="void"===r,It={params:a_(z,M),delay:this.ast.options?.delay},Mt=b?[]:kp(t,e,this.ast.animation,s,c,N,ie,It,_,I);let ln=0;if(Mt.forEach(va=>{ln=Math.max(va.duration+va.delay,ln)}),I.length)return pD(e,this._triggerName,i,r,Qe,N,ie,[],[],ze,Je,ln,I);Mt.forEach(va=>{const Pd=va.element,N6=ws(ze,Pd,new Set);va.preStyleProps.forEach(Wm=>N6.add(Wm));const yC=ws(Je,Pd,new Set);va.postStyleProps.forEach(Wm=>yC.add(Wm)),Pd!==e&&Me.add(Pd)});const sr=Yg(Me.values());return pD(e,this._triggerName,i,r,Qe,N,ie,Mt,sr,ze,Je,ln)}}function a_(n,t){const e=Ah(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class Di{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Ah(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!==c&&(r[s]=c)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((c,d)=>{c&&(c=ld(c,r,e));const p=this.normalizer.normalizePropertyName(d,e);c=this.normalizer.normalizeStyleValue(d,p,c,e),i.set(p,c)})}),i}}class mD{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new Di(r.style,r.options&&r.options.params||{},i))}),_D(this.states,"true","1"),_D(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new ud(t,r,this.states))}),this.fallbackTransition=function gD(n,t,e){return new ud(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function _D(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const yD=new xp;class vD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],s=ib(this._driver,e,i,[]);if(i.length)throw function HE(n){return new o.vHH(3503,!1)}();this._animations.set(t,s)}_buildPlayer(t,e,i){const r=t.element,s=$v(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations.get(t);let c;const d=new Map;if(s?(c=kp(this._driver,e,s,qg,Qv,new Map,new Map,i,yD,r),c.forEach(b=>{const I=ws(d,b.element,new Map);b.postStyleProps.forEach(M=>I.set(M,null))})):(r.push(function jE(){return new o.vHH(3300,!1)}()),c=[]),r.length)throw function jv(n){return new o.vHH(3504,!1)}();d.forEach((b,I)=>{b.forEach((M,O)=>{b.set(O,this._driver.computeStyle(I,O,oa))})});const _=tc(c.map(b=>{const I=d.get(b.element);return this._buildPlayer(b,new Map,I)}));return this._playersById.set(t,_),_.onDestroy(()=>this.destroy(t)),this.players.push(_),_}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Gv(n){return new o.vHH(3301,!1)}();return e}listen(t,e,i,r){const s=$g(e,"","","");return jg(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const ab="ng-animate-queued",lb="ng-animate-disabled",nk=[],wD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},ik={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Qr="__ng_removed";class l_{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function ok(n){return n??null}(i?t.value:t),i){const s=Ah(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const xh="void",c_=new l_(xh);class rk{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ks(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function kx(n,t){return new o.vHH(3302,!1)}();if(null==i||0==i.length)throw function GE(n){return new o.vHH(3303,!1)}();if(!function CD(n){return"start"==n||"done"==n}(i))throw function $E(n,t){return new o.vHH(3400,!1)}();const s=ws(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=ws(this._engine.statesByElement,t,new Map);return d.has(e)||(Ks(t,Sh),Ks(t,Sh+"-"+e),d.set(e,c_)),()=>{this._engine.afterFlush(()=>{const p=s.indexOf(c);p>=0&&s.splice(p,1),this._triggers.has(e)||d.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function zE(n){return new o.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new dd(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(Ks(t,Sh),Ks(t,Sh+"-"+e),this._engine.statesByElement.set(t,d=new Map));let p=d.get(e);const _=new l_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&_.absorbOptions(p.options),d.set(e,_),p||(p=c_),_.value!==xh&&p.value===_.value){if(!function $V(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(p.params,_.params)){const z=[],ie=s.matchStyles(p.value,p.params,z),Me=s.matchStyles(_.value,_.params,z);z.length?this._engine.reportError(z):this._engine.afterFlush(()=>{ad(t,ie),Es(t,Me)})}return}const M=ws(this._engine.playersByElement,t,[]);M.forEach(z=>{z.namespaceId==this.id&&z.triggerName==e&&z.queued&&z.destroy()});let O=s.matchTransition(p.value,_.value,t,_.params),N=!1;if(!O){if(!r)return;O=s.fallbackTransition,N=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:O,fromState:p,toState:_,player:c,isFallbackTransition:N}),N||(Ks(t,ab),c.onStart(()=>{kh(t,ab)})),c.onDone(()=>{let z=this.players.indexOf(c);z>=0&&this.players.splice(z,1);const ie=this._engine.playersByElement.get(t);if(ie){let Me=ie.indexOf(c);Me>=0&&ie.splice(Me,1)}}),this.players.push(c),M.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,Th,!0);i.forEach(r=>{if(r[Qr])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(s.forEach((p,_)=>{if(c.set(_,p.value),this._triggers.has(_)){const b=this.trigger(t,_,xh,r);b&&d.push(b)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&tc(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const p=this._triggers.get(c).fallbackTransition,_=i.get(c)||c_,b=new l_(xh),I=new dd(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:p,fromState:_,toState:b,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Qr];(!s||s===wD)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const p=$g(s,i.triggerName,i.fromState.value,i.toState.value);p._data=t,jg(i.player,d.phase,p,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class Op{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new rk(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,d=this.driver.getParentElement(e);for(;d;){const p=r.get(d);if(p){const _=i.indexOf(p);i.splice(_+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const s=this._fetchNamespace(r.namespaceId);s&&e.add(s)}return e}trigger(t,e,i,r){if(u_(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!u_(e))return;const s=e[Qr];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ks(t,lb)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kh(t,lb))}removeNode(t,e,i,r){if(u_(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Qr]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return u_(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,Th,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Xv,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return tc(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Qr];if(e&&e.setForRemoval){if(t[Qr]=wD,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lb)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ks(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?tc(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function qE(n){return new o.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new xp,r=[],s=new Map,c=[],d=new Map,p=new Map,_=new Map,b=new Set;this.disabledNodes.forEach(yt=>{b.add(yt);const Pt=this.driver.query(yt,".ng-animate-queued",!0);for(let Bt=0;Bt<Pt.length;Bt++)b.add(Pt[Bt])});const I=this.bodyNode,M=Array.from(this.statesByElement.keys()),O=ED(M,this.collectedEnterElements),N=new Map;let z=0;O.forEach((yt,Pt)=>{const Bt=qg+z++;N.set(Pt,Bt),yt.forEach(Tn=>Ks(Tn,Bt))});const ie=[],Me=new Set,ze=new Set;for(let yt=0;yt<this.collectedLeaveElements.length;yt++){const Pt=this.collectedLeaveElements[yt],Bt=Pt[Qr];Bt&&Bt.setForRemoval&&(ie.push(Pt),Me.add(Pt),Bt.hasAnimation?this.driver.query(Pt,".ng-star-inserted",!0).forEach(Tn=>Me.add(Tn)):ze.add(Pt))}const Je=new Map,Qe=ED(M,Array.from(Me));Qe.forEach((yt,Pt)=>{const Bt=Qv+z++;Je.set(Pt,Bt),yt.forEach(Tn=>Ks(Tn,Bt))}),t.push(()=>{O.forEach((yt,Pt)=>{const Bt=N.get(Pt);yt.forEach(Tn=>kh(Tn,Bt))}),Qe.forEach((yt,Pt)=>{const Bt=Je.get(Pt);yt.forEach(Tn=>kh(Tn,Bt))}),ie.forEach(yt=>{this.processLeaveNode(yt)})});const It=[],Mt=[];for(let yt=this._namespaceList.length-1;yt>=0;yt--)this._namespaceList[yt].drainQueuedTransitions(e).forEach(Bt=>{const Tn=Bt.player,Gr=Bt.element;if(It.push(Tn),this.collectedEnterElements.length){const Ms=Gr[Qr];if(Ms&&Ms.setForMove){if(Ms.previousTriggersValues&&Ms.previousTriggersValues.has(Bt.triggerName)){const Zm=Ms.previousTriggersValues.get(Bt.triggerName),gl=this.statesByElement.get(Bt.element);if(gl&&gl.has(Bt.triggerName)){const NA=gl.get(Bt.triggerName);NA.value=Zm,gl.set(Bt.triggerName,NA)}}return void Tn.destroy()}}const Eu=!I||!this.driver.containsElement(I,Gr),ba=Je.get(Gr),Ef=N.get(Gr),Li=this._buildInstruction(Bt,i,Ef,ba,Eu);if(Li.errors&&Li.errors.length)return void Mt.push(Li);if(Eu)return Tn.onStart(()=>ad(Gr,Li.fromStyles)),Tn.onDestroy(()=>Es(Gr,Li.toStyles)),void r.push(Tn);if(Bt.isFallbackTransition)return Tn.onStart(()=>ad(Gr,Li.fromStyles)),Tn.onDestroy(()=>Es(Gr,Li.toStyles)),void r.push(Tn);const V6=[];Li.timelines.forEach(Ms=>{Ms.stretchStartingKeyframe=!0,this.disabledNodes.has(Ms.element)||V6.push(Ms)}),Li.timelines=V6,i.append(Gr,Li.timelines),c.push({instruction:Li,player:Tn,element:Gr}),Li.queriedElements.forEach(Ms=>ws(d,Ms,[]).push(Tn)),Li.preStyleProps.forEach((Ms,Zm)=>{if(Ms.size){let gl=p.get(Zm);gl||p.set(Zm,gl=new Set),Ms.forEach((NA,_L)=>gl.add(_L))}}),Li.postStyleProps.forEach((Ms,Zm)=>{let gl=_.get(Zm);gl||_.set(Zm,gl=new Set),Ms.forEach((NA,_L)=>gl.add(_L))})});if(Mt.length){const yt=[];Mt.forEach(Pt=>{yt.push(function WE(n,t){return new o.vHH(3505,!1)}())}),It.forEach(Pt=>Pt.destroy()),this.reportError(yt)}const ln=new Map,sr=new Map;c.forEach(yt=>{const Pt=yt.element;i.has(Pt)&&(sr.set(Pt,Pt),this._beforeAnimationBuild(yt.player.namespaceId,yt.instruction,ln))}),r.forEach(yt=>{const Pt=yt.element;this._getPreviousPlayers(Pt,!1,yt.namespaceId,yt.triggerName,null).forEach(Tn=>{ws(ln,Pt,[]).push(Tn),Tn.destroy()})});const va=ie.filter(yt=>ck(yt,p,_)),Pd=new Map;ub(Pd,this.driver,ze,_,oa).forEach(yt=>{ck(yt,p,_)&&va.push(yt)});const yC=new Map;O.forEach((yt,Pt)=>{ub(yC,this.driver,new Set(yt),p,"!")}),va.forEach(yt=>{const Pt=Pd.get(yt),Bt=yC.get(yt);Pd.set(yt,new Map([...Array.from(Pt?.entries()??[]),...Array.from(Bt?.entries()??[])]))});const Wm=[],F6=[],L6={};c.forEach(yt=>{const{element:Pt,player:Bt,instruction:Tn}=yt;if(i.has(Pt)){if(b.has(Pt))return Bt.onDestroy(()=>Es(Pt,Tn.toStyles)),Bt.disabled=!0,Bt.overrideTotalTime(Tn.totalTime),void r.push(Bt);let Gr=L6;if(sr.size>1){let ba=Pt;const Ef=[];for(;ba=ba.parentNode;){const Li=sr.get(ba);if(Li){Gr=Li;break}Ef.push(ba)}Ef.forEach(Li=>sr.set(Li,Gr))}const Eu=this._buildAnimation(Bt.namespaceId,Tn,ln,s,yC,Pd);if(Bt.setRealPlayer(Eu),Gr===L6)Wm.push(Bt);else{const ba=this.playersByElement.get(Gr);ba&&ba.length&&(Bt.parentPlayer=tc(ba)),r.push(Bt)}}else ad(Pt,Tn.fromStyles),Bt.onDestroy(()=>Es(Pt,Tn.toStyles)),F6.push(Bt),b.has(Pt)&&r.push(Bt)}),F6.forEach(yt=>{const Pt=s.get(yt.element);if(Pt&&Pt.length){const Bt=tc(Pt);yt.setRealPlayer(Bt)}}),r.forEach(yt=>{yt.parentPlayer?yt.syncPlayerEvents(yt.parentPlayer):yt.destroy()});for(let yt=0;yt<ie.length;yt++){const Pt=ie[yt],Bt=Pt[Qr];if(kh(Pt,Qv),Bt&&Bt.hasAnimation)continue;let Tn=[];if(d.size){let Eu=d.get(Pt);Eu&&Eu.length&&Tn.push(...Eu);let ba=this.driver.query(Pt,Xv,!0);for(let Ef=0;Ef<ba.length;Ef++){let Li=d.get(ba[Ef]);Li&&Li.length&&Tn.push(...Li)}}const Gr=Tn.filter(Eu=>!Eu.destroyed);Gr.length?ak(this,Pt,Gr):this.processLeaveNode(Pt)}return ie.length=0,Wm.forEach(yt=>{this.players.push(yt),yt.onDone(()=>{yt.destroy();const Pt=this.players.indexOf(yt);this.players.splice(Pt,1)}),yt.play()}),Wm}elementContainsData(t,e){let i=!1;const r=e[Qr];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const p=!s||s==xh;d.forEach(_=>{_.queued||!p&&_.triggerName!=r||c.push(_)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const _=p.element,b=_!==s,I=ws(i,_,[]);this._getPreviousPlayers(_,b,c,d,e.toState).forEach(O=>{const N=O.getRealPlayer();N.beforeDestroy&&N.beforeDestroy(),O.destroy(),I.push(O)})}ad(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,p=e.element,_=[],b=new Set,I=new Set,M=e.timelines.map(N=>{const z=N.element;b.add(z);const ie=z[Qr];if(ie&&ie.removedBeforeQueried)return new sl(N.duration,N.delay);const Me=z!==p,ze=function GV(n){const t=[];return lk(n,t),t}((i.get(z)||nk).map(ln=>ln.getRealPlayer())).filter(ln=>!!ln.element&&ln.element===z),Je=s.get(z),Qe=c.get(z),It=$v(0,this._normalizer,0,N.keyframes,Je,Qe),Mt=this._buildPlayer(N,It,ze);if(N.subTimeline&&r&&I.add(z),Me){const ln=new dd(t,d,z);ln.setRealPlayer(Mt),_.push(ln)}return Mt});_.forEach(N=>{ws(this.playersByQueriedElement,N.element,[]).push(N),N.onDone(()=>function sk(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,N.element,N))}),b.forEach(N=>Ks(N,aa));const O=tc(M);return O.onDestroy(()=>{b.forEach(N=>kh(N,aa)),Es(p,e.toStyles)}),I.forEach(N=>{ws(r,N,[]).push(O)}),O}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new sl(t.duration,t.delay)}}class dd{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new sl,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>jg(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ws(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function u_(n){return n&&1===n.nodeType}function cb(n,t){const e=n.style.display;return n.style.display=t??"none",e}function ub(n,t,e,i,r){const s=[];e.forEach(p=>s.push(cb(p)));const c=[];i.forEach((p,_)=>{const b=new Map;p.forEach(I=>{const M=t.computeStyle(_,I,r);b.set(I,M),(!M||0==M.length)&&(_[Qr]=ik,c.push(_))}),n.set(_,b)});let d=0;return e.forEach(p=>cb(p,s[d++])),c}function ED(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let p=s.get(d);if(p)return p;const _=d.parentNode;return p=e.has(_)?_:r.has(_)?1:c(_),s.set(d,p),p}return t.forEach(d=>{const p=c(d);1!==p&&e.get(p).push(d)}),e}function Ks(n,t){n.classList?.add(t)}function kh(n,t){n.classList?.remove(t)}function ak(n,t,e){tc(e).onDone(()=>n.processLeaveNode(t))}function lk(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof sd?lk(i.players,t):t.push(i)}}function ck(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Pp{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new Op(t,e,i),this._timelineEngine=new vD(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const p=[],b=ib(this._driver,s,p,[]);if(p.length)throw function UE(n,t){return new o.vHH(3404,!1)}();d=function jV(n,t,e){return new mD(n,t,e)}(r,b,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=zv(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=zv(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let uk=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Es(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Es(this._element,this._initialStyles),this._endStyles&&(Es(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ad(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ad(this._element,this._endStyles),this._endStyles=null),Es(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function db(n){let t=null;return n.forEach((e,i)=>{(function DD(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Rh{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:nb(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class dk{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return XE(t,e)}getParentElement(t){return qv(t)}query(t,e,i){return Zv(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(p.easing=s);const _=new Map,b=c.filter(O=>O instanceof Rh);(function Qg(n,t){return 0===n||0===t})(i,r)&&b.forEach(O=>{O.currentSnapshot.forEach((N,z)=>_.set(z,N))});let I=function Bx(n){return n.length?n[0]instanceof Map?n:n.map(t=>Jv(t)):[]}(e).map(O=>tu(O));I=function nD(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((s,c)=>{i.has(c)||r.push(c),i.set(c,s)}),r.length)for(let s=1;s<t.length;s++){let c=t[s];r.forEach(d=>c.set(d,nb(n,d)))}}return t}(t,I,_);const M=function d_(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=db(t[0]),t.length>1&&(i=db(t[t.length-1]))):t instanceof Map&&(e=db(t)),e||i?new uk(n,e,i):null}(t,I);return new Rh(t,I,p,M)}}let hk=(()=>{class n extends ME{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?br(e):e;return ID(this._renderer,null,i,"register",[r]),new fk(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class fk extends class Ix{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new pk(this._id,t,e||{},this._renderer)}}class pk{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return ID(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ID(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const SD="@.disabled";let mk=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let b=this._rendererCache.get(s);return b||(b=new hd("",s,this.engine),this._rendererCache.set(s,b)),b}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const p=b=>{Array.isArray(b)?b.forEach(p):this.engine.registerTrigger(c,d,e,b.name,b)};return i.data.animation.forEach(p),new gk(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Pp),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class hd{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==SD?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class gk extends hd{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==SD?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function TD(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.slice(1),c="";return"@"!=s.charAt(0)&&([s,c]=function _k(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let AD=(()=>{class n extends Pp{constructor(e,i,r,s){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe),o.LFG(Yv),o.LFG(s_),o.LFG(o.z2F))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const xD=[{provide:ME,useClass:hk},{provide:s_,useFactory:function yk(){return new Jx}},{provide:Pp,useClass:AD},{provide:o.FYo,useFactory:function MD(n,t,e){return new mk(n,t,e)},deps:[Ol,Pp,o.R0b]}],Fp=[{provide:Yv,useFactory:()=>new dk},{provide:o.QbO,useValue:"BrowserAnimations"},...xD],kD=[{provide:Yv,useClass:od},{provide:o.QbO,useValue:"NoopAnimations"},...xD];let RD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?kD:Fp}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:Fp,imports:[Qo]}),n})();const OD=zl({passive:!0});let hb=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Wc.E;const i=Ql(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Tt.x,c="cdk-text-field-autofilled",d=p=>{"cdk-text-field-autofill-start"!==p.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===p.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:p.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,OD),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,OD)}}),s}stopMonitoring(e){const i=Ql(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var Xr=V(6451),Cr=V(5577),wk=V(1144),ol=V(576);const Ck=["addListener","removeListener"],Ek=["addEventListener","removeEventListener"],Dk=["on","off"];function Oh(n,t,e,i){if((0,ol.m)(e)&&(i=e,e=void 0),i)return Oh(n,t,e).pipe(Oc(i));const[r,s]=function ND(n){return(0,ol.m)(n.addEventListener)&&(0,ol.m)(n.removeEventListener)}(n)?Ek.map(c=>d=>n[c](t,d,e)):function Ik(n){return(0,ol.m)(n.addListener)&&(0,ol.m)(n.removeListener)}(n)?Ck.map(fb(n,t)):function Sk(n){return(0,ol.m)(n.on)&&(0,ol.m)(n.off)}(n)?Dk.map(fb(n,t)):[];if(!r&&(0,wk.z)(n))return(0,Cr.z)(c=>Oh(c,t,e))((0,lr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ci.y(c=>{const d=(...p)=>c.next(1<p.length?p:p[0]);return r(d),()=>s(d)})}function fb(n,t){return e=>i=>n[e](t,i)}const Tk=["connectionContainer"],Ak=["inputContainer"],Mk=["label"];function pb(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function mb(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function FD(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function gb(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function xk(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function kk(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.updateOutlineGap())}),o.YNc(2,FD,4,1,"ng-container",12),o.YNc(3,gb,1,0,"ng-content",12),o.YNc(4,xk,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function _b(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function Rk(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function LD(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Ph(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function VD(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,Ph,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const Ok=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],ZV=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],yb=new o.OlP("MatError"),vb={transitionMessages:ec("transitionMessages",[Kr("enter",yn({opacity:1,transform:"translateY(0%)"})),wr("void => enter",[yn({opacity:0,transform:"translateY(-5px)"}),bi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let h_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),UD=0;const bb=new o.OlP("MatHint");let HD=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+UD++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id)("align",null),o.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:bb,useExisting:n}])]}),n})(),fd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),Lk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Vk=new o.OlP("MatPrefix"),wb=new o.OlP("MatSuffix");let QV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:wb,useExisting:n}])]}),n})(),Cb=0;const XV=nd(class{constructor(n){this._elementRef=n}},"primary"),JV=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),f_=new o.OlP("MatFormField");let Lp=(()=>{class n extends XV{constructor(e,i,r,s,c,d,p){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Tt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Cb++,this._labelId="mat-form-field-label-"+Cb++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==p,this.appearance=s?.appearance||"legacy",s&&(this._hideRequiredMarker=Boolean(s.hideRequiredMarker),s.color&&(this.color=this.defaultColor=s.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=Sn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(nr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Pi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Pi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Xr.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(nr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(nr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Pi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Oh(this._label.nativeElement,"transitionend").pipe(qn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const b=i.querySelectorAll(`${r}, ${s}`);for(let I=0;I<b.length;I++)b[I].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const p=i.querySelectorAll(r),_=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const b=i.getBoundingClientRect();if(0===b.width&&0===b.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const I=this._getStartEnd(b),M=e.children,O=this._getStartEnd(M[0].getBoundingClientRect());let N=0;for(let z=0;z<M.length;z++)N+=M[z].offsetWidth;c=Math.abs(O-I)-5,d=N>0?.75*N+10:0}for(let b=0;b<p.length;b++)p[b].style.width=`${c}px`;for(let b=0;b<_.length;b++)_[b].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ra,8),o.Y36(JV,8),o.Y36(tr),o.Y36(o.R0b),o.Y36(o.QbO,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,h_,5),o.Suo(r,h_,7),o.Suo(r,fd,5),o.Suo(r,fd,7),o.Suo(r,Lk,5),o.Suo(r,yb,5),o.Suo(r,bb,5),o.Suo(r,Vk,5),o.Suo(r,wb,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(Tk,7),o.Gf(Ak,5),o.Gf(Mk,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:f_,useExisting:n}]),o.qOj],ngContentSelectors:ZV,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(Ok),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,pb,9,0,"ng-container",3),o.YNc(4,mb,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,kk,5,16,"label",8),o.qZA()(),o.YNc(10,_b,2,0,"div",9),o.qZA(),o.YNc(11,Rk,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,LD,2,1,"div",12),o.YNc(14,VD,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},dependencies:[_n,Ps,Ca,hv],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[vb.transitionMessages]},changeDetection:0}),n})(),Eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qo,Wn,Sg,Wn]}),n})();const GD=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),Hk=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let jk=0;const Gk=xv(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new Tt.x}});let Vp=(()=>{class n extends Gk{constructor(e,i,r,s,c,d,p,_,b,I){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=_,this._formField=I,this._uid="mat-input-"+jk++,this.focused=!1,this.stateChanges=new Tt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(N=>_g().has(N)),this._iOSKeyupListener=N=>{const z=N.target;!z.value&&0===z.selectionStart&&0===z.selectionEnd&&(z.setSelectionRange(1,1),z.setSelectionRange(0,0))};const M=this._elementRef.nativeElement,O=M.nodeName.toLowerCase();this._inputValueAccessor=p||M,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&b.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===O,this._isTextarea="textarea"===O,this._isInFormField=!!I,this._isNativeSelect&&(this.controlType=M.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=Sn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Et.required)??!1}set required(e){this._required=Sn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&_g().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=Sn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Hk.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(tr),o.Y36(er,10),o.Y36(Do,8),o.Y36(Yu,8),o.Y36(Ov),o.Y36(GD,10),o.Y36(hb),o.Y36(o.R0b),o.Y36(f_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:h_,useExisting:n}]),o.qOj,o.TTD]}),n})(),$k=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ov],imports:[PD,Eb,Wn,PD,Eb]}),n})();function Nh(n,t){const e=(0,ol.m)(n)?n:()=>n,i=r=>r.error(e());return new ci.y(t?r=>t.schedule(i,0,r):i)}function ic(n){return(0,Gi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,On.x)(e,void 0,void 0,c=>{s=(0,lr.Xf)(n(c,ic(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function iu(n){return(0,Gi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var p_=V(3099);function rc(n,t){return(0,ol.m)(t)?(0,Cr.z)(n,t,1):(0,Cr.z)(n,1)}class Db{}class Ib{}class al{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof al?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new al;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof al?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class qk{encodeKey(t){return zD(t)}encodeValue(t){return zD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const $D=/%(\d[a-f0-9])/gi,Wk={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function zD(n){return encodeURIComponent(n).replace($D,(t,e)=>Wk[e]??t)}function m_(n){return`${n}`}class ru{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new qk,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function eB(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],p=e.get(c)||[];p.push(d),e.set(c,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(m_):[m_(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new ru({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(m_(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(m_(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Zk{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function ca(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qD(n){return typeof Blob<"u"&&n instanceof Blob}function Bp(n){return typeof FormData<"u"&&n instanceof FormData}class Hp{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Sb(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new al),this.context||(this.context=new Zk),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new ru,this.urlWithParams=e}serializeBody(){return null===this.body?null:ca(this.body)||qD(this.body)||Bp(this.body)||function Up(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ru?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bp(this.body)?null:qD(this.body)?this.body.type||null:ca(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ru?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,_=t.params||this.params;const b=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((I,M)=>I.set(M,t.setHeaders[M]),p)),t.setParams&&(_=Object.keys(t.setParams).reduce((I,M)=>I.set(M,t.setParams[M]),_)),new Hp(e,i,s,{params:_,headers:p,context:b,reportProgress:d,responseType:r,withCredentials:c})}}var zi=(()=>((zi=zi||{})[zi.Sent=0]="Sent",zi[zi.UploadProgress=1]="UploadProgress",zi[zi.ResponseHeader=2]="ResponseHeader",zi[zi.DownloadProgress=3]="DownloadProgress",zi[zi.Response=4]="Response",zi[zi.User=5]="User",zi))();class Tb{constructor(t,e=200,i="OK"){this.headers=t.headers||new al,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Fh extends Tb{constructor(t={}){super(t),this.type=zi.ResponseHeader}clone(t={}){return new Fh({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class pd extends Tb{constructor(t={}){super(t),this.type=zi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new pd({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class WD extends Tb{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Ab(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Hp)s=e;else{let p,_;p=r.headers instanceof al?r.headers:new al(r.headers),r.params&&(_=r.params instanceof ru?r.params:new ru({fromObject:r.params})),s=new Hp(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:_,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=st(s).pipe(rc(p=>this.handler.handle(p)));if(e instanceof Hp||"events"===r.observe)return c;const d=c.pipe(zn(p=>p instanceof pd));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,ct.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return d.pipe((0,ct.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return d.pipe((0,ct.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return d.pipe((0,ct.U)(p=>p.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new ru).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Ab(r,i))}post(e,i,r={}){return this.request("POST",e,Ab(r,i))}put(e,i,r={}){return this.request("PUT",e,Ab(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Db))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Mb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const __=new o.OlP("HTTP_INTERCEPTORS");let ZD=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Kk=/^\)\]\}',?\n/;let JD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ci.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((O,N)=>r.setRequestHeader(O,N.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const O=e.detectContentTypeHeader();null!==O&&r.setRequestHeader("Content-Type",O)}if(e.responseType){const O=e.responseType.toLowerCase();r.responseType="json"!==O?O:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const O=r.statusText||"OK",N=new al(r.getAllResponseHeaders()),z=function Qk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new Fh({headers:N,status:r.status,statusText:O,url:z}),c},p=()=>{let{headers:O,status:N,statusText:z,url:ie}=d(),Me=null;204!==N&&(Me=typeof r.response>"u"?r.responseText:r.response),0===N&&(N=Me?200:0);let ze=N>=200&&N<300;if("json"===e.responseType&&"string"==typeof Me){const Je=Me;Me=Me.replace(Kk,"");try{Me=""!==Me?JSON.parse(Me):null}catch(Qe){Me=Je,ze&&(ze=!1,Me={error:Qe,text:Me})}}ze?(i.next(new pd({body:Me,headers:O,status:N,statusText:z,url:ie||void 0})),i.complete()):i.error(new WD({error:Me,headers:O,status:N,statusText:z,url:ie||void 0}))},_=O=>{const{url:N}=d(),z=new WD({error:O,status:r.status||0,statusText:r.statusText||"Unknown Error",url:N||void 0});i.error(z)};let b=!1;const I=O=>{b||(i.next(d()),b=!0);let N={type:zi.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),"text"===e.responseType&&!!r.responseText&&(N.partialText=r.responseText),i.next(N)},M=O=>{let N={type:zi.UploadProgress,loaded:O.loaded};O.lengthComputable&&(N.total=O.total),i.next(N)};return r.addEventListener("load",p),r.addEventListener("error",_),r.addEventListener("timeout",_),r.addEventListener("abort",_),e.reportProgress&&(r.addEventListener("progress",I),null!==s&&r.upload&&r.upload.addEventListener("progress",M)),r.send(s),i.next({type:zi.Sent}),()=>{r.removeEventListener("error",_),r.removeEventListener("abort",_),r.removeEventListener("load",p),r.removeEventListener("timeout",_),e.reportProgress&&(r.removeEventListener("progress",I),null!==s&&r.upload&&r.upload.removeEventListener("progress",M)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Zo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const y_=new o.OlP("XSRF_COOKIE_NAME"),Gp=new o.OlP("XSRF_HEADER_NAME");class xb{}let eI=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=_c(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe),o.LFG(o.Lbi),o.LFG(y_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),v_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(xb),o.LFG(Gp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),tI=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(__,[]);this.chain=i.reduceRight((r,s)=>new Mb(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ib),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),nI=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:v_,useClass:ZD}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:y_,useValue:e.cookieName}:[],e.headerName?{provide:Gp,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[v_,{provide:__,useExisting:v_,multi:!0},{provide:xb,useClass:eI},{provide:y_,useValue:"XSRF-TOKEN"},{provide:Gp,useValue:"X-XSRF-TOKEN"}]}),n})(),Jk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[jp,{provide:Db,useClass:tI},JD,{provide:Ib,useExisting:JD}],imports:[nI.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const Jr=["*"];let sc;function $p(n){return function nR(){if(void 0===sc&&(sc=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(sc=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return sc}()?.createHTML(n)||n}function iR(n){return Error(`Unable to find icon with the name "${n}"`)}function kb(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Rb(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class ua{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let zp=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new ua(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw Rb(r);const d=$p(c);return this._addSvgIconConfig(e,i,new ua("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new ua(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw Rb(i);const c=$p(s);return this._addSvgIconSetConfig(e,new ua("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw kb(e);const r=this._cachedIconsByUrl.get(i);return r?st(qp(r)):this._loadSvgIconFromConfig(new ua(e,null)).pipe((0,vi.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ct.U)(s=>qp(s)))}getNamedSvgIcon(e,i=""){const r=iI(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Nh(iR(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?st(qp(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ct.U)(i=>qp(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?st(r):Ka(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ic(d=>{const _=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(_)),st(null)})))).pipe((0,ct.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw iR(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,vi.b)(i=>e.svgText=i),(0,ct.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?st(null):this._fetchIcon(e).pipe((0,vi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString($p("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString($p("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function sB(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!c)throw kb(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const p=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ct.U)(_=>$p(_)),iu(()=>this._inProgressUrlFetches.delete(c)),(0,p_.B)());return this._inProgressUrlFetches.set(c,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(iI(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return rR(s)?new ua(s.url,null,s.options):new ua(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(jp,8),o.LFG(go),o.LFG(oe,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qp(n){return n.cloneNode(!0)}function iI(n,t){return n+":"+t}function rR(n){return!(!n.url||!n.options)}const sR=nd(class{constructor(n){this._elementRef=n}}),Pb=new o.OlP("MAT_ICON_DEFAULT_OPTIONS"),rI=new o.OlP("mat-icon-location",{providedIn:"root",factory:function sI(){const n=(0,o.f3M)(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Wp=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Nb=Wp.map(n=>`[${n}]`).join(", "),aB=/^url\(['"]?#(.*?)['"]?\)$/;let su=(()=>{class n extends sR{constructor(e,i,r,s,c,d){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=$n.w0.EMPTY,d&&(d.color&&(this.color=this.defaultColor=d.color),d.fontSet&&(this.fontSet=d.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=Sn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Nb),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)Wp.forEach(c=>{const d=i[s],p=d.getAttribute(c),_=p?p.match(aB):null;if(_){let b=r.get(d);b||(b=[],r.set(d,b)),b.push({name:c,value:_[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(qn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(zp),o.$8M("aria-hidden"),o.Y36(rI),o.Y36(o.qLn),o.Y36(Pb,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:Jr,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),oR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[Wn,Wn]}),n})();var Fb=V(4408);const ll={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ll;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new $n.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ll;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ll;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Lb=V(7565);new class Vb extends Lb.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class aR extends Fb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ll.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ll.cancelAnimationFrame(e),t._scheduled=void 0)}});let Bb,uB=1;const b_={};function oI(n){return n in b_&&(delete b_[n],!0)}const aI={setImmediate(n){const t=uB++;return b_[t]=!0,Bb||(Bb=Promise.resolve()),Bb.then(()=>oI(t)&&n()),t},clearImmediate(n){oI(n)}},{setImmediate:cR,clearImmediate:lI}=aI,Zp={setImmediate(...n){const{delegate:t}=Zp;return(t?.setImmediate||cR)(...n)},clearImmediate(n){const{delegate:t}=Zp;return(t?.clearImmediate||lI)(n)},delegate:void 0},w_=new class dR extends Lb.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class uR extends Fb.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Zp.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Zp.clearImmediate(e),t._scheduled=void 0)}});var uI=V(3532);function Ub(n=0,t,e=_h.P){let i=-1;return null!=t&&((0,uI.K)(t)?e=t:i=t),new ci.y(r=>{let s=function dI(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function hI(n,t=_h.z){return function cI(n){return(0,Gi.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(s?.unsubscribe(),s=null,i){i=!1;const _=r;r=null,e.next(_)}c&&e.complete()},p=()=>{s=null,c&&e.complete()};t.subscribe((0,On.x)(e,_=>{i=!0,r=_,s||(0,lr.Xf)(n(_)).subscribe(s=(0,On.x)(e,d,p))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>Ub(n,t))}let pB=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Tt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ci.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(hI(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):st()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(zn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ql(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Oh(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(tr),o.LFG(oe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fI=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Tt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(hI(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(tr),o.LFG(o.R0b),o.LFG(oe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Yp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Gb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[bp,Yp,bp,Yp]}),n})();class mI{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Lh extends mI{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class C_ extends mI{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class _R extends mI{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class E_{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Lh?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof C_?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof _R?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class wB extends E_{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,p=this._document.createComment("dom-portal");d.parentNode.insertBefore(p,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(d,p)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Vh=(()=>{class n extends E_{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(oe))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),Bh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function _I(n,t=!1){return(0,Gi.e)((e,i)=>{let r=0;e.subscribe((0,On.x)(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}const Qs=nM();class bR{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=$i(-this._previousScrollPosition.left),t.style.top=$i(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Qs&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Qs&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class wR{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vI{enable(){}disable(){}attach(){}}function Kp(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function zb(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class bI{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();Kp(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let CR=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new vI,this.close=c=>new wR(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new bR(this._viewportRuler,this._document),this.reposition=c=>new bI(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pB),o.LFG(fI),o.LFG(o.R0b),o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class md{constructor(t){if(this.scrollStrategy=new vI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class wI{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let oc=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),EI=(()=>{class n extends oc{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qb=(()=>{class n extends oc{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=ql(s)},this._clickListener=s=>{const c=ql(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let _=p.length-1;_>-1;_--){const b=p[_];if(b._outsidePointerEvents.observers.length<1||!b.hasAttached())continue;if(b.overlayElement.contains(c)||b.overlayElement.contains(d))break;const I=b._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(s)):I.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe),o.LFG(tr),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mo=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||rv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),rv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(oe),o.LFG(tr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Qp{constructor(t,e,i,r,s,c,d,p,_,b=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=p,this._outsideClickDispatcher=_,this._animationsDisabled=b,this._backdropElement=null,this._backdropClick=new Tt.x,this._attachments=new Tt.x,this._detachments=new Tt.x,this._locationChanges=$n.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new Tt.x,this._outsidePointerEvents=new Tt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=$i(this._config.width),t.height=$i(this._config.height),t.minWidth=$i(this._config.minWidth),t.minHeight=$i(this._config.minHeight),t.maxWidth=$i(this._config.maxWidth),t.maxHeight=$i(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ig(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Pi((0,Xr.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const DR="cdk-overlay-connected-position-bounding-box",IR=/([A-Za-z%]+)$/;class DI{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tt.x,this._resizeSubscription=$n.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(DR),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let p=this._getOriginPoint(t,r,d),_=this._getOverlayPoint(p,e,d),b=this._getOverlayFit(_,e,i,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,p);this._canFitWithFlexibleDimensions(b,_,i)?s.push({position:d,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,d)}):(!c||c.overlayFit.visibleArea<b.visibleArea)&&(c={overlayFit:b,overlayPoint:_,originPoint:p,position:d,overlayRect:e})}if(s.length){let d=null,p=-1;for(const _ of s){const b=_.boundingBoxRect.width*_.boundingBoxRect.height*(_.position.weight||1);b>p&&(p=b,d=_)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&gd(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(DR),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=Wb(e);let{x:c,y:d}=t,p=this._getOffset(r,"x"),_=this._getOffset(r,"y");p&&(c+=p),_&&(d+=_);let M=0-d,O=d+s.height-i.height,N=this._subtractOverflows(s.width,0-c,c+s.width-i.width),z=this._subtractOverflows(s.height,M,O),ie=N*z;return{visibleArea:ie,isCompletelyWithinViewport:s.width*s.height===ie,fitsInViewportVertically:z===s.height,fitsInViewportHorizontally:N==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=II(this._overlayRef.getConfig().minHeight),d=II(this._overlayRef.getConfig().minWidth),_=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&_}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=Wb(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),p=Math.max(s.top-i.top-t.y,0),_=Math.max(s.left-i.left-t.x,0);let b=0,I=0;return b=r.width<=s.width?_||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,I=r.height<=s.height?p||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:b,y:I},{x:t.x+b,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new wI(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,b,I,M;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const O=Math.min(i.bottom-t.y+i.top,t.y),N=this._lastBoundingBoxSize.height;s=2*O,c=t.y-O,s>N&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-N/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)M=i.width-t.x+this._viewportMargin,b=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,b=i.right-t.x;else{const O=Math.min(i.right-t.x+i.left,t.x),N=this._lastBoundingBoxSize.width;b=2*O,I=t.x-O,b>N&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-N/2)}return{top:c,left:I,bottom:d,right:M,width:b,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=$i(i.height),r.top=$i(i.top),r.bottom=$i(i.bottom),r.width=$i(i.width),r.left=$i(i.left),r.right=$i(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=$i(s)),c&&(r.maxWidth=$i(c))}this._lastBoundingBoxSize=i,gd(this._boundingBox.style,r)}_resetBoundingBoxStyles(){gd(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){gd(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const b=this._viewportRuler.getViewportScrollPosition();gd(i,this._getExactOverlayY(e,t,b)),gd(i,this._getExactOverlayX(e,t,b))}else i.position="static";let d="",p=this._getOffset(e,"x"),_=this._getOffset(e,"y");p&&(d+=`translateX(${p}px) `),_&&(d+=`translateY(${_}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=$i(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=$i(c.maxWidth):s&&(i.maxWidth="")),gd(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=$i(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=$i(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:zb(t,i),isOriginOutsideView:Kp(t,i),isOverlayClipped:zb(e,i),isOverlayOutsideView:Kp(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ig(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function gd(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function II(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(IR);return e&&"px"!==e?null:parseFloat(t)}return n||null}function Wb(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const SI="cdk-global-overlay-wrapper";class TI{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(SI),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,p=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),_=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d),b=this._xPosition,I=this._xOffset,M="rtl"===this._overlayRef.getConfig().direction;let O="",N="",z="";p?z="flex-start":"center"===b?(z="center",M?N=I:O=I):M?"left"===b||"end"===b?(z="flex-end",O=I):("right"===b||"start"===b)&&(z="flex-start",N=I):"left"===b||"start"===b?(z="flex-start",O=I):("right"===b||"end"===b)&&(z="flex-end",N=I),t.position=this._cssPosition,t.marginLeft=p?"0":O,t.marginTop=_?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":N,e.justifyContent=z,e.alignItems=_?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(SI),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let IB=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new TI}flexibleConnectedTo(e){return new DI(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fI),o.LFG(oe),o.LFG(tr),o.LFG(Mo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=0,es=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,I,M,O){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=p,this._document=_,this._directionality=b,this._location=I,this._outsideClickDispatcher=M,this._animationsModuleType=O}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new md(e);return c.direction=c.direction||this._directionality.value,new Qp(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Zb++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new wB(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(CR),o.LFG(Mo),o.LFG(o._Vd),o.LFG(IB),o.LFG(EI),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(oe),o.LFG(ra),o.LFG(Ne),o.LFG(qb),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const AI=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],Yb=new o.OlP("cdk-connected-overlay-scroll-strategy");let Kb=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),Qb=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=$n.w0.EMPTY,this._attachSubscription=$n.w0.EMPTY,this._detachSubscription=$n.w0.EMPTY,this._positionSubscription=$n.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new C_(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Sn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=Sn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=Sn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=Sn(e)}get push(){return this._push}set push(e){this._push=Sn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=AI);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!Ws(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new md({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Kb?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(_I(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(es),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(Yb),o.Y36(ra,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const I_={provide:Yb,deps:[es],useFactory:function D_(n){return()=>n.scrollStrategies.reposition()}};let _d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[es,I_],imports:[bp,Bh,Gb,Gb]}),n})();function MI(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.action())}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function xI(n,t){}const kI=new o.OlP("MatSnackBarData");class S_{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const TB=Math.pow(2,31)-1;class RI{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Tt.x,this._afterOpened=new Tt.x,this._onAction=new Tt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,TB))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let OI=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(RI),o.Y36(kI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA(),o.YNc(2,MI,3,1,"div",1)),2&e&&(o.xp6(1),o.Oqu(i.data.message),o.xp6(1),o.Q6J("ngIf",i.hasAction))},dependencies:[_n,Ni],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const TR={snackBarState:ec("state",[Kr("void, hidden",yn({transform:"scale(0.8)",opacity:0})),Kr("visible",yn({transform:"scale(1)",opacity:1})),wr("* => visible",bi("150ms cubic-bezier(0, 0, 0.2, 1)")),wr("* => void, * => hidden",bi("75ms cubic-bezier(0.4, 0.0, 1, 1)",yn({opacity:0})))])};let AR=(()=>{class n extends E_{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Tt.x,this._onExit=new Tt.x,this._onEnter=new Tt.x,this._animationState="void",this.attachDomPortal=d=>{this._assertNotAttached();const p=this._portalOutlet.attachDomPortal(d);return this._afterPortalAttached(),p},this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(qn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(tr),o.Y36(S_))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Vh,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),MR=(()=>{class n extends AR{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,xI,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",i._live)("role",i._role))},dependencies:[Vh],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[TR.snackBarState]}}),n})(),xR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[_d,Bh,qo,id,Wn,Wn]}),n})();const kR=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function AB(){return new S_}});let MB=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:S_,useValue:i}]}),c=new Lh(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new S_,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new RI(c,s);if(e instanceof o.Rgc){const p=new C_(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(p)}else{const p=this._createInjector(r,d),_=new Lh(e,void 0,p),b=c.attachComponentPortal(_);d.instance=b.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Pi(s.detachments())).subscribe(p=>{s.overlayElement.classList.toggle(this.handsetCssClass,p.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new md;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:RI,useValue:i},{provide:kI,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(es),o.LFG(Ch),o.LFG(o.zs3),o.LFG(mp),o.LFG(n,12),o.LFG(kR))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),PI=(()=>{class n extends MB{constructor(e,i,r,s,c,d){super(e,i,r,s,c,d),this.simpleSnackBarComponent=OI,this.snackBarContainerComponent=MR,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(es),o.LFG(Ch),o.LFG(o.zs3),o.LFG(mp),o.LFG(n,12),o.LFG(kR))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:xR}),n})();function si(n,t){return(0,Gi.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,On.x)(i,p=>{r?.unsubscribe();let _=0;const b=s++;(0,lr.Xf)(n(p,b)).subscribe(r=(0,On.x)(i,I=>i.next(t?t(p,I,b,_++):I),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function NI(n){return(0,ct.U)(()=>n)}function FI(n,t){return t?e=>bh(t.pipe(qn(1),function T_(){return(0,Gi.e)((n,t)=>{n.subscribe((0,On.x)(t,Dg.Z))})}()),e.pipe(FI(n))):(0,Cr.z)((e,i)=>n(e,i).pipe(qn(1),NI(e)))}function Xb(n,t=_h.z){const e=Ub(n,t);return FI(()=>e)}const yd=["mat-menu-item",""];function LI(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const A_=["*"];function Jb(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))})("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationStart(r))})("@transformMenu.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._onAnimationDone(r))}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const M_={transformMenu:ec("transformMenu",[Kr("void",yn({opacity:0,transform:"scale(0.8)"})),wr("void => enter",bi("120ms cubic-bezier(0, 0, 0.2, 1)",yn({opacity:1,transform:"scale(1)"}))),wr("* => void",bi("100ms 25ms linear",yn({opacity:0})))]),fadeInItems:ec("fadeInItems",[Kr("showing",yn({opacity:1})),wr("void => *",[yn({opacity:0}),bi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},x_=new o.OlP("MatMenuContent"),ew=new o.OlP("MAT_MENU_PANEL"),OR=Og(wp(class{}));let k_=(()=>{class n extends OR{constructor(e,i,r,s,c){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Tt.x,this._focused=new Tt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(oe),o.Y36(ia),o.Y36(ew,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:yd,ngContentSelectors:A_,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,LI,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},dependencies:[_n,Kc],encapsulation:2,changeDetection:0}),n})();const UI=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function HI(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let jI=0,Uh=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=$n.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Tt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+jI++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=Sn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=Sn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new sE(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(nr(this._directDescendantItems),si(e=>(0,Xr.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(nr(this._directDescendantItems),si(i=>(0,Xr.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Ws(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(nr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(UI),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,x_,5),o.Suo(r,k_,5),o.Suo(r,k_,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),PR=(()=>{class n extends Uh{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(UI),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:ew,useExisting:n}]),o.qOj],ngContentSelectors:A_,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,Jb,3,6,"ng-template"))},dependencies:[un],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[M_.transformMenu,M_.fadeInItems]},changeDetection:0}),n})();const GI=new o.OlP("mat-menu-scroll-strategy"),tw={provide:GI,deps:[es],useFactory:function $I(n){return()=>n.scrollStrategies.reposition()}},nw=zl({passive:!0});let iw=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=p,this._focusMonitor=_,this._ngZone=b,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=$n.w0.EMPTY,this._hoverSubscription=$n.w0.EMPTY,this._menuCloseSubscription=$n.w0.EMPTY,this._handleTouchStart=I=>{_p(I)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof Uh?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,nw),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,nw),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),s=r.positionStrategy;this._setPosition(e,s),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Uh&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Pi(e.close)).subscribe(()=>{s.withLockedPosition(!1).reapplyLastPosition(),s.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Uh?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(zn(r=>"void"===r.toState),qn(1),Pi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new md({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const s="start"===r.connectionPair.overlayX?"after":"before",c="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(s,c)):e.setPositionClasses(s,c)})}_setPosition(e,i){let[r,s]="before"===e.xPosition?["end","start"]:["start","end"],[c,d]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[p,_]=[c,d],[b,I]=[r,s],M=0;if(this.triggersSubmenu()){if(I=r="before"===e.xPosition?"start":"end",s=b="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const O=this._parentMaterialMenu.items.first;this._parentInnerPadding=O?O._getHostElement().offsetTop:0}M="bottom"===c?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(p="top"===c?"bottom":"top",_="top"===d?"bottom":"top");i.withPositions([{originX:r,originY:p,overlayX:b,overlayY:c,offsetY:M},{originX:s,originY:p,overlayX:I,overlayY:c,offsetY:M},{originX:r,originY:_,overlayX:b,overlayY:d,offsetY:-M},{originX:s,originY:_,overlayX:I,overlayY:d,offsetY:-M}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:st(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(zn(c=>c!==this._menuItemInstance),zn(()=>this._menuOpen)):st();return(0,Xr.T)(e,r,s,i)}_handleMousedown(e){Mg(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(zn(e=>e===this._menuItemInstance&&!e.disabled),Xb(0,w_)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Uh&&this.menu._isAnimating?this.menu._animationDone.pipe(qn(1),Xb(0,w_),Pi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new C_(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(es),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(GI),o.Y36(ew,8),o.Y36(k_,10),o.Y36(ra,8),o.Y36(ia),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),NR=(()=>{class n extends iw{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),FR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[tw],imports:[qo,Wn,To,_d,Yp,Wn]}),n})();class OB{constructor(t=!1,e,i=!0,r){this._multiple=t,this._emitChanges=i,this.compareWith=r,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Tt.x,e&&e.length&&(t?e.forEach(s=>this._markSelected(s)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(i=>this._markSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}deselect(...t){this._verifyValueAssignment(t),t.forEach(i=>this._unmarkSelected(i));const e=this._hasQueuedChanges();return this._emitChangeEvent(),e}setSelection(...t){this._verifyValueAssignment(t);const e=this.selected,i=new Set(t);t.forEach(s=>this._markSelected(s)),e.filter(s=>!i.has(s)).forEach(s=>this._unmarkSelected(s));const r=this._hasQueuedChanges();return this._emitChangeEvent(),r}toggle(t){return this.isSelected(t)?this.deselect(t):this.select(t)}clear(t=!0){this._unmarkAll();const e=this._hasQueuedChanges();return t&&this._emitChangeEvent(),e}isSelected(t){if(this.compareWith){for(const e of this._selection)if(this.compareWith(e,t))return!0;return!1}return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this.isSelected(t)||this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}_hasQueuedChanges(){return!(!this._deselectedToEmit.length&&!this._selectedToEmit.length)}}function R_(n){return new ci.y(t=>{(0,lr.Xf)(n()).subscribe(t)})}const LR=["trigger"],PB=["panel"];function NB(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function FB(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function LB(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function VB(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,FB,2,1,"span",10),o.YNc(2,LB,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function BB(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._panelDoneAnimatingStream.next(r.toState))})("keydown",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._handleKeydown(r))}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const a=[[["mat-select-trigger"]],"*"],l=["mat-select-trigger","*"],u={transformPanelWrap:ec("transformPanelWrap",[wr("* => void",Xc("@transformPanel",[Qc()],{optional:!0}))]),transformPanel:ec("transformPanel",[Kr("void",yn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Kr("showing",yn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Kr("showing-multiple",yn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),wr("void => *",bi("120ms cubic-bezier(0, 0, 0.2, 1)")),wr("* => void",bi("100ms 25ms linear",yn({opacity:0})))])};let v=0;const C=256,ae=new o.OlP("mat-select-scroll-strategy"),je=new o.OlP("MAT_SELECT_CONFIG"),et={provide:ae,deps:[es],useFactory:function Te(n){return()=>n.scrollStrategies.reposition()}};class ut{constructor(t,e){this.source=t,this.value=e}}const Ot=Og(Mv(wp(xv(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r,this.stateChanges=new Tt.x}})))),Ve=new o.OlP("MatSelectTrigger");let hn=(()=>{class n extends Ot{constructor(e,i,r,s,c,d,p,_,b,I,M,O,N,z){super(c,s,p,_,I),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=b,this._liveAnnouncer=N,this._defaultOptions=z,this._panelOpen=!1,this._compareWith=(ie,Me)=>ie===Me,this._uid="mat-select-"+v++,this._triggerAriaLabelledBy=null,this._destroy=new Tt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+v++,this._panelDoneAnimatingStream=new Tt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=R_(()=>{const ie=this.options;return ie?ie.changes.pipe(nr(ie),si(()=>(0,Xr.T)(...ie.map(Me=>Me.onSelectionChange)))):this._ngZone.onStable.pipe(qn(1),si(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(zn(ie=>ie),(0,ct.U)(()=>{})),this._closedStream=this.openedChange.pipe(zn(ie=>!ie),(0,ct.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=z?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=z.typeaheadDebounceInterval),this._scrollStrategyFactory=O,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(M)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(Et.required)??!1}set required(e){this._required=Sn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=Sn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=Sn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=pp(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new OB(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Kl(),Pi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Pi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(nr(null),Pi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){(e.disabled||e.userAriaDescribedBy)&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!Ws(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const p=this.selected;p&&d!==p&&this._liveAnnouncer.announce(p.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||Ws(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(p=>!p.disabled&&!p.selected);this.options.forEach(p=>{p.disabled||(d?p.select():p.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(qn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new WM(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Pi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Pi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,Xr.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Pi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Xr.T)(...this.options.map(i=>i._stateChanges)).pipe(Pi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fI),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Ov),o.Y36(o.SBq),o.Y36(ra,8),o.Y36(Do,8),o.Y36(Yu,8),o.Y36(f_,8),o.Y36(er,10),o.$8M("tabindex"),o.Y36(ae),o.Y36(Ch),o.Y36(je,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(LR,5),o.Gf(PB,5),o.Gf(Qb,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),oi=(()=>{class n extends hn{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Pi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=mx(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function gx(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,C)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new ut(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let _=this._selectionModel.selected[0]||this.options.first;c=_&&_.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),p=e.right+c-i.width+(r?0:s);d>0?c+=d+8:p>0&&(c-=p+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(C/s);let p;return this.disableOptionCentering?0:(p=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-C)%s):i-s/2,Math.round(-1*p-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),_=Math.min(this._getItemCount()*i,C)-d-this._triggerRect.height;_>c?this._adjustPanelUp(_,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,C),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=mx(d,this.options,this.optionGroups);const p=r/2;this._scrollTop=this._calculateOverlayScroll(d,p,c),this._offsetY=this._calculateOverlayOffsetY(d,p,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,Ve,5),o.Suo(r,IE,5),o.Suo(r,DE,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:19,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:h_,useExisting:n},{provide:Eh,useExisting:n}]),o.qOj],ngContentSelectors:l,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(a),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,NB,2,1,"span",3),o.YNc(5,VB,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,BB,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},dependencies:[un,Ps,Ca,Ea,Qb,Kb],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:rgba(0,0,0,0);-webkit-text-fill-color:rgba(0,0,0,0);transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}'],encapsulation:2,data:{animation:[u.transformPanelWrap,u.transformPanel]},changeDetection:0}),n})(),vd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[et],imports:[qo,_d,SE,Wn,Yp,Eb,SE,Wn]}),n})();const rw=["mat-calendar-body",""];function sw(n,t){if(1&n&&(o.TgZ(0,"tr",2)(1,"td",3),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function ow(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function aw(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7)(1,"button",8),o.NdJ("click",function(r){const c=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._cellClicked(c,r))})("focus",function(r){const c=o.CHM(e).$implicit,d=o.oxw(2);return o.KtG(d._emitActiveDateChange(c,r))}),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._UZ(4,"div",10),o.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.uIk("data-mat-row",r)("data-mat-col",i),o.xp6(1),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function lw(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,ow,2,6,"td",5),o.YNc(2,aw,5,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function cw(n,t){if(1&n&&(o.TgZ(0,"th",5)(1,"span",6),o._uU(2),o.qZA(),o.TgZ(3,"span",7),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.long),o.xp6(2),o.Oqu(e.narrow)}}const uw=["*"];function dw(n,t){}function hw(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("_userSelection",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._dateSelected(r))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function bW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("monthSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._monthSelectedInYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"month"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function wW(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s.activeDate=r)})("yearSelected",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._yearSelectedInMultiYearView(r))})("selectedChange",function(r){o.CHM(e);const s=o.oxw();return o.KtG(s._goToDateInView(r,"year"))}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function CW(n,t){}const EW=["button"];function DW(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const IW=[[["","matDatepickerToggleIcon",""]]],SW=["[matDatepickerToggleIcon]"];let fw=(()=>{class n{constructor(){this.changes=new Tt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class VR{constructor(t,e,i,r,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let O_=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this.activeDateChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return BR(e,this.startValue,this.endValue)}_isRangeEnd(e){return UR(e,this.startValue,this.endValue)}_isInRange(e){return HR(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return BR(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return UR(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return HR(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return BR(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return UR(e,this.previewStart,this.previewEnd)}_isInPreview(e){return HR(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(UB(e)?i=e:UB(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:rw,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,sw,3,6,"tr",0),o.YNc(1,lw,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},dependencies:[un,zr,_n],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function UB(n){return"TD"===n.nodeName}function BR(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function UR(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function HR(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class xo{constructor(t,e){this.start=t,this.end=e}}let Hh=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Tt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),TW=(()=>{class n extends Hh{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ir))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const HB={provide:Hh,deps:[[new o.FiY,new o.tp0,Hh],ir],useFactory:function MW(n,t){return n||new TW(t)}},zI=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let jB=(()=>{class n{constructor(e,i,r,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(nr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let s,c;this._selected instanceof xo?(s=this._getDateInCurrentMonth(this._selected.start),c=this._getDateInCurrentMonth(this._selected.end)):s=c=this._getDateInCurrentMonth(this._selected),(s!==i||c!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Ws(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),p=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),_=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new VR(r+1,i[r],p,d,_,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof xo?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Yc,8),o.Y36(ir,8),o.Y36(ra,8),o.Y36(zI,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(O_,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,cw,5,2,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[zr,O_],encapsulation:2,changeDetection:0}),n})(),GB=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),$B(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(nr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-pw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),s=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-pw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-pw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return pw(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new VR(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof xo){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(ir,8),o.Y36(ra,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(O_,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[O_],encapsulation:2,changeDetection:0}),n})();function $B(n,t,e,i,r){const s=n.getYear(t),c=n.getYear(e),d=zB(n,i,r);return Math.floor((s-d)/24)===Math.floor((c-d)/24)}function pw(n,t,e,i){return function OW(n,t){return(n%t+t)%t}(n.getYear(t)-zB(n,e,i),24)}function zB(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let qB=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=$n.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(nr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._getDateFromMonth(i);this.selectedChange.emit(s)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new VR(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof xo?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(Yc,8),o.Y36(ir,8),o.Y36(ra,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(O_,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("activeDateChange",function(s){return i._updateActiveDate(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[O_],encapsulation:2,changeDetection:0}),n})(),PW=0,NW=(()=>{class n{constructor(e,i,r,s,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+PW++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-pw(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):$B(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fw),o.Y36((0,o.Gpc)(()=>$R)),o.Y36(ir,8),o.Y36(Yc,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:uw,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA()(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},dependencies:[Ni],encapsulation:2,changeDetection:0}),n})(),$R=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new Tt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof xo?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Lh(this.headerComponent||NW),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof xo||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fw),o.Y36(ir,8),o.Y36(Yc,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(jB,5),o.Gf(qB,5),o.Gf(GB,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([HB]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,dw,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,hw,1,8,"mat-month-view",2),o.YNc(3,bW,1,6,"mat-year-view",3),o.YNc(4,wW,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ps,Ca,vp,Vh,jB,qB,GB],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const WB={transformPanel:ec("transformPanel",[wr("void => enter-dropdown",bi("120ms cubic-bezier(0, 0, 0.2, 1)",Ys([yn({opacity:0,transform:"scale(1, 0.8)"}),yn({opacity:1,transform:"scale(1, 1)"})]))),wr("void => enter-dialog",bi("150ms cubic-bezier(0, 0, 0.2, 1)",Ys([yn({opacity:0,transform:"scale(0.7)"}),yn({transform:"none",opacity:1})]))),wr("* => void",bi("100ms linear",yn({opacity:0})))]),fadeInCalendar:ec("fadeInCalendar",[Kr("void",yn({opacity:0})),Kr("enter",yn({opacity:1})),wr("void => *",bi("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let FW=0;const ZB=new o.OlP("mat-datepicker-scroll-strategy"),VW={provide:ZB,deps:[es],useFactory:function LW(n){return()=>n.scrollStrategies.reposition()}},BW=nd(class{constructor(n){this._elementRef=n}});let UW=(()=>{class n extends BW{constructor(e,i,r,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new $n.w0,this._animationDone=new Tt.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof xo;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}_assignActions(e,i){this._model=e?this._globalModel.clone():this._globalModel,this._actionsPortal=e,i&&this._changeDetectorRef.detectChanges()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Hh),o.Y36(ir),o.Y36(zI,8),o.Y36(fw))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf($R,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,CW,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&e){let r;o.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),o.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText)}},dependencies:[un,Ni,wV,Vh,$R],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}"],encapsulation:2,data:{animation:[WB.transformPanel,WB.fadeInCalendar]},changeDetection:0}),n})(),YB=(()=>{class n{constructor(e,i,r,s,c,d,p){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=p,this._inputStateChanges=$n.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+FW++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Tt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=Sn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=Sn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=Sn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function jM(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){Sn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof DI&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e,this._componentRef?.instance._assignActions(e,!0)}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null,this._componentRef?.instance._assignActions(null,!0))}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=lp(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(qn(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._dialogLabelId=this.datepickerInput.getOverlayLabelId(),e._assignActions(this._actionsPortal,!1)}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new Lh(UW,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new md({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(qn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,Xr.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(zn(i=>27===i.keyCode&&!Ws(i)||this.datepickerInput&&Ws(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(es),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(ZB),o.Y36(ir,8),o.Y36(ra,8),o.Y36(Hh))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),HW=(()=>{class n extends YB{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([HB,{provide:YB,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class qI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let jW=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new Tt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=$n.w0.EMPTY,this._localeSubscription=$n.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=Sn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new qI(this,this._elementRef.nativeElement)),this.dateChange.emit(new qI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function GW(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new qI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new qI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ir,8),o.Y36(Yc,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const $W={provide:Ji,useExisting:(0,o.Gpc)(()=>zR),multi:!0},zW={provide:Hn,useExisting:(0,o.Gpc)(()=>zR),multi:!0};let zR=(()=>{class n extends jW{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=$n.w0.EMPTY,this._validator=Et.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(ir,8),o.Y36(Yc,8),o.Y36(f_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([$W,zW,{provide:GD,useExisting:n}]),o.qOj]}),n})(),qW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),WW=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=$n.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=Sn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:st(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:st(),r=this.datepicker?(0,Xr.T)(this.datepicker.openedStream,this.datepicker.closedStream):st();this._stateChanges.unsubscribe(),this._stateChanges=(0,Xr.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fw),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,qW,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(EW,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:SW,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(IW),o.TgZ(0,"button",0,1),o.YNc(2,DW,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},dependencies:[_n,Ni],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}"],encapsulation:2,changeDetection:0}),n})(),ZW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[fw,VW],imports:[qo,id,_d,Rg,Bh,Wn,Yp]}),n})();const YW=["input"],KW=["label"],QW=function(n){return{enterDuration:n}},XW=["*"],JW=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:KB});function KB(){return{color:"accent",clickAction:"check-indeterminate"}}let e4=0;const QB=KB(),t4={provide:Ji,useExisting:(0,o.Gpc)(()=>XB),multi:!0};class n4{}const i4=Mv(nd(Og(wp(class{constructor(n){this._elementRef=n}}))));let r4=(()=>{class n extends i4{constructor(e,i,r,s,c,d,p){super(i),this._changeDetectorRef=r,this._ngZone=s,this._animationMode=d,this._options=p,this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||QB,this.color=this.defaultColor=this._options.color||QB.color,this.tabIndex=parseInt(c)||0,this.id=this._uniqueId=`${e}${++e4}`}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=Sn(e)}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(e){const i=Sn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=Sn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=Sn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._getAnimationTargetElement();if(i!==e&&r&&(this._currentAnimationClass&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){const e=this._options?.clickAction;this.disabled||"noop"===e?!this.disabled&&"noop"===e&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==e&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}_onInteractionEvent(e){e.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";switch(e){case 0:if(1===i)return this._animationClasses.uncheckedToChecked;if(3==i)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case 2:return 1===i?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case 1:return 2===i?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case 3:return 1===i?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(YW,5),o.Gf(KW,5),o.Gf(Kc,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i._labelElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},inputs:{ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},features:[o.qOj]}),n})(),XB=(()=>{class n extends r4{constructor(e,i,r,s,c,d,p){super("mat-checkbox-",e,i,s,c,d,p),this._focusMonitor=r,this._animationClasses={uncheckedToChecked:"mat-checkbox-anim-unchecked-checked",uncheckedToIndeterminate:"mat-checkbox-anim-unchecked-indeterminate",checkedToUnchecked:"mat-checkbox-anim-checked-unchecked",checkedToIndeterminate:"mat-checkbox-anim-checked-indeterminate",indeterminateToChecked:"mat-checkbox-anim-indeterminate-checked",indeterminateToUnchecked:"mat-checkbox-anim-indeterminate-unchecked"}}_createChangeEvent(e){const i=new n4;return i.source=this,i.checked=e,i}_getAnimationTargetElement(){return this._elementRef.nativeElement}ngAfterViewInit(){super.ngAfterViewInit(),this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||this._onBlur()})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}_onInputClick(e){e.stopPropagation(),super._handleInputClick()}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(ia),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(o.QbO,8),o.Y36(JW,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matCheckbox"],features:[o._Bn([t4]),o.qOj],ngContentSelectors:XW,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),o.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA()(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA()()),2&e){const r=o.MAs(1),s=o.MAs(13);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(1),o.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),o.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,QW,"NoopAnimations"===i._animationMode?0:150))}},dependencies:[Kc,hv],styles:['@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);position:relative}.mat-checkbox._mat-animation-noopable{transition:none !important;animation:none !important}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:rgba(0,0,0,0);transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:rgba(0,0,0,0)}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}.mat-checkbox-input:focus~.mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),JB=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),a4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[To,Wn,Sg,JB,Wn,JB]}),n})();const l4=["primaryValueBar"],c4=nd(class{constructor(n){this._elementRef=n}},"primary"),u4=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function d4(){const n=(0,o.f3M)(oe),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),h4=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let f4=0,p4=(()=>{class n extends c4{constructor(e,i,r,s,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=$n.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+f4++;const p=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${p}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=e2(pp(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=e2(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=Oh(e,"transitionend").pipe(zn(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(o.QbO,8),o.Y36(u4,8),o.Y36(h4,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(l4,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),o._UZ(4,"circle",3),o.qZA()(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},dependencies:[yc],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}.mat-progress-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}'],encapsulation:2,changeDetection:0}),n})();function e2(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let m4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[qo,Wn,Wn]}),n})();function g4(n,t){}class WI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let t2=(()=>{class n extends E_{constructor(e,i,r,s,c,d,p,_){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=s,this._interactivityChecker=c,this._ngZone=d,this._overlayRef=p,this._focusMonitor=_,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=b=>{this._portalOutlet.hasAttached();const I=this._portalOutlet.attachDomPortal(b);return this._contentAttached(),I},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=lp(),s=this._elementRef.nativeElement;(!r||r===this._document.body||r===s||s.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=lp();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=lp())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(oe,8),o.Y36(WI),o.Y36(Ag),o.Y36(o.R0b),o.Y36(Qp),o.Y36(ia))},n.\u0275cmp=o.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Vh,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&o.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,g4,0,0,"ng-template",0)},dependencies:[Vh],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class qR{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new Tt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Ws(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const n2=new o.OlP("DialogScrollStrategy"),_4=new o.OlP("DialogData"),y4=new o.OlP("DefaultDialogConfig"),b4={provide:n2,deps:[es],useFactory:function v4(n){return()=>n.scrollStrategies.block()}};let w4=0,r2=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt.x,this._afterOpenedAtThisLevel=new Tt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=R_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(nr(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new WI,...i}).id=i.id||"cdk-dialog-"+w4++,i.id&&this.getDialogById(i.id);const s=this._getOverlayConfig(i),c=this._overlay.create(s),d=new qR(c,i),p=this._attachContainer(c,d,i);return d.containerInstance=p,this._attachDialogContent(e,d,p,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){WR(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){WR(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),WR(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new md({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const s=r.injector||r.viewContainerRef?.injector,c=[{provide:WI,useValue:r},{provide:qR,useValue:i},{provide:Qp,useValue:e}];let d;r.container?"function"==typeof r.container?d=r.container:(d=r.container.type,c.push(...r.container.providers(r))):d=t2;const p=new Lh(d,r.viewContainerRef,o.zs3.create({parent:s||this._injector,providers:c}),r.componentFactoryResolver);return e.attach(p).instance}_attachDialogContent(e,i,r,s){if(e instanceof o.Rgc){const c=this._createInjector(s,i,r,void 0);let d={$implicit:s.data,dialogRef:i};s.templateContext&&(d={...d,..."function"==typeof s.templateContext?s.templateContext():s.templateContext}),r.attachTemplatePortal(new C_(e,null,d,c))}else{const c=this._createInjector(s,i,r,this._injector),d=r.attachComponentPortal(new Lh(e,s.viewContainerRef,c,s.componentFactoryResolver));i.componentInstance=d.instance}}_createInjector(e,i,r,s){const c=e.injector||e.viewContainerRef?.injector,d=[{provide:_4,useValue:e.data},{provide:qR,useValue:i}];return e.providers&&("function"==typeof e.providers?d.push(...e.providers(i,e,r)):d.push(...e.providers)),e.direction&&(!c||!c.get(ra,null,o.XFs.Optional))&&d.push({provide:ra,useValue:{value:e.direction,change:st()}}),o.zs3.create({parent:c||s,providers:d})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,c)=>{s?c.setAttribute("aria-hidden",s):c.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(es),o.LFG(o.zs3),o.LFG(y4,8),o.LFG(n,12),o.LFG(Mo),o.LFG(n2))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function WR(n,t){let e=n.length;for(;e--;)t(n[e])}let C4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[r2,b4],imports:[_d,Bh,Rg,Bh]}),n})();function E4(n,t){}const P_={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},D4={dialogContainer:ec("dialogContainer",[Kr("void, exit",yn({opacity:0,transform:"scale(0.7)"})),Kr("enter",yn({transform:"none"})),wr("* => enter",Dh([bi("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",yn({transform:"none",opacity:1})),Xc("@*",Qc(),{optional:!0})]),P_),wr("* => void, * => exit",Dh([bi("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",yn({opacity:0})),Xc("@*",Qc(),{optional:!0})]),P_)])};class ZI{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=P_.params.enterAnimationDuration,this.exitAnimationDuration=P_.params.exitAnimationDuration}}let I4=(()=>{class n extends t2{constructor(e,i,r,s,c,d,p,_){super(e,i,r,s,c,d,p,_),this._animationStateChanged=new o.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(oe,8),o.Y36(ZI),o.Y36(Ag),o.Y36(o.R0b),o.Y36(Qp),o.Y36(ia))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],features:[o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),S4=(()=>{class n extends I4{constructor(e,i,r,s,c,d,p,_,b){super(e,i,r,s,c,d,p,b),this._changeDetectorRef=_,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||P_.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||P_.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(Ev),o.Y36(oe,8),o.Y36(ZI),o.Y36(Ag),o.Y36(o.R0b),o.Y36(Qp),o.Y36(o.sBO),o.Y36(ia))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._config.id),o.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._getAnimationState()))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,E4,0,0,"ng-template",0)},dependencies:[Vh],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[D4.dialogContainer]}}),n})();class ZR{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new Tt.x,this._beforeClosed=new Tt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(zn(r=>"opened"===r.state),qn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(zn(r=>"closed"===r.state),qn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Xr.T)(this.backdropClick(),this.keydownEvents().pipe(zn(r=>27===r.keyCode&&!this.disableClose&&!Ws(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),function T4(n,t,e){n._closeInteractionType=t,n.close(e)}(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(zn(e=>"closing"===e.state),qn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}const s2=new o.OlP("MatDialogData"),A4=new o.OlP("mat-dialog-default-options"),o2=new o.OlP("mat-dialog-scroll-strategy"),x4={provide:o2,deps:[es],useFactory:function M4(n){return()=>n.scrollStrategies.block()}};let k4=0,R4=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,I){this._overlay=e,this._defaultOptions=r,this._parentDialog=s,this._dialogRefConstructor=p,this._dialogContainerType=_,this._dialogDataToken=b,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Tt.x,this._afterOpenedAtThisLevel=new Tt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=R_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(nr(void 0))),this._scrollStrategy=d,this._dialog=i.get(r2)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new ZI,...i}).id=i.id||`${this._idPrefix}${k4++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const s=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:ZI,useValue:i},{provide:WI,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(c,d,p)=>(r=new this._dialogRefConstructor(c,i,p),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:p},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=s.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const c=this.openDialogs.indexOf(r);c>-1&&(this.openDialogs.splice(c,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),YI=(()=>{class n extends R4{constructor(e,i,r,s,c,d,p,_){super(e,i,s,d,p,c,ZR,S4,s2,_)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(es),o.LFG(o.zs3),o.LFG(Ne,8),o.LFG(A4,8),o.LFG(o2),o.LFG(n,12),o.LFG(Mo),o.LFG(o.QbO,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),O4=0,P4=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+O4++}ngOnInit(){this._dialogRef||(this._dialogRef=function L4(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ZR,8),o.Y36(o.SBq),o.Y36(YI))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),N4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),F4=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-dialog-actions-align-center","center"===i.align)("mat-dialog-actions-align-end","end"===i.align)},inputs:{align:"align"}}),n})(),V4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[YI,x4],imports:[C4,_d,Bh,Wn,Wn]}),n})();var Er=V(2011),KI=V(5363),B4=V(6063);class U4 extends Tt.x{constructor(t=1/0,e=1/0,i=B4.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let p=1;p<i.length&&i[p]<=c;p+=2)d=p;d&&i.splice(0,d+1)}}}function a2(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,p_.B)({connector:()=>new U4(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const mw=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function QI(n){return(0,Gi.e)((t,e)=>{let i=!1;t.subscribe((0,On.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function l2(n=j4){return(0,Gi.e)((t,e)=>{let i=!1;t.subscribe((0,On.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function j4(){return new mw}function ou(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,s)=>n(r,s,i)):yh.y,qn(1),e?QI(t):l2(()=>new mw))}function c2(n,t){return(0,ol.m)(t)?si(()=>n,t):si(()=>n)}var YR=V(9468),An=V(5813);V(5867);var be=V(5861),Xs=V(9681),ac=V(4859),F=V(2090),lc=V(1877);const d2=new Map,W4={activated:!1,tokenObservers:[]},Z4={initialized:!1,enabled:!1};function Pr(n){return d2.get(n)||W4}function cc(n,t){d2.set(n,t)}function JI(){return Z4}class J4{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function eZ(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Js=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function f2(n){if(!Pr(n).activated)throw Js.create("use-before-activation",{appName:n.name})}function JR(n,t){return eO.apply(this,arguments)}function eO(){return(eO=(0,be.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const O=yield c.getHeartbeatsHeader();O&&(s["X-Firebase-Client"]=O)}const d={method:"POST",body:JSON.stringify(t),headers:s};let p,_;try{p=yield fetch(n,d)}catch(O){throw Js.create("fetch-network-error",{originalErrorMessage:null===(i=O)||void 0===i?void 0:i.message})}if(200!==p.status)throw Js.create("fetch-status-error",{httpStatus:p.status});try{_=yield p.json()}catch(O){throw Js.create("fetch-parse-error",{originalErrorMessage:null===(r=O)||void 0===r?void 0:r.message})}const b=_.ttl.match(/^([\d.]+)(s)$/);if(!b||!b[2]||isNaN(Number(b[1])))throw Js.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${_.ttl}`});const I=1e3*Number(b[1]),M=Date.now();return{token:_.token,expireTimeMillis:M+I,issuedAtTimeMillis:M}})).apply(this,arguments)}function rZ(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const gw="firebase-app-check-store";let nS=null;function m2(){return nS||(nS=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(Js.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gw,{keyPath:"compositeKey"})}}catch(i){t(Js.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),nS)}function tO(){return(tO=(0,be.Z)(function*(n,t){const i=(yield m2()).transaction(gw,"readwrite"),s=i.objectStore(gw).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=p=>{c()},i.onerror=p=>{var _;d(Js.create("storage-set",{originalErrorMessage:null===(_=p.target.error)||void 0===_?void 0:_.message}))}})})).apply(this,arguments)}const _w=new lc.Yd("@firebase/app-check");function v2(n,t){return(0,F.hl)()?function lZ(n,t){return function g2(n,t){return tO.apply(this,arguments)}(function y2(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{_w.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function b2(){return JI().enabled}function w2(){return sO.apply(this,arguments)}function sO(){return(sO=(0,be.Z)(function*(){const n=JI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const pZ={error:"UNKNOWN_ERROR"};function mZ(n){return F.US.encodeString(JSON.stringify(n),!1)}function iS(n){return oO.apply(this,arguments)}function oO(){return(oO=(0,be.Z)(function*(n,t=!1){const e=n.app;f2(e);const i=Pr(e);let s,r=i.token;if(!r){const p=yield i.cachedTokenPromise;p&&rS(p)&&(r=p)}if(!t&&r&&rS(r))return{token:r.token};let d,c=!1;if(b2()){i.exchangeTokenPromise||(i.exchangeTokenPromise=JR(rZ(e,yield w2()),n.heartbeatServiceProvider).then(_=>(i.exchangeTokenPromise=void 0,_)),c=!0);const p=yield i.exchangeTokenPromise;return yield v2(e,p),cc(e,Object.assign(Object.assign({},i),{token:p})),{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(p=>(i.exchangeTokenPromise=void 0,p)),c=!0),r=yield i.exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?_w.warn(p.message):_w.error(p),s=p}return r?(d={token:r.token},cc(e,Object.assign(Object.assign({},i),{token:r})),yield v2(e,r)):d=_Z(s),c&&E2(e,d),d})).apply(this,arguments)}function lO(n,t){const e=Pr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),cc(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function C2(n){const{app:t}=n,e=Pr(t);let i=e.tokenRefresher;i||(i=function gZ(n){const{app:t}=n;return new J4((0,be.Z)(function*(){let i;if(i=Pr(t).token?yield iS(n,!0):yield iS(n),i.error)throw i.error}),()=>!0,()=>{const e=Pr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),cc(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function E2(n,t){const e=Pr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function rS(n){return n.expireTimeMillis-Date.now()>0}function _Z(n){return{token:mZ(pZ),error:n}}class yZ{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Pr(this.app);for(const e of t)lO(this.app,e.next);return Promise.resolve()}}const k2="app-check-internal";!function RZ(){(0,Xs._registerComponent)(new ac.wA("app-check",n=>function vZ(n,t){return new yZ(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(k2).initialize()})),(0,Xs._registerComponent)(new ac.wA(k2,n=>function bZ(n){return{getToken:t=>iS(n,t),addTokenListener:t=>function aO(n,t,e,i){const{app:r}=n,s=Pr(r),c={next:e,error:i,type:t};if(cc(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&rS(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),C2(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>C2(n))}(n,"INTERNAL",t),removeTokenListener:t=>lO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xs.registerVersion)("@firebase/app-check","0.5.12")}();class yw{constructor(){return(0,An.vb)("app-check")}}typeof window<"u"&&window;var oS=V(127);const fO=new o.OlP("angularfire2.auth.use-emulator"),pO=new o.OlP("angularfire2.auth.settings"),mO=new o.OlP("angularfire2.auth.tenant-id"),gO=new o.OlP("angularfire2.auth.langugage-code"),_O=new o.OlP("angularfire2.auth.use-device-language"),yO=new o.OlP("angularfire.auth.persistence"),vO=(n,t,e,i,r,s,c,d)=>(0,Er.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,s&&p.useDeviceLanguage(),c)for(const[_,b]of Object.entries(c))p.settings[_]=b;return d&&p.setPersistence(d),p},[e,i,r,s,c,d]);let vw=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,I,M,O){const N=new Tt.x,z=st(void 0).pipe((0,KI.Q)(c.outsideAngular),si(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,ct.U)(()=>(0,Er.on)(e,s,i)),(0,ct.U)(ie=>vO(ie,s,d,_,b,I,p,M)),a2({bufferSize:1,refCount:!1}));if(Ma(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=st(null);else{z.pipe(ou()).subscribe();const Me=z.pipe(si(Qe=>Qe.getRedirectResult().then(It=>It,()=>null)),An.iC,a2({bufferSize:1,refCount:!1})),ze=z.pipe(si(Qe=>new ci.y(It=>({unsubscribe:s.runOutsideAngular(()=>Qe.onAuthStateChanged(Mt=>It.next(Mt),Mt=>It.error(Mt),()=>It.complete()))})))),Je=z.pipe(si(Qe=>new ci.y(It=>({unsubscribe:s.runOutsideAngular(()=>Qe.onIdTokenChanged(Mt=>It.next(Mt),Mt=>It.error(Mt),()=>It.complete()))}))));this.authState=Me.pipe(c2(ze),(0,YR.R)(c.outsideAngular),(0,KI.Q)(c.insideAngular)),this.user=Me.pipe(c2(Je),(0,YR.R)(c.outsideAngular),(0,KI.Q)(c.insideAngular)),this.idToken=this.user.pipe(si(Qe=>Qe?(0,rn.D)(Qe.getIdToken()):st(null))),this.idTokenResult=this.user.pipe(si(Qe=>Qe?(0,rn.D)(Qe.getIdTokenResult()):st(null))),this.credential=(0,Xr.T)(Me,N,this.authState.pipe(zn(Qe=>!Qe))).pipe((0,ct.U)(Qe=>Qe?.user?Qe:null),(0,YR.R)(c.outsideAngular),(0,KI.Q)(c.insideAngular))}return(0,Er.pX)(this,z,s,{spy:{apply:(ie,Me,ze)=>{(ie.startsWith("signIn")||ie.startsWith("createUser"))&&ze.then(Je=>N.next(Je))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(An.HU),o.LFG(fO,8),o.LFG(pO,8),o.LFG(mO,8),o.LFG(gO,8),o.LFG(_O,8),o.LFG(yO,8),o.LFG(yw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VZ=(()=>{class n{constructor(){oS.Z.registerVersion("angularfire",An.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[vw]}),n})();var bO=V(3942);const O2="firebasestorage.googleapis.com",P2="storageBucket";class qi extends F.ZR{constructor(t,e){super(wO(t),`Firebase Storage: ${e} (${wO(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qi.prototype)}_codeEquals(t){return wO(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function wO(n){return"storage/"+n}function CO(){return new qi("unknown","An unknown error occurred, please check the error payload for server response.")}function N2(){return new qi("canceled","User canceled the upload/download.")}function F2(){return new qi("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function N_(n){return new qi("invalid-argument",n)}function L2(){return new qi("app-deleted","The Firebase app was deleted.")}function V2(n){return new qi("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function bw(n,t){return new qi("invalid-format","String does not match format '"+n+"': "+t)}function ww(n){throw new qi("internal-error","Internal error: "+n)}class Is{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=Is.makeFromUrl(t,e)}catch{return new Is(t,"")}if(""===i.path)return i;throw function ZZ(n){return new qi("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function _(Qe){Qe.path_=decodeURIComponent(Qe.path)}const I=e.replace(/[.]/g,"\\."),Je=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Qe){"/"===Qe.path.charAt(Qe.path.length-1)&&(Qe.path_=Qe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${I}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:_},{regex:new RegExp(`^https?://${e===O2?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:_}];for(let Qe=0;Qe<Je.length;Qe++){const It=Je[Qe],Mt=It.regex.exec(t);if(Mt){let sr=Mt[It.indices.path];sr||(sr=""),i=new Is(Mt[It.indices.bucket],sr),It.postModify(i);break}}if(null==i)throw function WZ(n){return new qi("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class XZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function aS(n){return"string"==typeof n||n instanceof String}function B2(n){return EO()&&n instanceof Blob}function EO(){return typeof Blob<"u"}function DO(n,t,e,i){if(i<t)throw N_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw N_(`Invalid value for '${n}'. Expected ${e} or less.`)}function bd(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function U2(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var jh=(()=>{return(n=jh||(jh={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",jh;var n})();class rY{constructor(t,e,i,r,s,c,d,p,_,b,I){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=b,this.connectionFactory_=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((M,O)=>{this.resolve_=M,this.reject_=O,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const p=this.callback_(d,d.getResponse());!function tY(n){return void 0!==n}(p)?s():s(p)}catch(p){c(p)}else if(null!==d){const p=CO();p.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,p):p)}else c(r.canceled?this.appDelete_?L2():N2():function qZ(){return new qi("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new lS(!1,null,!0)):this.backoffId_=function JZ(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function p(){return 2===d}let _=!1;function b(...ie){_||(_=!0,t.apply(null,ie))}function I(ie){r=setTimeout(()=>{r=null,n(O,p())},ie)}function M(){s&&clearTimeout(s)}function O(ie,...Me){if(_)return void M();if(ie)return M(),void b.call(null,ie,...Me);if(p()||c)return M(),void b.call(null,ie,...Me);let Je;i<64&&(i*=2),1===d?(d=2,Je=0):Je=1e3*(i+Math.random()),I(Je)}let N=!1;function z(ie){N||(N=!0,M(),!_&&(null!==r?(ie||(d=2),clearTimeout(r),I(0)):ie||(d=1)))}return I(0),s=setTimeout(()=>{c=!0,z(!0)},e),z}((i,r)=>{if(r)return void i(!1,new lS(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===jh.NO_ERROR,p=s.getStatus();if(!d||this.isRetryStatusCode_(p)){const b=s.getErrorCode()===jh.ABORT;return void i(!1,new lS(!1,null,b))}const _=-1!==this.successCodes_.indexOf(p);i(!0,new lS(_,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function eY(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class lS{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function dY(...n){const t=function uY(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(EO())return new Blob(n);throw new qi("unsupported-environment","This browser doesn't seem to support creating Blobs")}const ha={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class IO{constructor(t,e){this.data=t,this.contentType=e||null}}function SO(n,t){switch(n){case ha.RAW:return new IO(H2(t));case ha.BASE64:case ha.BASE64URL:return new IO(j2(n,t));case ha.DATA_URL:return new IO(function mY(n){const t=new G2(n);return t.base64?j2(ha.BASE64,t.rest):function pY(n){let t;try{t=decodeURIComponent(n)}catch{throw bw(ha.DATA_URL,"Malformed data URL.")}return H2(t)}(t.rest)}(t),function gY(n){return new G2(n).contentType}(t))}throw CO()}function H2(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function j2(n,t){switch(n){case ha.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw bw(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case ha.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw bw(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function fY(n){return atob(n)}(t)}catch{throw bw(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class G2{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw bw(ha.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function _Y(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class au{constructor(t,e){let i=0,r="";B2(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(B2(this.data_)){const r=function hY(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new au(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new au(i,!0)}}static getBlob(...t){if(EO()){const e=t.map(i=>i instanceof au?i.data_:i);return new au(dY.apply(null,e))}{const e=t.map(c=>aS(c)?SO(ha.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new au(r,!0)}}uploadData(){return this.data_}}function TO(n){let t;try{t=JSON.parse(n)}catch{return null}return function iY(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function $2(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function bY(n,t){return t}class eo{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||bY}}let cS=null;function Cw(){if(cS)return cS;const n=[];n.push(new eo("bucket")),n.push(new eo("generation")),n.push(new eo("metageneration")),n.push(new eo("name","fullPath",!0));const e=new eo("name");e.xform=function t(s,c){return function wY(n){return!aS(n)||n.length<2?n:$2(n)}(c)},n.push(e);const r=new eo("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new eo("timeCreated")),n.push(new eo("updated")),n.push(new eo("md5Hash",null,!0)),n.push(new eo("cacheControl",null,!0)),n.push(new eo("contentDisposition",null,!0)),n.push(new eo("contentEncoding",null,!0)),n.push(new eo("contentLanguage",null,!0)),n.push(new eo("contentType",null,!0)),n.push(new eo("metadata","customMetadata",!0)),cS=n,cS}function z2(n,t,e){const i=TO(t);return null===i?null:function EY(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function CY(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new Is(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function AO(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const q2="prefixes";class lu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cu(n){if(!n)throw CO()}function uS(n,t){return function e(i,r){const s=z2(n,r,t);return cu(null!==s),s}}function F_(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function $Z(){return new qi("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function GZ(){return new qi("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function jZ(n){return new qi("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function zZ(n){return new qi("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Ew(n){const t=F_(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function HZ(n){return new qi("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function Z2(n,t,e){const r=bd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new lu(r,"GET",uS(n,e),c);return d.errorHandler=Ew(t),d}function MY(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=bd(t.bucketOnlyServerUrl(),n.host,n._protocol),_=n.maxOperationRetryTime,b=new lu(d,"GET",function TY(n,t){return function e(i,r){const s=function SY(n,t,e){const i=TO(e);return null===i?null:function IY(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[q2])for(const r of e[q2]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new Is(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new Is(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return cu(null!==s),s}}(n,t.bucket),_);return b.urlParams=s,b.errorHandler=F_(t),b}function K2(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function OY(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class dS{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function MO(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{cu(!1)}return cu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const LY={STATE_CHANGED:"state_changed"},to={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function xO(n){switch(n){case"running":case"pausing":case"canceling":return to.RUNNING;case"paused":return to.PAUSED;case"success":return to.SUCCESS;case"canceled":return to.CANCELED;default:return to.ERROR}}class VY{constructor(t,e,i){if(function nY(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function L_(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class UY extends class BY{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jh.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jh.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jh.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw ww("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ww("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ww("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ww("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ww("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function uc(){return new UY}class eU{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Cw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function PY(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=K2(t,i,r),d={name:c.fullPath},p=bd(s,n.host,n._protocol),b={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},I=AO(c,e),N=new lu(p,"POST",function O(z){let ie;MO(z);try{ie=z.getResponseHeader("X-Goog-Upload-URL")}catch{cu(!1)}return cu(aS(ie)),ie},n.maxUploadRetryTime);return N.urlParams=d,N.headers=b,N.body=I,N.errorHandler=F_(t),N}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,uc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function NY(n,t,e,i){const p=new lu(e,"POST",function s(_){const b=MO(_,["active","final"]);let I=null;try{I=_.getResponseHeader("X-Goog-Upload-Size-Received")}catch{cu(!1)}I||cu(!1);const M=Number(I);return cu(!isNaN(M)),new dS(M,i.size(),"final"===b)},n.maxUploadRetryTime);return p.headers={"X-Goog-Upload-Command":"query"},p.errorHandler=F_(t),p}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,uc,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new dS(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function FY(n,t,e,i,r,s,c,d){const p=new dS(0,0);if(c?(p.current=c.current,p.total=c.total):(p.current=0,p.total=i.size()),i.size()!==p.total)throw function KZ(){return new qi("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const _=p.total-p.current;let b=_;r>0&&(b=Math.min(b,r));const I=p.current,N={"X-Goog-Upload-Command":b===_?"upload, finalize":"upload","X-Goog-Upload-Offset":`${p.current}`},z=i.slice(I,I+b);if(null===z)throw F2();const Je=new lu(e,"POST",function ie(Qe,It){const Mt=MO(Qe,["active","final"]),ln=p.current+b,sr=i.size();let va;return va="final"===Mt?uS(t,s)(Qe,It):null,new dS(ln,sr,"final"===Mt,va)},t.maxUploadRetryTime);return Je.headers=N,Je.body=z.uploadData(),Je.progressCallback=d||null,Je.errorHandler=F_(n),Je}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(p){return this._error=p,void this._transition("error")}const d=this._ref.storage._makeRequest(c,uc,r,s);this._request=d,d.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=Z2(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,uc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function Q2(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},p=function d(){let Je="";for(let Qe=0;Qe<2;Qe++)Je+=Math.random().toString().slice(2);return Je}();c["Content-Type"]="multipart/related; boundary="+p;const _=K2(t,i,r),b=AO(_,e),O=au.getBlob("--"+p+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+b+"\r\n--"+p+"\r\nContent-Type: "+_.contentType+"\r\n\r\n",i,"\r\n--"+p+"--");if(null===O)throw F2();const N={name:_.fullPath},z=bd(s,n.host,n._protocol),Me=n.maxUploadRetryTime,ze=new lu(z,"POST",uS(n,e),Me);return ze.urlParams=N,ze.headers=c,ze.body=O.uploadData(),ze.errorHandler=F_(t),ze}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,uc,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=N2(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=xO(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new VY(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(xO(this._state)){case to.SUCCESS:L_(this._resolve.bind(null,this.snapshot))();break;case to.CANCELED:case to.ERROR:L_(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(xO(this._state)){case to.RUNNING:case to.PAUSED:t.next&&L_(t.next.bind(t,this.snapshot))();break;case to.SUCCESS:t.complete&&L_(t.complete.bind(t))();break;default:t.error&&L_(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class Xp{constructor(t,e){this._service=t,this._location=e instanceof Is?e:Is.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new Xp(t,e)}get root(){const t=new Is(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $2(this._location.path)}get storage(){return this._service}get parent(){const t=function yY(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new Is(this._location.bucket,t);return new Xp(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw V2(t)}}function nU(n,t,e){return kO.apply(this,arguments)}function kO(){return(kO=(0,be.Z)(function*(n,t,e){const r=yield iU(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield nU(n,t,r.nextPageToken))})).apply(this,arguments)}function iU(n,t){null!=t&&"number"==typeof t.maxResults&&DO("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=MY(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,uc)}function XY(n){n._throwIfRoot("getDownloadURL");const t=function xY(n,t,e){const r=bd(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new lu(r,"GET",function AY(n,t){return function e(i,r){const s=z2(n,r,t);return cu(null!==s),function DY(n,t,e,i){const r=TO(t);if(null===r||!aS(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(_=>{const I=n.fullPath;return bd("/b/"+c(n.bucket)+"/o/"+c(I),e,i)+U2({alt:"media",token:_})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=Ew(t),d}(n.storage,n._location,Cw());return n.storage.makeRequestWithTokens(t,uc).then(e=>{if(null===e)throw function QZ(){return new qi("no-download-url","The given file does not have any download URLs.")}();return e})}function rU(n,t){const e=function vY(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new Is(n._location.bucket,e);return new Xp(n.storage,i)}function sU(n,t){if(n instanceof RO){const e=n;if(null==e._bucket)throw function YZ(){return new qi("no-default-bucket","No default bucket found. Did you set the '"+P2+"' property when initializing the app?")}();const i=new Xp(e,e._bucket);return null!=t?sU(i,t):i}return void 0!==t?rU(n,t):n}function n5(n,t){if(t&&function e5(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof RO)return function t5(n,t){return new Xp(n,t)}(n,t);throw N_("To use ref(service, url), the first argument must be a Storage instance.")}return sU(n,t)}function oU(n,t){const e=t?.[P2];return null==e?null:Is.makeFromBucketSpec(e,n)}class RO{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=O2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Is.makeFromBucketSpec(r,this._host):oU(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?Is.makeFromBucketSpec(this._url,t):oU(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){DO("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){DO("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,be.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,be.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new Xp(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new XZ(L2());{const s=function cY(n,t,e,i,r,s){const c=U2(n.urlParams),d=n.url+c,p=Object.assign({},n.headers);return function aY(n,t){t&&(n["X-Firebase-GMPID"]=t)}(p,t),function sY(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(p,e),function oY(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(p,s),function lY(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(p,i),new rY(d,n.method,p,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,be.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const aU="@firebase/storage";function uU(n,t){return n5(n=(0,F.m9)(n),t)}function p5(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new RO(e,i,r,t,Xs.SDK_VERSION)}!function m5(){(0,Xs._registerComponent)(new ac.wA("storage",p5,"PUBLIC").setMultipleInstances(!0)),(0,Xs.registerVersion)(aU,"0.9.9",""),(0,Xs.registerVersion)(aU,"0.9.9","esm2017")}();class hS{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class dU{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new hS(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new hS(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new hS(c,this,this._ref)):{next:e.next?c=>e.next(new hS(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class hU{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new wd(t,this._service))}get items(){return this._delegate.items.map(t=>new wd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class wd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function h5(n,t){return rU(n,t)}(this._delegate,t);return new wd(e,this.storage)}get root(){return new wd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new wd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new dU(function s5(n,t,e){return function WY(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new eU(n,new au(t),e)}(n=(0,F.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=ha.RAW,i){this._throwIfRoot("putString");const r=SO(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new dU(new eU(this._delegate,new au(r.data,!0),s),this)}listAll(){return function c5(n){return function YY(n){const t={prefixes:[],items:[]};return nU(n,t).then(()=>t)}(n=(0,F.m9)(n))}(this._delegate).then(t=>new hU(t,this.storage))}list(t){return function l5(n,t){return iU(n=(0,F.m9)(n),t)}(this._delegate,t||void 0).then(e=>new hU(e,this.storage))}getMetadata(){return function o5(n){return function KY(n){n._throwIfRoot("getMetadata");const t=Z2(n.storage,n._location,Cw());return n.storage.makeRequestWithTokens(t,uc)}(n=(0,F.m9)(n))}(this._delegate)}updateMetadata(t){return function a5(n,t){return function QY(n,t){n._throwIfRoot("updateMetadata");const e=function kY(n,t,e,i){const s=bd(t.fullServerUrl(),n.host,n._protocol),d=AO(e,i),_=n.maxOperationRetryTime,b=new lu(s,"PATCH",uS(n,i),_);return b.headers={"Content-Type":"application/json; charset=utf-8"},b.body=d,b.errorHandler=Ew(t),b}(n.storage,n._location,t,Cw());return n.storage.makeRequestWithTokens(e,uc)}(n=(0,F.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function u5(n){return XY(n=(0,F.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function d5(n){return function JY(n){n._throwIfRoot("deleteObject");const t=function RY(n,t){const i=bd(t.fullServerUrl(),n.host,n._protocol),d=new lu(i,"DELETE",function c(p,_){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Ew(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,uc)}(n=(0,F.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw V2(t)}}class fU{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(pU(t))throw N_("ref() expected a child path but got a URL, use refFromURL instead.");return new wd(uU(this._delegate,t),this)}refFromURL(t){if(!pU(t))throw N_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Is.makeFromUrl(t,this._delegate.host)}catch{throw N_("refFromUrl() expected a valid full URL but got an invalid one.")}return new wd(uU(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function f5(n,t,e,i={}){!function r5(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,F.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function pU(n){return/^[A-Za-z]+:\/\//.test(n)}function v5(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new fU(e,i)}function mU(n){const t=function w5(n){return new ci.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(uv(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ct.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function fS(n){return{getDownloadURL:()=>st(void 0).pipe(An.fc,si(()=>n.getDownloadURL()),An.iC),getMetadata:()=>st(void 0).pipe(An.fc,si(()=>n.getMetadata()),An.iC),delete:()=>(0,rn.D)(n.delete()),child:t=>fS(n.child(t)),updateMetadata:t=>(0,rn.D)(n.updateMetadata(t)),put:(t,e)=>mU(n.put(t,e)),putString:(t,e,i)=>mU(n.putString(t,e,i)),list:t=>(0,rn.D)(n.list(t)),listAll:()=>(0,rn.D)(n.listAll())}}!function b5(n){const t={TaskState:to,TaskEvent:LY,StringFormat:ha,Storage:fU,Reference:wd};n.INTERNAL.registerComponent(new ac.wA("storage-compat",v5,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(bO.Z);const C5=new o.OlP("angularfire2.storageBucket"),E5=new o.OlP("angularfire2.storage.maxUploadRetryTime"),D5=new o.OlP("angularfire2.storage.maxOperationRetryTime"),I5=new o.OlP("angularfire2.storage.use-emulator");let S5=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,I){const M=(0,Er.on)(e,c,i);this.storage=(0,Er.cc)(`${M.name}.storage.${r}`,"AngularFireStorage",M.name,()=>{const O=c.runOutsideAngular(()=>M.storage(r||void 0)),N=b;return N&&O.useEmulator(...N),p&&O.setMaxUploadRetryTime(p),_&&O.setMaxOperationRetryTime(_),O},[p,_])}ref(e){return fS(this.storage.ref(e))}refFromURL(e){return fS(this.storage.refFromURL(e))}upload(e,i,r){return fS(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(C5,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(An.HU),o.LFG(E5,8),o.LFG(D5,8),o.LFG(I5,8),o.LFG(yw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),T5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),A5=(()=>{class n{constructor(){oS.Z.registerVersion("angularfire",An.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[S5],imports:[T5]}),n})();function OO(){return(0,Gi.e)((n,t)=>{let e,i=!1;n.subscribe((0,On.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function M5(n,t,e,i,r){return(s,c)=>{let d=e,p=t,_=0;s.subscribe((0,On.x)(c,b=>{const I=_++;p=d?n(p,b,I):(d=!0,b),i&&c.next(p)},r&&(()=>{d&&c.next(p),c.complete()})))}}function Jp(n,t){return(0,Gi.e)(M5(n,t,arguments.length>=2,!0))}V(5881);var dt,x5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Cd={},PO=PO||{},qt=x5||self;function pS(){}function NO(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Dw(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var FO="closure_uid_"+(1e9*Math.random()>>>0),R5=0;function O5(n,t,e){return n.call.apply(n.bind,arguments)}function P5(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ts(n,t,e){return(ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?O5:P5).apply(null,arguments)}function mS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ns(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function Gh(){this.s=this.s,this.o=this.o}var F5={};Gh.prototype.s=!1,Gh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function k5(n){return Object.prototype.hasOwnProperty.call(n,FO)&&n[FO]||(n[FO]=++R5)}(this);delete F5[n]}},Gh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},_U=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<i;s++)s in r&&t.call(e,r[s],s,n)};function yU(n){return Array.prototype.concat.apply([],arguments)}function LO(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function gS(n){return/^[\s\xa0]*$/.test(n)}var io,vU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function no(n,t){return-1!=n.indexOf(t)}function VO(n,t){return n<t?-1:n>t?1:0}e:{var bU=qt.navigator;if(bU){var wU=bU.userAgent;if(wU){io=wU;break e}}io=""}function BO(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function CU(n){const t={};for(const e in n)t[e]=n[e];return t}var EU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function DU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<EU.length;s++)e=EU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function UO(n){return UO[" "](n),n}UO[" "]=pS;var _S,n,B5=no(io,"Opera"),V_=no(io,"Trident")||no(io,"MSIE"),IU=no(io,"Edge"),HO=IU||V_,SU=no(io,"Gecko")&&!(no(io.toLowerCase(),"webkit")&&!no(io,"Edge"))&&!(no(io,"Trident")||no(io,"MSIE"))&&!no(io,"Edge"),U5=no(io.toLowerCase(),"webkit")&&!no(io,"Edge");function TU(){var n=qt.document;return n?n.documentMode:void 0}e:{var jO="",GO=(n=io,SU?/rv:([^\);]+)(\)|;)/.exec(n):IU?/Edge\/([\d\.]+)/.exec(n):V_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):U5?/WebKit\/(\S+)/.exec(n):B5?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(GO&&(jO=GO?GO[1]:""),V_){var $O=TU();if(null!=$O&&$O>parseFloat(jO)){_S=String($O);break e}}_S=jO}var H5={};var G5=qt.document&&V_&&(TU()||parseInt(_S,10))||void 0,$5=function(){if(!qt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{qt.addEventListener("test",pS,t),qt.removeEventListener("test",pS,t)}catch{}return n}();function Ss(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function Iw(n,t){if(Ss.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(SU){e:{try{UO(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:z5[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Iw.Z.h.call(this)}}Ss.prototype.h=function(){this.defaultPrevented=!0},ns(Iw,Ss);var z5={2:"touch",3:"pen",4:"mouse"};Iw.prototype.h=function(){Iw.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sw="closure_listenable_"+(1e6*Math.random()|0),q5=0;function W5(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++q5,this.ca=this.fa=!1}function yS(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function vS(n){this.src=n,this.g={},this.h=0}function qO(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=gU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(yS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function WO(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ca&&s.listener==t&&s.capture==!!e&&s.ia==i)return r}return-1}vS.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=WO(n,t,i,r);return-1<c?(t=n[c],e||(t.fa=!1)):((t=new W5(t,this.src,s,!!i,r)).fa=e,n.push(t)),t};var ZO="closure_lm_"+(1e6*Math.random()|0),YO={};function MU(n,t,e,i,r){if(i&&i.once)return kU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)MU(n,t[s],e,i,r);return null}return e=JO(e),n&&n[Sw]?n.N(t,e,Dw(i)?!!i.capture:!!i,r):xU(n,t,e,!1,i,r)}function xU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Dw(r)?!!r.capture:!!r,d=QO(n);if(d||(n[ZO]=d=new vS(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function Z5(){var t=Y5;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)$5||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(OU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)kU(n,t[s],e,i,r);return null}return e=JO(e),n&&n[Sw]?n.O(t,e,Dw(i)?!!i.capture:!!i,r):xU(n,t,e,!0,i,r)}function RU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)RU(n,t[s],e,i,r);else i=Dw(i)?!!i.capture:!!i,e=JO(e),n&&n[Sw]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=WO(s=n.g[t],e,i,r))&&(yS(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=QO(n))&&(t=n.g[t.toString()],n=-1,t&&(n=WO(t,e,i,r)),(e=-1<n?t[n]:null)&&KO(e))}function KO(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[Sw])qO(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(OU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=QO(t))?(qO(e,n),0==e.h&&(e.src=null,t[ZO]=null)):yS(n)}}}function OU(n){return n in YO?YO[n]:YO[n]="on"+n}function Y5(n,t){if(n.ca)n=!0;else{t=new Iw(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&KO(n),n=e.call(i,t)}return n}function QO(n){return(n=n[ZO])instanceof vS?n:null}var XO="__closure_events_fn_"+(1e9*Math.random()>>>0);function JO(n){return"function"==typeof n?n:(n[XO]||(n[XO]=function(t){return n.handleEvent(t)}),n[XO])}function Nr(){Gh.call(this),this.i=new vS(this),this.P=this,this.I=null}function is(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new Ss(t,n);else if(t instanceof Ss)t.target=t.target||n;else{var r=t;DU(t=new Ss(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=bS(c,i,!0,t)&&r}if(r=bS(c=t.g=n,i,!0,t)&&r,r=bS(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=bS(c=t.g=e[s],i,!1,t)&&r}function bS(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ca&&c.capture==e){var d=c.listener,p=c.ia||c.src;c.fa&&qO(n.i,c),r=!1!==d.call(p,i)&&r}}return r&&!i.defaultPrevented}ns(Nr,Gh),Nr.prototype[Sw]=!0,Nr.prototype.removeEventListener=function(n,t,e,i){RU(this,n,t,e,i)},Nr.prototype.M=function(){if(Nr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)yS(e[i]);delete n.g[t],n.h--}}this.I=null},Nr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Nr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var eP=qt.JSON.stringify;function K5(){var n=NU;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var nP,PU=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new X5,n=>n.reset());class X5{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function J5(n){qt.setTimeout(()=>{throw n},0)}function tP(n,t){nP||function e8(){var n=qt.Promise.resolve(void 0);nP=function(){n.then(t8)}}(),iP||(nP(),iP=!0),NU.add(n,t)}var iP=!1,NU=new class Q5{constructor(){this.h=this.g=null}add(t,e){const i=PU.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function t8(){for(var n;n=K5();){try{n.h.call(n.g)}catch(e){J5(e)}var t=PU;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}iP=!1}function wS(n,t){Nr.call(this),this.h=n||1,this.g=t||qt,this.j=ts(this.kb,this),this.l=Date.now()}function rP(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function sP(n,t,e){if("function"==typeof n)e&&(n=ts(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ts(n.handleEvent,n)}return 2147483647<Number(t)?-1:qt.setTimeout(n,t||0)}function FU(n){n.g=sP(()=>{n.g=null,n.i&&(n.i=!1,FU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ns(wS,Nr),(dt=wS.prototype).da=!1,dt.S=null,dt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),is(this,"tick"),this.da&&(rP(this),this.start()))}},dt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dt.M=function(){wS.Z.M.call(this),rP(this),delete this.g};class n8 extends Gh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:FU(this)}M(){super.M(),this.g&&(qt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tw(n){Gh.call(this),this.h=n,this.g={}}ns(Tw,Gh);var LU=[];function VU(n,t,e,i){Array.isArray(e)||(e&&(LU[0]=e.toString()),e=LU);for(var r=0;r<e.length;r++){var s=MU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function BU(n){BO(n.g,function(t,e){this.g.hasOwnProperty(e)&&KO(t)},n),n.g={}}function CS(){this.g=!0}function B_(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function o8(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return eP(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Tw.prototype.M=function(){Tw.Z.M.call(this),BU(this)},Tw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},CS.prototype.Aa=function(){this.g=!1},CS.prototype.info=function(){};var em={},UU=null;function ES(){return UU=UU||new Nr}function HU(n){Ss.call(this,em.Ma,n)}function Aw(n){const t=ES();is(t,new HU(t,n))}function jU(n,t){Ss.call(this,em.STAT_EVENT,n),this.stat=t}function ro(n){const t=ES();is(t,new jU(t,n))}function GU(n,t){Ss.call(this,em.Na,n),this.size=t}function Mw(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return qt.setTimeout(function(){n()},t)}em.Ma="serverreachability",ns(HU,Ss),em.STAT_EVENT="statevent",ns(jU,Ss),em.Na="timingevent",ns(GU,Ss);var DS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$U={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function oP(){}function qU(){}oP.prototype.h=null;var cP,xw={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function aP(){Ss.call(this,"d")}function lP(){Ss.call(this,"c")}function IS(){}function kw(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Tw(this),this.P=a8,this.W=new wS(n=HO?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new WU}function WU(){this.i=null,this.g="",this.h=!1}ns(aP,Ss),ns(lP,Ss),ns(IS,oP),IS.prototype.g=function(){return new XMLHttpRequest},IS.prototype.i=function(){return{}},cP=new IS;var a8=45e3,uP={},SS={};function dP(n,t,e){n.K=1,n.v=kS(Ed(t)),n.s=e,n.U=!0,ZU(n,null)}function ZU(n,t){n.F=Date.now(),Rw(n),n.A=Ed(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),iH(e.h,"t",i),n.C=0,e=n.l.H,n.h=new WU,n.g=SH(n.l,e?t:null,!n.s),0<n.O&&(n.L=new n8(ts(n.Ia,n,n.g),n.O)),VU(n.V,n.g,"readystatechange",n.gb),t=n.H?CU(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Aw(1),function i8(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),p=0;p<d.length;p++){var _=d[p].split("=");if(1<_.length){var b=_[0];_=_[1];var I=b.split("_");c=2<=I.length&&"type"==I[1]?c+(b+"=")+_+"&":c+(b+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.X,n.s)}function YU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function KU(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=l8(n,e),r==SS){4==t&&(n.o=4,ro(14),i=!1),B_(n.j,n.m,null,"[Incomplete Response]");break}if(r==uP){n.o=4,ro(15),B_(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}B_(n.j,n.m,r,null),hP(n,r)}YU(n)&&r!=SS&&r!=uP&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,ro(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),EP(t),t.L=!0,ro(11))):(B_(n.j,n.m,e,"[Invalid Chunked Response]"),tm(n),Ow(n))}function l8(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?SS:(e=Number(t.substring(e,i)),isNaN(e)?uP:(i+=1)+e>t.length?SS:(t=t.substr(i,e),n.C=i+e,t))}function Rw(n){n.Y=Date.now()+n.P,QU(n,n.P)}function QU(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Mw(ts(n.eb,n),t)}function TS(n){n.B&&(qt.clearTimeout(n.B),n.B=null)}function Ow(n){0==n.l.G||n.I||CH(n.l,n)}function tm(n){TS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,rP(n.W),BU(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function hP(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||mP(e.i,n)))if(e.I=n.N,!n.J&&mP(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;LS(e),NS(e)}CP(e),ro(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Mw(ts(e.ab,e),6e3));if(1>=oH(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else rm(e,11)}else if((n.J||e.g==n)&&LS(e),!gS(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let _=r[t];if(e.U=_[0],_=_[1],2==e.G)if("c"==_[0]){e.J=_[1],e.la=_[2];const b=_[3];null!=b&&(e.ma=b,e.h.info("VER="+e.ma));const I=_[4];null!=I&&(e.za=I,e.h.info("SVER="+e.za));const M=_[5];null!=M&&"number"==typeof M&&0<M&&(e.K=i=1.5*M,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const O=n.g;if(O){const N=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var s=i.i;!s.g&&(no(N,"spdy")||no(N,"quic")||no(N,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(gP(s,s.h),s.h=null))}if(i.D){const z=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;z&&(i.sa=z,Ii(i.F,i.D,z))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var c=n;if((i=e).oa=IH(i,i.H?i.la:null,i.W),c.J){aH(i.i,c);var d=c,p=i.K;p&&d.setTimeout(p),d.B&&(TS(d),Rw(d)),i.g=c}else bH(i);0<e.l.length&&FS(e)}else"stop"!=_[0]&&"close"!=_[0]||rm(e,7);else 3==e.G&&("stop"==_[0]||"close"==_[0]?"stop"==_[0]?rm(e,7):bP(e):"noop"!=_[0]&&e.j&&e.j.wa(_),e.A=0)}Aw(4)}catch{}}function fP(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(NO(n)||"string"==typeof n)_U(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(NO(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function c8(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(NO(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}}function U_(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof U_)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function pP(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];nm(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)nm(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function nm(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(dt=kw.prototype).setTimeout=function(n){this.P=n},dt.gb=function(n){n=n.target;const t=this.L;t&&3==Dd(n)?t.l():this.Ia(n)},dt.Ia=function(n){try{if(n==this.g)e:{const b=Dd(this.g);var t=this.g.Da();const I=this.g.ba();if(!(3>b)&&(3!=b||HO||this.g&&(this.h.h||this.g.ga()||mH(this.g)))){this.I||4!=b||7==t||Aw(8==t||0>=I?3:2),TS(this);var e=this.g.ba();this.N=e;t:if(YU(this)){var i=mH(this.g);n="";var r=i.length,s=4==Dd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tm(this),Ow(this);var c="";break t}this.h.i=new qt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ga();if(this.i=200==e,function r8(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.X,b,e),this.i){if(this.$&&!this.J){t:{if(this.g){var d,p=this.g;if((d=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gS(d)){var _=d;break t}}_=null}if(!(e=_)){this.i=!1,this.o=3,ro(12),tm(this),Ow(this);break e}B_(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hP(this,e)}this.U?(KU(this,b,c),HO&&this.i&&3==b&&(VU(this.V,this.W,"tick",this.fb),this.W.start())):(B_(this.j,this.m,c,null),hP(this,c)),4==b&&tm(this),this.i&&!this.I&&(4==b?CH(this.l,this):(this.i=!1,Rw(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,ro(12)):(this.o=0,ro(13)),tm(this),Ow(this)}}}catch{}},dt.fb=function(){if(this.g){var n=Dd(this.g),t=this.g.ga();this.C<t.length&&(TS(this),KU(this,n,t),this.i&&4!=n&&Rw(this))}},dt.cancel=function(){this.I=!0,tm(this)},dt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function s8(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Aw(3),ro(17)),tm(this),this.o=2,Ow(this)):QU(this,this.Y-n)},(dt=U_.prototype).R=function(){pP(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},dt.T=function(){return pP(this),this.g.concat()},dt.get=function(n,t){return nm(this.h,n)?this.h[n]:t},dt.set=function(n,t){nm(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},dt.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],s=this.get(r);n.call(t,s,r,this)}};var XU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function im(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof im){this.g=void 0!==t?t:n.g,AS(this,n.j),this.s=n.s,MS(this,n.i),xS(this,n.m),this.l=n.l,t=n.h;var e=new Fw;e.i=t.i,t.g&&(e.g=new U_(t.g),e.h=t.h),JU(this,e),this.o=n.o}else n&&(e=String(n).match(XU))?(this.g=!!t,AS(this,e[1]||"",!0),this.s=Pw(e[2]||""),MS(this,e[3]||"",!0),xS(this,e[4]),this.l=Pw(e[5]||"",!0),JU(this,e[6]||"",!0),this.o=Pw(e[7]||"")):(this.g=!!t,this.h=new Fw(null,this.g))}function Ed(n){return new im(n)}function AS(n,t,e){n.j=e?Pw(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function MS(n,t,e){n.i=e?Pw(t,!0):t}function xS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function JU(n,t,e){t instanceof Fw?(n.h=t,function y8(n,t){t&&!n.j&&($h(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(tH(this,i),iH(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Nw(t,g8)),n.h=new Fw(t,n.g))}function Ii(n,t,e){n.h.set(t,e)}function kS(n){return Ii(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Pw(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Nw(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,f8),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function f8(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}im.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Nw(t,eH,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Nw(t,eH,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Nw(e,"/"==e.charAt(0)?m8:p8,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Nw(e,_8)),n.join("")};var eH=/[#\/\?@]/g,p8=/[#\?:]/g,m8=/[#\?]/g,g8=/[#\?@]/g,_8=/#/g;function Fw(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function $h(n){n.g||(n.g=new U_,n.h=0,n.i&&function u8(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function tH(n,t){$h(n),t=H_(n,t),nm(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,nm((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&pP(n)))}function nH(n,t){return $h(n),t=H_(n,t),nm(n.g.h,t)}function iH(n,t,e){tH(n,t),0<e.length&&(n.i=null,n.g.set(H_(n,t),LO(e)),n.h+=e.length)}function H_(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function rH(n){this.l=n||b8,n=qt.PerformanceNavigationTiming?0<(n=qt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(qt.g&&qt.g.Ea&&qt.g.Ea()&&qt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(dt=Fw.prototype).add=function(n,t){$h(this),this.i=null,n=H_(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},dt.forEach=function(n,t){$h(this),this.g.forEach(function(e,i){_U(e,function(r){n.call(t,r,i,this)},this)},this)},dt.T=function(){$h(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],s=0;s<r.length;s++)e.push(t[i]);return e},dt.R=function(n){$h(this);var t=[];if("string"==typeof n)nH(this,n)&&(t=yU(t,this.g.get(H_(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=yU(t,n[e])}return t},dt.set=function(n,t){return $h(this),this.i=null,nH(this,n=H_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},dt.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var s=0;s<i.length;s++){var c=r;""!==i[s]&&(c+="="+encodeURIComponent(String(i[s]))),n.push(c)}}return this.i=n.join("&")};var b8=10;function sH(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oH(n){return n.h?1:n.g?n.g.size:0}function mP(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function gP(n,t){n.g?n.g.add(t):n.h=t}function aH(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function lH(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return LO(n.i)}function _P(){}function w8(){this.g=new _P}function C8(n,t,e){const i=e||"";try{fP(n,function(r,s){let c=r;Dw(r)&&(c=eP(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function RS(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Lw(n){this.l=n.$b||null,this.j=n.ib||!1}function OS(n,t){Nr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=yP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rH.prototype.cancel=function(){if(this.i=lH(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},_P.prototype.stringify=function(n){return qt.JSON.stringify(n,void 0)},_P.prototype.parse=function(n){return qt.JSON.parse(n,void 0)},ns(Lw,oP),Lw.prototype.g=function(){return new OS(this.l,this.j)},Lw.prototype.i=function(n){return function(){return n}}({}),ns(OS,Nr);var yP=0;function cH(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Vw(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Bw(n)}function Bw(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(dt=OS.prototype).open=function(n,t){if(this.readyState!=yP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Bw(this)},dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||qt).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Vw(this)),this.readyState=yP},dt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Bw(this)),this.g&&(this.readyState=3,Bw(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof qt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cH(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},dt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Vw(this):Bw(this),3==this.readyState&&cH(this)}},dt.Ua=function(n){this.g&&(this.response=this.responseText=n,Vw(this))},dt.Ta=function(n){this.g&&(this.response=n,Vw(this))},dt.ha=function(){this.g&&Vw(this)},dt.setRequestHeader=function(n,t){this.v.append(n,t)},dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(OS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var D8=qt.JSON.parse;function ur(n){Nr.call(this),this.headers=new U_,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uH,this.K=this.L=!1}ns(ur,Nr);var uH="",I8=/^https?$/i,S8=["POST","PUT"];function A8(n){return"content-type"==n.toLowerCase()}function dH(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,hH(n),PS(n)}function hH(n){n.D||(n.D=!0,is(n,"complete"),is(n,"error"))}function fH(n){if(n.h&&typeof PO<"u"&&(!n.C[1]||4!=Dd(n)||2!=n.ba()))if(n.v&&4==Dd(n))sP(n.Fa,0,n);else if(is(n,"readystatechange"),4==Dd(n)){n.h=!1;try{const d=n.ba();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(XU)[1]||null;if(!r&&qt.self&&qt.self.location){var s=qt.self.location.protocol;r=s.substr(0,s.length-1)}i=!I8.test(r?r.toLowerCase():"")}e=i}if(e)is(n,"complete"),is(n,"success");else{n.m=6;try{var c=2<Dd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.ba()+"]",hH(n)}}finally{PS(n)}}}function PS(n,t){if(n.g){pH(n);const e=n.g,i=n.C[0]?pS:null;n.g=null,n.C=null,t||is(n,"ready");try{e.onreadystatechange=i}catch{}}}function pH(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(qt.clearTimeout(n.A),n.A=null)}function Dd(n){return n.g?n.g.readyState:0}function mH(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uH:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function vP(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function M8(n){let t="";return BO(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Ii(n,t,e))}function Uw(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function gH(n){this.za=0,this.l=[],this.h=new CS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Uw("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Uw("baseRetryDelayMs",5e3,n),this.$a=Uw("retryDelaySeedMs",1e4,n),this.Ya=Uw("forwardChannelMaxRetries",2,n),this.ra=Uw("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rH(n&&n.concurrentRequestLimit),this.Ca=new w8,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function bP(n){if(_H(n),3==n.G){var t=n.V++,e=Ed(n.F);Ii(e,"SID",n.J),Ii(e,"RID",t),Ii(e,"TYPE","terminate"),Hw(n,e),(t=new kw(n,n.h,t,void 0)).K=2,t.v=kS(Ed(e)),e=!1,qt.navigator&&qt.navigator.sendBeacon&&(e=qt.navigator.sendBeacon(t.v.toString(),"")),!e&&qt.Image&&((new Image).src=t.v,e=!0),e||(t.g=SH(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Rw(t)}DH(n)}function NS(n){n.g&&(EP(n),n.g.cancel(),n.g=null)}function _H(n){NS(n),n.u&&(qt.clearTimeout(n.u),n.u=null),LS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&qt.clearTimeout(n.m),n.m=null)}function wP(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&FS(n)}function FS(n){sH(n.i)||n.m||(n.m=!0,tP(n.Ha,n),n.C=0)}function yH(n,t){var e;e=t?t.m:n.V++;const i=Ed(n.F);Ii(i,"SID",n.J),Ii(i,"RID",e),Ii(i,"AID",n.U),Hw(n,i),n.o&&n.s&&vP(i,n.o,n.s),e=new kw(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=vH(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),gP(n.i,e),dP(e,i,t)}function Hw(n,t){n.j&&fP({},function(e,i){Ii(t,i,e)})}function vH(n,t,e){e=Math.min(n.l.length,e);var i=n.j?ts(n.j.Oa,n.j,n):null;e:{var r=n.l;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let p=0;p<e;p++){let _=r[p].h;const b=r[p].g;if(_-=s,0>_)s=Math.max(0,r[p].h-100),d=!1;else try{C8(b,c,"req"+_+"_")}catch{i&&i(b)}}if(d){i=c.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function bH(n){n.g||n.u||(n.Y=1,tP(n.Ga,n),n.A=0)}function CP(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Mw(ts(n.Ga,n),EH(n,n.A)),n.A++,0))}function EP(n){null!=n.B&&(qt.clearTimeout(n.B),n.B=null)}function wH(n){n.g=new kw(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Ed(n.oa);Ii(t,"RID","rpc"),Ii(t,"SID",n.J),Ii(t,"CI",n.N?"0":"1"),Ii(t,"AID",n.U),Hw(n,t),Ii(t,"TYPE","xmlhttp"),n.o&&n.s&&vP(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=kS(Ed(t)),e.s=null,e.U=!0,ZU(e,n)}function LS(n){null!=n.v&&(qt.clearTimeout(n.v),n.v=null)}function CH(n,t){var e=null;if(n.g==t){LS(n),EP(n),n.g=null;var i=2}else{if(!mP(n.i,t))return;e=t.D,aH(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;is(i=ES(),new GU(i,e,t,r)),FS(n)}else bH(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function x8(n,t){return!(oH(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Mw(ts(n.Ha,n,t),EH(n,n.C)),n.C++,0)))}(n,t)||2==i&&CP(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:rm(n,5);break;case 4:rm(n,10);break;case 3:rm(n,6);break;default:rm(n,2)}}function EH(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function rm(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=ts(n.jb,n);e||(e=new im("//www.google.com/images/cleardot.gif"),qt.location&&"http"==qt.location.protocol||AS(e,"https"),kS(e)),function E8(n,t){const e=new CS;if(qt.Image){const i=new Image;i.onload=mS(RS,e,i,"TestLoadImage: loaded",!0,t),i.onerror=mS(RS,e,i,"TestLoadImage: error",!1,t),i.onabort=mS(RS,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=mS(RS,e,i,"TestLoadImage: timeout",!1,t),qt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else ro(2);n.G=0,n.j&&n.j.va(t),DH(n),_H(n)}function DH(n){n.G=0,n.I=-1,n.j&&((0!=lH(n.i).length||0!=n.l.length)&&(n.i.i.length=0,LO(n.l),n.l.length=0),n.j.ua())}function IH(n,t,e){let i=function d8(n){return n instanceof im?Ed(n):new im(n,void 0)}(e);if(""!=i.i)t&&MS(i,t+"."+i.i),xS(i,i.m);else{const r=qt.location;i=function h8(n,t,e,i){var r=new im(null,void 0);return n&&AS(r,n),t&&MS(r,t),e&&xS(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&BO(n.aa,function(r,s){Ii(i,s,r)}),e=n.sa,(t=n.D)&&e&&Ii(i,t,e),Ii(i,"VER",n.ma),Hw(n,i),i}function SH(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ur(e&&n.Ba&&!n.qa?new Lw({ib:!0}):n.qa)).L=n.H,t}function TH(){}function VS(){if(V_&&!(10<=Number(G5)))throw Error("Environmental error: no available transport.")}function fa(n,t){Nr.call(this),this.g=new gH(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!gS(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!gS(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new j_(this)}function AH(n){aP.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function MH(){lP.call(this),this.status=1}function j_(n){this.g=n}(dt=ur.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():cP.g(),this.C=function zU(n){return n.h||(n.h=n.i())}(this.u?this.u:cP),this.g.onreadystatechange=ts(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void dH(this,s)}n=e||"";const r=new U_(this.headers);i&&fP(i,function(s,c){r.set(c,s)}),i=function L5(n){e:{var t=A8;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=qt.FormData&&n instanceof qt.FormData,!(0<=gU(S8,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(s,c){this.g.setRequestHeader(c,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pH(this),0<this.B&&((this.K=function T8(n){return V_&&function j5(){return function V5(n){var t=H5;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=vU(String(_S)).split("."),e=vU("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=VO(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||VO(0==r[2].length,0==s[2].length)||VO(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ts(this.pa,this)):this.A=sP(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){dH(this,s)}},dt.pa=function(){typeof PO<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,is(this,"timeout"),this.abort(8))},dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,is(this,"complete"),is(this,"abort"),PS(this))},dt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),PS(this,!0)),ur.Z.M.call(this)},dt.Fa=function(){this.s||(this.F||this.v||this.l?fH(this):this.cb())},dt.cb=function(){fH(this)},dt.ba=function(){try{return 2<Dd(this)?this.g.status:-1}catch{return-1}},dt.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},dt.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),D8(t)}},dt.Da=function(){return this.m},dt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(dt=gH.prototype).ma=8,dt.G=1,dt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},dt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new kw(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=CU(s),DU(s,this.P)):s=this.P),null===this.o&&(r.H=s),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=vH(this,r,t),Ii(e=Ed(this.F),"RID",n),Ii(e,"CVER",22),this.D&&Ii(e,"X-HTTP-Session-Id",this.D),Hw(this,e),this.o&&s&&vP(e,this.o,s),gP(this.i,r),this.Ra&&Ii(e,"TYPE","init"),this.ja?(Ii(e,"$req",t),Ii(e,"SID","null"),r.$=!0,dP(r,e,null)):dP(r,e,t),this.G=2}}else 3==this.G&&(n?yH(this,n):0==this.l.length||sH(this.i)||yH(this))},dt.Ga=function(){if(this.u=null,wH(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Mw(ts(this.bb,this),n)}},dt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ro(10),NS(this),wH(this))},dt.ab=function(){null!=this.v&&(this.v=null,NS(this),CP(this),ro(19))},dt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ro(2)):(this.h.info("Failed to ping google.com"),ro(1))},(dt=TH.prototype).xa=function(){},dt.wa=function(){},dt.va=function(){},dt.ua=function(){},dt.Oa=function(){},VS.prototype.g=function(n,t){return new fa(n,t)},ns(fa,Nr),fa.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),tP(ts(n.hb,n,t))),ro(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=IH(n,null,n.W),FS(n)},fa.prototype.close=function(){bP(this.g)},fa.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,wP(this.g,t)}else this.v?((t={}).__data__=eP(n),wP(this.g,t)):wP(this.g,n)},fa.prototype.M=function(){this.g.j=null,delete this.j,bP(this.g),delete this.g,fa.Z.M.call(this)},ns(AH,aP),ns(MH,lP),ns(j_,TH),j_.prototype.xa=function(){is(this.g,"a")},j_.prototype.wa=function(n){is(this.g,new AH(n))},j_.prototype.va=function(n){is(this.g,new MH(n))},j_.prototype.ua=function(){is(this.g,"b")},VS.prototype.createWebChannel=VS.prototype.g,fa.prototype.send=fa.prototype.u,fa.prototype.open=fa.prototype.m,fa.prototype.close=fa.prototype.close,DS.NO_ERROR=0,DS.TIMEOUT=8,DS.HTTP_ERROR=6,$U.COMPLETE="complete",qU.EventType=xw,xw.OPEN="a",xw.CLOSE="b",xw.ERROR="c",xw.MESSAGE="d",Nr.prototype.listen=Nr.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.La,ur.prototype.getLastErrorCode=ur.prototype.Da,ur.prototype.getStatus=ur.prototype.ba,ur.prototype.getResponseJson=ur.prototype.Qa,ur.prototype.getResponseText=ur.prototype.ga,ur.prototype.send=ur.prototype.ea;var k8=Cd.createWebChannelTransport=function(){return new VS},R8=Cd.getStatEventTarget=function(){return ES()},DP=Cd.ErrorCode=DS,O8=Cd.EventType=$U,P8=Cd.Event=em,xH=Cd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},N8=Cd.FetchXmlHttpFactory=Lw,BS=Cd.WebChannel=qU,F8=Cd.XhrIo=ur;const kH="@firebase/firestore";class Fr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let G_="9.9.4";const zh=new lc.Yd("@firebase/firestore");function IP(){return zh.logLevel}function Ge(n,...t){if(zh.logLevel<=lc.in.DEBUG){const e=t.map(SP);zh.debug(`Firestore (${G_}): ${n}`,...e)}}function rr(n,...t){if(zh.logLevel<=lc.in.ERROR){const e=t.map(SP);zh.error(`Firestore (${G_}): ${n}`,...e)}}function sm(n,...t){if(zh.logLevel<=lc.in.WARN){const e=t.map(SP);zh.warn(`Firestore (${G_}): ${n}`,...e)}}function SP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function pt(n="Unexpected state"){const t=`FIRESTORE (${G_}) INTERNAL ASSERTION FAILED: `+n;throw rr(t),new Error(t)}function jt(n,t){n||pt()}function ot(n,t){return n}const ve={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends F.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Lr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class RH{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class B8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Fr.UNAUTHENTICATED))}shutdown(){}}class U8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class H8{constructor(t){this.t=t,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=_=>this.i!==r?(r=this.i,e(_)):Promise.resolve();let c=new Lr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Lr,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const _=c;t.enqueueRetryable((0,be.Z)(function*(){yield _.promise,yield s(i.currentUser)}))},p=_=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(_=>p(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Lr)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(jt("string"==typeof i.accessToken),new RH(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return jt(null===t||"string"==typeof t),new Fr(t)}}class j8{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(jt(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class G8{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new j8(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OH{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $8{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(jt("string"==typeof e.token),this.A=e.token,new OH(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class PH{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=z8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function Wt(n,t){return n<t?-1:n>t?1:0}function $_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function NH(n){return n+"\0"}class Si{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Be(ve.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Be(ve.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Si.fromMillis(Date.now())}static fromDate(t){return Si.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Si(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Wt(this.nanoseconds,t.nanoseconds):Wt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Si(0,0))}static max(){return new Lt(new Si(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jw{constructor(t,e,i){void 0===e?e=0:e>t.length&&pt(),void 0===i?i=t.length-e:i>t.length-e&&pt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===jw.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof jw?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Cn extends jw{construct(t,e,i){return new Cn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Cn(e)}static emptyPath(){return new Cn([])}}const q8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wi extends jw{construct(t,e,i){return new Wi(t,e,i)}static isValidIdentifier(t){return q8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new Be(ve.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new Be(ve.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new Be(ve.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Wi(e)}static emptyPath(){return new Wi([])}}class tt{constructor(t){this.path=t}static fromPath(t){return new tt(Cn.fromString(t))}static fromName(t){return new tt(Cn.fromString(t).popFirst(5))}static empty(){return new tt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Cn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new Cn(t.slice()))}}class US{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function TP(n){return n.fields.find(t=>2===t.kind)}function om(n){return n.fields.filter(t=>2!==t.kind)}US.UNKNOWN_ID=-1;class HS{constructor(t,e){this.fieldPath=t,this.kind=e}}class Gw{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Gw(0,pa.min())}}function FH(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new Si(e+1,0):new Si(e,i));return new pa(r,tt.empty(),t)}function LH(n){return new pa(n.readTime,n.key,-1)}class pa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new pa(Lt.min(),tt.empty(),-1)}static max(){return new pa(Lt.max(),tt.empty(),-1)}}function AP(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tt.comparator(n.documentKey,t.documentKey),0!==e?e:Wt(n.largestBatchId,t.largestBatchId))}const VH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BH{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function qh(n){return MP.apply(this,arguments)}function MP(){return MP=(0,be.Z)(function*(n){if(n.code!==ve.FAILED_PRECONDITION||n.message!==VH)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),MP.apply(this,arguments)}class pe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pe((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof pe?e:pe.resolve(e)}catch(e){return pe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):pe.reject(e)}static resolve(t){return new pe((e,i)=>{e(t)})}static reject(t){return new pe((e,i)=>{i(t)})}static waitFor(t){return new pe((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},p=>i(p))}),c=!0,s===r&&e()})}static or(t){let e=pe.resolve(!1);for(const i of t)e=e.next(r=>r?pe.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new pe((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let p=0;p<s;p++){const _=p;e(t[_]).next(b=>{c[_]=b,++d,d===s&&i(c)},b=>r(b))}})}static doWhile(t,e){return new pe((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class jS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new Lr,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new $w(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=xP(i.target.error);this.P.reject(new $w(t,r))}}static open(t,e,i,r){try{return new jS(e,t.transaction(r,i))}catch(s){throw new $w(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(Ge("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new K8(e)}}class dc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===dc.D((0,F.z$)())&&rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Ge("SimpleDb","Removing database:",t),am(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,F.hl)())return!1;if(dc.N())return!0;const t=(0,F.z$)(),e=dc.D(t),i=0<e&&e<10,r=dc.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,be.Z)(function*(){return e.db||(Ge("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new $w(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new Be(ve.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new Be(ve.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new $w(t,d))},s.onupgradeneeded=c=>{Ge("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,be.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const p=jS.open(s.db,t,c?"readonly":"readwrite",i),_=r(p).next(b=>(p.V(),b)).catch(b=>(p.abort(b),pe.reject(b))).toPromise();return _.catch(()=>{}),yield p.v,_}catch(p){const _=p,b="FirebaseError"!==_.name&&d<3;if(Ge("SimpleDb","Transaction failed with error:",_.message,"Retrying:",b),s.close(),!b)return Promise.reject(_)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Y8{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return am(this.U.delete())}}class $w extends Be{constructor(t,e){super(ve.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Wh(n){return"IndexedDbTransactionError"===n.name}class K8{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Ge("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),am(i)}add(t){return Ge("SimpleDb","ADD",this.store.name,t,t),am(this.store.add(t))}get(t){return am(this.store.get(t)).next(e=>(void 0===e&&(e=null),Ge("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Ge("SimpleDb","DELETE",this.store.name,t),am(this.store.delete(t))}count(){return Ge("SimpleDb","COUNT",this.store.name),am(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new pe((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new pe((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){Ge("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new pe((i,r)=>{e.onerror=s=>{const c=xP(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new pe((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const p=new Y8(d),_=e(d.primaryKey,d.value,p);if(_ instanceof pe){const b=_.catch(I=>(p.done(),pe.reject(I)));i.push(b)}p.isDone?r():null===p.G?d.continue():d.continue(p.G)}}).next(()=>pe.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function am(n){return new pe((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=xP(i.target.error);e(r)}})}let UH=!1;function xP(n){const t=dc.D((0,F.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UH||(UH=!0,setTimeout(()=>{throw i},0)),i}}return n}class Q8{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;Ge("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{Ge("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){Wh(i)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield qh(i)}yield e.nt(1)}))}}class X8{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return pe.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Ge("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>(Ge("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=LH(s);AP(c,i)>0&&(i=c)}),new pa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ko{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function HH(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function lm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jH(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}ko.at=-1;class Zi{constructor(t,e){this.comparator=t,this.root=e||rs.EMPTY}insert(t,e){return new Zi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(t){return new Zi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new GS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new GS(this.root,t,this.comparator,!1)}getReverseIterator(){return new GS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new GS(this.root,t,this.comparator,!0)}}class GS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rs{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??rs.RED,this.left=r??rs.EMPTY,this.right=s??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new rs(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return rs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const t=this.left.check();if(t!==this.right.check())throw pt();return t+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1,rs.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new rs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Zn{constructor(t){this.comparator=t,this.data=new Zi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new GH(this.data.getIterator())}getIteratorFrom(t){return new GH(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof Zn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Zn(this.comparator);return e.data=t,e}}class GH{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function z_(n){return n.hasNext()?n.getNext():void 0}class ma{constructor(t){this.fields=t,t.sort(Wi.comparator)}static empty(){return new ma([])}unionWith(t){let e=new Zn(Wi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ma(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return $_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Dr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Dr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Dr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Wt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Dr.EMPTY_BYTE_STRING=new Dr("");const eK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zh(n){if(jt(!!n),"string"==typeof n){let t=0;const e=eK.exec(n);if(jt(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Yi(n.seconds),nanos:Yi(n.nanos)}}function Yi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cm(n){return"string"==typeof n?Dr.fromBase64String(n):Dr.fromUint8Array(n)}function kP(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function $H(n){const t=n.mapValue.fields.__previous_value__;return kP(t)?$H(t):t}function zw(n){const t=Zh(n.mapValue.fields.__local_write_time__.timestampValue);return new Si(t.seconds,t.nanos)}class tK{constructor(t,e,i,r,s,c,d,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=p}}class Yh{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Yh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Yh&&t.projectId===this.projectId&&t.database===this.database}}function qw(n){return null==n}function Ww(n){return 0===n&&1/n==-1/0}function zH(n){return"number"==typeof n&&Number.isInteger(n)&&!Ww(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$S={nullValue:"NULL_VALUE"};function um(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?kP(n)?4:YH(n)?9007199254740991:10:pt()}function uu(n,t){if(n===t)return!0;const e=um(n);if(e!==um(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return zw(n).isEqual(zw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=Zh(i.timestampValue),c=Zh(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,cm(n.bytesValue).isEqual(cm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Yi(i.geoPointValue.latitude)===Yi(r.geoPointValue.latitude)&&Yi(i.geoPointValue.longitude)===Yi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Yi(i.integerValue)===Yi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=Yi(i.doubleValue),c=Yi(r.doubleValue);return s===c?Ww(s)===Ww(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return $_(n.arrayValue.values||[],t.arrayValue.values||[],uu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(HH(s)!==HH(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!uu(s[d],c[d])))return!1;return!0}(n,t);default:return pt()}var r}function Zw(n,t){return void 0!==(n.values||[]).find(e=>uu(e,t))}function Qh(n,t){if(n===t)return 0;const e=um(n),i=um(t);if(e!==i)return Wt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Wt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=Yi(r.integerValue||r.doubleValue),d=Yi(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return qH(n.timestampValue,t.timestampValue);case 4:return qH(zw(n),zw(t));case 5:return Wt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=cm(r),d=cm(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let p=0;p<c.length&&p<d.length;p++){const _=Wt(c[p],d[p]);if(0!==_)return _}return Wt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=Wt(Yi(r.latitude),Yi(s.latitude));return 0!==c?c:Wt(Yi(r.longitude),Yi(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let p=0;p<c.length&&p<d.length;++p){const _=Qh(c[p],d[p]);if(_)return _}return Wt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===Kh.mapValue&&s===Kh.mapValue)return 0;if(r===Kh.mapValue)return 1;if(s===Kh.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),p=s.fields||{},_=Object.keys(p);d.sort(),_.sort();for(let b=0;b<d.length&&b<_.length;++b){const I=Wt(d[b],_[b]);if(0!==I)return I;const M=Qh(c[d[b]],p[_[b]]);if(0!==M)return M}return Wt(d.length,_.length)}(n.mapValue,t.mapValue);default:throw pt()}}function qH(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Wt(n,t);const e=Zh(n),i=Zh(t),r=Wt(e.seconds,i.seconds);return 0!==r?r:Wt(e.nanos,i.nanos)}function q_(n){return RP(n)}function RP(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Zh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cm(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=RP(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${RP(i.fields[d])}`;return s+"}"}(n.mapValue):pt();var t}function dm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function OP(n){return!!n&&"integerValue"in n}function Yw(n){return!!n&&"arrayValue"in n}function WH(n){return!!n&&"nullValue"in n}function ZH(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function zS(n){return!!n&&"mapValue"in n}function Kw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return lm(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Kw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Kw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function YH(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function nK(n){return"nullValue"in n?$S:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?dm(Yh.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:pt()}function iK(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?dm(Yh.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Kh:pt()}function KH(n,t){const e=Qh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function QH(n,t){const e=Qh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ss{constructor(t){this.value=t}static empty(){return new ss({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!zS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Kw(e)}setAll(t){let e=Wi.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=Kw(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());zS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return uu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];zS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){lm(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new ss(Kw(this.value))}}function XH(n){const t=[];return lm(n.fields,(e,i)=>{const r=new Wi([e]);if(zS(i)){const s=XH(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new ma(t)}class ui{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new ui(t,0,Lt.min(),Lt.min(),ss.empty(),0)}static newFoundDocument(t,e,i){return new ui(t,1,e,Lt.min(),i,0)}static newNoDocument(t,e){return new ui(t,2,e,Lt.min(),ss.empty(),0)}static newUnknownDocument(t,e){return new ui(t,3,e,Lt.min(),ss.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof ui&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ui(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rK{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function JH(n,t=null,e=[],i=[],r=null,s=null,c=null){return new rK(n,t,e,i,r,s,c)}function hm(n){const t=ot(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+q_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),qw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>q_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>q_(i)).join(",")),t.ht=e}return t.ht}function Qw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!fK(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!uu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!rj(n.startAt,t.startAt)&&rj(n.endAt,t.endAt)}function qS(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function WS(n,t){return n.filters.filter(e=>e instanceof os&&e.field.isEqual(t))}function ej(n,t,e){let i=$S,r=!0;for(const s of WS(n,t)){let c=$S,d=!0;switch(s.op){case"<":case"<=":c=nK(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=$S}KH({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];KH({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function tj(n,t,e){let i=Kh,r=!0;for(const s of WS(n,t)){let c=Kh,d=!0;switch(s.op){case">=":case">":c=iK(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=Kh}QH({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];QH({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class os extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new oK(t,e,i):"array-contains"===e?new cK(t,i):"in"===e?new uK(t,i):"not-in"===e?new dK(t,i):"array-contains-any"===e?new hK(t,i):new os(t,e,i)}static lt(t,e,i){return"in"===e?new aK(t,i):new lK(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Qh(e,this.value)):null!==e&&um(this.value)===um(e)&&this.ft(Qh(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return pt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class oK extends os{constructor(t,e,i){super(t,e,i),this.key=tt.fromName(i.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.ft(e)}}class aK extends os{constructor(t,e){super(t,"in",e),this.keys=nj(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class lK extends os{constructor(t,e){super(t,"not-in",e),this.keys=nj(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nj(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tt.fromName(i.referenceValue))}class cK extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Yw(e)&&Zw(e.arrayValue,this.value)}}class uK extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Zw(this.value.arrayValue,e)}}class dK extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Zw(this.value.arrayValue,e)}}class hK extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Yw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Zw(this.value.arrayValue,i))}}class Xh{constructor(t,e){this.position=t,this.inclusive=e}}class W_{constructor(t,e="asc"){this.field=t,this.dir=e}}function fK(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function ij(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?tt.comparator(tt.fromName(c.referenceValue),e.key):Qh(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function rj(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!uu(n.position[e],t.position[e]))return!1;return!0}class Id{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=p,this._t=null,this.wt=null}}function sj(n,t,e,i,r,s,c,d){return new Id(n,t,e,i,r,s,c,d)}function Z_(n){return new Id(n)}function oj(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function PP(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function NP(n){for(const t of n.filters)if(t.dt())return t.field;return null}function FP(n){return null!==n.collectionGroup}function Y_(n){const t=ot(n);if(null===t._t){t._t=[];const e=NP(t),i=PP(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new W_(e)),t._t.push(new W_(Wi.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new W_(Wi.keyField(),s))}}}return t._t}function Ro(n){const t=ot(n);if(!t.wt)if("F"===t.limitType)t.wt=JH(t.path,t.collectionGroup,Y_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of Y_(t))e.push(new W_(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new Xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Xh(t.startAt.position,t.startAt.inclusive):null;t.wt=JH(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function ZS(n,t,e){return new Id(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Xw(n,t){return Qw(Ro(n),Ro(t))&&n.limitType===t.limitType}function aj(n){return`${hm(Ro(n))}|lt:${n.limitType}`}function LP(n){return`Query(target=${function sK(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${q_(i.value)}`;var i}).join(", ")}]`),qw(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>q_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>q_(e)).join(",")),`Target(${t})`}(Ro(n))}; limitType=${n.limitType})`}function VP(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=ij(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,Y_(e),i)||e.endAt&&!function(r,s,c){const d=ij(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,Y_(e),i)));var e,i}function lj(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cj(n){return(t,e)=>{let i=!1;for(const r of Y_(n)){const s=pK(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function pK(n,t,e){const i=n.field.isKeyField()?tt.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),p=c.data.field(r);return null!==d&&null!==p?Qh(d,p):pt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return pt()}}function uj(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ww(t)?"-0":t}}function dj(n){return{integerValue:""+n}}function hj(n,t){return zH(t)?dj(t):uj(n,t)}class YS{constructor(){this._=void 0}}function mK(n,t,e){return n instanceof K_?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof fm?pj(n,t):n instanceof pm?mj(n,t):function(i,r){const s=fj(i,r),c=gj(s)+gj(i.yt);return OP(s)&&OP(i.yt)?dj(c):uj(i.It,c)}(n,t)}function gK(n,t,e){return n instanceof fm?pj(n,t):n instanceof pm?mj(n,t):e}function fj(n,t){return n instanceof Q_?OP(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class K_ extends YS{}class fm extends YS{constructor(t){super(),this.elements=t}}function pj(n,t){const e=_j(t);for(const i of n.elements)e.some(r=>uu(r,i))||e.push(i);return{arrayValue:{values:e}}}class pm extends YS{constructor(t){super(),this.elements=t}}function mj(n,t){let e=_j(t);for(const i of n.elements)e=e.filter(r=>!uu(r,i));return{arrayValue:{values:e}}}class Q_ extends YS{constructor(t,e){super(),this.It=t,this.yt=e}}function gj(n){return Yi(n.integerValue||n.doubleValue)}function _j(n){return Yw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Jw{constructor(t,e){this.field=t,this.transform=e}}class yK{constructor(t,e){this.version=t,this.transformResults=e}}class Ti{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ti}static exists(t){return new Ti(void 0,t)}static updateTime(t){return new Ti(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function KS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class QS{}function yj(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new J_(n.key,Ti.none()):new X_(n.key,n.data,Ti.none());{const e=n.data,i=ss.empty();let r=new Zn(Wi.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Sd(n.key,i,new ma(r.toArray()),Ti.none())}}function vK(n,t,e){n instanceof X_?function(i,r,s){const c=i.value.clone(),d=wj(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Sd?function(i,r,s){if(!KS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=wj(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(bj(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function e0(n,t,e,i){return n instanceof X_?function(r,s,c,d){if(!KS(r.precondition,s))return c;const p=r.value.clone(),_=Cj(r.fieldTransforms,d,s);return p.setAll(_),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof Sd?function(r,s,c,d){if(!KS(r.precondition,s))return c;const p=Cj(r.fieldTransforms,d,s),_=s.data;return _.setAll(bj(r)),_.setAll(p),s.convertToFoundDocument(s.version,_).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(b=>b.field))}(n,t,e,i):(c=e,KS(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function bK(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=fj(i.transform,r||null);null!=s&&(null===e&&(e=ss.empty()),e.set(i.field,s))}return e||null}function vj(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&$_(e,i,(r,s)=>function _K(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof fm&&i instanceof fm||e instanceof pm&&i instanceof pm?$_(e.elements,i.elements,uu):e instanceof Q_&&i instanceof Q_?uu(e.yt,i.yt):e instanceof K_&&i instanceof K_);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class X_ extends QS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Sd extends QS{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bj(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wj(n,t,e){const i=new Map;jt(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,gK(c,d,e[r]))}return i}function Cj(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,mK(s,c,t))}return i}class J_ extends QS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BP extends QS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wK{constructor(t){this.count=t}}var dr,En;function Ej(n){switch(n){default:return pt();case ve.CANCELLED:case ve.UNKNOWN:case ve.DEADLINE_EXCEEDED:case ve.RESOURCE_EXHAUSTED:case ve.INTERNAL:case ve.UNAVAILABLE:case ve.UNAUTHENTICATED:return!1;case ve.INVALID_ARGUMENT:case ve.NOT_FOUND:case ve.ALREADY_EXISTS:case ve.PERMISSION_DENIED:case ve.FAILED_PRECONDITION:case ve.ABORTED:case ve.OUT_OF_RANGE:case ve.UNIMPLEMENTED:case ve.DATA_LOSS:return!0}}function Dj(n){if(void 0===n)return rr("GRPC error has no .code"),ve.UNKNOWN;switch(n){case dr.OK:return ve.OK;case dr.CANCELLED:return ve.CANCELLED;case dr.UNKNOWN:return ve.UNKNOWN;case dr.DEADLINE_EXCEEDED:return ve.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return ve.RESOURCE_EXHAUSTED;case dr.INTERNAL:return ve.INTERNAL;case dr.UNAVAILABLE:return ve.UNAVAILABLE;case dr.UNAUTHENTICATED:return ve.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return ve.INVALID_ARGUMENT;case dr.NOT_FOUND:return ve.NOT_FOUND;case dr.ALREADY_EXISTS:return ve.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return ve.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return ve.FAILED_PRECONDITION;case dr.ABORTED:return ve.ABORTED;case dr.OUT_OF_RANGE:return ve.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return ve.UNIMPLEMENTED;case dr.DATA_LOSS:return ve.DATA_LOSS;default:return pt()}}(En=dr||(dr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class Jh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){lm(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return jH(this.inner)}size(){return this.innerSize}}const CK=new Zi(tt.comparator);function Oo(){return CK}const Ij=new Zi(tt.comparator);function t0(...n){let t=Ij;for(const e of n)t=t.insert(e.key,e);return t}function Sj(n){let t=Ij;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function du(){return n0()}function Tj(){return n0()}function n0(){return new Jh(n=>n.toString(),(n,t)=>n.isEqual(t))}const EK=new Zi(tt.comparator),DK=new Zn(tt.comparator);function en(...n){let t=DK;for(const e of n)t=t.add(e);return t}const IK=new Zn(Wt);function XS(){return IK}class r0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,s0.createSynthesizedTargetChangeForCurrentChange(t,e)),new r0(Lt.min(),i,XS(),Oo(),en())}}class s0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new s0(Dr.EMPTY_BYTE_STRING,e,en(),en(),en())}}class JS{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class Aj{constructor(t,e){this.targetId=t,this.At=e}}class Mj{constructor(t,e,i=Dr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class xj{constructor(){this.Rt=0,this.bt=Rj(),this.Pt=Dr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=en(),e=en(),i=en();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:pt()}}),new s0(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=Rj()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class SK{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=Oo(),this.qt=kj(),this.Kt=new Zn(Wt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:pt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(qS(s))if(0===i){const c=new tt(s.path);this.jt(e,c,ui.newNoDocument(c,Lt.min()))}else jt(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&qS(d.target)){const p=new tt(d.target.path);null!==this.Ut.get(p)||this.ee(c,p)||this.jt(c,p,ui.newNoDocument(p,t))}s.Dt&&(e.set(c,s.xt()),s.Nt())}});let i=en();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(p=>{const _=this.Xt(p);return!_||2===_.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(t));const r=new r0(t,e,this.Kt,this.Ut,i);return this.Ut=Oo(),this.qt=kj(),this.Kt=new Zn(Wt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new xj,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Zn(Wt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Ge("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new xj),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function kj(){return new Zi(tt.comparator)}function Rj(){return new Zi(tt.comparator)}const TK={asc:"ASCENDING",desc:"DESCENDING"},AK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class MK{constructor(t,e){this.databaseId=t,this.gt=e}}function o0(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Oj(n,t){return n.gt?t.toBase64():t.toUint8Array()}function xK(n,t){return o0(n,t.toTimestamp())}function Vr(n){return jt(!!n),Lt.fromTimestamp(function(t){const e=Zh(t);return new Si(e.seconds,e.nanos)}(n))}function UP(n,t){return(e=n,new Cn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function Pj(n){const t=Cn.fromString(n);return jt(Gj(t)),t}function a0(n,t){return UP(n.databaseId,t.path)}function hu(n,t){const e=Pj(t);if(e.get(1)!==n.databaseId.projectId)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Be(ve.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tt(Fj(e))}function HP(n,t){return UP(n.databaseId,t)}function Nj(n){const t=Pj(n);return 4===t.length?Cn.emptyPath():Fj(t)}function l0(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Fj(n){return jt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function Lj(n,t,e){return{name:a0(n,t),fields:e.value.mapValue.fields}}function Vj(n,t,e){const i=hu(n,t.name),r=Vr(t.updateTime),s=new ss({mapValue:{fields:t.fields}}),c=ui.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function c0(n,t){let e;if(t instanceof X_)e={update:Lj(n,t.key,t.value)};else if(t instanceof J_)e={delete:a0(n,t.key)};else if(t instanceof Sd)e={update:Lj(n,t.key,t.data),updateMask:BK(t.fieldMask)};else{if(!(t instanceof BP))return pt();e={verify:a0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof K_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fm)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Q_)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw pt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:xK(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:pt()),e;var r}function jP(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ti.updateTime(Vr(r.updateTime)):void 0!==r.exists?Ti.exists(r.exists):Ti.none():Ti.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(jt("REQUEST_TIME"===c.setToServerValue),d=new K_):"appendMissingElements"in c?d=new fm(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new pm(c.removeAllFromArray.values||[]):"increment"in c?d=new Q_(s,c.increment):pt();const p=Wi.fromServerFormat(c.fieldPath);return new Jw(p,d)}(n,r)):[];var r;if(t.update){const r=hu(n,t.update.name),s=new ss({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new ma((t.updateMask.fieldPaths||[]).map(_=>Wi.fromServerFormat(_)));return new Sd(r,s,c,e,i)}return new X_(r,s,e,i)}if(t.delete){const r=hu(n,t.delete);return new J_(r,e)}if(t.verify){const r=hu(n,t.verify);return new BP(r,e)}return pt()}function Bj(n,t){return{documents:[HP(n,t.path)]}}function Uj(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=HP(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=HP(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0===p.length)return;const _=p.map(b=>function(I){if("=="===I.op){if(ZH(I.value))return{unaryFilter:{field:ey(I.field),op:"IS_NAN"}};if(WH(I.value))return{unaryFilter:{field:ey(I.field),op:"IS_NULL"}}}else if("!="===I.op){if(ZH(I.value))return{unaryFilter:{field:ey(I.field),op:"IS_NOT_NAN"}};if(WH(I.value))return{unaryFilter:{field:ey(I.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ey(I.field),op:FK(I.op),value:I.value}}}(b));return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(p){if(0!==p.length)return p.map(_=>{return{field:ey((b=_).field),direction:NK(b.dir)};var b})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(_=t.limit,n.gt||qw(_)?_:{value:_});var _,d,p;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function Hj(n){let t=Nj(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){jt(1===i);const b=e.from[0];b.allDescendants?r=b.collectionId:t=t.child(b.collectionId)}let s=[];e.where&&(s=jj(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(b=>{return new W_(ty((I=b).field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let d=null;e.limit&&(d=function(b){let I;return I="object"==typeof b?b.value:b,qw(I)?null:I}(e.limit));let p=null;var b;e.startAt&&(p=new Xh((b=e.startAt).values||[],!!b.before));let _=null;return e.endAt&&(_=function(b){return new Xh(b.values||[],!b.before)}(e.endAt)),sj(t,r,c,s,d,"F",p,_)}function jj(n){return n?void 0!==n.unaryFilter?[VK(n)]:void 0!==n.fieldFilter?[LK(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>jj(t)).reduce((t,e)=>t.concat(e)):pt():[]}function NK(n){return TK[n]}function FK(n){return AK[n]}function ey(n){return{fieldPath:n.canonicalString()}}function ty(n){return Wi.fromServerFormat(n.fieldPath)}function LK(n){return os.create(ty(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function VK(n){switch(n.unaryFilter.op){case"IS_NAN":const t=ty(n.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=ty(n.unaryFilter.field);return os.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ty(n.unaryFilter.field);return os.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=ty(n.unaryFilter.field);return os.create(r,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function BK(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Gj(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function so(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=$j(t)),t=UK(n.get(e),t);return $j(t)}function UK(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function $j(n){return n+"\x01\x01"}function fu(n){const t=n.length;if(jt(t>=2),2===t)return jt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Cn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&pt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let p;0===r.length?p=d:(r+=d,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:pt()}s=c+2}return new Cn(i)}const zj=["userId","batchId"];function eT(n,t){return[n,so(t)]}function qj(n,t,e){return[n,so(t),e]}const HK={},jK=["prefixPath","collectionGroup","readTime","documentId"],GK=["prefixPath","collectionGroup","documentId"],$K=["collectionGroup","readTime","prefixPath","documentId"],zK=["canonicalId","targetId"],qK=["targetId","path"],WK=["path","targetId"],ZK=["collectionId","parent"],YK=["indexId","uid"],KK=["uid","sequenceNumber"],QK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XK=["indexId","uid","orderedDocumentKey"],JK=["userId","collectionPath","documentId"],e7=["userId","collectionPath","largestBatchId"],t7=["userId","collectionGroup","largestBatchId"],Wj=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n7=[...Wj,"documentOverlays"],Zj=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Yj=Zj,i7=[...Yj,"indexConfiguration","indexState","indexEntries"];class GP extends BH{constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function Br(n,t){const e=ot(n);return dc.O(e.ie,t)}class $P{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&vK(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=e0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=e0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=Tj();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const p=yj(c,d);null!==p&&i.set(r.key,p),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),en())}isEqual(t){return this.batchId===t.batchId&&$_(this.mutations,t.mutations,(e,i)=>vj(e,i))&&$_(this.baseMutations,t.baseMutations,(e,i)=>vj(e,i))}}class zP{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){jt(t.mutations.length===i.length);let r=EK;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new zP(t,e,i,r)}}class qP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ef{constructor(t,e,i,r,s=Lt.min(),c=Lt.min(),d=Dr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new ef(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ef(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class Kj{constructor(t){this.re=t}}function Qj(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:tT(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:a0(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:o0(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:mm(t.version)};else{if(!t.isUnknownDocument())return pt();i.unknownDocument={path:e.path.toArray(),version:mm(t.version)}}var r,s;return i}function tT(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function mm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function gm(n){const t=new Si(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function _m(n,t){const e=(t.baseMutations||[]).map(s=>jP(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>jP(n.re,s)),r=Si.fromMillis(t.localWriteTimeMs);return new $P(t.batchId,r,e,i)}function u0(n){const t=gm(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?gm(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(jt(1===(r=n.query).documents.length),i=Ro(Z_(Nj(r.documents[0])))):i=Ro(Hj(n.query)),new ef(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Dr.fromBase64String(n.resumeToken))}function Xj(n,t){const e=mm(t.snapshotVersion),i=mm(t.lastLimboFreeSnapshotVersion);let r;r=qS(t.target)?Bj(n.re,t.target):Uj(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:hm(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function WP(n){const t=Hj({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZS(t,t.limit,"L"):t}function ZP(n,t){return new qP(t.largestBatchId,jP(n.re,t.overlayMutation))}function Jj(n,t){const e=t.path.lastSegment();return[n,so(t.path.popLast()),e]}function e3(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:mm(i.readTime),documentKey:so(i.documentKey.path),largestBatchId:i.largestBatchId}}class s7{getBundleMetadata(t,e){return t3(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:gm(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return t3(t).put({bundleId:(i=e).id,createTime:mm(Vr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return n3(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:WP(r.bundledQuery),readTime:gm(r.readTime)};var r})}saveNamedQuery(t,e){return n3(t).put({name:(i=e).name,readTime:mm(Vr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function t3(n){return Br(n,"bundles")}function n3(n){return Br(n,"namedQueries")}class nT{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new nT(t,e.uid||"")}getOverlay(t,e){return d0(t).get(Jj(this.userId,e)).next(i=>i?ZP(this.It,i):null)}getOverlays(t,e){const i=du();return pe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new qP(e,c);r.push(this.ue(t,d))}),pe.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(so(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(d0(t).Y("collectionPathOverlayIndex",d))}),pe.waitFor(s)}getOverlaysForCollection(t,e,i){const r=du(),s=so(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return d0(t).W("collectionPathOverlayIndex",c).next(d=>{for(const p of d){const _=ZP(this.It,p);r.set(_.getKey(),_)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=du();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return d0(t).Z({index:"collectionGroupOverlayIndex",range:d},(p,_,b)=>{const I=ZP(this.It,_);s.size()<r||I.largestBatchId===c?(s.set(I.getKey(),I),c=I.largestBatchId):b.done()}).next(()=>s)}ue(t,e){return d0(t).put(function(i,r,s){const[c,d,p]=Jj(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:p,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:c0(i.re,s.mutation)}}(this.It,this.userId,e))}}function d0(n){return Br(n,"documentOverlays")}class ym{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Yi(t.integerValue));else if("doubleValue"in t){const i=Yi(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),Ww(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(cm(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?YH(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):pt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),tt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function o7(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function i3(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=o7(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}ym.Te=new ym;class a7{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=i3(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=i3(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class l7{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class c7{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class h0{constructor(){this.Be=new a7,this.Le=new l7(this.Be),this.Ue=new c7(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class vm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new vm(this.indexId,this.documentKey,this.arrayValue,i)}}function bm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=r3(n.arrayValue,t.arrayValue),0!==e?e:(e=r3(n.directionalValue,t.directionalValue),0!==e?e:tt.comparator(n.documentKey,t.documentKey)))}function r3(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class u7{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=TP(t);if(void 0!==e&&!this.ze(e))return!1;const i=om(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class d7{constructor(){this.Ye=new YP}addToCollectionParentIndex(t,e){return this.Ye.add(e),pe.resolve()}getCollectionParents(t,e){return pe.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return pe.resolve()}deleteFieldIndex(t,e){return pe.resolve()}getDocumentsMatchingTarget(t,e){return pe.resolve(null)}getIndexType(t,e){return pe.resolve(0)}getFieldIndexes(t,e){return pe.resolve([])}getNextCollectionGroupToUpdate(t){return pe.resolve(null)}getMinOffset(t,e){return pe.resolve(pa.min())}getMinOffsetFromCollectionGroup(t,e){return pe.resolve(pa.min())}updateCollectionGroup(t,e,i){return pe.resolve()}updateIndexEntries(t,e){return pe.resolve()}}class YP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Zn(Cn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Zn(Cn.comparator)).toArray()}}const iT=new Uint8Array(0);class h7{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new YP,this.Ze=new Jh(i=>hm(i),(i,r)=>Qw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:so(r)};return s3(t).put(s)}return pe.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[NH(e),""],!1,!0);return s3(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(fu(c.parent))}return i})}addFieldIndex(t,e){const i=rT(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=p0(t);return s.next(d=>{c.put(e3(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=rT(t),r=p0(t),s=f0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=f0(t);let r=!0;const s=new Map;return pe.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=en();const d=[];return pe.forEach(s,(p,_)=>{var b;Ge("IndexedDbIndexManager",`Using index ${b=p,`id=${b.indexId}|cg=${b.collectionGroup}|f=${b.fields.map(Je=>`${Je.fieldPath}:${Je.kind}`).join(",")}`} to execute ${hm(e)}`);const I=function(Je,Qe){const It=TP(Qe);if(void 0===It)return null;for(const Mt of WS(Je,It.fieldPath))switch(Mt.op){case"array-contains-any":return Mt.value.arrayValue.values||[];case"array-contains":return[Mt.value]}return null}(_,p),M=function(Je,Qe){const It=new Map;for(const Mt of om(Qe))for(const ln of WS(Je,Mt.fieldPath))switch(ln.op){case"==":case"in":It.set(Mt.fieldPath.canonicalString(),ln.value);break;case"not-in":case"!=":return It.set(Mt.fieldPath.canonicalString(),ln.value),Array.from(It.values())}return null}(_,p),O=function(Je,Qe){const It=[];let Mt=!0;for(const ln of om(Qe)){const sr=0===ln.kind?ej(Je,ln.fieldPath,Je.startAt):tj(Je,ln.fieldPath,Je.startAt);It.push(sr.value),Mt&&(Mt=sr.inclusive)}return new Xh(It,Mt)}(_,p),N=function(Je,Qe){const It=[];let Mt=!0;for(const ln of om(Qe)){const sr=0===ln.kind?tj(Je,ln.fieldPath,Je.endAt):ej(Je,ln.fieldPath,Je.endAt);It.push(sr.value),Mt&&(Mt=sr.inclusive)}return new Xh(It,Mt)}(_,p),z=this.nn(p,_,O),ie=this.nn(p,_,N),Me=this.sn(p,_,M),ze=this.rn(p.indexId,I,z,O.inclusive,ie,N.inclusive,Me);return pe.forEach(ze,Je=>i.J(Je,e.limit).next(Qe=>{Qe.forEach(It=>{const Mt=tt.fromSegments(It.documentKey);c.has(Mt)||(c=c.add(Mt),d.push(Mt))})}))}).next(()=>d)}return pe.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,c,d){const p=(null!=e?e.length:1)*Math.max(i.length,s.length),_=p/(null!=e?e.length:1),b=[];for(let I=0;I<p;++I){const M=e?this.on(e[I/_]):iT,O=this.un(t,M,i[I%_],r),N=this.cn(t,M,s[I%_],c),z=d.map(ie=>this.un(t,M,ie,!0));b.push(...this.createRange(O,N,z))}return b}un(t,e,i,r){const s=new vm(t,tt.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new vm(t,tt.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new u7(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return pe.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new Zn(Wi.comparator),p=!1;for(const _ of c.filters){const b=_;b.field.isKeyField()||("array-contains"===b.op||"array-contains-any"===b.op?p=!0:d=d.add(b.field))}for(const _ of c.orderBy)_.field.isKeyField()||(d=d.add(_.field));return d.size+(p?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new h0;for(const r of om(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);ym.Te.ce(s,c)}return i.$e()}on(t){const e=new h0;return ym.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new h0;return ym.Te.ce(dm(this.databaseId,e),i.qe(function(r){const s=om(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new h0);let s=0;for(const c of om(t)){const d=i[s++];for(const p of r)if(this.ln(e,c.fieldPath)&&Yw(d))r=this.fn(r,c,d);else{const _=p.qe(c.kind);ym.Te.ce(d,_)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const p=new h0;p.seed(d.$e()),ym.Te.ce(c,p.qe(e.kind)),s.push(p)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof os&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=rT(t),r=p0(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return pe.forEach(s,d=>r.get([d.indexId,this.uid]).next(p=>{c.push(function(_,b){const I=b?new Gw(b.sequenceNumber,new pa(gm(b.readTime),new tt(fu(b.documentKey)),b.largestBatchId)):Gw.empty(),M=_.fields.map(([O,N])=>new HS(Wi.fromServerFormat(O),N));return new US(_.indexId,_.collectionGroup,M,I)}(d,p))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:Wt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=rT(t),s=p0(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>pe.forEach(d,p=>s.put(e3(p.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return pe.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),pe.forEach(d,p=>this.wn(t,r,p).next(_=>{const b=this.mn(s,p);return _.isEqual(b)?pe.resolve():this.gn(t,s,p,_,b)}))))})}yn(t,e,i,r){return f0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return f0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=f0(t);let s=new Zn(bm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{s=s.add(new vm(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new Zn(bm);const r=this.an(e,t);if(null==r)return i;const s=TP(e);if(null!=s){const c=t.data.field(s.fieldPath);if(Yw(c))for(const d of c.arrayValue.values||[])i=i.add(new vm(e.indexId,t.key,this.on(d),r))}else i=i.add(new vm(e.indexId,t.key,iT,r));return i}gn(t,e,i,r,s){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,p,_,b,I){const M=d.getIterator(),O=p.getIterator();let N=z_(M),z=z_(O);for(;N||z;){let ie=!1,Me=!1;if(N&&z){const ze=_(N,z);ze<0?Me=!0:ze>0&&(ie=!0)}else null!=N?Me=!0:ie=!0;ie?(b(z),z=z_(O)):Me?(I(N),N=z_(M)):(N=z_(M),z=z_(O))}}(r,s,bm,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),pe.waitFor(c)}_n(t){let e=1;return p0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>bm(c,d)).filter((c,d,p)=>!d||0!==bm(c,p[d-1]));const r=[];r.push(t);for(const c of i){const d=bm(c,t),p=bm(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&p<0)r.push(c),r.push(c.Ke());else if(p>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,iT,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,iT,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(o3)}getMinOffset(t,e){return pe.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||pt())).next(o3)}}function s3(n){return Br(n,"collectionParents")}function f0(n){return Br(n,"indexEntries")}function rT(n){return Br(n,"indexConfiguration")}function p0(n){return Br(n,"indexState")}function o3(n){jt(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;AP(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new pa(t.readTime,t.documentKey,e)}const a3={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Po{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Po(t,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function l3(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const p=i.Z({range:c},(b,I,M)=>(d++,M.delete()));s.push(p.next(()=>{jt(1===d)}));const _=[];for(const b of e.mutations){const I=qj(t,b.key.path,e.batchId);s.push(r.delete(I)),_.push(b.key)}return pe.waitFor(s).next(()=>_)}function sT(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw pt();t=n.noDocument}return JSON.stringify(t).length}Po.DEFAULT_COLLECTION_PERCENTILE=10,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Po.DEFAULT=new Po(41943040,Po.DEFAULT_COLLECTION_PERCENTILE,Po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Po.DISABLED=new Po(-1,0,0);class oT{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){jt(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new oT(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tf(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=ny(t),c=tf(t);return c.add({}).next(d=>{jt("number"==typeof d);const p=new $P(d,e,i,r),_=function(M,O,N){const z=N.baseMutations.map(Me=>c0(M.re,Me)),ie=N.mutations.map(Me=>c0(M.re,Me));return{userId:O,batchId:N.batchId,localWriteTimeMs:N.localWriteTime.toMillis(),baseMutations:z,mutations:ie}}(this.It,this.userId,p),b=[];let I=new Zn((M,O)=>Wt(M.canonicalString(),O.canonicalString()));for(const M of r){const O=qj(this.userId,M.key.path,d);I=I.add(M.key.path.popLast()),b.push(c.put(_)),b.push(s.put(O,HK))}return I.forEach(M=>{b.push(this.indexManager.addToCollectionParentIndex(t,M))}),t.addOnCommittedListener(()=>{this.In[d]=p.keys()}),pe.waitFor(b).next(()=>p)})}lookupMutationBatch(t,e){return tf(t).get(e).next(i=>i?(jt(i.userId===this.userId),_m(this.It,i)):null)}Tn(t,e){return this.In[e]?pe.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return tf(t).Z({index:"userMutationsIndex",range:r},(c,d,p)=>{d.userId===this.userId&&(jt(d.batchId>=i),s=_m(this.It,d)),p.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return tf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tf(t).W("userMutationsIndex",e).next(i=>i.map(r=>_m(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=eT(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return ny(t).Z({range:r},(c,d,p)=>{const[_,b,I]=c,M=fu(b);if(_===this.userId&&e.path.isEqual(M))return tf(t).get(I).next(O=>{if(!O)throw pt();jt(O.userId===this.userId),s.push(_m(this.It,O))});p.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zn(Wt);const r=[];return e.forEach(s=>{const c=eT(this.userId,s.path),d=IDBKeyRange.lowerBound(c),p=ny(t).Z({range:d},(_,b,I)=>{const[M,O,N]=_,z=fu(O);M===this.userId&&s.path.isEqual(z)?i=i.add(N):I.done()});r.push(p)}),pe.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=eT(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new Zn(Wt);return ny(t).Z({range:c},(p,_,b)=>{const[I,M,O]=p,N=fu(M);I===this.userId&&i.isPrefixOf(N)?N.length===r&&(d=d.add(O)):b.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(tf(t).get(s).next(c=>{if(null===c)throw pt();jt(c.userId===this.userId),i.push(_m(this.It,c))}))}),pe.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return l3(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),pe.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return pe.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ny(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const p=fu(s[1]);r.push(p)}else d.done()}).next(()=>{jt(0===r.length)})})}containsKey(t,e){return c3(t,this.userId,e)}Rn(t){return u3(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function c3(n,t,e){const i=eT(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return ny(n).Z({range:s,X:!0},(d,p,_)=>{const[b,I,M]=d;b===t&&I===r&&(c=!0),_.done()}).next(()=>c)}function tf(n){return Br(n,"mutations")}function ny(n){return Br(n,"documentMutations")}function u3(n){return Br(n,"mutationQueues")}class wm{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new wm(0)}static vn(){return new wm(-1)}}class f7{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new wm(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Lt.fromTimestamp(new Si(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>iy(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(jt(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return iy(t).Z((c,d)=>{const p=u0(d);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,s.push(this.removeTargetData(t,p)))}).next(()=>pe.waitFor(s)).next(()=>r)}forEachTarget(t,e){return iy(t).Z((i,r)=>{const s=u0(r);e(s)})}Vn(t){return d3(t).get("targetGlobalKey").next(e=>(jt(null!==e),e))}Sn(t,e){return d3(t).put("targetGlobalKey",e)}Dn(t,e){return iy(t).put(Xj(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=hm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return iy(t).Z({range:r,index:"queryTargetsIndex"},(c,d,p)=>{const _=u0(d);Qw(e,_.target)&&(s=_,p.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=nf(t);return e.forEach(c=>{const d=so(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),pe.waitFor(r)}removeMatchingKeys(t,e,i){const r=nf(t);return pe.forEach(e,s=>{const c=so(s.path);return pe.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=nf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=nf(t);let s=en();return r.Z({range:i,X:!0},(c,d,p)=>{const _=fu(c[1]),b=new tt(_);s=s.add(b)}).next(()=>s)}containsKey(t,e){const i=so(e.path),r=IDBKeyRange.bound([i],[NH(i)],!1,!0);let s=0;return nf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],p,_)=>{0!==c&&(s++,_.done())}).next(()=>s>0)}se(t,e){return iy(t).get(e).next(i=>i?u0(i):null)}}function iy(n){return Br(n,"targets")}function d3(n){return Br(n,"targetGlobal")}function nf(n){return Br(n,"targetDocuments")}function h3([n,t],[e,i]){const r=Wt(n,e);return 0===r?Wt(t,i):r}class p7{constructor(t){this.xn=t,this.buffer=new Zn(h3),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();h3(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class m7{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Wh(i)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield qh(i)}yield e.Fn(3e5)}))}}class g7{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return pe.resolve(ko.at);const i=new p7(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(a3)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),a3):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,c,d,p,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,d=Date.now(),this.removeTargets(t,i,e))).next(I=>(s=I,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(_=Date.now(),IP()<=lc.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-b}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(p-d)+`ms\n\tRemoved ${I} documents in `+(_-p)+`ms\nTotal Duration: ${_-b}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:I})))}}class _7{constructor(t,e){this.db=t,this.garbageCollector=new g7(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return aT(t,i)}removeReference(t,e,i){return aT(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return aT(t,e)}Gn(t,e){return function(i,r){let s=!1;return u3(i).tt(c=>c3(i,c,r).next(d=>(d&&(s=!0),pe.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const p=this.Gn(t,c).next(_=>{if(!_)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Lt.min()),nf(t).delete([0,so(c.path)])))});r.push(p)}}).next(()=>pe.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return aT(t,e)}Kn(t,e){const i=nf(t);let r,s=ko.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:p,sequenceNumber:_})=>{0===c?(s!==ko.at&&e(new tt(fu(r)),s),s=_,r=p):s=ko.at}).next(()=>{s!==ko.at&&e(new tt(fu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function aT(n,t){return nf(n).put((i=n.currentSequenceNumber,{targetId:0,path:so(t.path),sequenceNumber:i}));var i}class f3{constructor(){this.changes=new Jh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ui.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?pe.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class y7{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Cm(t).put(i)}removeEntry(t,e,i){return Cm(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],tT(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=ui.newInvalidDocument(e);return Cm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(m0(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:ui.newInvalidDocument(e)};return Cm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only(m0(e))},(r,s)=>{i={document:this.jn(e,s),size:sT(s)}}).next(()=>i)}getEntries(t,e){let i=Oo();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=Oo(),r=new Zi(tt.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,sT(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return pe.resolve();let r=new Zn(_3);e.forEach(p=>r=r.add(p));const s=IDBKeyRange.bound(m0(r.first()),m0(r.last())),c=r.getIterator();let d=c.getNext();return Cm(t).Z({index:"documentKeyIndex",range:s},(p,_,b)=>{const I=tt.fromSegments([..._.prefixPath,_.collectionGroup,_.documentId]);for(;d&&_3(d,I)<0;)i(d,null),d=c.getNext();d&&d.isEqual(I)&&(i(d,_),d=c.hasNext()?c.getNext():null),d?b.j(m0(d)):b.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),tT(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cm(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=Oo();for(const p of c){const _=this.jn(tt.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);d=d.insert(_.key,_)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=Oo();const c=g3(e,i),d=g3(e,pa.max());return Cm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(p,_,b)=>{const I=this.jn(tt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);s=s.insert(I.key,I),s.size===r&&b.done()}).next(()=>s)}newChangeBuffer(t){return new v7(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return m3(t).get("remoteDocumentGlobalKey").next(e=>(jt(!!e),e))}Qn(t,e){return m3(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function r7(n,t){let e;if(t.document)e=Vj(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=tt.fromSegments(t.noDocument.path),r=gm(t.noDocument.readTime);e=ui.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return pt();{const i=tt.fromSegments(t.unknownDocument.path),r=gm(t.unknownDocument.version);e=ui.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Si(i[0],i[1]);return Lt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return ui.newInvalidDocument(t)}}function p3(n){return new y7(n)}class v7 extends f3{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new Jh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new Zn((s,c)=>Wt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const p=Qj(this.Yn.It,c);r=r.add(s.path.popLast()),i+=sT(p)-d.size,e.push(this.Yn.addEntry(t,s,p))}else if(i-=d.size,this.trackRemovals){const p=Qj(this.Yn.It,c.convertToNoDocument(Lt.min()));e.push(this.Yn.addEntry(t,s,p))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),pe.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function m3(n){return Br(n,"remoteDocumentGlobal")}function Cm(n){return Br(n,"remoteDocumentsV14")}function m0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function g3(n,t){const e=t.documentKey.path.toArray();return[n,tT(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function _3(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=Wt(e[s],i[s]),r)return r;return r=Wt(e.length,i.length),r||(r=Wt(e[e.length-2],i[i.length-2]),r||Wt(e[e.length-1],i[i.length-1]))}class b7{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class y3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&e0(i.mutation,r,ma.empty(),Si.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,en()).next(()=>i))}getLocalViewOfDocuments(t,e,i=en()){const r=du();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=t0();return s.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=du();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,en()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=Oo();const c=n0(),d=n0();return e.forEach((p,_)=>{const b=i.get(_.key);r.has(_.key)&&(void 0===b||b.mutation instanceof Sd)?s=s.insert(_.key,_):void 0!==b&&(c.set(_.key,b.mutation.getFieldMask()),e0(b.mutation,_,b.mutation.getFieldMask(),Si.now()))}),this.recalculateAndSaveOverlays(t,s).next(p=>(p.forEach((_,b)=>c.set(_,b)),e.forEach((_,b)=>{var I;return d.set(_,new b7(b,null!==(I=c.get(_))&&void 0!==I?I:null))}),d))}recalculateAndSaveOverlays(t,e){const i=n0();let r=new Zi((c,d)=>c-d),s=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(p=>{const _=e.get(p);if(null===_)return;let b=i.get(p)||ma.empty();b=d.applyToLocalView(_,b),i.set(p,b);const I=(r.get(d.batchId)||en()).add(p);r=r.insert(d.batchId,I)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),_=p.key,b=p.value,I=Tj();b.forEach(M=>{if(!s.has(M)){const O=yj(e.get(M),i.get(M));null!==O&&I.set(M,O),s=s.add(M)}}),c.push(this.documentOverlayCache.saveOverlays(t,_,I))}return pe.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):FP(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):pe.resolve(du());let d=-1,p=s;return c.next(_=>pe.forEach(_,(b,I)=>(d<I.largestBatchId&&(d=I.largestBatchId),s.get(b)?pe.resolve():this.getBaseDocument(t,b,I).next(M=>{p=p.insert(b,M)}))).next(()=>this.populateOverlays(t,_,s)).next(()=>this.computeViews(t,p,_,en())).next(b=>({batchId:d,changes:Sj(b)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(i=>{let r=t0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=t0();return this.indexManager.getCollectionParents(t,r).next(c=>pe.forEach(c,d=>{const p=(_=e,b=d.child(r),new Id(b,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt));var _,b;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(_=>{_.forEach((b,I)=>{s=s.insert(b,I)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,p)=>{const _=p.getKey();null===r.get(_)&&(r=r.insert(_,ui.newInvalidDocument(_)))});let c=t0();return r.forEach((d,p)=>{const _=s.get(d);void 0!==_&&e0(_.mutation,p,ma.empty(),Si.now()),VP(e,p)&&(c=c.insert(d,p))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):pe.resolve(ui.newInvalidDocument(e))}}class w7{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return pe.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:Vr(i.createTime)}),pe.resolve()}getNamedQuery(t,e){return pe.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:WP(i.bundledQuery),readTime:Vr(i.readTime)}),pe.resolve();var i}}class C7{constructor(){this.overlays=new Zi(tt.comparator),this.es=new Map}getOverlay(t,e){return pe.resolve(this.overlays.get(e))}getOverlays(t,e){const i=du();return pe.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),pe.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),pe.resolve()}getOverlaysForCollection(t,e,i){const r=du(),s=e.length+1,c=new tt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,_=p.getKey();if(!e.isPrefixOf(_.path))break;_.path.length===s&&p.largestBatchId>i&&r.set(p.getKey(),p)}return pe.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new Zi((_,b)=>_-b);const c=this.overlays.getIterator();for(;c.hasNext();){const _=c.getNext().value;if(_.getKey().getCollectionGroup()===e&&_.largestBatchId>i){let b=s.get(_.largestBatchId);null===b&&(b=du(),s=s.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const d=du(),p=s.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,b)=>d.set(_,b)),!(d.size()>=r)););return pe.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new qP(e,i));let s=this.es.get(e);void 0===s&&(s=en(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class KP{constructor(){this.ns=new Zn(Ur.ss),this.rs=new Zn(Ur.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new Ur(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new Ur(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new tt(new Cn([])),i=new Ur(e,t),r=new Ur(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new tt(new Cn([])),i=new Ur(e,t),r=new Ur(e,t+1);let s=en();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new Ur(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Ur{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return tt.comparator(t.key,e.key)||Wt(t._s,e._s)}static os(t,e){return Wt(t._s,e._s)||tt.comparator(t.key,e.key)}}class E7{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Zn(Ur.ss)}checkEmpty(t){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new $P(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new Ur(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(t,e){return pe.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return pe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ur(e,0),r=new Ur(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),pe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Zn(Wt);return e.forEach(r=>{const s=new Ur(r,0),c=new Ur(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),pe.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;tt.isDocumentKey(s)||(s=s.child(""));const c=new Ur(new tt(s),0);let d=new Zn(Wt);return this.gs.forEachWhile(p=>{const _=p.key.path;return!!i.isPrefixOf(_)&&(_.length===r&&(d=d.add(p._s)),!0)},c),pe.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){jt(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return pe.forEach(e.mutations,r=>{const s=new Ur(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new Ur(e,0),r=this.gs.firstAfterOrEqual(i);return pe.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return pe.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class D7{constructor(t){this.Es=t,this.docs=new Zi(tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return pe.resolve(i?i.document.mutableCopy():ui.newInvalidDocument(e))}getEntries(t,e){let i=Oo();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():ui.newInvalidDocument(r))}),pe.resolve(i)}getAllFromCollection(t,e,i){let r=Oo();const s=new tt(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||AP(LH(p),i)<=0||(r=r.insert(p.key,p.mutableCopy()))}return pe.resolve(r)}getAllFromCollectionGroup(t,e,i,r){pt()}As(t,e){return pe.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new I7(this)}getSize(t){return pe.resolve(this.size)}}class I7 extends f3{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),pe.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class S7{constructor(t){this.persistence=t,this.Rs=new Jh(e=>hm(e),Qw),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new KP,this.targetCount=0,this.vs=wm.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),pe.resolve()}getLastRemoteSnapshotVersion(t){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pe.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),pe.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new wm(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,pe.resolve()}updateTargetData(t,e){return this.Dn(e),pe.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,pe.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),pe.waitFor(s).next(()=>r)}getTargetCount(t){return pe.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return pe.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),pe.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),pe.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),pe.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return pe.resolve(i)}containsKey(t,e){return pe.resolve(this.Ps.containsKey(e))}}class v3{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new ko(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new S7(this),this.indexManager=new d7,this.remoteDocumentCache=new D7(i=>this.referenceDelegate.xs(i)),this.It=new Kj(e),this.Ns=new w7(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new C7,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new E7(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("MemoryPersistence","Starting transaction:",t);const r=new T7(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return pe.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class T7 extends BH{constructor(t){super(),this.currentSequenceNumber=t}}class lT{constructor(t){this.persistence=t,this.Fs=new KP,this.$s=null}static Bs(t){return new lT(t)}get Ls(){if(this.$s)return this.$s;throw pt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),pe.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),pe.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),pe.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.Ls,i=>{const r=tt.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Lt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return pe.or([()=>pe.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class A7{constructor(t){this.It=t}$(t,e,i,r){const s=new jS("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zj,{unique:!0}),d.createObjectStore("documentMutations"),b3(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=pe.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),b3(t)),c=c.next(()=>function(d){const p=d.store("targetGlobal"),_={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",_)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,p){return p.store("mutations").W().next(_=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zj,{unique:!0});const b=p.store("mutations"),I=_.map(M=>b.put(M));return pe.waitFor(I)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const p=d.createObjectStore("documentOverlays",{keyPath:JK});p.createIndex("collectionPathOverlayIndex",e7,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",t7,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const p=d.createObjectStore("remoteDocumentsV14",{keyPath:jK});p.createIndex("documentKeyIndex",GK),p.createIndex("collectionGroupIndex",$K)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:YK}).createIndex("sequenceNumberIndex",KK,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:QK}).createIndex("documentKeyIndex",XK,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=sT(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>pe.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>pe.forEach(d,p=>{jt(p.userId===s.userId);const _=_m(this.It,p);return l3(t,s.userId,_).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const p=new Cn(c),_=[0,so(p)];s.push(e.get(_).next(b=>b?pe.resolve():e.put({targetId:0,path:so(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>pe.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:ZK});const i=e.store("collectionParents"),r=new YP,s=c=>{if(r.add(c)){const d=c.lastSegment(),p=c.popLast();return i.put({collectionId:d,parent:so(p)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const p=new Cn(c);return s(p.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,p],_)=>{const b=fu(d);return s(b.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=u0(r),c=Xj(this.It,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),p=(_=c,_.document?new tt(Cn.fromString(_.document.name).popFirst(5)):_.noDocument?tt.fromSegments(_.noDocument.path):_.unknownDocument?tt.fromSegments(_.unknownDocument.path):pt()).path.toArray();var _;const b={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(b))}).next(()=>pe.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=p3(this.It),s=new v3(lT.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(p=>{var _;let b=null!==(_=d.get(p.userId))&&void 0!==_?_:en();_m(this.It,p).keys().forEach(I=>b=b.add(I)),d.set(p.userId,b)}),pe.forEach(d,(p,_)=>{const b=new Fr(_),I=nT.oe(this.It,b),M=s.getIndexManager(b),O=oT.oe(b,this.It,M,s.referenceDelegate);return new y3(r,O,I,M).recalculateAndSaveOverlaysForDocumentKeys(new GP(e,ko.at),p).next()})})}}function b3(n){n.createObjectStore("targetDocuments",{keyPath:qK}).createIndex("documentTargetsIndex",WK,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zK,{unique:!0}),n.createObjectStore("targetGlobal")}const QP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class XP{constructor(t,e,i,r,s,c,d,p,_,b,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=_,this.Ys=b,this.Xs=I,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=M=>Promise.resolve(),!XP.C())throw new Be(ve.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _7(this,r),this.ii=e+"main",this.It=new Kj(p),this.ri=new dc(this.ii,this.Xs,new A7(this.It)),this.Cs=new f7(this.referenceDelegate,this.It),this.remoteDocumentCache=p3(this.It),this.Ns=new s7,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===b&&rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,QP);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new ko(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>cT(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(Wh(t))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return g0(t).get("owner").next(e=>pe.resolve(this.mi(e)))}gi(t){return cT(t).delete(this.clientId)}yi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Br(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(p=>-1===c.indexOf(p));return pe.forEach(d,p=>r.delete(p.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?pe.resolve(!0):g0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new Be(ve.FAILED_PRECONDITION,QP);return!1}}return!(!this.networkEnabled||!this.inForeground)||cT(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Ge("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new GP(e,ko.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>cT(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return oT.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new h7(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return nT.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){Ge("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?i7:14===c?Yj:13===c?Zj:12===c?n7:11===c?Wj:void pt();var c;let d;return this.ri.runTransaction(t,r,s,p=>(d=new GP(p,this.Ss?this.Ss.next():ko.at),"readwrite-primary"===e?this.fi(d).next(_=>!!_||this.di(d)).next(_=>{if(!_)throw rr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(ve.FAILED_PRECONDITION,VH);return i(d)}).next(_=>this.wi(d).next(()=>_)):this.Vi(d).next(()=>i(d)))).then(p=>(d.raiseOnCommittedEvent(),p))}Vi(t){return g0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Be(ve.FAILED_PRECONDITION,QP)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return g0(t).put("owner",e)}static C(){return dc.C()}_i(t){const e=g0(t);return e.get("owner").next(i=>this.mi(i)?(Ge("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):pe.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(rr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,F.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return Ge("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return rr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){rr("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function g0(n){return Br(n,"owner")}function cT(n){return Br(n,"clientMetadata")}function JP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class e1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=en(),r=en();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new e1(t,e.fromCache,i,r)}}class w3{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Mi(t,e,r,i)).next(s=>s||this.Oi(t,e))}ki(t,e){if(oj(e))return pe.resolve(null);let i=Ro(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=ZS(e,null,"F"),i=Ro(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=en(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(p=>{const _=this.Fi(e,d);return this.$i(e,_,c,p.readTime)?this.ki(t,ZS(e,null,"F")):this.Bi(t,_,e,p)}))})))}Mi(t,e,i,r){return oj(e)||r.isEqual(Lt.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Oi(t,e):(IP()<=lc.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),LP(e)),this.Bi(t,c,e,FH(r,-1)))})}Fi(t,e){let i=new Zn(cj(t));return e.forEach((r,s)=>{VP(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return IP()<=lc.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",LP(e)),this.Ni.getDocumentsMatchingQuery(t,e,pa.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class M7{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new Zi(Wt),this.qi=new Jh(s=>hm(s),Qw),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new y3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function C3(n,t,e,i){return new M7(n,t,e,i)}function E3(n,t){return t1.apply(this,arguments)}function t1(){return t1=(0,be.Z)(function*(n,t){const e=ot(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let p=en();for(const _ of r){c.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}for(const _ of s){d.push(_.batchId);for(const b of _.mutations)p=p.add(b.key)}return e.localDocuments.getDocuments(i,p).next(_=>({ji:_,removedBatchIds:c,addedBatchIds:d}))})})}),t1.apply(this,arguments)}function x7(n,t){const e=ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,p,_){const b=p.batch,I=b.keys();let M=pe.resolve();return I.forEach(O=>{M=M.next(()=>_.getEntry(d,O)).next(N=>{const z=p.docVersions.get(O);jt(null!==z),N.version.compareTo(z)<0&&(b.applyToRemoteDocument(N,p),N.isValidDocument()&&(N.setReadTime(p.commitVersion),_.addEntry(N)))})}),M.next(()=>c.mutationQueue.removeMutationBatch(d,b))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=en();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(d=d.add(c.batch.mutations[p].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function D3(n){const t=ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function k7(n,t){const e=ot(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((b,I)=>{const M=r.get(I);if(!M)return;d.push(e.Cs.removeMatchingKeys(s,b.removedDocuments,I).next(()=>e.Cs.addMatchingKeys(s,b.addedDocuments,I)));let O=M.withSequenceNumber(s.currentSequenceNumber);var N,z,ie;t.targetMismatches.has(I)?O=O.withResumeToken(Dr.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,i)),r=r.insert(I,O),z=O,ie=b,(0===(N=M).resumeToken.approximateByteSize()||z.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,O))});let p=Oo(),_=en();if(t.documentUpdates.forEach(b=>{t.resolvedLimboDocuments.has(b)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,b))}),d.push(I3(s,c,t.documentUpdates).next(b=>{p=b.Wi,_=b.zi})),!i.isEqual(Lt.min())){const b=e.Cs.getLastRemoteSnapshotVersion(s).next(I=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(b)}return pe.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,p,_)).next(()=>p)}).then(s=>(e.Ui=r,s))}function I3(n,t,e){let i=en(),r=en();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=Oo();return e.forEach((d,p)=>{const _=s.get(d);p.isFoundDocument()!==_.isFoundDocument()&&(r=r.add(d)),p.isNoDocument()&&p.version.isEqual(Lt.min())?(t.removeEntry(d,p.readTime),c=c.insert(d,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||0===p.version.compareTo(_.version)&&_.hasPendingWrites?(t.addEntry(p),c=c.insert(d,p)):Ge("LocalStore","Ignoring outdated watch update for ",d,". Current version:",_.version," Watch version:",p.version)}),{Wi:c,zi:r}})}function R7(n,t){const e=ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function ry(n,t){const e=ot(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,pe.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new ef(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function sy(n,t,e){return n1.apply(this,arguments)}function n1(){return n1=(0,be.Z)(function*(n,t,e){const i=ot(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Wh(c))throw c;Ge("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),n1.apply(this,arguments)}function uT(n,t,e){const i=ot(n);let r=Lt.min(),s=en();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,p,_){const b=ot(d),I=b.qi.get(_);return void 0!==I?pe.resolve(b.Ui.get(I)):b.Cs.getTargetData(p,_)}(i,c,Ro(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(p=>{s=p})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:Lt.min(),e?s:en())).next(d=>(A3(i,lj(t),d),{documents:d,Hi:s})))}function S3(n,t){const e=ot(n),i=ot(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(c=>c?c.target:null))}function T3(n,t){const e=ot(n),i=e.Ki.get(t)||Lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,FH(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(A3(e,t,r),r))}function A3(n,t,e){let i=Lt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function r1(){return r1=(0,be.Z)(function*(n,t,e,i){const r=ot(n);let s=en(),c=Oo();for(const _ of e){const b=t.Ji(_.metadata.name);_.document&&(s=s.add(b));const I=t.Yi(_);I.setReadTime(t.Xi(_.metadata.readTime)),c=c.insert(b,I)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),p=yield ry(r,(_=i,Ro(Z_(Cn.fromString(`__bundle__/docs/${_}`)))));var _;return r.persistence.runTransaction("Apply bundle documents","readwrite",_=>I3(_,d,c).next(b=>(d.apply(_),b)).next(b=>r.Cs.removeMatchingKeysForTargetId(_,p.targetId).next(()=>r.Cs.addMatchingKeys(_,s,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(_,b.Wi,b.zi)).next(()=>b.Wi)))}),r1.apply(this,arguments)}function P7(n,t){return s1.apply(this,arguments)}function s1(){return s1=(0,be.Z)(function*(n,t,e=en()){const i=yield ry(n,Ro(WP(t.bundledQuery))),r=ot(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=Vr(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(Dr.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),s1.apply(this,arguments)}function M3(n,t){return`firestore_clients_${n}_${t}`}function x3(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function o1(n,t){return`firestore_targets_${n}_${t}`}class dT{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new Be(r.error.code,r.error.message))),c?new dT(t,e,r.state,s):(rr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class _0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new Be(i.error.code,i.error.message))),s?new _0(t,i.state,r):(rr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class hT{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=XS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=zH(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new hT(t,s):(rr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class a1{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new a1(e.clientId,e.onlineState):(rr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class l1{constructor(){this.activeTargetIds=XS()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class c1{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Zi(Wt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=M3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new l1),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(M3(t.persistenceKey,r));if(s){const c=hT.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(o1(this.persistenceKey,t));if(i){const r=_0.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(o1(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Ge("SharedClientState","READ",t,e),e}setItem(t,e){Ge("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Ge("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Ge("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=ko.at;if(null!=s)try{const d=JSON.parse(s);jt("number"==typeof d),c=d}catch(d){rr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==ko.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Or(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new dT(this.currentUser,t,e,i),s=x3(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=x3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=o1(this.persistenceKey,t),s=new _0(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return hT.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return dT.Zi(new Fr(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return _0.Zi(r,e)}yr(t){return a1.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(p=>{r.has(p)||c.push(p)}),r.forEach(p=>{s.has(p)||d.push(p)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=XS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class k3{constructor(){this.Lr=new l1,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new l1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class N7{qr(t){}shutdown(){}}class R3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const F7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class L7{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class V7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const c=this.ao(t,e);Ge("RestConnection","Sending: ",c,i);const d={};return this.ho(d,r,s),this.lo(t,c,d,i).then(p=>(Ge("RestConnection","Received: ",p),p),p=>{throw sm("RestConnection",`${t} failed with error: `,p,"url: ",c,"request:",i),p})}fo(t,e,i,r,s,c){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+G_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){return`${this.oo}/v1/${e}:${F7[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((s,c)=>{const d=new F8;d.listenOnce(O8.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case DP.NO_ERROR:const _=d.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(_)),s(_);break;case DP.TIMEOUT:Ge("Connection",'RPC "'+t+'" timed out'),c(new Be(ve.DEADLINE_EXCEEDED,"Request time out"));break;case DP.HTTP_ERROR:const b=d.getStatus();if(Ge("Connection",'RPC "'+t+'" failed with status:',b,"response text:",d.getResponseText()),b>0){const I=d.getResponseJson().error;if(I&&I.status&&I.message){const M=function(O){const N=O.toLowerCase().replace(/_/g,"-");return Object.values(ve).indexOf(N)>=0?N:ve.UNKNOWN}(I.status);c(new Be(M,I.message))}else c(new Be(ve.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Be(ve.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{Ge("Connection",'RPC "'+t+'" completed.')}});const p=JSON.stringify(r);d.send(e,"POST",p,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=k8(),c=R8(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new N8({})),this.ho(d.initMessageHeaders,e,i),(0,F.uI)()||(0,F.b$)()||(0,F.d)()||(0,F.w1)()||(0,F.Mn)()||(0,F.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const p=r.join("");Ge("Connection","Creating WebChannel: "+p,d);const _=s.createWebChannel(p,d);let b=!1,I=!1;const M=new L7({Hr:N=>{I?Ge("Connection","Not sending because WebChannel is closed:",N):(b||(Ge("Connection","Opening WebChannel transport."),_.open(),b=!0),Ge("Connection","WebChannel sending:",N),_.send(N))},Jr:()=>_.close()}),O=(N,z,ie)=>{N.listen(z,Me=>{try{ie(Me)}catch(ze){setTimeout(()=>{throw ze},0)}})};return O(_,BS.EventType.OPEN,()=>{I||Ge("Connection","WebChannel transport opened.")}),O(_,BS.EventType.CLOSE,()=>{I||(I=!0,Ge("Connection","WebChannel transport closed"),M.io())}),O(_,BS.EventType.ERROR,N=>{I||(I=!0,sm("Connection","WebChannel transport errored:",N),M.io(new Be(ve.UNAVAILABLE,"The operation could not be completed")))}),O(_,BS.EventType.MESSAGE,N=>{var z;if(!I){const ie=N.data[0];jt(!!ie);const Me=ie,ze=Me.error||(null===(z=Me[0])||void 0===z?void 0:z.error);if(ze){Ge("Connection","WebChannel received error:",ze);const Je=ze.status;let Qe=function(Mt){const ln=dr[Mt];if(void 0!==ln)return Dj(ln)}(Je),It=ze.message;void 0===Qe&&(Qe=ve.INTERNAL,It="Unknown error status: "+Je+" with message "+ze.message),I=!0,M.io(new Be(Qe,It)),_.close()}else Ge("Connection","WebChannel received:",ie),M.ro(ie)}}),O(c,P8.STAT_EVENT,N=>{N.stat===xH.PROXY?Ge("Connection","Detected buffering proxy"):N.stat===xH.NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.so()},0),M}}function O3(){return typeof window<"u"?window:null}function fT(){return typeof document<"u"?document:null}function y0(n){return new MK(n,!0)}class u1{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&Ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class P3{constructor(t,e,i,r,s,c,d,p){this.Hs=t,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new u1(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,be.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,be.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===ve.RESOURCE_EXHAUSTED?(rr(e.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===ve.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new Be(ve.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,be.Z)(function*(){t.state=0,t.start()}))}Qo(t){return Ge("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B7 extends P3{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function RK(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:pt(),r=t.targetChange.targetIds||[],s=function(p,_){return p.gt?(jt(void 0===_||"string"==typeof _),Dr.fromBase64String(_||"")):(jt(void 0===_||_ instanceof Uint8Array),Dr.fromUint8Array(_||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(p){const _=void 0===p.code?ve.UNKNOWN:Dj(p.code);return new Be(_,p.message||"")}(c);e=new Mj(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=hu(n,i.document.name),s=Vr(i.document.updateTime),c=new ss({mapValue:{fields:i.document.fields}}),d=ui.newFoundDocument(r,s,c);e=new JS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=hu(n,i.document),s=i.readTime?Vr(i.readTime):Lt.min(),c=ui.newNoDocument(r,s);e=new JS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=hu(n,i.document);e=new JS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return pt();{const i=t.filter,s=new wK(i.count||0);e=new Aj(i.targetId,s)}}var p;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Lt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Lt.min():s.readTime?Vr(s.readTime):Lt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=l0(this.It),e.addTarget=function(r,s){let c;const d=s.target;return c=qS(d)?{documents:Bj(r,d)}:{query:Uj(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=Oj(r,s.resumeToken):s.snapshotVersion.compareTo(Lt.min())>0&&(c.readTime=o0(r,s.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function PK(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=l0(this.It),e.removeTarget=t,this.Bo(e)}}class U7 extends P3{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(jt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function OK(n,t){return n&&n.length>0?(jt(void 0!==t),n.map(e=>function(i,r){let s=Vr(i.updateTime?i.updateTime:r);return s.isEqual(Lt.min())&&(s=Vr(r)),new yK(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Vr(t.commitTime);return this.listener.Zo(i,e)}return jt(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=l0(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>c0(this.It,i))};this.Bo(e)}}class H7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Be(ve.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.Vo.fo(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ve.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Be(ve.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class j7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(rr(e),this.ou=!1):Ge("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class G7{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,be.Z)(function*(){var p;rf(c)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,be.Z)(function*(_){const b=ot(_);b._u.add(4),yield oy(b),b.gu.set("Unknown"),b._u.delete(4),yield v0(b)}),function(_){return p.apply(this,arguments)})(c))}))}),this.gu=new j7(i,r)}}function v0(n){return d1.apply(this,arguments)}function d1(){return d1=(0,be.Z)(function*(n){if(rf(n))for(const t of n.wu)yield t(!0)}),d1.apply(this,arguments)}function oy(n){return h1.apply(this,arguments)}function h1(){return h1=(0,be.Z)(function*(n){for(const t of n.wu)yield t(!1)}),h1.apply(this,arguments)}function pT(n,t){const e=ot(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),m1(e)?p1(e):ly(e).ko()&&f1(e,t))}function b0(n,t){const e=ot(n),i=ly(e);e.du.delete(t),i.ko()&&N3(e,t),0===e.du.size&&(i.ko()?i.Fo():rf(e)&&e.gu.set("Unknown"))}function f1(n,t){n.yu.Ot(t.targetId),ly(n).zo(t)}function N3(n,t){n.yu.Ot(t),ly(n).Ho(t)}function p1(n){n.yu=new SK({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),ly(n).start(),n.gu.uu()}function m1(n){return rf(n)&&!ly(n).No()&&n.du.size>0}function rf(n){return 0===ot(n)._u.size}function F3(n){n.yu=void 0}function $7(n){return g1.apply(this,arguments)}function g1(){return g1=(0,be.Z)(function*(n){n.du.forEach((t,e)=>{f1(n,t)})}),g1.apply(this,arguments)}function z7(n,t){return _1.apply(this,arguments)}function _1(){return _1=(0,be.Z)(function*(n,t){F3(n),m1(n)?(n.gu.hu(t),p1(n)):n.gu.set("Unknown")}),_1.apply(this,arguments)}function q7(n,t,e){return y1.apply(this,arguments)}function y1(){return y1=(0,be.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof Mj&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){Ge("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield mT(n,i)}else if(t instanceof JS?n.yu.Gt(t):t instanceof Aj?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Lt.min()))try{const i=yield D3(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const _=r.du.get(p);_&&r.du.set(p,_.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const p=r.du.get(d);if(!p)return;r.du.set(d,p.withResumeToken(Dr.EMPTY_BYTE_STRING,p.snapshotVersion)),N3(r,d);const _=new ef(p.target,d,1,p.sequenceNumber);f1(r,_)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Ge("RemoteStore","Failed to raise snapshot:",i),yield mT(n,i)}var i}),y1.apply(this,arguments)}function mT(n,t,e){return v1.apply(this,arguments)}function v1(){return v1=(0,be.Z)(function*(n,t,e){if(!Wh(t))throw t;n._u.add(1),yield oy(n),n.gu.set("Offline"),e||(e=()=>D3(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield v0(n)}))}),v1.apply(this,arguments)}function L3(n,t){return t().catch(e=>mT(n,e,t))}function ay(n){return b1.apply(this,arguments)}function b1(){return b1=(0,be.Z)(function*(n){const t=ot(n),e=sf(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;W7(t);)try{const r=yield R7(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,Z7(t,r)}catch(r){yield mT(t,r)}V3(t)&&B3(t)}),b1.apply(this,arguments)}function W7(n){return rf(n)&&n.fu.length<10}function Z7(n,t){n.fu.push(t);const e=sf(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function V3(n){return rf(n)&&!sf(n).No()&&n.fu.length>0}function B3(n){sf(n).start()}function Y7(n){return w1.apply(this,arguments)}function w1(){return w1=(0,be.Z)(function*(n){sf(n).eu()}),w1.apply(this,arguments)}function K7(n){return C1.apply(this,arguments)}function C1(){return C1=(0,be.Z)(function*(n){const t=sf(n);for(const e of n.fu)t.Xo(e.mutations)}),C1.apply(this,arguments)}function Q7(n,t,e){return E1.apply(this,arguments)}function E1(){return E1=(0,be.Z)(function*(n,t,e){const i=n.fu.shift(),r=zP.from(i,t,e);yield L3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ay(n)}),E1.apply(this,arguments)}function X7(n,t){return D1.apply(this,arguments)}function D1(){return D1=(0,be.Z)(function*(n,t){var e;t&&sf(n).Yo&&(yield(e=(0,be.Z)(function*(i,r){if(Ej(s=r.code)&&s!==ve.ABORTED){const c=i.fu.shift();sf(i).Oo(),yield L3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ay(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),V3(n)&&B3(n)}),D1.apply(this,arguments)}function U3(n,t){return I1.apply(this,arguments)}function I1(){return I1=(0,be.Z)(function*(n,t){const e=ot(n);e.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const i=rf(e);e._u.add(3),yield oy(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield v0(e)}),I1.apply(this,arguments)}function S1(n,t){return T1.apply(this,arguments)}function T1(){return T1=(0,be.Z)(function*(n,t){const e=ot(n);t?(e._u.delete(2),yield v0(e)):t||(e._u.add(2),yield oy(e),e.gu.set("Unknown"))}),T1.apply(this,arguments)}function ly(n){return n.pu||(n.pu=function(t,e,i){const r=ot(t);return r.su(),new B7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:$7.bind(null,n),Zr:z7.bind(null,n),Wo:q7.bind(null,n)}),n.wu.push(function(){var t=(0,be.Z)(function*(e){e?(n.pu.Oo(),m1(n)?p1(n):n.gu.set("Unknown")):(yield n.pu.stop(),F3(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function sf(n){return n.Iu||(n.Iu=function(t,e,i){const r=ot(t);return r.su(),new U7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:Y7.bind(null,n),Zr:X7.bind(null,n),tu:K7.bind(null,n),Zo:Q7.bind(null,n)}),n.wu.push(function(){var t=(0,be.Z)(function*(e){e?(n.Iu.Oo(),yield ay(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class A1{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new A1(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ve.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,t){if(rr("AsyncQueue",`${t}: ${n}`),Wh(n))return new Be(ve.UNAVAILABLE,`${t}: ${n}`);throw n}class uy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tt.comparator(e.key,i.key):(e,i)=>tt.comparator(e.key,i.key),this.keyedMap=t0(),this.sortedSet=new Zi(this.comparator)}static emptySet(t){return new uy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new uy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class H3{constructor(){this.Tu=new Zi(tt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):pt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class dy{constructor(t,e,i,r,s,c,d,p){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new dy(t,e,uy.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Xw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class J7{constructor(){this.Au=void 0,this.listeners=[]}}class e9{constructor(){this.queries=new Jh(t=>aj(t),Xw),this.onlineState="Unknown",this.Ru=new Set}}function M1(n,t){return x1.apply(this,arguments)}function x1(){return x1=(0,be.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new J7),r)try{s.Au=yield e.onListen(i)}catch(c){const d=cy(c,`Initialization of query '${LP(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&O1(e)}),x1.apply(this,arguments)}function k1(n,t){return R1.apply(this,arguments)}function R1(){return R1=(0,be.Z)(function*(n,t){const e=ot(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),R1.apply(this,arguments)}function t9(n,t){const e=ot(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&O1(e)}function n9(n,t,e){const i=ot(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function O1(n){n.Ru.forEach(t=>{t.next()})}class P1{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new dy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=dy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class i9{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class j3{constructor(t){this.It=t}Ji(t){return hu(this.It,t)}Yi(t){return t.metadata.exists?Vj(this.It,t.document,!1):ui.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return Vr(t)}}class r9{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=G3(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Cn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new j3(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||en()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function O7(n,t,e,i){return r1.apply(this,arguments)}(t.localStore,new j3(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield P7(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function G3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $3{constructor(t){this.key=t}}class z3{constructor(t){this.key=t}}class q3{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=en(),this.mutatedKeys=en(),this.Ku=cj(t),this.Gu=new uy(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new H3,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,_="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((b,I)=>{const M=r.get(b),O=VP(this.query,I)?I:null,N=!!M&&this.mutatedKeys.has(M.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ie=!1;M&&O?M.data.isEqual(O.data)?N!==z&&(i.track({type:3,doc:O}),ie=!0):this.zu(M,O)||(i.track({type:2,doc:O}),ie=!0,(p&&this.Ku(O,p)>0||_&&this.Ku(O,_)<0)&&(d=!0)):!M&&O?(i.track({type:0,doc:O}),ie=!0):M&&!O&&(i.track({type:1,doc:M}),ie=!0,(p||_)&&(d=!0)),ie&&(O?(c=c.add(O),s=z?s.add(b):s.delete(b)):(c=c.delete(b),s=s.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),s=s.delete(b.key),i.track({type:1,doc:b})}return{Gu:c,Wu:i,$i:d,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((_,b)=>function(I,M){const O=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return O(I)-O(M)}(_.type,b.type)||this.Ku(_.doc,b.doc)),this.Hu(i);const c=e?this.Ju():[],d=0===this.qu.size&&this.current?1:0,p=d!==this.Uu;return this.Uu=d,0!==s.length||p?{snapshot:new dy(this.query,t.Gu,r,s,t.mutatedKeys,0===d,p,!1),Yu:c}:{Yu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new H3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=en(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new z3(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new $3(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=en();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return dy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class s9{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class o9{constructor(t){this.key=t,this.ec=!1}}class a9{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new Jh(d=>aj(d),Xw),this.ic=new Map,this.rc=new Set,this.oc=new Zi(tt.comparator),this.uc=new Map,this.cc=new KP,this.ac={},this.hc=new Map,this.lc=wm.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function l9(n,t){return N1.apply(this,arguments)}function N1(){return N1=(0,be.Z)(function*(n,t){const e=rN(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const c=yield ry(e.localStore,Ro(t));e.isPrimaryClient&&pT(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield F1(e,t,i,"current"===d)}return r}),N1.apply(this,arguments)}function F1(n,t,e,i){return L1.apply(this,arguments)}function L1(){return L1=(0,be.Z)(function*(n,t,e,i){n.dc=(b,I,M)=>{return(O=(0,be.Z)(function*(N,z,ie,Me){let ze=z.view.ju(ie);ze.$i&&(ze=yield uT(N.localStore,z.query,!1).then(({documents:It})=>z.view.ju(It,ze)));const Je=Me&&Me.targetChanges.get(z.targetId),Qe=z.view.applyChanges(ze,N.isPrimaryClient,Je);return W1(N,z.targetId,Qe.Yu),Qe.snapshot}),function(N,z,ie,Me){return O.apply(this,arguments)})(n,b,I,M);var O};const r=yield uT(n.localStore,t,!0),s=new q3(t,r.Hi),c=s.ju(r.documents),d=s0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),p=s.applyChanges(c,n.isPrimaryClient,d);W1(n,e,p.Yu);const _=new s9(t,e,s);return n.sc.set(t,_),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),p.snapshot}),L1.apply(this,arguments)}function c9(n,t){return V1.apply(this,arguments)}function V1(){return V1=(0,be.Z)(function*(n,t){const e=ot(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!Xw(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),b0(e.remoteStore,i.targetId),hy(e,i.targetId)}).catch(qh))):(hy(e,i.targetId),yield sy(e.localStore,i.targetId,!0))}),V1.apply(this,arguments)}function B1(){return B1=(0,be.Z)(function*(n,t,e){const i=sN(n);try{const r=yield function(s,c){const d=ot(s),p=Si.now(),_=c.reduce((M,O)=>M.add(O.key),en());let b,I;return d.persistence.runTransaction("Locally write mutations","readwrite",M=>{let O=Oo(),N=en();return d.Gi.getEntries(M,_).next(z=>{O=z,O.forEach((ie,Me)=>{Me.isValidDocument()||(N=N.add(ie))})}).next(()=>d.localDocuments.getOverlayedDocuments(M,O)).next(z=>{b=z;const ie=[];for(const Me of c){const ze=bK(Me,b.get(Me.key).overlayedDocument);null!=ze&&ie.push(new Sd(Me.key,ze,XH(ze.value.mapValue),Ti.exists(!0)))}return d.mutationQueue.addMutationBatch(M,p,ie,c)}).next(z=>{I=z;const ie=z.applyToLocalDocumentSet(b,N);return d.documentOverlayCache.saveOverlays(M,z.batchId,ie)})}).then(()=>({batchId:I.batchId,changes:Sj(b)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let p=s.ac[s.currentUser.toKey()];p||(p=new Zi(Wt)),p=p.insert(c,d),s.ac[s.currentUser.toKey()]=p}(i,r.batchId,e),yield Td(i,r.changes),yield ay(i.remoteStore)}catch(r){const s=cy(r,"Failed to persist write");e.reject(s)}}),B1.apply(this,arguments)}function W3(n,t){return U1.apply(this,arguments)}function U1(){return U1=(0,be.Z)(function*(n,t){const e=ot(n);try{const i=yield k7(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.uc.get(s);c&&(jt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?jt(c.ec):r.removedDocuments.size>0&&(jt(c.ec),c.ec=!1))}),yield Td(e,i,t)}catch(i){yield qh(i)}}),U1.apply(this,arguments)}function Z3(n,t,e){const i=ot(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=ot(s);d.onlineState=c;let p=!1;d.queries.forEach((_,b)=>{for(const I of b.listeners)I.bu(c)&&(p=!0)}),p&&O1(d)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function d9(n,t,e){return H1.apply(this,arguments)}function H1(){return H1=(0,be.Z)(function*(n,t,e){const i=ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let c=new Zi(tt.comparator);c=c.insert(s,ui.newNoDocument(s,Lt.min()));const d=en().add(s),p=new r0(Lt.min(),new Map,new Zn(Wt),c,d);yield W3(i,p),i.oc=i.oc.remove(s),i.uc.delete(t),Z1(i)}else yield sy(i.localStore,t,!1).then(()=>hy(i,t,e)).catch(qh)}),H1.apply(this,arguments)}function h9(n,t){return j1.apply(this,arguments)}function j1(){return j1=(0,be.Z)(function*(n,t){const e=ot(n),i=t.batch.batchId;try{const r=yield x7(e.localStore,t);q1(e,i,null),z1(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Td(e,r)}catch(r){yield qh(r)}}),j1.apply(this,arguments)}function f9(n,t,e){return G1.apply(this,arguments)}function G1(){return G1=(0,be.Z)(function*(n,t,e){const i=ot(n);try{const r=yield function(s,c){const d=ot(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let _;return d.mutationQueue.lookupMutationBatch(p,c).next(b=>(jt(null!==b),_=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,_,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_)).next(()=>d.localDocuments.getDocuments(p,_))})}(i.localStore,t);q1(i,t,e),z1(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Td(i,r)}catch(r){yield qh(r)}}),G1.apply(this,arguments)}function $1(){return $1=(0,be.Z)(function*(n,t){const e=ot(n);rf(e.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=ot(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=cy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),$1.apply(this,arguments)}function z1(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function q1(n,t,e){const i=ot(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function hy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||Y3(n,i)})}function Y3(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(b0(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),Z1(n))}function W1(n,t,e){for(const i of e)i instanceof $3?(n.cc.addReference(i.key,t),m9(n,i)):i instanceof z3?(Ge("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||Y3(n,i.key)):pt()}function m9(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(Ge("SyncEngine","New document in limbo: "+e),n.rc.add(i),Z1(n))}function Z1(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new tt(Cn.fromString(t)),i=n.lc.next();n.uc.set(i,new o9(e)),n.oc=n.oc.insert(e,i),pT(n.remoteStore,new ef(Ro(Z_(e.path)),i,2,ko.at))}}function Td(n,t,e){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,be.Z)(function*(n,t,e){const i=ot(n),r=[],s=[],c=[];var d;i.sc.isEmpty()||(i.sc.forEach((d,p)=>{c.push(i.dc(p,t,e).then(_=>{if(_){i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,_.fromCache?"not-current":"current"),r.push(_);const b=e1.Ci(p.targetId,_);s.push(b)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(d=(0,be.Z)(function*(p,_){const b=ot(p);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>pe.forEach(_,M=>pe.forEach(M.Si,O=>b.persistence.referenceDelegate.addReference(I,M.targetId,O)).next(()=>pe.forEach(M.Di,O=>b.persistence.referenceDelegate.removeReference(I,M.targetId,O)))))}catch(I){if(!Wh(I))throw I;Ge("LocalStore","Failed to update sequence numbers: "+I)}for(const I of _){const M=I.targetId;if(!I.fromCache){const O=b.Ui.get(M),z=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);b.Ui=b.Ui.insert(M,z)}}}),function(p,_){return d.apply(this,arguments)})(i.localStore,s))}),Y1.apply(this,arguments)}function g9(n,t){return K1.apply(this,arguments)}function K1(){return K1=(0,be.Z)(function*(n,t){const e=ot(n);if(!e.currentUser.isEqual(t)){Ge("SyncEngine","User change. New user:",t.toKey());const i=yield E3(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(c=>{c.forEach(d=>{d.reject(new Be(ve.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Td(e,i.ji)}var r}),K1.apply(this,arguments)}function _9(n,t){const e=ot(n),i=e.uc.get(t);if(i&&i.ec)return en().add(i.key);{let r=en();const s=e.ic.get(t);if(!s)return r;for(const c of s){const d=e.sc.get(c);r=r.unionWith(d.view.Qu)}return r}}function y9(n,t){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,be.Z)(function*(n,t){const e=ot(n),i=yield uT(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&W1(e,t.targetId,r.Yu),r}),Q1.apply(this,arguments)}function v9(n,t){return X1.apply(this,arguments)}function X1(){return X1=(0,be.Z)(function*(n,t){const e=ot(n);return T3(e.localStore,t).then(i=>Td(e,i))}),X1.apply(this,arguments)}function b9(n,t,e,i){return J1.apply(this,arguments)}function J1(){return J1=(0,be.Z)(function*(n,t,e,i){const r=ot(n),s=yield function(c,d){const p=ot(c),_=ot(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",b=>_.Tn(b,d).next(I=>I?p.localDocuments.getDocuments(b,I):pe.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield ay(r.remoteStore):"acknowledged"===e||"rejected"===e?(q1(r,t,i||null),z1(r,t),d=t,ot(ot(r.localStore).mutationQueue).An(d)):pt(),yield Td(r,s)):Ge("SyncEngine","Cannot apply mutation batch with id: "+t)}),J1.apply(this,arguments)}function eN(){return eN=(0,be.Z)(function*(n,t){const e=ot(n);if(rN(e),sN(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield K3(e,i.toArray());e.fc=!0,yield S1(e.remoteStore,!0);for(const s of r)pT(e.remoteStore,s)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(hy(e,c),sy(e.localStore,c,!0))),b0(e.remoteStore,c)}),yield r,yield K3(e,i),function(s){const c=ot(s);c.uc.forEach((d,p)=>{b0(c.remoteStore,p)}),c.cc.fs(),c.uc=new Map,c.oc=new Zi(tt.comparator)}(e),e.fc=!1,yield S1(e.remoteStore,!1)}}),eN.apply(this,arguments)}function K3(n,t,e){return tN.apply(this,arguments)}function tN(){return tN=(0,be.Z)(function*(n,t,e){const i=ot(n),r=[],s=[];for(const c of t){let d;const p=i.ic.get(c);if(p&&0!==p.length){d=yield ry(i.localStore,Ro(p[0]));for(const _ of p){const b=i.sc.get(_),I=yield y9(i,b);I.snapshot&&s.push(I.snapshot)}}else{const _=yield S3(i.localStore,c);d=yield ry(i.localStore,_),yield F1(i,Q3(_),c,!1)}r.push(d)}return i.nc.Wo(s),r}),tN.apply(this,arguments)}function Q3(n){return sj(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function C9(n){const t=ot(n);return ot(ot(t.localStore).persistence).vi()}function E9(n,t,e,i){return nN.apply(this,arguments)}function nN(){return nN=(0,be.Z)(function*(n,t,e,i){const r=ot(n);if(r.fc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield T3(r.localStore,lj(s[0])),d=r0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Td(r,c,d);break}case"rejected":yield sy(r.localStore,t,!0),hy(r,t,i);break;default:pt()}}),nN.apply(this,arguments)}function D9(n,t,e){return iN.apply(this,arguments)}function iN(){return iN=(0,be.Z)(function*(n,t,e){const i=rN(n);if(i.fc){for(const r of t){if(i.ic.has(r)){Ge("SyncEngine","Adding an already active target "+r);continue}const s=yield S3(i.localStore,r),c=yield ry(i.localStore,s);yield F1(i,Q3(s),c.targetId,!1),pT(i.remoteStore,c)}for(const r of e)i.ic.has(r)&&(yield sy(i.localStore,r,!1).then(()=>{b0(i.remoteStore,r),hy(i,r)}).catch(qh))}}),iN.apply(this,arguments)}function rN(n){const t=ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=W3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=d9.bind(null,t),t.nc.Wo=t9.bind(null,t.eventManager),t.nc._c=n9.bind(null,t.eventManager),t}function sN(n){const t=ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=h9.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=f9.bind(null,t),t}class X3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.It=y0(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return C3(this.persistence,new w3,t.initialUser,this.It)}gc(t){return new v3(lT.Bs,this.It)}mc(t){return new k3}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class J3 extends X3{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield sN(i.Ec.syncEngine),yield ay(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return C3(this.persistence,new w3,t.initialUser,this.It)}Ic(t,e){return new m7(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new X8(e,this.persistence);return new Q8(t.asyncQueue,i)}gc(t){const e=JP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Po.withCacheSize(this.cacheSizeBytes):Po.DEFAULT;return new XP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,O3(),fT(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new k3}}class S9 extends J3{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof c1&&(i.sharedClientState.syncEngine={Fr:b9.bind(null,r),$r:E9.bind(null,r),Br:D9.bind(null,r),vi:C9.bind(null,r),Or:v9.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,be.Z)(function*(c){yield function w9(n,t){return eN.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}mc(t){const e=O3();if(!c1.C(e))throw new Be(ve.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=JP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new c1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class oN{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>Z3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=g9.bind(null,i.syncEngine),yield S1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new e9}createDatastore(t){const e=y0(t.databaseInfo.databaseId),i=new V7(t.databaseInfo);return new H7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>Z3(this.syncEngine,d,0),c=R3.C()?new R3:new N7,new G7(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,p,_){const b=new a9(i,r,s,c,d,p);return _&&(b.fc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=ot(e);Ge("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield oy(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function eG(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class gT{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):rr("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class T9{constructor(t,e){this.bc=t,this.It=e,this.metadata=new Lr,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const s=yield t.Dc(r);return new i9(JSON.parse(s),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,be.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,be.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class A9{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Be(ve.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(s,c){const d=ot(s),p=l0(d.It)+"/documents",_={documents:c.map(O=>a0(d.It,O))},b=yield d.fo("BatchGetDocuments",p,_,c.length),I=new Map;b.forEach(O=>{const N=function kK(n,t){return"found"in t?function(e,i){jt(!!i.found);const r=hu(e,i.found.name),s=Vr(i.found.updateTime),c=new ss({mapValue:{fields:i.found.fields}});return ui.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){jt(!!i.missing),jt(!!i.readTime);const r=hu(e,i.missing),s=Vr(i.readTime);return ui.newNoDocument(r,s)}(n,t):pt()}(d.It,O);I.set(N.key.toString(),N)});const M=[];return c.forEach(O=>{const N=I.get(O.toString());jt(!!N),M.push(N)}),M}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new J_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=tt.fromPath(r);t.mutations.push(new BP(s,t.precondition(s)))}),yield(i=(0,be.Z)(function*(r,s){const c=ot(r),d=l0(c.It)+"/documents",p={writes:s.map(_=>c0(c.It,_))};yield c.co("Commit",d,p)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw pt();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Be(ve.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Lt.min())?Ti.exists(!1):Ti.updateTime(e):Ti.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new Be(ve.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ti.updateTime(e)}return Ti.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class M9{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Nc=i.maxAttempts,this.xo=new u1(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,be.Z)(function*(){const e=new A9(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Oc(s)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!qw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!Ej(e)}return!1}}class x9{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Fr.UNAUTHENTICATED,this.clientId=PH.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,be.Z)(function*(d){Ge("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ve.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=cy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function tG(n,t){return aN.apply(this,arguments)}function aN(){return aN=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(s){i.isEqual(s)||(yield E3(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),aN.apply(this,arguments)}function nG(n,t){return lN.apply(this,arguments)}function lN(){return lN=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield cN(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>U3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>U3(t.remoteStore,s)),n.onlineComponents=t}),lN.apply(this,arguments)}function cN(n){return uN.apply(this,arguments)}function uN(){return uN=(0,be.Z)(function*(n){return n.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield tG(n,new X3)),n.offlineComponents}),uN.apply(this,arguments)}function _T(n){return dN.apply(this,arguments)}function dN(){return dN=(0,be.Z)(function*(n){return n.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield nG(n,new oN)),n.onlineComponents}),dN.apply(this,arguments)}function iG(n){return cN(n).then(t=>t.persistence)}function yT(n){return cN(n).then(t=>t.localStore)}function rG(n){return _T(n).then(t=>t.remoteStore)}function hN(n){return _T(n).then(t=>t.syncEngine)}function fy(n){return fN.apply(this,arguments)}function fN(){return fN=(0,be.Z)(function*(n){const t=yield _T(n),e=t.eventManager;return e.onListen=l9.bind(null,t.syncEngine),e.onUnlisten=c9.bind(null,t.syncEngine),e}),fN.apply(this,arguments)}function sG(n,t,e={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,c,d,p){const _=new gT({next:I=>{s.enqueueAndForget(()=>k1(r,b));const M=I.docs.has(c);!M&&I.fromCache?p.reject(new Be(ve.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&I.fromCache&&d&&"server"===d.source?p.reject(new Be(ve.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),b=new P1(Z_(c.path),_,{includeMetadataChanges:!0,Nu:!0});return M1(r,b)}(yield fy(n),n.asyncQueue,t,e,i)})),i.promise}function oG(n,t,e={}){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,s,c,d,p){const _=new gT({next:I=>{s.enqueueAndForget(()=>k1(r,b)),I.fromCache&&"server"===d.source?p.reject(new Be(ve.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),b=new P1(c,_,{includeMetadataChanges:!0,Nu:!0});return M1(r,b)}(yield fy(n),n.asyncQueue,t,e,i)})),i.promise}const aG=new Map;function pN(n,t,e){if(!e)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function lG(n,t,e,i){if(!0===t&&!0===i)throw new Be(ve.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function cG(n){if(!tt.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function uG(n){if(tt.isDocumentKey(n))throw new Be(ve.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":pt()}function vn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Be(ve.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=vT(n);throw new Be(ve.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function dG(n,t){if(t<=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class hG{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Be(ve.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Be(ve.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,lG("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class w0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hG({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ve.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hG(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new B8;switch(e.type){case"gapi":return new G8(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Be(ve.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=aG.get(t);e&&(Ge("ComponentProvider","Removing Datastore"),aG.delete(t),e.terminate())}(this),Promise.resolve()}}class wi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new wi(this.firestore,t,this._key)}}class Ts{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Ts(this.firestore,t,this._query)}}class pu extends Ts{constructor(t,e,i){super(t,e,Z_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new wi(this.firestore,null,new tt(t))}withConverter(t){return new pu(this.firestore,t,this._path)}}function fG(n,t,...e){if(n=(0,F.m9)(n),pN("collection","path",t),n instanceof w0){const i=Cn.fromString(t,...e);return uG(i),new pu(n,null,i)}{if(!(n instanceof wi||n instanceof pu))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(t,...e));return uG(i),new pu(n.firestore,null,i)}}function bT(n,t,...e){if(n=(0,F.m9)(n),1===arguments.length&&(t=PH.R()),pN("doc","path",t),n instanceof w0){const i=Cn.fromString(t,...e);return cG(i),new wi(n,null,new tt(i))}{if(!(n instanceof wi||n instanceof pu))throw new Be(ve.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(t,...e));return cG(i),new wi(n.firestore,n instanceof pu?n.converter:null,new tt(i))}}function pG(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),(n instanceof wi||n instanceof pu)&&(t instanceof wi||t instanceof pu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function mG(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),n instanceof Ts&&t instanceof Ts&&n.firestore===t.firestore&&Xw(n._query,t._query)&&n.converter===t.converter}class H9{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new u1(this,"async_queue_retry"),this.jc=()=>{const e=fT();e&&Ge("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=fT();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=fT();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new Lr;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,be.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!Wh(e))throw e;Ge("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,rr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=A1.createAndSchedule(this,t,e,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&pt()}verifyOperationInProgress(){}Yc(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function mN(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class j9{constructor(){this._progressObserver={},this._taskCompletionResolver=new Lr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Ai extends w0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new H9,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||gG(this),this._firestoreClient.terminate()}}function hr(n){return n._firestoreClient||gG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function gG(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new tK(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new x9(n._authCredentials,n._appCheckCredentials,n._queue,i)}function _G(n,t,e){const i=new Lr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield tG(n,e),yield nG(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===ve.FAILED_PRECONDITION||c.code===ve.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;sm("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function yG(n){if(n._initialized||n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ad{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Be(ve.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class mu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mu(Dr.fromBase64String(t))}catch(e){throw new Be(ve.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new mu(Dr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Em{constructor(t){this._methodName=t}}class wT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Be(ve.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Be(ve.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Wt(this._lat,t._lat)||Wt(this._long,t._long)}}const X9=/^__.*__$/;class J9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Sd(t,this.data,this.fieldMask,e,this.fieldTransforms):new X_(t,this.data,e,this.fieldTransforms)}}class vG{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Sd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function bG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class CT{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new CT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return IT(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(bG(this.na)&&X9.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class eQ{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||y0(t)}fa(t,e,i,r=!1){return new CT({na:t,methodName:e,la:i,path:Wi.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Dm(n){const t=n._freezeSettings(),e=y0(n._databaseId);return new eQ(n._databaseId,!!t.ignoreUndefinedProperties,e)}function ET(n,t,e,i,r,s={}){const c=n.fa(s.merge||s.mergeFields?2:0,t,e,r);vN("Data must be an object, but it was:",c,i);const d=EG(i,c);let p,_;if(s.merge)p=new ma(c.fieldMask),_=c.fieldTransforms;else if(s.mergeFields){const b=[];for(const I of s.mergeFields){const M=bN(t,I,e);if(!c.contains(M))throw new Be(ve.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);IG(b,M)||b.push(M)}p=new ma(b),_=c.fieldTransforms.filter(I=>p.covers(I.field))}else p=null,_=c.fieldTransforms;return new J9(new ss(d),p,_)}class C0 extends Em{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof C0}}function wG(n,t,e){return new CT({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class gN extends Em{_toFieldTransform(t){return new Jw(t.path,new K_)}isEqual(t){return t instanceof gN}}class tQ extends Em{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=wG(this,t,!0),i=this.da.map(s=>Im(s,e)),r=new fm(i);return new Jw(t.path,r)}isEqual(t){return this===t}}class nQ extends Em{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=wG(this,t,!0),i=this.da.map(s=>Im(s,e)),r=new pm(i);return new Jw(t.path,r)}isEqual(t){return this===t}}class iQ extends Em{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new Q_(t.It,hj(t.It,this._a));return new Jw(t.path,e)}isEqual(t){return this===t}}function _N(n,t,e,i){const r=n.fa(1,t,e);vN("Data must be an object, but it was:",r,i);const s=[],c=ss.empty();lm(i,(p,_)=>{const b=DT(t,p,e);_=(0,F.m9)(_);const I=r.ua(b);if(_ instanceof C0)s.push(b);else{const M=Im(_,I);null!=M&&(s.push(b),c.set(b,M))}});const d=new ma(s);return new vG(c,d,r.fieldTransforms)}function yN(n,t,e,i,r,s){const c=n.fa(1,t,e),d=[bN(t,i,e)],p=[r];if(s.length%2!=0)throw new Be(ve.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<s.length;M+=2)d.push(bN(t,s[M])),p.push(s[M+1]);const _=[],b=ss.empty();for(let M=d.length-1;M>=0;--M)if(!IG(_,d[M])){const O=d[M];let N=p[M];N=(0,F.m9)(N);const z=c.ua(O);if(N instanceof C0)_.push(O);else{const ie=Im(N,z);null!=ie&&(_.push(O),b.set(O,ie))}}const I=new ma(_);return new vG(b,I,c.fieldTransforms)}function CG(n,t,e,i=!1){return Im(e,n.fa(i?4:3,t))}function Im(n,t){if(DG(n=(0,F.m9)(n)))return vN("Unsupported field value:",t,n),EG(n,t);if(n instanceof Em)return function(e,i){if(!bG(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=Im(c,i.ca(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hj(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Si.fromDate(e);return{timestampValue:o0(i.It,r)}}if(e instanceof Si){const r=new Si(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:o0(i.It,r)}}if(e instanceof wT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof mu)return{bytesValue:Oj(i.It,e._byteString)};if(e instanceof wi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:UP(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${vT(e)}`)}(n,t)}function EG(n,t){const e={};return jH(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):lm(n,(i,r)=>{const s=Im(r,t.ia(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function DG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Si||n instanceof wT||n instanceof mu||n instanceof wi||n instanceof Em)}function vN(n,t,e){if(!DG(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=vT(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function bN(n,t,e){if((t=(0,F.m9)(t))instanceof Ad)return t._internalPath;if("string"==typeof t)return DT(n,t);throw IT("Field path arguments must be of type string or ",n,!1,void 0,e)}const rQ=new RegExp("[~\\*/\\[\\]]");function DT(n,t,e){if(t.search(rQ)>=0)throw IT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ad(...t.split("."))._internalPath}catch{throw IT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function IT(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(s||c)&&(p+=" (found",s&&(p+=` in field ${i}`),c&&(p+=` in document ${r}`),p+=")"),new Be(ve.INVALID_ARGUMENT,d+n+p)}function IG(n,t){return n.some(e=>e.isEqual(t))}class E0{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new wi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new sQ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(ST("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class sQ extends E0{data(){return super.data()}}function ST(n,t){return"string"==typeof t?DT(n,t):t instanceof Ad?t._internalPath:t._delegate._internalPath}class Sm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Md extends E0{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new D0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(ST("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class D0 extends Md{data(t={}){return super.data(t)}}class af{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Sm(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new D0(this._firestore,this._userDataWriter,i.key,i,new Sm(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Be(ve.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new D0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new D0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new Sm(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return 0!==c.type&&(p=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),_=s.indexOf(c.doc.key)),{type:oQ(c.type),doc:d,oldIndex:p,newIndex:_}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function oQ(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function SG(n,t){return n instanceof Md&&t instanceof Md?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof af&&t instanceof af&&n._firestore===t._firestore&&mG(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function TG(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ve.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class I0{}function lf(n,...t){for(const e of t)n=e._apply(n);return n}class aQ extends I0{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=Dm(t.firestore),i=function(r,s,c,d,p,_,b){let I;if(p.isKeyField()){if("array-contains"===_||"array-contains-any"===_)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if("in"===_||"not-in"===_){OG(b,_);const O=[];for(const N of b)O.push(RG(d,r,N));I={arrayValue:{values:O}}}else I=RG(d,r,b)}else"in"!==_&&"not-in"!==_&&"array-contains-any"!==_||OG(b,_),I=CG(c,"where",b,"in"===_||"not-in"===_);const M=os.create(p,_,I);return function(O,N){if(N.dt()){const ie=NP(O);if(null!==ie&&!ie.isEqual(N.field))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ie.toString()}' and '${N.field.toString()}'`);const Me=PP(O);null!==Me&&PG(0,N.field,Me)}const z=function(ie,Me){for(const ze of ie.filters)if(Me.indexOf(ze.op)>=0)return ze.op;return null}(O,function(ie){switch(ie){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(N.op));if(null!==z)throw new Be(ve.INVALID_ARGUMENT,z===N.op?`Invalid query. You cannot use more than one '${N.op.toString()}' filter.`:`Invalid query. You cannot use '${N.op.toString()}' filters with '${z.toString()}' filters.`)}(r,M),M}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new Ts(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new Id(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class cQ extends I0{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new W_(r,s);return function(d,p){if(null===PP(d)){const _=NP(d);null!==_&&PG(0,_,p.field)}}(i,c),c}(t._query,this.wa,this.ya);return new Ts(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Id(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class AG extends I0{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new Ts(t.firestore,t.converter,ZS(t._query,this.pa,this.Ia))}}class MG extends I0{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=kG(t,this.type,this.Ta,this.Ea);return new Ts(t.firestore,t.converter,(r=e,new Id((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class xG extends I0{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=kG(t,this.type,this.Ta,this.Ea);return new Ts(t.firestore,t.converter,(r=e,new Id((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function kG(n,t,e,i){if(e[0]=(0,F.m9)(e[0]),e[0]instanceof E0)return function(r,s,c,d,p){if(!d)throw new Be(ve.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const _=[];for(const b of Y_(r))if(b.field.isKeyField())_.push(dm(s,d.key));else{const I=d.data.field(b.field);if(kP(I))throw new Be(ve.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const M=b.field.canonicalString();throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${M}' (used as the orderBy) does not exist.`)}_.push(I)}return new Xh(_,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Dm(n.firestore);return function(s,c,d,p,_,b){const I=s.explicitOrderBy;if(_.length>I.length)throw new Be(ve.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const M=[];for(let O=0;O<_.length;O++){const N=_[O];if(I[O].field.isKeyField()){if("string"!=typeof N)throw new Be(ve.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof N}`);if(!FP(s)&&-1!==N.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${N}' contains a slash.`);const z=s.path.child(Cn.fromString(N));if(!tt.isDocumentKey(z))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${z}' is not because it contains an odd number of segments.`);const ie=new tt(z);M.push(dm(c,ie))}else{const z=CG(d,p,N);M.push(z)}}return new Xh(M,b)}(n._query,n.firestore._databaseId,r,t,e,i)}}function RG(n,t,e){if("string"==typeof(e=(0,F.m9)(e))){if(""===e)throw new Be(ve.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FP(t)&&-1!==e.indexOf("/"))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Cn.fromString(e));if(!tt.isDocumentKey(i))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return dm(n,new tt(i))}if(e instanceof wi)return dm(n,e._key);throw new Be(ve.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vT(e)}.`)}function OG(n,t){if(!Array.isArray(n)||0===n.length)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Be(ve.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function PG(n,t,e){if(!e.isEqual(t))throw new Be(ve.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const _Q={maxAttempts:5};class wN{convertValue(t,e="none"){switch(um(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Yi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw pt()}}convertObject(t,e){const i={};return lm(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new wT(Yi(t.latitude),Yi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=$H(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(zw(t));default:return null}}convertTimestamp(t){const e=Zh(t);return new Si(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Cn.fromString(t);jt(Gj(i));const r=new Yh(i.get(1),i.get(3)),s=new tt(i.popFirst(5));return r.isEqual(e)||rr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function TT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class yQ extends wN{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wi(this.firestore,null,e)}}class NG{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Dm(t)}set(t,e,i){this._verifyNotCommitted();const r=cf(t,this._firestore),s=TT(r.converter,e,i),c=ET(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ti.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=cf(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof Ad?yN(this._dataReader,"WriteBatch.update",s._key,e,i,r):_N(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Ti.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=cf(t,this._firestore);return this._mutations=this._mutations.concat(new J_(e._key,Ti.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ve.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cf(n,t){if((n=(0,F.m9)(n)).firestore!==t)throw new Be(ve.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Tm extends wN{constructor(t){super(),this.firestore=t}convertBytes(t){return new mu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new wi(this.firestore,null,e)}}function FG(n,t,e){n=vn(n,wi);const i=vn(n.firestore,Ai),r=TT(n.converter,t,e);return py(i,[ET(Dm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ti.none())])}function LG(n,t,e,...i){n=vn(n,wi);const r=vn(n.firestore,Ai),s=Dm(r);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof Ad?yN(s,"updateDoc",n._key,t,e,i):_N(s,"updateDoc",n._key,t),py(r,[c.toMutation(n._key,Ti.exists(!0))])}function VG(n,...t){var e,i,r;n=(0,F.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||mN(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(mN(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let p,_,b;if(n instanceof wi)_=vn(n.firestore,Ai),b=Z_(n._key.path),p={next:I=>{t[c]&&t[c](CN(_,n,I))},error:t[c+1],complete:t[c+2]};else{const I=vn(n,Ts);_=vn(I.firestore,Ai),b=I._query;const M=new Tm(_);p={next:O=>{t[c]&&t[c](new af(_,M,I,O))},error:t[c+1],complete:t[c+2]},TG(n._query)}return function(I,M,O,N){const z=new gT(N),ie=new P1(M,z,O);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return M1(yield fy(I),ie)})),()=>{z.Rc(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return k1(yield fy(I),ie)}))}}(hr(_),b,d,p)}function py(n,t){return function(e,i){const r=new Lr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function u9(n,t,e){return B1.apply(this,arguments)}(yield hN(e),i,r)})),r.promise}(hr(n),t)}function CN(n,t,e){const i=e.docs.get(t._key),r=new Tm(n);return new Md(n,r,t._key,i,new Sm(e.hasPendingWrites,e.fromCache),t.converter)}class AQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Dm(t)}get(t){const e=cf(t,this._firestore),i=new yQ(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return pt();const s=r[0];if(s.isFoundDocument())return new E0(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new E0(this._firestore,i,e._key,null,e.converter);throw pt()})}set(t,e,i){const r=cf(t,this._firestore),s=TT(r.converter,e,i),c=ET(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=cf(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof Ad?yN(this._dataReader,"Transaction.update",s._key,e,i,r):_N(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=cf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=cf(t,this._firestore),i=new Tm(this._firestore);return super.get(t).then(r=>new Md(this._firestore,i,e._key,r._document,new Sm(!1,!1),e.converter))}}function EN(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function UG(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function HG(){if(!function J8(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){G_=Xs.SDK_VERSION,(0,Xs._registerComponent)(new ac.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new Ai(new H8(e.getProvider("auth-internal")),new $8(e.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Be(ve.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yh(d.options.projectId,p)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Xs.registerVersion)(kH,"3.4.15",n),(0,Xs.registerVersion)(kH,"3.4.15","esm2017")}();class S0{constructor(t){this._delegate=t}static fromBase64String(t){return HG(),new S0(mu.fromBase64String(t))}static fromUint8Array(t){return UG(),new S0(mu.fromUint8Array(t))}toBase64(){return HG(),this._delegate.toBase64()}toUint8Array(){return UG(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function DN(n){return function LQ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class VQ{enableIndexedDbPersistence(t,e){return function $9(n,t){yG(n=vn(n,Ai));const e=hr(n),i=n._freezeSettings(),r=new oN;return _G(e,r,new J3(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function z9(n){yG(n=vn(n,Ai));const t=hr(n),e=n._freezeSettings(),i=new oN;return _G(t,i,new S9(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function q9(n){if(n._initialized&&!n._terminated)throw new Be(ve.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Lr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!dc.C())return Promise.resolve();const r=i+"main";yield dc.delete(r)}),function(i){return e.apply(this,arguments)})(JP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class jG{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Yh||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&sm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function B9(n,t,e,i={}){var r;const s=(n=vn(n,w0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&sm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=Fr.MOCK_USER;else{c=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const p=i.mockUserToken.sub||i.mockUserToken.user_id;if(!p)throw new Be(ve.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new Fr(p)}n._authCredentials=new U8(new RH(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function Z9(n){return function k9(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield iG(n),e=yield rG(n);return t.setNetworkEnabled(!0),function(i){const r=ot(i);return r._u.delete(0),v0(r)}(e)}))}(hr(n=vn(n,Ai)))}(this._delegate)}disableNetwork(){return function Y9(n){return function R9(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield iG(n),e=yield rG(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const s=ot(r);s._u.add(0),yield oy(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(hr(n=vn(n,Ai)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,lG("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W9(n){return function(t){const e=new Lr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function p9(n,t){return $1.apply(this,arguments)}(yield hN(t),e)})),e.promise}(hr(n=vn(n,Ai)))}(this._delegate)}onSnapshotsInSync(t){return function TQ(n,t){return function N9(n,t){const e=new gT(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield fy(n),r=e,ot(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield fy(n),r=e,void ot(i).Ru.delete(r);var i,r}))}}(hr(n=vn(n,Ai)),mN(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new my(this,fG(this._delegate,t))}catch(e){throw oo(e,"collection()","Firestore.collection()")}}doc(t){try{return new ul(this,bT(this._delegate,t))}catch(e){throw oo(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ao(this,function U9(n,t){if(n=vn(n,w0),pN("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Be(ve.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ts(n,null,(e=t,new Id(Cn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw oo(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function MQ(n,t,e){n=vn(n,Ai);const i=Object.assign(Object.assign({},_Q),e);return function(r){if(r.maxAttempts<1)throw new Be(ve.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function F9(n,t,e){const i=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const r=yield(s=n,_T(s).then(c=>c.datastore));var s;new M9(n.asyncQueue,r,e,t,i).run()})),i.promise}(hr(n),r=>t(new AQ(n,r)),i)}(this._delegate,e=>t(new GG(this,e)))}batch(){return hr(this._delegate),new $G(new NG(this._delegate,t=>py(this._delegate,t)))}loadBundle(t){return function K9(n,t){const e=hr(n=vn(n,Ai)),i=new j9;return function L9(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,p=function(p,_){if(p instanceof Uint8Array)return eG(p,_);if(p instanceof ArrayBuffer)return eG(new Uint8Array(p),_);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new T9(p,c);var p}(e,y0(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function I9(n,t,e){const i=ot(n);var r;(r=(0,be.Z)(function*(s,c,d){try{const p=yield c.getMetadata();if(yield function(M,O){const N=ot(M),z=Vr(O.createTime);return N.persistence.runTransaction("hasNewerBundle","readonly",ie=>N.Ns.getBundleMetadata(ie,O.id)).then(ie=>!!ie&&ie.createTime.compareTo(z)>=0)}(s.localStore,p))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(M=p).totalDocuments,bytesLoaded:M.totalBytes,totalDocuments:M.totalDocuments,totalBytes:M.totalBytes}),Promise.resolve(new Set);d._updateProgress(G3(p));const _=new r9(p,s.localStore,c.It);let b=yield c.wc();for(;b;){const M=yield _.Ou(b);M&&d._updateProgress(M),b=yield c.wc()}const I=yield _.complete();return yield Td(s,I.Bu,void 0),yield function(M,O){const N=ot(M);return N.persistence.runTransaction("Save bundle","readwrite",z=>N.Ns.saveBundleMetadata(z,O))}(s.localStore,p),d._completeWith(I.progress),Promise.resolve(I.$u)}catch(p){return sm("SyncEngine",`Loading bundle failed with ${p}`),d._failWith(p),Promise.resolve(new Set)}var M}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield hN(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Q9(n,t){return function V9(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=ot(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield yT(n),t)}))}(hr(n=vn(n,Ai)),t).then(e=>e?new Ts(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ao(this,e):null)}}class AT extends wN{constructor(t){super(),this.firestore=t}convertBytes(t){return new S0(new mu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ul.forKey(e,this.firestore,null)}}class GG{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new AT(t)}get(t){const e=Mm(t);return this._delegate.get(e).then(i=>new T0(this._firestore,new Md(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Mm(t);return i?(EN("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Mm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Mm(t);return this._delegate.delete(e),this}}class $G{constructor(t){this._delegate=t}set(t,e,i){const r=Mm(t);return i?(EN("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Mm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Mm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Am{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new D0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new A0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Am.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new Am(t,new AT(t),e),r.set(e,s)),s}}Am.INSTANCES=new WeakMap;class ul{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new AT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ul(e,new wi(e._delegate,i,new tt(t)))}static forKey(t,e,i){return new ul(e,new wi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new my(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new my(this.firestore,fG(this._delegate,t))}catch(e){throw oo(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,F.m9)(t))instanceof wi&&pG(this._delegate,t)}set(t,e){e=EN("DocumentReference.set",e);try{return e?FG(this._delegate,t,e):FG(this._delegate,t)}catch(i){throw oo(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?LG(this._delegate,t):LG(this._delegate,t,e,...i)}catch(r){throw oo(r,"updateDoc()","DocumentReference.update()")}}delete(){return function IQ(n){return py(vn(n.firestore,Ai),[new J_(n._key,Ti.none())])}(this._delegate)}onSnapshot(...t){const e=zG(t),i=qG(t,r=>new T0(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return VG(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function bQ(n){n=vn(n,wi);const t=vn(n.firestore,Ai),e=hr(t),i=new Tm(t);return function O9(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,c){try{const d=yield function(p,_){const b=ot(p);return b.persistence.runTransaction("read document","readonly",I=>b.localDocuments.getDocument(I,_))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new Be(ve.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const p=cy(d,`Failed to get document '${s} from cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield yT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Md(t,i,n._key,r,new Sm(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function wQ(n){n=vn(n,wi);const t=vn(n.firestore,Ai);return sG(hr(t),n._key,{source:"server"}).then(e=>CN(t,n,e))}(this._delegate):function vQ(n){n=vn(n,wi);const t=vn(n.firestore,Ai);return sG(hr(t),n._key).then(e=>CN(t,n,e))}(this._delegate),e.then(i=>new T0(this.firestore,new Md(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ul(this.firestore,this._delegate.withConverter(t?Am.getInstance(this.firestore,t):null))}}function oo(n,t,e){return n.message=n.message.replace(t,e),n}function zG(n){for(const t of n)if("object"==typeof t&&!DN(t))return t;return{}}function qG(n,t){var e,i;let r;return r=DN(n[0])?n[0]:DN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class T0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ul(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return SG(this._delegate,t._delegate)}}class A0 extends T0{data(t){const e=this._delegate.data(t);return function V8(n,t){n||pt()}(void 0!==e),e}}class ao{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new AT(t)}where(t,e,i){try{return new ao(this.firestore,lf(this._delegate,function lQ(n,t,e){const i=t,r=ST("where",n);return new aQ(r,i,e)}(t,e,i)))}catch(r){throw oo(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ao(this.firestore,lf(this._delegate,function uQ(n,t="asc"){const e=t,i=ST("orderBy",n);return new cQ(i,e)}(t,e)))}catch(i){throw oo(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ao(this.firestore,lf(this._delegate,function dQ(n){return dG("limit",n),new AG("limit",n,"F")}(t)))}catch(e){throw oo(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ao(this.firestore,lf(this._delegate,function hQ(n){return dG("limitToLast",n),new AG("limitToLast",n,"L")}(t)))}catch(e){throw oo(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ao(this.firestore,lf(this._delegate,function fQ(...n){return new MG("startAt",n,!0)}(...t)))}catch(e){throw oo(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ao(this.firestore,lf(this._delegate,function pQ(...n){return new MG("startAfter",n,!1)}(...t)))}catch(e){throw oo(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ao(this.firestore,lf(this._delegate,function mQ(...n){return new xG("endBefore",n,!1)}(...t)))}catch(e){throw oo(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ao(this.firestore,lf(this._delegate,function gQ(...n){return new xG("endAt",n,!0)}(...t)))}catch(e){throw oo(e,"endAt()","Query.endAt()")}}isEqual(t){return mG(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function EQ(n){n=vn(n,Ts);const t=vn(n.firestore,Ai),e=hr(t),i=new Tm(t);return function P9(n,t){const e=new Lr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,s,c){try{const d=yield uT(r,s,!0),p=new q3(s,d.Hi),_=p.ju(d.documents),b=p.applyChanges(_,!1);c.resolve(b.snapshot)}catch(d){const p=cy(d,`Failed to execute query '${s} against cache`);c.reject(p)}}),function(r,s,c){return i.apply(this,arguments)})(yield yT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new af(t,i,n,r))}(this._delegate):"server"===t?.source?function DQ(n){n=vn(n,Ts);const t=vn(n.firestore,Ai),e=hr(t),i=new Tm(t);return oG(e,n._query,{source:"server"}).then(r=>new af(t,i,n,r))}(this._delegate):function CQ(n){n=vn(n,Ts);const t=vn(n.firestore,Ai),e=hr(t),i=new Tm(t);return TG(n._query),oG(e,n._query).then(r=>new af(t,i,n,r))}(this._delegate),e.then(i=>new IN(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=zG(t),i=qG(t,r=>new IN(this.firestore,new af(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return VG(this._delegate,e,i)}withConverter(t){return new ao(this.firestore,this._delegate.withConverter(t?Am.getInstance(this.firestore,t):null))}}class UQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new A0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class IN{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ao(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new A0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new UQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new A0(this._firestore,i))})}isEqual(t){return SG(this._delegate,t._delegate)}}class my extends ao{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ul(this.firestore,t):null}doc(t){try{return new ul(this.firestore,void 0===t?bT(this._delegate):bT(this._delegate,t))}catch(e){throw oo(e,"doc()","CollectionReference.doc()")}}add(t){return function SQ(n,t){const e=vn(n.firestore,Ai),i=bT(n),r=TT(n.converter,t);return py(e,[ET(Dm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ti.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ul(this.firestore,e))}isEqual(t){return pG(this._delegate,t._delegate)}withConverter(t){return new my(this.firestore,this._delegate.withConverter(t?Am.getInstance(this.firestore,t):null))}}function Mm(n){return vn(n,wi)}class SN{constructor(...t){this._delegate=new Ad(...t)}static documentId(){return new SN(Wi.keyField().canonicalString())}isEqual(t){return(t=(0,F.m9)(t))instanceof Ad&&this._delegate._internalPath.isEqual(t._internalPath)}}class xm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function kQ(){return new gN("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new xm(t)}static delete(){const t=function xQ(){return new C0("deleteField")}();return t._methodName="FieldValue.delete",new xm(t)}static arrayUnion(...t){const e=function RQ(...n){return new tQ("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new xm(e)}static arrayRemove(...t){const e=function OQ(...n){return new nQ("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new xm(e)}static increment(t){const e=function PQ(n){return new iQ("increment",n)}(t);return e._methodName="FieldValue.increment",new xm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const HQ={Firestore:jG,GeoPoint:wT,Timestamp:Si,Blob:S0,Transaction:GG,WriteBatch:$G,DocumentReference:ul,DocumentSnapshot:T0,Query:ao,QueryDocumentSnapshot:A0,QuerySnapshot:IN,CollectionReference:my,FieldPath:SN,FieldValue:xm,setLogLevel:function BQ(n){!function L8(n){zh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function WG(n,t){return function $Q(n,t=_h.z){return new ci.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function TN(n,t){return WG(n,t).pipe((0,ct.U)(e=>({payload:e,type:"query"})))}function MT(n,t){return TN(n,t).pipe(nr(void 0),OO(),(0,ct.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const p=r.find(b=>b.doc.ref.isEqual(c.ref)),_=e?.payload.docs.find(b=>b.ref.isEqual(c.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(c.metadata)||!p&&_&&JSON.stringify(_.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function ZG(n,t,e){return MT(n,e).pipe(Jp((i,r)=>function qQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function WQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return AN(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return AN(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return AN(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),Kl(),(0,ct.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function AN(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function YG(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function GQ(n){(function jQ(n,t){n.INTERNAL.registerComponent(new ac.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},HQ)))})(n,(t,e)=>new jG(t,e,new VQ)),n.registerVersion("@firebase/firestore-compat","0.1.24")}(bO.Z);class KG{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=MT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ct.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(nr(void 0),OO(),zn(([i,r])=>r.length>0||!i),(0,ct.U)(([i,r])=>r),An.iC)}auditTrail(t){return this.stateChanges(t).pipe(Jp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=YG(t);return ZG(this.query,e,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return TN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),An.iC)}get(t){return(0,rn.D)(this.query.get(t)).pipe(An.iC)}add(t){return this.ref.add(t)}doc(t){return new QG(this.ref.doc(t),this.afs)}}class QG{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=e$(i,e);return new KG(r,s,this.afs)}snapshotChanges(){return function zQ(n,t){return WG(n,t).pipe(nr(void 0),OO(),(0,ct.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,rn.D)(this.ref.get(t)).pipe(An.iC)}}class ZQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?MT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),zn(e=>e.length>0),An.iC):MT(this.query,this.afs.schedulers.outsideAngular).pipe(An.iC)}auditTrail(t){return this.stateChanges(t).pipe(Jp((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=YG(t);return ZG(this.query,e,this.afs.schedulers.outsideAngular).pipe(An.iC)}valueChanges(t={}){return TN(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),An.iC)}get(t){return(0,rn.D)(this.query.get(t)).pipe(An.iC)}}const XG=new o.OlP("angularfire2.enableFirestorePersistence"),JG=new o.OlP("angularfire2.firestore.persistenceSettings"),YQ=new o.OlP("angularfire2.firestore.settings"),KQ=new o.OlP("angularfire2.firestore.use-emulator");function e$(n,t=(e=>e)){return{query:t(n),ref:n}}let MN=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,I,M,O,N,z,ie,Me,ze){this.schedulers=p;const Je=(0,Er.on)(e,d,i),Qe=b;I&&vO(Je,d,M,N,z,ie,O,Me),[this.firestore,this.persistenceEnabled$]=(0,Er.cc)(`${Je.name}.firestore`,"AngularFirestore",Je.name,()=>{const It=d.runOutsideAngular(()=>Je.firestore());if(s&&It.settings(s),Qe&&It.useEmulator(...Qe),r&&!Ma(c)){const Mt=()=>{try{return(0,rn.D)(It.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(ln){return typeof console<"u"&&console.warn(ln),st(!1)}};return[It,d.runOutsideAngular(Mt)]}return[It,st(!1)]},[s,Qe,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=e$(r,i),d=this.schedulers.ngZone.run(()=>s);return new KG(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new ZQ(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new QG(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(XG,8),o.LFG(YQ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(An.HU),o.LFG(JG,8),o.LFG(KQ,8),o.LFG(vw,8),o.LFG(fO,8),o.LFG(pO,8),o.LFG(mO,8),o.LFG(gO,8),o.LFG(_O,8),o.LFG(yO,8),o.LFG(yw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),QQ=(()=>{class n{constructor(){oS.Z.registerVersion("angularfire",An.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:XG,useValue:!0},{provide:JG,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[MN]}),n})();const t$="@firebase/database";let xN="";function i$(n){xN=n}class eX{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class tX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const r$=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new eX(t)}}catch{}return new tX},km=r$("localStorage"),kN=r$("sessionStorage"),gy=new lc.Yd("@firebase/database"),s$=function(){let n=1;return function(){return n++}}(),o$=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},M0=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=M0.apply(null,i):t+="object"==typeof i?(0,F.Pz)(i):i,t+=" "}return t};let Rm=null,a$=!0;const l$=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(gy.logLevel=lc.in.VERBOSE,Rm=gy.log.bind(gy),t&&kN.set("logging_enabled",!0)):"function"==typeof n?Rm=n:(Rm=null,kN.remove("logging_enabled"))},Hr=function(...n){if(!0===a$&&(a$=!1,null===Rm&&!0===kN.get("logging_enabled")&&l$(!0)),Rm){const t=M0.apply(null,n);Rm(t)}},x0=function(n){return function(...t){Hr(n,...t)}},RN=function(...n){const t="FIREBASE INTERNAL ERROR: "+M0(...n);gy.error(t)},gu=function(...n){const t=`FIREBASE FATAL ERROR: ${M0(...n)}`;throw gy.error(t),new Error(t)},As=function(...n){const t="FIREBASE WARNING: "+M0(...n);gy.warn(t)},xT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},xd="[MIN_NAME]",_u="[MAX_NAME]",Om=function(n,t){if(n===t)return 0;if(n===xd||t===_u)return-1;if(t===xd||n===_u)return 1;{const e=kT(n),i=kT(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},rX=function(n,t){return n===t?0:n<t?-1:1},k0=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Pz)(t))},ON=function(n){if("object"!=typeof n||null===n)return(0,F.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Pz)(t[i]),e+=":",e+=ON(n[t[i]]);return e+="}",e},c$=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function jr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const u$=function(n){(0,F.hu)(!xT(n),"Invalid JSON number");const i=1023;let r,s,c,d,p;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const _=[];for(p=52;p;p-=1)_.push(c%2?1:0),c=Math.floor(c/2);for(p=11;p;p-=1)_.push(s%2?1:0),s=Math.floor(s/2);_.push(r?1:0),_.reverse();const b=_.join("");let I="";for(p=0;p<64;p+=8){let M=parseInt(b.substr(p,8),2).toString(16);1===M.length&&(M="0"+M),I+=M}return I.toLowerCase()},lX=new RegExp("^-?(0*)\\d{1,10}$"),d$=-2147483648,PN=2147483647,kT=function(n){if(lX.test(n)){const t=Number(n);if(t>=d$&&t<=PN)return t}return null},_y=function(n){try{n()}catch(t){setTimeout(()=>{throw As("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},R0=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class uX{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){As(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class dX{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(Hr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',As(t)}}let O0=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const g$=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,v$="websocket",b$="long_polling";class FN{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=km.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&km.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function w$(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===v$)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==b$)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function hX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return jr(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class fX{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const LN={},VN={};function BN(n){const t=n.toString();return LN[t]||(LN[t]=new fX),LN[t]}class mX{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&_y(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class uf{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x0(t),this.stats_=BN(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),w$(e,b$,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new mX(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new UN((...s)=>{const[c,d,p,_,b]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=p;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&g$.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uf.forceAllow_=!0}static forceDisallow(){uf.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!uf.forceAllow_&&(uf.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),r=c$(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class UN{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=s$(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=UN.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){Hr("frame writing exception"),d.stack&&Hr(d.stack),Hr(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Hr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{Hr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let OT=null;typeof MozWebSocket<"u"?OT=MozWebSocket:typeof WebSocket<"u"&&(OT=WebSocket);let yy=(()=>{class n{constructor(e,i,r,s,c,d,p){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x0(this.connId),this.stats_=BN(i),this.connURL=n.connectionURL_(i,d,p,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&g$.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),w$(e,v$,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,km.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${xN}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new OT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==OT&&!n.forceDisallow_}static previouslyFailed(){return km.isInMemoryStorage||!0===km.get("previous_websocket_failure")}markConnectionHealthy(){km.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,F.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=c$(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),A$=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[uf,yy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=yy&&yy.isAvailable();let r=i&&!yy.previouslyFailed();if(e.webSocketOnly&&(i||As("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yy];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class N${constructor(t,e,i,r,s,c,d,p,_,b){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=p,this.onKill_=_,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x0("c:"+this.id+":"),this.transportManager_=new A$(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=R0(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=k0("t",t),i=k0("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=k0("t",t),i=k0("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=k0("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?RN("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):RN("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&As("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),R0(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):R0(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(km.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class F${put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class L${constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class PT extends L${constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new PT}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Mn(){return new Fn("")}function sn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function df(n){return n.pieces_.length-n.pieceNum_}function ai(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Fn(n.pieces_,t)}function jN(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function P0(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function U$(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Fn(t,0)}function Mi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Fn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Fn(e,0)}function on(n){return n.pieceNum_>=n.pieces_.length}function lo(n,t){const e=sn(n),i=sn(t);if(null===e)return t;if(e===i)return lo(ai(n),ai(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function LX(n,t){const e=P0(n,0),i=P0(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Om(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function GN(n,t){if(df(n)!==df(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function dl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(df(n)>df(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class VX{constructor(t,e){this.errorPrefix_=e,this.parts_=P0(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);H$(this)}}function H$(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pm(n))}function Pm(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class $N extends L${constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new $N}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const N0=1e3;let FT,Nm=(()=>{class n extends F${constructor(e,i,r,s,c,d,p,_){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=p,this.authOverride_=_,this.id=n.nextPersistentConnectionId_++,this.log_=x0("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=N0,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$N.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&PT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,F.Pz)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new F.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const p=d.d;"ok"===d.s?i.resolve(p):i.reject(p)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const p={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,p=>{const _=p.d,b=p.s;n.warnOnListenWarnings_(_,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",p),"ok"!==b&&this.removeListen_(r,s),e.onComplete&&e.onComplete(b,_))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const r=(0,F.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();As(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):RN("Unrecognized action received from server: "+(0,F.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=N0,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=N0,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=N0),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let p=!1,_=null;const b=function(){_?_.close():(p=!0,s())};e.realtime_={close:b,sendRequest:function(O){(0,F.hu)(_,"sendRequest call when we're not connected not allowed."),_.sendRequest(O)}};const M=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[O,N]=yield Promise.all([e.authTokenProvider_.getToken(M),e.appCheckTokenProvider_.getToken(M)]);p?Hr("getToken() completed but was canceled"):(Hr("getToken() completed. Creating connection."),e.authToken_=O&&O.accessToken,e.appCheckToken_=N&&N.token,_=new N$(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,z=>{As(z+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(O){e.log_("Failed to get token: "+O),p||(e.repoInfo_.nodeAdmin&&As(O),b())}}})()}interrupt(e){Hr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Hr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=N0,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>ON(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new Fn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){Hr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Hr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+xN.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=PT.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class fn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new fn(t,e)}}class NT{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new fn(xd,t),r=new fn(xd,e);return 0!==this.compare(i,r)}minPost(){return fn.MIN}}class $$ extends NT{static get __EMPTY_NODE(){return FT}static set __EMPTY_NODE(t){FT=t}compare(t,e){return Om(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return fn.MIN}maxPost(){return new fn(_u,FT)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new fn(t,FT)}toString(){return".key"}}const yu=new $$;class LT{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let qN,hc=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??No.EMPTY_NODE,this.right=c??No.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return No.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return No.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class No{constructor(t,e=No.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new No(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,hc.BLACK,null,null))}remove(t){return new No(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,hc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new LT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new LT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new LT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new LT(this.root_,null,this.comparator_,!0,t)}}function qX(n,t){return Om(n.name,t.name)}function zN(n,t){return Om(n,t)}No.EMPTY_NODE=new class zX{copy(t,e,i,r,s){return this}insert(t,e,i){return new hc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const z$=function(n){return"number"==typeof n?"number:"+u$(n):"string:"+n},q$=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===qN||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===qN||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let W$,Z$,Y$,vy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),q$(this.priorityNode_)}static set __childrenNodeConstructor(e){W$=e}static get __childrenNodeConstructor(){return W$}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return on(e)?this:".priority"===sn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=sn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===df(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ai(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+z$(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?u$(this.value_):this.value_,this.lazyHash_=o$(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(s>=0,"Unknown leaf type: "+i),(0,F.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class KX extends NT{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Om(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return fn.MIN}maxPost(){return new fn(_u,new vy("[PRIORITY-POST]",Y$))}makePost(t,e){const i=Z$(t);return new fn(e,new vy("[PRIORITY-POST]",i))}toString(){return".priority"}},QX=Math.log(2);class XX{constructor(t){this.count=parseInt(Math.log(t+1)/QX,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const VT=function(n,t,e,i){n.sort(t);const r=function(p,_){const b=_-p;let I,M;if(0===b)return null;if(1===b)return I=n[p],M=e?e(I):I,new hc(M,I.node,hc.BLACK,null,null);{const O=parseInt(b/2,10)+p,N=r(p,O),z=r(O+1,_);return I=n[O],M=e?e(I):I,new hc(M,I.node,hc.BLACK,N,z)}},d=function(p){let _=null,b=null,I=n.length;const M=function(N,z){const ie=I-N,Me=I;I-=N;const ze=r(ie+1,Me),Je=n[ie],Qe=e?e(Je):Je;O(new hc(Qe,Je.node,z,null,ze))},O=function(N){_?(_.left=N,_=N):(b=N,_=N)};for(let N=0;N<p.count;++N){const z=p.nextBitIsOne(),ie=Math.pow(2,p.count-(N+1));z?M(ie,hc.BLACK):(M(ie,hc.BLACK),M(ie,hc.RED))}return b}(new XX(n.length));return new No(i||t,d)};let WN;const by={};class kd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(by&&di,"ChildrenNode.ts has not been loaded"),WN=WN||new kd({".priority":by},{".priority":di}),WN}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof No?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==yu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(fn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?VT(i,t.getCompare()):by;const p=t.toString(),_=Object.assign({},this.indexSet_);_[p]=t;const b=Object.assign({},this.indexes_);return b[p]=d,new kd(b,_)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(r,s)=>{const c=(0,F.DV)(this.indexSet_,s);if((0,F.hu)(c,"Missing index implementation for "+s),r===by){if(c.isDefinedOn(t.node)){const d=[],p=e.getIterator(fn.Wrap);let _=p.getNext();for(;_;)_.name!==t.name&&d.push(_),_=p.getNext();return d.push(t),VT(d,c.getCompare())}return by}{const d=e.get(t.name);let p=r;return d&&(p=p.remove(new fn(t.name,d))),p.insert(t,t.node)}});return new kd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,r=>{if(r===by)return r;{const s=e.get(t.name);return s?r.remove(new fn(t.name,s)):r}});return new kd(i,this.indexSet_)}}let F0,Xt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&q$(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return F0||(F0=new n(new No(zN),null,kd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||F0}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?F0:i}}getChild(e){const i=sn(e);return null===i?this:this.getImmediateChild(i).getChild(ai(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new fn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?F0:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=sn(e);if(null===r)return i;{(0,F.hu)(".priority"!==sn(e)||1===df(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(ai(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(di,(d,p)=>{i[d]=p.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const p in i)d[p]=i[p];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+z$(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":o$(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new fn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new fn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new fn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,fn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,fn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===L0?-1:0}withIndex(e){if(e===yu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===yu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),s=i.getIterator(di);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===yu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const L0=new class JX extends Xt{constructor(){super(new No(zN),Xt.EMPTY_NODE,kd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Xt.EMPTY_NODE}isEmpty(){return!1}};function Fi(n,t=null){if(null===n)return Xt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new vy(n,Fi(t));if(n instanceof Array){let e=Xt.EMPTY_NODE;return jr(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const s=Fi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(Fi(t))}{const e=[];let i=!1;if(jr(n,(c,d)=>{if("."!==c.substring(0,1)){const p=Fi(d);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new fn(c,p)))}}),0===e.length)return Xt.EMPTY_NODE;const s=VT(e,qX,c=>c.name,zN);if(i){const c=VT(e,di.getCompare());return new Xt(s,Fi(t),new kd({".priority":c},{".priority":di}))}return new Xt(s,Fi(t),kd.Default)}}Object.defineProperties(fn,{MIN:{value:new fn(xd,Xt.EMPTY_NODE)},MAX:{value:new fn(_u,L0)}}),$$.__EMPTY_NODE=Xt.EMPTY_NODE,vy.__childrenNodeConstructor=Xt,function WX(n){qN=n}(L0),function YX(n){Y$=n}(L0),function ZX(n){Z$=n}(Fi);class ZN extends NT{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!on(t)&&".priority"!==sn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Om(t.name,e.name):s}makePost(t,e){const i=Fi(t),r=Xt.EMPTY_NODE.updateChild(this.indexPath_,i);return new fn(e,r)}maxPost(){const t=Xt.EMPTY_NODE.updateChild(this.indexPath_,L0);return new fn(_u,t)}toString(){return P0(this.indexPath_,0).join("/")}}const YN=new class tJ extends NT{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Om(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return fn.MIN}maxPost(){return fn.MAX}makePost(t,e){const i=Fi(t);return new fn(e,i)}toString(){return".value"}},wy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nJ=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=wy.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=wy.charAt(t[r]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),X$=function(n){if(n===""+PN)return"-";const t=kT(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return _u;const s=wy.charAt(wy.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},J$=function(n){if(n===""+d$)return xd;const t=kT(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+PN:(delete e[e.length-1],e.join("")):(e[e.length-1]=wy.charAt(wy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function ez(n){return{type:"value",snapshotNode:n}}function Cy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function V0(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function B0(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class QN{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(V0(e,d)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Cy(e,i)):c.trackChildChange(B0(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(di,(r,s)=>{e.hasChild(r)||i.trackChildChange(V0(r,s))}),e.isLeafNode()||e.forEachChild(di,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(B0(r,s,c))}else i.trackChildChange(Cy(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Xt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class U0{constructor(t){this.indexedFilter_=new QN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=U0.getStartPost_(t),this.endPost_=U0.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new fn(e,i))||(i=Xt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Xt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Xt.EMPTY_NODE);const s=this;return e.forEachChild(di,(c,d)=>{s.matches(new fn(c,d))||(r=r.updateImmediateChild(c,Xt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class rJ{constructor(t){this.rangedFilter_=new U0(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new fn(e,i))||(i=Xt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Xt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Xt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let p;if(p=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!p)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,p;if(r=e.withIndex(this.index_),r=r.updatePriority(Xt.EMPTY_NODE),this.reverse_){p=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const I=this.index_.getCompare();d=(M,O)=>I(O,M)}else p=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let _=0,b=!1;for(;p.hasNext();){const I=p.getNext();!b&&d(s,I)<=0&&(b=!0),b&&_<this.limit_&&d(I,c)<=0?_++:r=r.updateImmediateChild(I.name,Xt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const I=this.index_.getCompare();c=(M,O)=>I(O,M)}else c=this.index_.getCompare();const d=t;(0,F.hu)(d.numChildren()===this.limit_,"");const p=new fn(e,i),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),b=this.rangedFilter_.matches(p);if(d.hasChild(e)){const I=d.getImmediateChild(e);let M=r.getChildAfterChild(this.index_,_,this.reverse_);for(;null!=M&&(M.name===e||d.hasChild(M.name));)M=r.getChildAfterChild(this.index_,M,this.reverse_);const O=null==M?1:c(M,p);if(b&&!i.isEmpty()&&O>=0)return s?.trackChildChange(B0(e,i,I)),d.updateImmediateChild(e,i);{s?.trackChildChange(V0(e,I));const z=d.updateImmediateChild(e,Xt.EMPTY_NODE);return null!=M&&this.rangedFilter_.matches(M)?(s?.trackChildChange(Cy(M.name,M.node)),z.updateImmediateChild(M.name,M.node)):z}}return i.isEmpty()?t:b&&c(_,p)>=0?(null!=s&&(s.trackChildChange(V0(_.name,_.node)),s.trackChildChange(Cy(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(_.name,Xt.EMPTY_NODE)):t}}class BT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:xd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_u}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new BT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function XN(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function JN(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function UT(n,t){const e=n.copy();return e.index_=t,e}function tz(n){const t={};if(n.isDefault())return t;let e;return n.index_===di?e="$priority":n.index_===YN?e="$value":n.index_===yu?e="$key":((0,F.hu)(n.index_ instanceof ZN,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Pz)(e),n.startSet_&&(t.startAt=(0,F.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,F.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,F.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,F.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function nz(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class HT extends F${constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=x0("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=HT.getListenId_(t,i),d={};this.listens_[c]=d;const p=tz(t._queryParams);this.restRequest_(s+".json",p,(_,b)=>{let I=b;if(404===_&&(I=null,_=null),null===_&&this.onDataUpdate_(s,I,!1,i),(0,F.DV)(this.listens_,c)===d){let M;M=_?401===_?"permission_denied":"rest_error:"+_:"ok",r(M,null)}})}unlisten(t,e){const i=HT.getListenId_(t,e);delete this.listens_[i]}get(t){const e=tz(t._queryParams),i=t._path.toString(),r=new F.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let p=null;if(d.status>=200&&d.status<300){try{p=(0,F.cI)(d.responseText)}catch{As("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,p)}else 401!==d.status&&404!==d.status&&As("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class uJ{constructor(){this.rootNode_=Xt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function jT(){return{value:null,children:new Map}}function Ey(n,t,e){if(on(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=sn(t);n.children.has(i)||n.children.set(i,jT()),Ey(n.children.get(i),t=ai(t),e)}}function eF(n,t){if(on(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(i,r)=>{Ey(n,new Fn(i),r)}),eF(n,t)}}if(n.children.size>0){const e=sn(t);return t=ai(t),n.children.has(e)&&eF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function tF(n,t,e){null!==n.value?e(t,n.value):function dJ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{tF(r,new Fn(t.toString()+"/"+i),e)})}class hJ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&jr(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class mJ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new hJ(t);const i=1e4+2e4*Math.random();R0(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;jr(t,(r,s)=>{s>0&&(0,F.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),R0(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var hl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(hl||(hl={})),hl))();function rF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class GT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=hl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(on(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Fn(t));return new GT(Mn(),e,this.revert)}}return(0,F.hu)(sn(this.path)===t,"operationForChild called for unrelated child."),new GT(ai(this.path),this.affectedTree,this.revert)}}class H0{constructor(t,e){this.source=t,this.path=e,this.type=hl.LISTEN_COMPLETE}operationForChild(t){return on(this.path)?new H0(this.source,Mn()):new H0(this.source,ai(this.path))}}class Fm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=hl.OVERWRITE}operationForChild(t){return on(this.path)?new Fm(this.source,Mn(),this.snap.getImmediateChild(t)):new Fm(this.source,ai(this.path),this.snap)}}class Dy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=hl.MERGE}operationForChild(t){if(on(this.path)){const e=this.children.subtree(new Fn(t));return e.isEmpty()?null:e.value?new Fm(this.source,Mn(),e.value):new Dy(this.source,Mn(),e)}return(0,F.hu)(sn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Dy(this.source,ai(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class hf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(on(t))return this.isFullyInitialized()&&!this.filtered_;const e=sn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class gJ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function j0(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,p)=>function vJ(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new fn(t.childName,t.snapshotNode),r=new fn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,p)),c.forEach(d=>{const p=function yJ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(p,n.query_))})})}function $T(n,t){return{eventCache:n,serverCache:t}}function G0(n,t,e,i){return $T(new hf(t,e,i),n.serverCache)}function rz(n,t,e,i){return $T(n.eventCache,new hf(t,e,i))}function zT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Lm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let sF;class hi{constructor(t,e=(()=>(sF||(sF=new No(rX)),sF))()){this.value=t,this.children=e}static fromObject(t){let e=new hi(null);return jr(t,(i,r)=>{e=e.set(new Fn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Mn(),value:this.value};if(on(t))return null;{const i=sn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(ai(t),e);return null!=s?{path:Mi(new Fn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(on(t))return this;{const e=sn(t),i=this.children.get(e);return null!==i?i.subtree(ai(t)):new hi(null)}}set(t,e){if(on(t))return new hi(e,this.children);{const i=sn(t),s=(this.children.get(i)||new hi(null)).set(ai(t),e),c=this.children.insert(i,s);return new hi(this.value,c)}}remove(t){if(on(t))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const e=sn(t),i=this.children.get(e);if(i){const r=i.remove(ai(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new hi(null):new hi(this.value,s)}return this}}get(t){if(on(t))return this.value;{const e=sn(t),i=this.children.get(e);return i?i.get(ai(t)):null}}setTree(t,e){if(on(t))return e;{const i=sn(t),s=(this.children.get(i)||new hi(null)).setTree(ai(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new hi(this.value,c)}}fold(t){return this.fold_(Mn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Mi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Mn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(on(t))return null;{const s=sn(t),c=this.children.get(s);return c?c.findOnPath_(ai(t),Mi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Mn(),e)}foreachOnPath_(t,e,i){if(on(t))return this;{this.value&&i(e,this.value);const r=sn(t),s=this.children.get(r);return s?s.foreachOnPath_(ai(t),Mi(e,r),i):new hi(null)}}foreach(t){this.foreach_(Mn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Mi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class fc{constructor(t){this.writeTree_=t}static empty(){return new fc(new hi(null))}}function $0(n,t,e){if(on(t))return new fc(new hi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=lo(r,t);return s=s.updateChild(c,e),new fc(n.writeTree_.set(r,s))}{const r=new hi(e),s=n.writeTree_.setTree(t,r);return new fc(s)}}}function oF(n,t,e){let i=n;return jr(e,(r,s)=>{i=$0(i,Mi(t,r),s)}),i}function sz(n,t){if(on(t))return fc.empty();{const e=n.writeTree_.setTree(t,new hi(null));return new fc(e)}}function aF(n,t){return null!=Vm(n,t)}function Vm(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(lo(e.path,t)):null}function oz(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(i,r)=>{t.push(new fn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new fn(i,r.value))}),t}function ff(n,t){if(on(t))return n;{const e=Vm(n,t);return new fc(null!=e?new hi(e):n.writeTree_.subtree(t))}}function lF(n){return n.writeTree_.isEmpty()}function Iy(n,t){return az(Mn(),n.writeTree_,t)}function az(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,F.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=az(Mi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Mi(n,".priority"),i)),e}}function qT(n,t){return hz(t,n)}function IJ(n,t){if(n.snap)return dl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&dl(Mi(n.path,e),t))return!0;return!1}function TJ(n){return n.visible}function lz(n,t,e){let i=fc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)dl(e,c)?(d=lo(e,c),i=$0(i,d,s.snap)):dl(c,e)&&(d=lo(c,e),i=$0(i,Mn(),s.snap.getChild(d)));else{if(!s.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(dl(e,c))d=lo(e,c),i=oF(i,d,s.children);else if(dl(c,e))if(d=lo(c,e),on(d))i=oF(i,Mn(),s.children);else{const p=(0,F.DV)(s.children,sn(d));if(p){const _=p.getChild(ai(d));i=$0(i,Mn(),_)}}}}}return i}function cz(n,t,e,i,r){if(i||r){const s=ff(n.visibleWrites,t);return!r&&lF(s)?e:r||null!=e||aF(s,Mn())?Iy(lz(n.allWrites,function(_){return(_.visible||r)&&(!i||!~i.indexOf(_.writeId))&&(dl(_.path,t)||dl(t,_.path))},t),e||Xt.EMPTY_NODE):null}{const s=Vm(n.visibleWrites,t);if(null!=s)return s;{const c=ff(n.visibleWrites,t);return lF(c)?e:null!=e||aF(c,Mn())?Iy(c,e||Xt.EMPTY_NODE):null}}}function WT(n,t,e,i){return cz(n.writeTree,n.treePath,t,e,i)}function cF(n,t){return function AJ(n,t,e){let i=Xt.EMPTY_NODE;const r=Vm(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(di,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=ff(n.visibleWrites,t);return e.forEachChild(di,(c,d)=>{const p=Iy(ff(s,new Fn(c)),d);i=i.updateImmediateChild(c,p)}),oz(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return oz(ff(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function uz(n,t,e,i){return function MJ(n,t,e,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Mi(t,e);if(aF(n.visibleWrites,s))return null;{const c=ff(n.visibleWrites,s);return lF(c)?r.getChild(e):Iy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function ZT(n,t){return function kJ(n,t){return Vm(n.visibleWrites,t)}(n.writeTree,Mi(n.treePath,t))}function uF(n,t,e){return function xJ(n,t,e,i){const r=Mi(t,e),s=Vm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?Iy(ff(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function dz(n,t){return hz(Mi(n.treePath,t),n.writeTree)}function hz(n,t){return{treePath:n,writeTree:t}}class NJ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,B0(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,V0(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Cy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,B0(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const fz=new class FJ{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class dF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new hf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return uF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Lm(this.viewCache_),s=function PJ(n,t,e,i,r,s){return function RJ(n,t,e,i,r,s,c){let d;const p=ff(n.visibleWrites,t),_=Vm(p,Mn());if(null!=_)d=_;else{if(null==e)return[];d=Iy(p,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const b=[],I=c.getCompare(),M=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let O=M.getNext();for(;O&&b.length<r;)0!==I(O,i)&&b.push(O),O=M.getNext();return b}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function pz(n,t,e,i,r,s){const c=t.eventCache;if(null!=ZT(i,e))return t;{let d,p;if(on(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Lm(t),I=cF(i,_ instanceof Xt?_:Xt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),I,s)}else{const _=WT(i,Lm(t));d=n.filter.updateFullNode(t.eventCache.getNode(),_,s)}else{const _=sn(e);if(".priority"===_){(0,F.hu)(1===df(e),"Can't have a priority with additional path components");const b=c.getNode();p=t.serverCache.getNode();const I=uz(i,e,b,p);d=null!=I?n.filter.updatePriority(b,I):c.getNode()}else{const b=ai(e);let I;if(c.isCompleteForChild(_)){p=t.serverCache.getNode();const M=uz(i,e,c.getNode(),p);I=null!=M?c.getNode().getImmediateChild(_).updateChild(b,M):c.getNode().getImmediateChild(_)}else I=uF(i,_,t.serverCache);d=null!=I?n.filter.updateChild(c.getNode(),_,I,b,r,s):c.getNode()}}return G0(t,d,c.isFullyInitialized()||on(e),n.filter.filtersNodes())}}function YT(n,t,e,i,r,s,c,d){const p=t.serverCache;let _;const b=c?n.filter:n.filter.getIndexedFilter();if(on(e))_=b.updateFullNode(p.getNode(),i,null);else if(b.filtersNodes()&&!p.isFiltered()){const O=p.getNode().updateChild(e,i);_=b.updateFullNode(p.getNode(),O,null)}else{const O=sn(e);if(!p.isCompleteForPath(e)&&df(e)>1)return t;const N=ai(e),ie=p.getNode().getImmediateChild(O).updateChild(N,i);_=".priority"===O?b.updatePriority(p.getNode(),ie):b.updateChild(p.getNode(),O,ie,N,fz,null)}const I=rz(t,_,p.isFullyInitialized()||on(e),b.filtersNodes());return pz(n,I,e,r,new dF(r,I,s),d)}function hF(n,t,e,i,r,s,c){const d=t.eventCache;let p,_;const b=new dF(r,t,s);if(on(e))_=n.filter.updateFullNode(t.eventCache.getNode(),i,c),p=G0(t,_,!0,n.filter.filtersNodes());else{const I=sn(e);if(".priority"===I)_=n.filter.updatePriority(t.eventCache.getNode(),i),p=G0(t,_,d.isFullyInitialized(),d.isFiltered());else{const M=ai(e),O=d.getNode().getImmediateChild(I);let N;if(on(M))N=i;else{const z=b.getCompleteChild(I);N=null!=z?".priority"===jN(M)&&z.getChild(U$(M)).isEmpty()?z:z.updateChild(M,i):Xt.EMPTY_NODE}p=O.equals(N)?t:G0(t,n.filter.updateChild(d.getNode(),I,N,M,b,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return p}function mz(n,t){return n.eventCache.isCompleteForChild(t)}function gz(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function fF(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let _,p=t;_=on(e)?i:new hi(null).setTree(e,i);const b=t.serverCache.getNode();return _.children.inorderTraversal((I,M)=>{if(b.hasChild(I)){const N=gz(0,t.serverCache.getNode().getImmediateChild(I),M);p=YT(n,p,new Fn(I),N,r,s,c,d)}}),_.children.inorderTraversal((I,M)=>{const O=!t.serverCache.isCompleteForChild(I)&&null===M.value;if(!b.hasChild(I)&&!O){const z=gz(0,t.serverCache.getNode().getImmediateChild(I),M);p=YT(n,p,new Fn(I),z,r,s,c,d)}}),p}class zJ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new QN(i.getIndex()),s=function sJ(n){return n.loadsAllData()?new QN(n.getIndex()):n.hasLimit()?new rJ(n):new U0(n)}(i);this.processor_=function LJ(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,p=r.updateFullNode(Xt.EMPTY_NODE,c.getNode(),null),_=s.updateFullNode(Xt.EMPTY_NODE,d.getNode(),null),b=new hf(p,c.isFullyInitialized(),r.filtersNodes()),I=new hf(_,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=$T(I,b),this.eventGenerator_=new gJ(this.query_)}get query(){return this.query_}}function ZJ(n,t){const e=Lm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!on(t)&&!e.getImmediateChild(sn(t)).isEmpty())?e.getChild(t):null}function _z(n){return 0===n.eventRegistrations_.length}function yz(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function vz(n,t,e,i){t.type===hl.MERGE&&null!==t.source.queryId&&((0,F.hu)(Lm(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(zT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function BJ(n,t,e,i,r){const s=new NJ;let c,d;if(e.type===hl.OVERWRITE){const _=e;_.source.fromUser?c=hF(n,t,_.path,_.snap,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!on(_.path),c=YT(n,t,_.path,_.snap,i,r,d,s))}else if(e.type===hl.MERGE){const _=e;_.source.fromUser?c=function HJ(n,t,e,i,r,s,c){let d=t;return i.foreach((p,_)=>{const b=Mi(e,p);mz(t,sn(b))&&(d=hF(n,d,b,_,r,s,c))}),i.foreach((p,_)=>{const b=Mi(e,p);mz(t,sn(b))||(d=hF(n,d,b,_,r,s,c))}),d}(n,t,_.path,_.children,i,r,s):((0,F.hu)(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),c=fF(n,t,_.path,_.children,i,r,d,s))}else if(e.type===hl.ACK_USER_WRITE){const _=e;c=_.revert?function $J(n,t,e,i,r,s){let c;if(null!=ZT(i,e))return t;{const d=new dF(i,t,r),p=t.eventCache.getNode();let _;if(on(e)||".priority"===sn(e)){let b;if(t.serverCache.isFullyInitialized())b=WT(i,Lm(t));else{const I=t.serverCache.getNode();(0,F.hu)(I instanceof Xt,"serverChildren would be complete if leaf node"),b=cF(i,I)}_=n.filter.updateFullNode(p,b,s)}else{const b=sn(e);let I=uF(i,b,t.serverCache);null==I&&t.serverCache.isCompleteForChild(b)&&(I=p.getImmediateChild(b)),_=null!=I?n.filter.updateChild(p,b,I,ai(e),d,s):t.eventCache.getNode().hasChild(b)?n.filter.updateChild(p,b,Xt.EMPTY_NODE,ai(e),d,s):p,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=WT(i,Lm(t)),c.isLeafNode()&&(_=n.filter.updateFullNode(_,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=ZT(i,Mn()),G0(t,_,c,n.filter.filtersNodes())}}(n,t,_.path,i,r,s):function jJ(n,t,e,i,r,s,c){if(null!=ZT(r,e))return t;const d=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(on(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return YT(n,t,e,p.getNode().getChild(e),r,s,d,c);if(on(e)){let _=new hi(null);return p.getNode().forEachChild(yu,(b,I)=>{_=_.set(new Fn(b),I)}),fF(n,t,e,_,r,s,d,c)}return t}{let _=new hi(null);return i.foreach((b,I)=>{const M=Mi(e,b);p.isCompleteForPath(M)&&(_=_.set(b,p.getNode().getChild(M)))}),fF(n,t,e,_,r,s,d,c)}}(n,t,_.path,_.affectedTree,i,r,s)}else{if(e.type!==hl.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);c=function GJ(n,t,e,i,r){const s=t.serverCache;return pz(n,rz(t,s.getNode(),s.isFullyInitialized()||on(e),s.isFiltered()),e,i,fz,r)}(n,t,e.path,i,s)}const p=s.getChanges();return function UJ(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=zT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(ez(zT(t)))}}(t,c,p),{viewCache:c,changes:p}}(n.processor_,r,t,e,i);return function VJ(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,F.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,bz(n,s.changes,s.viewCache.eventCache.getNode(),null)}function bz(n,t,e,i){return function _J(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function iJ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),j0(n,r,"child_removed",t,i,e),j0(n,r,"child_added",t,i,e),j0(n,r,"child_moved",s,i,e),j0(n,r,"child_changed",t,i,e),j0(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let KT,XT;class wz{constructor(){this.views=new Map}}function pF(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,F.hu)(null!=s,"SyncTree gave us an op for an invalid query."),vz(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(vz(c,t,e,i));return s}}function Cz(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=WT(e,r?i:null),p=!1;d?p=!0:i instanceof Xt?(d=cF(e,i),p=!1):(d=Xt.EMPTY_NODE,p=!1);const _=$T(new hf(d,p,!1),new hf(i,r,!1));return new zJ(t,_)}return c}function Ez(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function pf(n,t){let e=null;for(const i of n.views.values())e=e||ZJ(i,t);return e}function Dz(n,t){return t._queryParams.loadsAllData()?QT(n):n.views.get(t._queryIdentifier)}function Iz(n,t){return null!=Dz(n,t)}function mf(n){return null!=QT(n)}function QT(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let ree=1;class Sz{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function OJ(){return{visibleWrites:fc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mF(n,t,e,i,r){return function wJ(n,t,e,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=$0(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Sy(n,new Fm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function gf(n,t,e=!1){const i=function EJ(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function DJ(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&IJ(d,i.path)?r=!1:dl(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function SJ(n){n.visibleWrites=lz(n.allWrites,TJ,Mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=sz(n.visibleWrites,i.path):jr(i.children,p=>{n.visibleWrites=sz(n.visibleWrites,Mi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let s=new hi(null);return null!=i.snap?s=s.set(Mn(),!0):jr(i.children,c=>{s=s.set(new Fn(c),!0)}),Sy(n,new GT(i.path,s,e))}return[]}function z0(n,t,e){return Sy(n,new Fm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function JT(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||Iz(c,t))){const p=function tee(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=mf(n);if("default"===r)for(const[p,_]of n.views.entries())c=c.concat(yz(_,e,i)),_z(_)&&(n.views.delete(p),_.query._queryParams.loadsAllData()||s.push(_.query));else{const p=n.views.get(r);p&&(c=c.concat(yz(p,e,i)),_z(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||s.push(p.query)))}return d&&!mf(n)&&s.push(new(function XJ(){return(0,F.hu)(KT,"Reference.ts has not been loaded"),KT}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function JJ(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const _=p.removed;if(d=p.events,!r){const b=-1!==_.findIndex(M=>M._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(s,(M,O)=>mf(O));if(b&&!I){const M=n.syncPointTree_.subtree(s);if(!M.isEmpty()){const O=function dee(n){return n.fold((t,e,i)=>{if(e&&mf(e))return[QT(e)];{let r=[];return e&&(r=Ez(e)),jr(i,(s,c)=>{r=r.concat(c)}),r}})}(M);for(let N=0;N<O.length;++N){const z=O[N],ie=z.query,Me=xz(n,z);n.listenProvider_.startListening(W0(ie),q0(n,ie),Me.hashFn,Me.onComplete)}}}!I&&_.length>0&&!i&&(b?n.listenProvider_.stopListening(W0(t),null):_.forEach(M=>{const O=n.queryToTagMap.get(tA(M));n.listenProvider_.stopListening(W0(M),O)}))}!function hee(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=tA(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,_)}return d}function Tz(n,t,e,i){const r=_F(n,i);if(null!=r){const s=yF(r),c=s.path,d=s.queryId,p=lo(c,t);return vF(n,c,new Fm(rF(d),p,e))}return[]}function gF(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(M,O)=>{const N=lo(M,r);s=s||pf(O,N),c=c||mf(O)});let p,d=n.syncPointTree_.get(r);d?(c=c||mf(d),s=s||pf(d,Mn())):(d=new wz,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?p=!0:(p=!1,s=Xt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((O,N)=>{const z=pf(N,Mn());z&&(s=s.updateImmediateChild(O,z))}));const _=Iz(d,t);if(!_&&!t._queryParams.loadsAllData()){const M=tA(t);(0,F.hu)(!n.queryToTagMap.has(M),"View does not exist, but we have a tag");const O=function fee(){return ree++}();n.queryToTagMap.set(M,O),n.tagToQueryMap.set(O,M)}let I=function eee(n,t,e,i,r,s){const c=Cz(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function YJ(n,t){n.eventRegistrations_.push(t)}(c,e),function KJ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(s,c)=>{i.push(Cy(s,c))}),e.isFullyInitialized()&&i.push(ez(e.getNode())),bz(n,i,e.getNode(),t)}(c,e)}(d,t,e,qT(n.pendingWriteTree_,r),s,p);if(!_&&!c&&!i){const M=Dz(d,t);I=I.concat(function pee(n,t,e){const i=t._path,r=q0(n,t),s=xz(n,e),c=n.listenProvider_.startListening(W0(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!mf(d.value),"If we're adding a query, it shouldn't be shadowed");else{const p=d.fold((_,b,I)=>{if(!on(_)&&b&&mf(b))return[QT(b).query];{let M=[];return b&&(M=M.concat(Ez(b).map(O=>O.query))),jr(I,(O,N)=>{M=M.concat(N)}),M}});for(let _=0;_<p.length;++_){const b=p[_];n.listenProvider_.stopListening(W0(b),q0(n,b))}}return c}(n,t,M))}return I}function eA(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const _=pf(d,lo(c,t));if(_)return _});return cz(r,t,s,e,!0)}function Sy(n,t){return Az(t,n.syncPointTree_,null,qT(n.pendingWriteTree_,Mn()))}function Az(n,t,e,i){if(on(n.path))return Mz(n,t,e,i);{const r=t.get(Mn());null==e&&null!=r&&(e=pf(r,Mn()));let s=[];const c=sn(n.path),d=n.operationForChild(c),p=t.children.get(c);if(p&&d){const _=e?e.getImmediateChild(c):null,b=dz(i,c);s=s.concat(Az(d,p,_,b))}return r&&(s=s.concat(pF(r,n,i,e))),s}}function Mz(n,t,e,i){const r=t.get(Mn());null==e&&null!=r&&(e=pf(r,Mn()));let s=[];return t.children.inorderTraversal((c,d)=>{const p=e?e.getImmediateChild(c):null,_=dz(i,c),b=n.operationForChild(c);b&&(s=s.concat(Mz(b,d,p,_)))}),r&&(s=s.concat(pF(r,n,i,e))),s}function xz(n,t){const e=t.query,i=q0(n,e);return{hashFn:()=>(function qJ(n){return n.viewCache_.serverCache.getNode()}(t)||Xt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function lee(n,t,e){const i=_F(n,e);if(i){const r=yF(i),s=r.path,c=r.queryId,d=lo(s,t);return vF(n,s,new H0(rF(c),d))}return[]}(n,e._path,i):function aee(n,t){return Sy(n,new H0({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function aX(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return JT(n,e,null,s)}}}}function q0(n,t){const e=tA(t);return n.queryToTagMap.get(e)}function tA(n){return n._path.toString()+"$"+n._queryIdentifier}function _F(n,t){return n.tagToQueryMap.get(t)}function yF(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Fn(n.substr(0,t))}}function vF(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),pF(i,e,qT(n.pendingWriteTree_,t),null)}function W0(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function iee(){return(0,F.hu)(XT,"Reference.ts has not been loaded"),XT}())(n._repo,n._path):n}class bF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new bF(e)}node(){return this.node_}}class wF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Mi(this.path_,t);return new wF(this.syncTree_,e)}node(){return eA(this.syncTree_,this.path_)}}const kz=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?gee(n[".sv"],t,e):"object"==typeof n[".sv"]?_ee(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},gee=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},_ee=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},Rz=function(n,t,e,i){return EF(t,new wF(e,n),i)},CF=function(n,t,e){return EF(n,new bF(t),e)};function EF(n,t,e){const i=n.getPriority().val(),r=kz(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=kz(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new vy(d,Fi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new vy(r))),c.forEachChild(di,(d,p)=>{const _=EF(p,t.getImmediateChild(d),e);_!==p&&(s=s.updateImmediateChild(d,_))}),s}}class DF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function nA(n,t){let e=t instanceof Fn?t:new Fn(t),i=n,r=sn(e);for(;null!==r;){const s=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new DF(r,i,s),e=ai(e),r=sn(e)}return i}function Bm(n){return n.node.value}function IF(n,t){n.node.value=t,SF(n)}function Oz(n){return n.node.childCount>0}function iA(n,t){jr(n.node.children,(e,i)=>{t(new DF(e,n,i))})}function Pz(n,t,e,i){e&&!i&&t(n),iA(n,r=>{Pz(r,t,!0,i)}),e&&i&&t(n)}function Z0(n){return new Fn(null===n.parent?n.name:Z0(n.parent)+"/"+n.name)}function SF(n){null!==n.parent&&function bee(n,t,e){const i=function yee(n){return void 0===Bm(n)&&!Oz(n)}(e),r=(0,F.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,SF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,SF(n))}(n.parent,n.name,n)}const wee=/[\[\].#$\/\u0000-\u001F\u007F]/,Cee=/[\[\].#$\u0000-\u001F\u007F]/,TF=10485760,rA=function(n){return"string"==typeof n&&0!==n.length&&!wee.test(n)},Nz=function(n){return"string"==typeof n&&0!==n.length&&!Cee.test(n)},Y0=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!xT(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},vu=function(n,t,e,i){i&&void 0===t||K0((0,F.gK)(n,"value"),t,e)},K0=function(n,t,e){const i=e instanceof Fn?new VX(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Pm(i));if("function"==typeof t)throw new Error(n+"contains a function "+Pm(i)+" with contents = "+t.toString());if(xT(t))throw new Error(n+"contains "+t.toString()+" "+Pm(i));if("string"==typeof t&&t.length>TF/3&&(0,F.ug)(t)>TF)throw new Error(n+"contains a string greater than "+TF+" utf8 bytes "+Pm(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(jr(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!rA(c)))throw new Error(n+" contains an invalid key ("+c+") "+Pm(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function BX(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),H$(n)})(i,c),K0(n,d,i),function UX(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Pm(i)+" in addition to actual children.")}},Fz=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];jr(t,(c,d)=>{const p=new Fn(c);if(K0(r,d,Mi(e,p)),".priority"===jN(p)&&!Y0(d))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=P0(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!rA(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(LX);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&dl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},AF=function(n,t,e){if(!e||void 0!==t){if(xT(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Y0(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Q0=function(n,t,e,i){if(!(i&&void 0===e||rA(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},X0=function(n,t,e,i){if(!(i&&void 0===e||Nz(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fl=function(n,t){if(".info"===sn(t))throw new Error(n+" failed = Can't modify data under /.info/")},Lz=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!rA(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Nz(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class See{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sA(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!GN(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function Vz(n,t,e){sA(n,e),Bz(n,i=>GN(i,t))}function ga(n,t,e){sA(n,e),Bz(n,i=>dl(i,t)||dl(t,i))}function Bz(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Tee(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Tee(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Rm&&Hr("event: "+e.toString()),_y(i)}}}const Uz="repo_interrupt";class Mee{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new See,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jT(),this.transactionQueueTree_=new DF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Hz(n){const e=n.infoData_.getNode(new Fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function J0(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Hz(n)})}function jz(n,t,e,i,r){n.dataUpdateCount++;const s=new Fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const p=(0,F.UI)(e,_=>Fi(_));c=function cee(n,t,e,i){const r=_F(n,i);if(r){const s=yF(r),c=s.path,d=s.queryId,p=lo(c,t),_=hi.fromObject(e);return vF(n,c,new Dy(rF(d),p,_))}return[]}(n.serverSyncTree_,s,p,r)}else{const p=Fi(e);c=Tz(n.serverSyncTree_,s,p,r)}else if(i){const p=(0,F.UI)(e,_=>Fi(_));c=function oee(n,t,e){const i=hi.fromObject(e);return Sy(n,new Dy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,p)}else{const p=Fi(e);c=z0(n.serverSyncTree_,s,p)}let d=s;c.length>0&&(d=Ay(n,s)),ga(n.eventQueue_,d,c)}function Gz(n,t){MF(n,"connected",t),!1===t&&function Pee(n){Ty(n,"onDisconnectEvents");const t=J0(n),e=jT();tF(n.onDisconnect_,Mn(),(r,s)=>{const c=Rz(r,s,n.serverSyncTree_,t);Ey(e,r,c)});let i=[];tF(e,Mn(),(r,s)=>{i=i.concat(z0(n.serverSyncTree_,r,s));const c=OF(n,r);Ay(n,c)}),n.onDisconnect_=jT(),ga(n.eventQueue_,Mn(),i)}(n)}function MF(n,t,e){const i=new Fn("/.info/"+t),r=Fi(e);n.infoData_.updateSnapshot(i,r);const s=z0(n.infoSyncTree_,i,r);ga(n.eventQueue_,i,s)}function oA(n){return n.nextWriteId_++}function xF(n,t,e,i,r){Ty(n,"set",{path:t.toString(),value:e,priority:i});const s=J0(n),c=Fi(e,i),d=eA(n.serverSyncTree_,t),p=CF(c,d,s),_=oA(n),b=mF(n.serverSyncTree_,t,p,_,!0);sA(n.eventQueue_,b),n.server_.put(t.toString(),c.val(!0),(M,O)=>{const N="ok"===M;N||As("set at "+t+" failed: "+M);const z=gf(n.serverSyncTree_,_,!N);ga(n.eventQueue_,t,z),_f(0,r,M,O)});const I=OF(n,t);Ay(n,I),ga(n.eventQueue_,I,[])}function Nee(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&eF(n.onDisconnect_,t),_f(0,e,i,r)})}function $z(n,t,e,i){const r=Fi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&Ey(n.onDisconnect_,t,r),_f(0,i,s,c)})}function kF(n,t,e){let i;i=".info"===sn(t._path)?JT(n.infoSyncTree_,t,e):JT(n.serverSyncTree_,t,e),Vz(n.eventQueue_,t._path,i)}function zz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(Uz)}function Ty(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Hr(e,...t)}function _f(n,t,e,i){t&&_y(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function RF(n,t,e){return eA(n.serverSyncTree_,t,e)||Xt.EMPTY_NODE}function aA(n,t=n.transactionQueueTree_){if(t||lA(n,t),Bm(t)){const e=Wz(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Hee(n,t,e){const i=e.map(_=>_.currentWriteId),r=RF(n,t,i);let s=r;const c=r.hash();for(let _=0;_<e.length;_++){const b=e[_];(0,F.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const I=lo(t,b.path);s=s.updateChild(I,b.currentOutputSnapshotRaw)}const d=s.val(!0),p=t;n.server_.put(p.toString(),d,_=>{Ty(n,"transaction put response",{path:p.toString(),status:_});let b=[];if("ok"===_){const I=[];for(let M=0;M<e.length;M++)e[M].status=2,b=b.concat(gf(n.serverSyncTree_,e[M].currentWriteId)),e[M].onComplete&&I.push(()=>e[M].onComplete(null,!0,e[M].currentOutputSnapshotResolved)),e[M].unwatcher();lA(n,nA(n.transactionQueueTree_,t)),aA(n,n.transactionQueueTree_),ga(n.eventQueue_,t,b);for(let M=0;M<I.length;M++)_y(I[M])}else{if("datastale"===_)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{As("transaction at "+p.toString()+" failed: "+_);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=_}Ay(n,t)}},c)}(n,Z0(t),e)}else Oz(t)&&iA(t,e=>{aA(n,e)})}function Ay(n,t){const e=qz(n,t),i=Z0(e);return function jee(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const p=t[d],_=lo(e,p.path);let I,b=!1;if((0,F.hu)(null!==_,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)b=!0,I=p.abortReason,r=r.concat(gf(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=25)b=!0,I="maxretry",r=r.concat(gf(n.serverSyncTree_,p.currentWriteId,!0));else{const M=RF(n,p.path,c);p.currentInputSnapshot=M;const O=t[d].update(M.val());if(void 0!==O){K0("transaction failed: Data returned ",O,p.path);let N=Fi(O);"object"==typeof O&&null!=O&&(0,F.r3)(O,".priority")||(N=N.updatePriority(M.getPriority()));const ie=p.currentWriteId,Me=J0(n),ze=CF(N,M,Me);p.currentOutputSnapshotRaw=N,p.currentOutputSnapshotResolved=ze,p.currentWriteId=oA(n),c.splice(c.indexOf(ie),1),r=r.concat(mF(n.serverSyncTree_,p.path,ze,p.currentWriteId,p.applyLocally)),r=r.concat(gf(n.serverSyncTree_,ie,!0))}else b=!0,I="nodata",r=r.concat(gf(n.serverSyncTree_,p.currentWriteId,!0))}ga(n.eventQueue_,e,r),r=[],b&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===I?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(I),!1,null)))}lA(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)_y(i[d]);aA(n,n.transactionQueueTree_)}(n,Wz(n,e),i),i}function qz(n,t){let e,i=n.transactionQueueTree_;for(e=sn(t);null!==e&&void 0===Bm(i);)i=nA(i,e),e=sn(t=ai(t));return i}function Wz(n,t){const e=[];return Zz(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Zz(n,t,e){const i=Bm(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);iA(t,r=>{Zz(n,r,e)})}function lA(n,t){const e=Bm(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,IF(t,e.length>0?e:void 0)}iA(t,i=>{lA(n,i)})}function OF(n,t){const e=Z0(qz(n,t)),i=nA(n.transactionQueueTree_,t);return function vee(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{PF(n,r)}),PF(n,i),Pz(i,r=>{PF(n,r)}),e}function PF(n,t){const e=Bm(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,F.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,F.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(gf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?IF(t,void 0):e.length=s+1,ga(n.eventQueue_,Z0(t),r);for(let c=0;c<i.length;c++)_y(i[c])}}const NF=function(n,t){const e=zee(n),i=e.namespace;return"firebase.com"===e.domain&&gu(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&gu("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&As("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new FN(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Fn(e.pathString)}},zee=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",p=443;if("string"==typeof n){let _=n.indexOf("//");_>=0&&(d=n.substring(0,_-1),n=n.substring(_+2));let b=n.indexOf("/");-1===b&&(b=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(b,I)),b<I&&(r=function Gee(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(b,I)));const M=function $ee(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):As(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));_=t.indexOf(":"),_>=0?(c="https"===d||"wss"===d,p=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if("localhost"===O.toLowerCase())e="localhost";else if(O.split(".").length<=2)e=O;else{const N=t.indexOf(".");i=t.substring(0,N).toLowerCase(),e=t.substring(N+1),s=i}"ns"in M&&(s=M.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class Yz{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Pz)(this.snapshot.exportVal())}}class Kz{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class FF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class Qz{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return Nee(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){fl("OnDisconnect.remove",this._path);const t=new F.BH;return $z(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){fl("OnDisconnect.set",this._path),vu("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return $z(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){fl("OnDisconnect.setWithPriority",this._path),vu("OnDisconnect.setWithPriority",t,this._path,!1),AF("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function Fee(n,t,e,i,r){const s=Fi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&Ey(n.onDisconnect_,t,s),_f(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){fl("OnDisconnect.update",this._path),Fz("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function Lee(n,t,e,i){if((0,F.xb)(e))return Hr("onDisconnect().update() called with empty data.  Don't do anything."),void _f(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&jr(e,(c,d)=>{const p=Fi(d);Ey(n.onDisconnect_,Mi(t,c),p)}),_f(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Fo{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return on(this._path)?null:jN(this._path)}get ref(){return new pl(this._repo,this._path)}get _queryIdentifier(){const t=nz(this._queryParams),e=ON(t);return"{}"===e?"default":e}get _queryObject(){return nz(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof Fo))return!1;const e=this._repo===t._repo,i=GN(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function FX(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function cA(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function yf(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===yu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==xd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==_u)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===di){if(null!=t&&!Y0(t)||null!=e&&!Y0(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof ZN||n.getIndex()===YN,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function uA(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class pl extends Fo{constructor(t,e){super(t,e,new BT,!1)}get parent(){const t=U$(this._path);return null===t?null:new pl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class Um{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Fn(t),i=Hm(this.ref,t);return new Um(this._node.getChild(e),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new Um(r,Hm(this.ref,i),di)))}hasChild(t){const e=new Fn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xz(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?Hm(n._root,t):n._root}function Jz(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=NF(t,n._repo.repoInfo_.nodeAdmin);Lz("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&gu("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),Xz(n,e.path.toString())}function Hm(n,t){return null===sn((n=(0,F.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),X0("child","path",e,!1)):X0("child","path",t,!1),new pl(n._repo,Mi(n._path,t));var e}function LF(n,t){n=(0,F.m9)(n),fl("set",n._path),vu("set",t,n._path,!1);const e=new F.BH;return xF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Kee(n,t){Fz("update",t,n._path,!1);const e=new F.BH;return function Oee(n,t,e,i){Ty(n,"update",{path:t.toString(),value:e});let r=!0;const s=J0(n),c={};if(jr(e,(d,p)=>{r=!1,c[d]=Rz(Mi(t,d),Fi(p),n.serverSyncTree_,s)}),r)Hr("update() called with empty data.  Don't do anything."),_f(0,i,"ok",void 0);else{const d=oA(n),p=function see(n,t,e,i){!function CJ(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=oF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=hi.fromObject(e);return Sy(n,new Dy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);sA(n.eventQueue_,p),n.server_.merge(t.toString(),e,(_,b)=>{const I="ok"===_;I||As("update at "+t+" failed: "+_);const M=gf(n.serverSyncTree_,d,!I),O=M.length>0?Ay(n,t):t;ga(n.eventQueue_,O,M),_f(0,i,_,b)}),jr(e,_=>{const b=OF(n,Mi(t,_));Ay(n,b)}),ga(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Qee(n){n=(0,F.m9)(n);const t=new FF(()=>{}),e=new eC(t);return function Ree(n,t,e){const i=function uee(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(_,b)=>{const I=lo(_,e);i=i||pf(b,I)});let r=n.syncPointTree_.get(e);r?i=i||pf(r,Mn()):(r=new wz,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new hf(i,!0,!1):null;return function WJ(n){return zT(n.viewCache_)}(Cz(r,t,qT(n.pendingWriteTree_,t._path),s?c.getNode():Xt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=Fi(r).withIndex(t._queryParams.getIndex());let c;if(gF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=z0(n.serverSyncTree_,t._path,s);else{const d=q0(n.serverSyncTree_,t);c=Tz(n.serverSyncTree_,t._path,s,d)}return ga(n.eventQueue_,t._path,c),JT(n.serverSyncTree_,t,e,null,!0),s},r=>(Ty(n,"get for query "+(0,F.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new Um(i,new pl(n._repo,n._path),n._queryParams.getIndex()))}class eC{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Yz("value",this,new Um(t.snapshotNode,new pl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Kz(this,t,e):null}matches(t){return t instanceof eC&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class dA{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Kz(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=Hm(new pl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Yz(t.type,this,new Um(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof dA&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function tC(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const p=e,_=(b,I)=>{kF(n._repo,n,d),p(b,I)};_.userCallback=e.userCallback,_.context=e.context,e=_}const c=new FF(e,s||void 0),d="value"===t?new eC(c):new dA(t,c);return function Vee(n,t,e){let i;i=".info"===sn(t._path)?gF(n.infoSyncTree_,t,e):gF(n.serverSyncTree_,t,e),Vz(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>kF(n._repo,n,d)}function VF(n,t,e,i){return tC(n,"value",t,e,i)}function eq(n,t,e,i){return tC(n,"child_added",t,e,i)}function tq(n,t,e,i){return tC(n,"child_changed",t,e,i)}function nq(n,t,e,i){return tC(n,"child_moved",t,e,i)}function iq(n,t,e,i){return tC(n,"child_removed",t,e,i)}function rq(n,t,e){let i=null;const r=e?new FF(e):null;"value"===t?i=new eC(r):t&&(i=new dA(t,r)),kF(n._repo,n,i)}class pc{}class sq extends pc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vu("endAt",this._value,t._path,!0);const e=JN(t._queryParams,this._value,this._key);if(uA(e),yf(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class Jee extends pc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vu("endBefore",this._value,t._path,!1);const e=function cJ(n,t,e){let i,r;return n.index_===yu?("string"==typeof t&&(t=J$(t)),r=JN(n,t,e)):(i=null==e?xd:J$(e),r=JN(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(uA(e),yf(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class oq extends pc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vu("startAt",this._value,t._path,!0);const e=XN(t._queryParams,this._value,this._key);if(uA(e),yf(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class nte extends pc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){vu("startAfter",this._value,t._path,!1);const e=function lJ(n,t,e){let i;if(n.index_===yu)"string"==typeof t&&(t=X$(t)),i=XN(n,t,e);else{let r;r=null==e?_u:X$(e),i=XN(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(uA(e),yf(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fo(t._repo,t._path,e,t._orderByCalled)}}class rte extends pc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function oJ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class ote extends pc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fo(t._repo,t._path,function aJ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class lte extends pc{constructor(t){super(),this._path=t}_apply(t){cA(t,"orderByChild");const e=new Fn(this._path);if(on(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new ZN(e),r=UT(t._queryParams,i);return yf(r),new Fo(t._repo,t._path,r,!0)}}class ute extends pc{_apply(t){cA(t,"orderByKey");const e=UT(t._queryParams,yu);return yf(e),new Fo(t._repo,t._path,e,!0)}}class hte extends pc{_apply(t){cA(t,"orderByPriority");const e=UT(t._queryParams,di);return yf(e),new Fo(t._repo,t._path,e,!0)}}class pte extends pc{_apply(t){cA(t,"orderByValue");const e=UT(t._queryParams,YN);return yf(e),new Fo(t._repo,t._path,e,!0)}}class gte extends pc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(vu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new sq(this._value,this._key)._apply(new oq(this._value,this._key)._apply(t))}}function mc(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function QJ(n){(0,F.hu)(!KT,"__referenceConstructor has already been defined"),KT=n})(pl),function nee(n){(0,F.hu)(!XT,"__referenceConstructor has already been defined"),XT=n}(pl);const BF={};function lq(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||gu("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Hr("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,_,c=NF(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(_=process.env.FIREBASE_DATABASE_EMULATOR_HOST),_?(p=!0,s=`http://${_}?ns=${d.namespace}`,c=NF(s,r),d=c.repoInfo):p=!c.repoInfo.secure;const b=r&&p?new O0(O0.OWNER):new dX(n.name,n.options,t);Lz("Invalid Firebase Database URL",c),on(c.path)||gu("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function wte(n,t,e,i){let r=BF[t.name];r||(r={},BF[t.name]=r);let s=r[n.toURLString()];return s&&gu("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Mee(n,false,e,i),r[n.toURLString()]=s,s}(d,n,b,new uX(n.name,e));return new Ete(I,n)}class Ete{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function xee(n,t,e){if(n.stats_=BN(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new HT(n.repoInfo_,(i,r,s,c)=>{jz(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Gz(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Nm(n.repoInfo_,t,(i,r,s,c)=>{jz(n,i,r,s,c)},i=>{Gz(n,i)},i=>{!function kee(n,t){jr(t,(e,i)=>{MF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function pX(n,t){const e=n.toString();return VN[e]||(VN[e]=t()),VN[e]}(n.repoInfo_,()=>new mJ(n.stats_,n.server_)),n.infoData_=new uJ,n.infoSyncTree_=new Sz({startListening:(i,r,s,c)=>{let d=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(d=z0(n.infoSyncTree_,i._path,p),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),MF(n,"connected",!1),n.serverSyncTree_=new Sz({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,p)=>{const _=c(d,p);ga(n.eventQueue_,i._path,_)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pl(this._repo,Mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function bte(n,t){const e=BF[t];(!e||e[n.key]!==n)&&gu(`Database ${t}(${n.repoInfo_}) has already been deleted.`),zz(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&gu("Cannot call "+t+" on a deleted database.")}}function cq(){A$.IS_TRANSPORT_INITIALIZED&&As("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Dte(){cq(),uf.forceDisallow()}function Ite(){cq(),yy.forceDisallow(),uf.forceAllow()}function Mte(n,t){l$(n,t)}const kte={".sv":"timestamp"};class Pte{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Nm.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Nm.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function xte(n){i$(Xs.SDK_VERSION),(0,Xs._registerComponent)(new ac.wA("database",(t,{instanceIdentifier:e})=>lq(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Xs.registerVersion)(t$,"0.13.6",n),(0,Xs.registerVersion)(t$,"0.13.6","esm2017")}();const Vte=new lc.Yd("@firebase/database-compat"),uq=function(n){Vte.warn("FIREBASE WARNING: "+n)};class Hte{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,uq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class jte{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class vf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),X0("DataSnapshot.child","path",t,!1),new vf(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),X0("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new vf(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new _a(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class as{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const c=as.getCancelAndContextArgs_("Query.on",i,r),d=(_,b)=>{e.call(c.context,new vf(this.database,_),b)};d.userCallback=e,d.context=c.context;const p=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return VF(this._delegate,d,p),e;case"child_added":return eq(this._delegate,d,p),e;case"child_removed":return iq(this._delegate,d,p),e;case"child_changed":return tq(this._delegate,d,p),e;case"child_moved":return nq(this._delegate,d,p),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,rq(this._delegate,t,r)}else rq(this._delegate,t)}get(){return Qee(this._delegate).then(t=>new vf(this.database,t))}once(t,e,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const s=as.getCancelAndContextArgs_("Query.once",i,r),c=new F.BH,d=(_,b)=>{const I=new vf(this.database,_);e&&e.call(s.context,I,b),c.resolve(I)};d.userCallback=e,d.context=s.context;const p=_=>{s.cancel&&s.cancel.call(s.context,_),c.reject(_)};switch(t){case"value":VF(this._delegate,d,p,{onlyOnce:!0});break;case"child_added":eq(this._delegate,d,p,{onlyOnce:!0});break;case"child_removed":iq(this._delegate,d,p,{onlyOnce:!0});break;case"child_changed":tq(this._delegate,d,p,{onlyOnce:!0});break;case"child_moved":nq(this._delegate,d,p,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new as(this.database,mc(this._delegate,function ste(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new rte(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new as(this.database,mc(this._delegate,function ate(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new ote(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new as(this.database,mc(this._delegate,function cte(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return X0("orderByChild","path",n,!1),new lte(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new as(this.database,mc(this._delegate,function dte(){return new ute}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new as(this.database,mc(this._delegate,function fte(){return new hte}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new as(this.database,mc(this._delegate,function mte(){return new pte}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new as(this.database,mc(this._delegate,function tte(n=null,t){return Q0("startAt","key",t,!0),new oq(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new as(this.database,mc(this._delegate,function ite(n,t){return Q0("startAfter","key",t,!0),new nte(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new as(this.database,mc(this._delegate,function Xee(n,t){return Q0("endAt","key",t,!0),new sq(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new as(this.database,mc(this._delegate,function ete(n,t){return Q0("endBefore","key",t,!0),new Jee(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new as(this.database,mc(this._delegate,function _te(n,t){return Q0("equalTo","key",t,!0),new gte(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof as))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,F.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new _a(this.database,new pl(this._delegate._repo,this._delegate._path))}}class _a extends as{constructor(t,e){super(t,new Fo(e._repo,e._path,new BT,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new _a(this.database,Hm(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new _a(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new _a(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=LF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,uq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fl("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=Kee(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Yee(n,t,e){if(fl("setWithPriority",n._path),vu("setWithPriority",t,n._path,!1),AF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return xF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function Wee(n){return fl("remove",n._path),LF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Nte(n,t,e){var i;if(n=(0,F.m9)(n),fl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,s=new F.BH,d=VF(n,()=>{});return function Uee(n,t,e,i,r,s){Ty(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:s$(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=RF(n,t,void 0);c.currentInputSnapshot=d;const p=c.update(d.val());if(void 0===p)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{K0("transaction failed: Data returned ",p,c.path),c.status=0;const _=nA(n.transactionQueueTree_,t),b=Bm(_)||[];let I;b.push(c),IF(_,b),"object"==typeof p&&null!==p&&(0,F.r3)(p,".priority")?(I=(0,F.DV)(p,".priority"),(0,F.hu)(Y0(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(eA(n.serverSyncTree_,t)||Xt.EMPTY_NODE).getPriority().val();const M=J0(n),O=Fi(p,I),N=CF(O,d,M);c.currentOutputSnapshotRaw=O,c.currentOutputSnapshotResolved=N,c.currentWriteId=oA(n);const z=mF(n.serverSyncTree_,t,N,c.currentWriteId,c.applyLocally);ga(n.eventQueue_,t,z),aA(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,_,b)=>{let I=null;p?s.reject(p):(I=new Um(b,new pl(n._repo,n._path),di),s.resolve(new Pte(_,I)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new jte(s.committed,new vf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Zee(n,t){n=(0,F.m9)(n),fl("setPriority",n._path),AF("setPriority",t,!1);const e=new F.BH;return xF(n._repo,Mi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function qee(n,t){n=(0,F.m9)(n),fl("push",n._path),vu("push",t,n._path,!0);const e=Hz(n._repo),i=nJ(e),r=Hm(n,i),s=Hm(n,i);let c;return c=null!=t?LF(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new _a(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new _a(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return fl("Reference.onDisconnect",this._delegate._path),new Hte(new Qz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class nC{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Dte,forceLongPolling:Ite}}useEmulator(t,e,i={}){!function Ste(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&gu("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&gu('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new O0(O0.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);s=new O0(c)}!function vte(n,t,e,i){n.repoInfo_=new FN(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof _a){const e=Jz(this._delegate,t.toString());return new _a(this,e)}{const e=Xz(this._delegate,t);return new _a(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=Jz(this._delegate,t);return new _a(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Tte(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),zz(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Ate(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function Bee(n){n.persistentConnection_&&n.persistentConnection_.resume(Uz)}(n._repo)}(this._delegate)}}nC.ServerValue={TIMESTAMP:function Rte(){return kte}(),increment:n=>function Ote(n){return{".sv":{increment:n}}}(n)};var $te=Object.freeze({__proto__:null,initStandalone:function Gte({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){i$(e);const c=new ac.zt("auth-internal",new ac.H0("database-standalone"));return c.setComponent(new ac.wA("auth-internal",()=>i,"PRIVATE")),{instance:new nC(lq(n,c,void 0,t,s),n),namespace:r}}});const zte=nC.ServerValue;function dq(n){return null==n}function hq(n){return"function"==typeof n.set}function fq(n,t){return hq(t)?t:n.ref(t)}function pq(n,t){if(function Wte(n){return"string"==typeof n}(n))return t.stringCase();if(hq(n))return t.firebaseCase();if(function Zte(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function iC(n,t,e="on",i=_h.z){return new ci.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,ct.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,p_.B)())}function mq(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Qte(n,t){const{payload:e,prevKey:i,key:r}=t,s=mq(n,r),c=function Kte(n,t){if(dq(t))return 0;{const e=mq(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(p=>{const _={payload:p,type:"value",prevKey:d,key:p.key};return d=p.key,n=[...n,_],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function gq(n){return(dq(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function _q(n,t,e){return function Yte(n,t,e){return iC(n,"value","once",e).pipe(si(i=>{const r=[st(i)];return t.forEach(s=>r.push(iC(n,s,"on",e))),(0,Xr.T)(...r).pipe(Jp(Qte,[]))}),Kl())}(n,t=gq(t),e)}function yq(n,t,e){const i=(t=gq(t)).map(r=>iC(n,r,"on",e));return(0,Xr.T)(...i)}function vq(n,t){return function(i,r){return pq(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function tne(n){return function(e){return e?pq(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function bq(n,t){return function(){return iC(n,"value","on",t)}}!function qte(n){n.INTERNAL.registerComponent(new ac.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new nC(r,i)},"PUBLIC").setServiceProps({Reference:_a,Query:as,Database:nC,DataSnapshot:vf,enableLogging:Mte,INTERNAL:$te,ServerValue:zte}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(bO.Z);const rne=new o.OlP("angularfire2.realtimeDatabaseURL"),sne=new o.OlP("angularfire2.database.use-emulator");let one=(()=>{class n{constructor(e,i,r,s,c,d,p,_,b,I,M,O,N,z,ie){this.schedulers=d;const Me=p,ze=(0,Er.on)(e,c,i);_&&vO(ze,c,b,M,O,N,I,z),this.database=(0,Er.cc)(`${ze.name}.database.${r}`,"AngularFireDatabase",ze.name,()=>{const Je=c.runOutsideAngular(()=>ze.database(r||void 0));return Me&&Je.useEmulator(...Me),Je},[Me])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>fq(this.database,e));let s=r;return i&&(s=i(r)),function nne(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:vq(i,"update"),set:vq(i,"set"),push:r=>i.push(r),remove:tne(i),snapshotChanges:r=>_q(n,r,e).pipe(An.iC),stateChanges:r=>yq(n,r,e).pipe(An.iC),auditTrail:r=>function Xte(n,t,e){return function ene(n,t,e){return function Jte(n,t){return iC(n,"value","on",t).pipe((0,ct.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function XQ(...n){const t=(0,_o.jO)(n);return(0,Gi.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let p=0;p<r;p++)(0,lr.Xf)(n[p]).subscribe((0,On.x)(i,_=>{s[p]=_,!d&&!c[p]&&(c[p]=!0,(d=c.every(yh.y))&&(c=null))},Dg.Z));e.subscribe((0,On.x)(i,p=>{if(d){const _=[p,...s];i.next(t?t(..._):_)}}))})}(t),(0,ct.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(p=>p.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function JQ(n){return(0,Gi.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,On.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ct.U)(r=>r.actions))}(n,yq(n,t).pipe(Jp((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(An.iC),valueChanges:(r,s)=>_q(n,r,e).pipe((0,ct.U)(d=>d.map(p=>s&&s.idField?Object.assign(Object.assign({},p.payload.val()),{[s.idField]:p.key}):p.payload.val())),An.iC)}}(s,this)}object(e){return function ine(n,t){return{query:n,snapshotChanges:()=>bq(n,t.schedulers.outsideAngular)().pipe(An.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>bq(n,t.schedulers.outsideAngular)().pipe(An.iC,(0,ct.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>fq(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Er.Dh),o.LFG(Er.xv,8),o.LFG(rne,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(An.HU),o.LFG(sne,8),o.LFG(vw,8),o.LFG(fO,8),o.LFG(pO,8),o.LFG(mO,8),o.LFG(gO,8),o.LFG(_O,8),o.LFG(yO,8),o.LFG(yw,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ane=(()=>{class n{constructor(){oS.Z.registerVersion("angularfire",An.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[one]}),n})();var lne=V(9635);function UF(){return(0,Gi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,On.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class wq extends ci.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Gi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new $n.w0;const e=this.getSubject();t.add(this.source.subscribe((0,On.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=$n.w0.EMPTY)}return t}refCount(){return UF()(this)}}function HF(n){return n<=0?()=>Wc.E:(0,Gi.e)((t,e)=>{let i=[];t.subscribe((0,On.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function Cq(n,t){const e=arguments.length>=2;return i=>i.pipe(n?zn((r,s)=>n(r,s,i)):yh.y,HF(1),e?QI(t):l2(()=>new mw))}const an="primary",rC=Symbol("RouteTitle");class cne{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function My(n){return new cne(n)}function une(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function bu(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Eq(n[r],t[r]))return!1;return!0}function Eq(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function Dq(n){return Array.prototype.concat.apply([],n)}function Iq(n){return n.length>0?n[n.length-1]:null}function ls(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function bf(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,rn.D)(Promise.resolve(n)):st(n)}const fne={exact:function Aq(n,t,e){if(!Gm(n.segments,t.segments)||!hA(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Aq(n.children[i],t.children[i],e))return!1;return!0},subset:Mq},Sq={exact:function pne(n,t){return bu(n,t)},subset:function mne(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Eq(n[e],t[e]))},ignored:()=>!0};function Tq(n,t,e){return fne[e.paths](n.root,t.root,e.matrixParams)&&Sq[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Mq(n,t,e){return xq(n,t,t.segments,e)}function xq(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Gm(r,e)||t.hasChildren()||!hA(r,e,i))}if(n.segments.length===e.length){if(!Gm(n.segments,e)||!hA(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Mq(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(Gm(n.segments,r)&&hA(n.segments,r,i)&&n.children[an])&&xq(n.children[an],t,s,i)}}function hA(n,t,e){return t.every((i,r)=>Sq[e](n[r].parameters,i.parameters))}class jm{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=My(this.queryParams)),this._queryParamMap}toString(){return yne.serialize(this)}}class pn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ls(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fA(this)}}class sC{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=My(this.parameters)),this._parameterMap}toString(){return Pq(this)}}function Gm(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let kq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return new GF},providedIn:"root"}),n})();class GF{parse(t){const e=new Tne(t);return new jm(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${oC(t.root,!0)}`,i=function wne(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${pA(e)}=${pA(r)}`).join("&"):`${pA(e)}=${pA(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function vne(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const yne=new GF;function fA(n){return n.segments.map(t=>Pq(t)).join("/")}function oC(n,t){if(!n.hasChildren())return fA(n);if(t){const e=n.children[an]?oC(n.children[an],!1):"",i=[];return ls(n.children,(r,s)=>{s!==an&&i.push(`${s}:${oC(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function _ne(n,t){let e=[];return ls(n.children,(i,r)=>{r===an&&(e=e.concat(t(i,r)))}),ls(n.children,(i,r)=>{r!==an&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===an?[oC(n.children[an],!1)]:[`${r}:${oC(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[an]?`${fA(n)}/${e[0]}`:`${fA(n)}/(${e.join("//")})`}}function Rq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pA(n){return Rq(n).replace(/%3B/gi,";")}function $F(n){return Rq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function mA(n){return decodeURIComponent(n)}function Oq(n){return mA(n.replace(/\+/g,"%20"))}function Pq(n){return`${$F(n.path)}${function bne(n){return Object.keys(n).map(t=>`;${$F(t)}=${$F(n[t])}`).join("")}(n.parameters)}`}const Cne=/^[^\/()?;=#]+/;function gA(n){const t=n.match(Cne);return t?t[0]:""}const Ene=/^[^=?&#]+/,Ine=/^[^&#]+/;class Tne{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new pn([],{}):new pn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[an]=new pn(t,e)),i}parseSegment(){const t=gA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new o.vHH(4009,!1);return this.capture(t),new sC(mA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=gA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=gA(this.remaining);r&&(i=r,this.capture(i))}t[mA(e)]=mA(i)}parseQueryParam(t){const e=function Dne(n){const t=n.match(Ene);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Sne(n){const t=n.match(Ine);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=Oq(e),s=Oq(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=gA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new o.vHH(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=an);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[an]:new pn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new o.vHH(4011,!1)}}function zF(n){return n.segments.length>0?new pn([],{[an]:n}):n}function _A(n){const t={};for(const i of Object.keys(n.children)){const s=_A(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Ane(n){if(1===n.numberOfChildren&&n.children[an]){const t=n.children[an];return new pn(n.segments.concat(t.segments),t.children)}return n}(new pn(n.segments,t))}function $m(n){return n instanceof jm}function kne(n,t,e,i,r){if(0===e.length)return xy(t.root,t.root,t.root,i,r);const s=function Lq(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Fq(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return ls(s.outlets,(p,_)=>{d[_]="string"==typeof p?p.split("/"):p}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,p)=>{0==p&&"."===d||(0==p&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new Fq(e,t,i)}(e);return s.toRoot()?xy(t.root,t.root,new pn([],{}),i,r):function c(p){const _=function One(n,t,e,i){if(n.isAbsolute)return new ky(t.root,!0,0);if(-1===i)return new ky(e,e===t.root,0);return function Vq(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new o.vHH(4005,!1);r=i.segments.length}return new ky(i,!1,r-s)}(e,i+(aC(n.commands[0])?0:1),n.numberOfDoubleDots)}(s,t,n.snapshot?._urlSegment,p),b=_.processChildren?cC(_.segmentGroup,_.index,s.commands):WF(_.segmentGroup,_.index,s.commands);return xy(t.root,_.segmentGroup,b,i,r)}(n.snapshot?._lastPathIndex)}function aC(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function lC(n){return"object"==typeof n&&null!=n&&n.outlets}function xy(n,t,e,i,r){let c,s={};i&&ls(i,(p,_)=>{s[_]=Array.isArray(p)?p.map(b=>`${b}`):`${p}`}),c=n===t?e:Nq(n,t,e);const d=zF(_A(c));return new jm(d,s,r)}function Nq(n,t,e){const i={};return ls(n.children,(r,s)=>{i[s]=r===t?e:Nq(r,t,e)}),new pn(n.segments,i)}class Fq{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&aC(i[0]))throw new o.vHH(4003,!1);const r=i.find(lC);if(r&&r!==Iq(i))throw new o.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ky{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function WF(n,t,e){if(n||(n=new pn([],{})),0===n.segments.length&&n.hasChildren())return cC(n,t,e);const i=function Nne(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(lC(d))break;const p=`${d}`,_=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&_&&"object"==typeof _&&void 0===_.outlets){if(!Uq(p,_,c))return s;i+=2}else{if(!Uq(p,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new pn(n.segments.slice(0,i.pathIndex),{});return s.children[an]=new pn(n.segments.slice(i.pathIndex),n.children),cC(s,0,r)}return i.match&&0===r.length?new pn(n.segments,{}):i.match&&!n.hasChildren()?ZF(n,t,e):i.match?cC(n,0,r):ZF(n,t,e)}function cC(n,t,e){if(0===e.length)return new pn(n.segments,{});{const i=function Pne(n){return lC(n[0])?n[0].outlets:{[an]:n}}(e),r={};return ls(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=WF(n.children[c],t,s))}),ls(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new pn(n.segments,r)}}function ZF(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(lC(s)){const p=Fne(s.outlets);return new pn(i,p)}if(0===r&&aC(e[0])){i.push(new sC(n.segments[t].path,Bq(e[0]))),r++;continue}const c=lC(s)?s.outlets[an]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&aC(d)?(i.push(new sC(c,Bq(d))),r+=2):(i.push(new sC(c,{})),r++)}return new pn(i,{})}function Fne(n){const t={};return ls(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=ZF(new pn([],{}),0,e))}),t}function Bq(n){const t={};return ls(n,(e,i)=>t[i]=`${e}`),t}function Uq(n,t,e){return n==e.path&&bu(t,e.parameters)}class Rd{constructor(t,e){this.id=t,this.url=e}}class YF extends Rd{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zm extends Rd{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yA extends Rd{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hq extends Rd{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Lne extends Rd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vne extends Rd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bne extends Rd{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Une extends Rd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hne extends Rd{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jne{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Gne{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $ne{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zne{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qne{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wne{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jq{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Gq{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=KF(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=KF(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=QF(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return QF(t,this._root).map(e=>e.value)}}function KF(n,t){if(n===t.value)return t;for(const e of t.children){const i=KF(n,e);if(i)return i}return null}function QF(n,t){if(n===t.value)return[t];for(const e of t.children){const i=QF(n,e);if(i.length)return i.unshift(t),i}return[]}class Od{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ry(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class $q extends Gq{constructor(t,e){super(t),this.snapshot=e,XF(this,t)}toString(){return this.snapshot.toString()}}function zq(n,t){const e=function Yne(n,t){const c=new vA([],{},{},"",{},an,t,null,n.root,-1,{});return new Wq("",new Od(c,[]))}(n,t),i=new Rr([new sC("",{})]),r=new Rr({}),s=new Rr({}),c=new Rr({}),d=new Rr(""),p=new wf(i,r,c,d,s,an,t,e.root);return p.snapshot=e.root,new $q(new Od(p,[]),e)}class wf{constructor(t,e,i,r,s,c,d,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.pipe((0,ct.U)(_=>_[rC]))??st(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(t=>My(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(t=>My(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function qq(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Kne(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class vA{constructor(t,e,i,r,s,c,d,p,_,b,I,M){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.title=this.data?.[rC],this.routeConfig=p,this._urlSegment=_,this._lastPathIndex=b,this._correctedLastPathIndex=M??b,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=My(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=My(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Wq extends Gq{constructor(t,e){super(e),this.url=t,XF(this,e)}toString(){return Zq(this._root)}}function XF(n,t){t.value._routerState=n,t.children.forEach(e=>XF(n,e))}function Zq(n){const t=n.children.length>0?` { ${n.children.map(Zq).join(", ")} } `:"";return`${n.value}${t}`}function JF(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,bu(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),bu(t.params,e.params)||n.params.next(e.params),function dne(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!bu(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),bu(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function eL(n,t){const e=bu(n.params,t.params)&&function gne(n,t){return Gm(n,t)&&n.every((e,i)=>bu(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||eL(n.parent,t.parent))}function uC(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function Xne(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return uC(n,i,r);return uC(n,i)})}(n,t,e);return new Od(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>uC(n,d)),c}}const i=function Jne(n){return new wf(new Rr(n.url),new Rr(n.params),new Rr(n.queryParams),new Rr(n.fragment),new Rr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>uC(n,s));return new Od(i,r)}}const tL="ngNavigationCancelingError";function Yq(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=$m(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=Kq(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function Kq(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[tL]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Qq(n){return Xq(n)&&$m(n.url)}function Xq(n){return n&&n[tL]}class eie{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new dC,this.attachRef=null}}let dC=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new eie,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bA=!1;let nL=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.changeDetector=s,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=r||an,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new o.vHH(4012,bA);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new o.vHH(4012,bA);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new o.vHH(4012,bA);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new o.vHH(4013,bA);this._activatedRoute=e;const r=this.location,c=e._futureSnapshot.component,d=this.parentContexts.getOrCreateContext(this.name).children,p=new tie(e,d,r.injector);if(i&&function nie(n){return!!n.resolveComponentFactory}(i)){const _=i.resolveComponentFactory(c);this.activated=r.createComponent(_,r.length,p)}else this.activated=r.createComponent(c,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(dC),o.Y36(o.s_b),o.$8M("name"),o.Y36(o.sBO),o.Y36(o.lqb))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class tie{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===wf?this.route:t===dC?this.childContexts:this.parent.get(t,e)}}let iL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[o.jDz],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},dependencies:[nL],encapsulation:2}),n})();function Jq(n,t){return n.providers&&!n._injector&&(n._injector=(0,o.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function sL(n){const t=n.children&&n.children.map(sL),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==an&&(e.component=iL),e}function ml(n){return n.outlet||an}function e6(n,t){const e=n.filter(i=>ml(i)===t);return e.push(...n.filter(i=>ml(i)!==t)),e}function hC(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class aie{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),JF(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Ry(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),ls(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ry(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=Ry(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Ry(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new Wne(s.value.snapshot))}),t.children.length&&this.forwardEvent(new zne(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(JF(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),JF(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=hC(r.snapshot),p=d?.get(o._Vd)??null;c.attachRef=null,c.route=r,c.resolver=p,c.injector=d,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class t6{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class wA{constructor(t,e){this.component=t,this.route=e}}function lie(n,t,e){const i=n._root;return fC(i,t?t._root:null,e,[i.value])}function Oy(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,o.Z0I)(n)?t.get(n):n:i}function fC(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Ry(t);return n.children.forEach(c=>{(function uie(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const p=function die(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Gm(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Gm(n.url,t.url)||!bu(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eL(n,t)||!bu(n.queryParams,t.queryParams);default:return!eL(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new t6(i)):(s.data=c.data,s._resolvedData=c._resolvedData),fC(n,t,s.component?d?d.children:null:e,i,r),p&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new wA(d.outlet.component,c))}else c&&pC(t,d,r),r.canActivateChecks.push(new t6(i)),fC(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),ls(s,(c,d)=>pC(c,e.getContext(d),r)),r}function pC(n,t,e){const i=Ry(n),r=n.value;ls(i,(s,c)=>{pC(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new wA(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function mC(n){return"function"==typeof n}function oL(n){return n instanceof mw||"EmptyError"===n?.name}const CA=Symbol("INITIAL_VALUE");function Py(){return si(n=>tE(n.map(t=>t.pipe(qn(1),nr(CA)))).pipe((0,ct.U)(t=>{for(const e of t)if(!0!==e){if(e===CA)return CA;if(!1===e||e instanceof jm)return e}return!0}),zn(t=>t!==CA),qn(1)))}function n6(n){return(0,lne.z)((0,vi.b)(t=>{if($m(t))throw Yq(0,t)}),(0,ct.U)(t=>!0===t))}const aL={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function i6(n,t,e,i,r){const s=lL(n,t,e);return s.matched?function Aie(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?st(r.map(c=>{const d=Oy(c,n);return bf(function _ie(n){return n&&mC(n.canMatch)}(d)?d.canMatch(t,e):n.runInContext(()=>d(t,e)))})).pipe(Py(),n6()):st(!0)}(i=Jq(t,i),t,e).pipe((0,ct.U)(c=>!0===c?s:{...aL})):st(s)}function lL(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...aL}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||une)(e,n,t);if(!r)return{...aL};const s={};ls(r.posParams,(d,p)=>{s[p]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function EA(n,t,e,i,r="corrected"){if(e.length>0&&function kie(n,t,e){return e.some(i=>DA(n,t,i)&&ml(i)!==an)}(n,e,i)){const c=new pn(t,function xie(n,t,e,i){const r={};r[an]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&ml(s)!==an){const c=new pn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[ml(s)]=c}return r}(n,t,i,new pn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Rie(n,t,e){return e.some(i=>DA(n,t,i))}(n,e,i)){const c=new pn(n.segments,function Mie(n,t,e,i,r,s){const c={};for(const d of i)if(DA(n,e,d)&&!r[ml(d)]){const p=new pn([],{});p._sourceSegment=n,p._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[ml(d)]=p}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new pn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function DA(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function r6(n,t,e,i){return!!(ml(n)===i||i!==an&&DA(t,e,n))&&("**"===n.path||lL(t,n,e).matched)}function s6(n,t,e){return 0===t.length&&!n.children[e]}const IA=!1;class SA{constructor(t){this.segmentGroup=t||null}}class o6{constructor(t){this.urlTree=t}}function gC(n){return Nh(new SA(n))}function a6(n){return Nh(new o6(n))}class Fie{constructor(t,e,i,r,s){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0}apply(){const t=EA(this.urlTree.root,[],[],this.config).segmentGroup,e=new pn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,an).pipe((0,ct.U)(s=>this.createUrlTree(_A(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ic(s=>{if(s instanceof o6)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof SA?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,an).pipe((0,ct.U)(r=>this.createUrlTree(_A(r),t.queryParams,t.fragment))).pipe(ic(r=>{throw r instanceof SA?this.noMatchError(r):r}))}noMatchError(t){return new o.vHH(4002,IA)}createUrlTree(t,e,i){const r=zF(t);return new jm(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ct.U)(s=>new pn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,rn.D)(r).pipe(rc(s=>{const c=i.children[s],d=e6(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,ct.U)(p=>({segment:p,outlet:s})))}),Jp((s,c)=>(s[c.outlet]=c.segment,s),{}),Cq())}expandSegment(t,e,i,r,s,c){return(0,rn.D)(i).pipe(rc(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(ic(_=>{if(_ instanceof SA)return st(null);throw _}))),ou(d=>!!d),ic((d,p)=>{if(oL(d))return s6(e,r,s)?st(new pn([],{})):gC(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return r6(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):gC(e):gC(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?a6(s):this.lineralizeSegments(i,s).pipe((0,Cr.z)(c=>{const d=new pn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:p,remainingSegments:_,positionalParamSegments:b}=lL(e,r,s);if(!d)return gC(e);const I=this.applyRedirectCommands(p,r.redirectTo,b);return r.redirectTo.startsWith("/")?a6(I):this.lineralizeSegments(r,I).pipe((0,Cr.z)(M=>this.expandSegment(t,e,i,M.concat(_),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){return"**"===i.path?(t=Jq(i,t),i.loadChildren?(i._loadedRoutes?st({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,ct.U)(d=>(i._loadedRoutes=d.routes,i._loadedInjector=d.injector,new pn(r,{})))):st(new pn(r,{}))):i6(e,i,r,t).pipe(si(({matched:c,consumedSegments:d,remainingSegments:p})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Cr.z)(b=>{const I=b.injector??t,M=b.routes,{segmentGroup:O,slicedSegments:N}=EA(e,d,p,M),z=new pn(O.segments,O.children);if(0===N.length&&z.hasChildren())return this.expandChildren(I,M,z).pipe((0,ct.U)(Je=>new pn(d,Je)));if(0===M.length&&0===N.length)return st(new pn(d,{}));const ie=ml(i)===s;return this.expandSegment(I,z,M,N,ie?an:s,!0).pipe((0,ct.U)(ze=>new pn(d.concat(ze.segments),ze.children)))})):gC(e)))}getChildConfig(t,e,i){return e.children?st({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?st({routes:e._loadedRoutes,injector:e._loadedInjector}):function Tie(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?st(!0):st(r.map(c=>{const d=Oy(c,n);return bf(function fie(n){return n&&mC(n.canLoad)}(d)?d.canLoad(t,e):n.runInContext(()=>d(t,e)))})).pipe(Py(),n6())}(t,e,i).pipe((0,Cr.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,vi.b)(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function Pie(n){return Nh(Kq(IA,3))}())):st({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return st(i);if(r.numberOfChildren>1||!r.children[an])return Nh(new o.vHH(4e3,IA));r=r.children[an]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new jm(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ls(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return ls(e.children,(d,p)=>{c[p]=this.createSegmentGroup(t,d,i,r)}),new pn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new o.vHH(4001,IA);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Vie{}class Hie{constructor(t,e,i,r,s,c,d,p){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=d,this.urlSerializer=p}recognize(){const t=EA(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,an).pipe((0,ct.U)(e=>{if(null===e)return null;const i=new vA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},an,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Od(i,e),s=new Wq(this.url,r);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(t){const e=t.value,i=qq(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,rn.D)(Object.keys(i.children)).pipe(rc(r=>{const s=i.children[r],c=e6(e,r);return this.processSegmentGroup(t,c,s,r)}),Jp((r,s)=>r&&s?(r.push(...s),r):null),_I(r=>null!==r),QI(null),Cq(),(0,ct.U)(r=>{if(null===r)return null;const s=l6(r);return function jie(n){n.sort((t,e)=>t.value.outlet===an?-1:e.value.outlet===an?1:t.value.outlet.localeCompare(e.value.outlet))}(s),s}))}processSegment(t,e,i,r,s){return(0,rn.D)(e).pipe(rc(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,s)),ou(c=>!!c),ic(c=>{if(oL(c))return s6(i,r,s)?st([]):st(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,s){if(e.redirectTo||!r6(e,i,r,s))return st(null);let c;if("**"===e.path){const d=r.length>0?Iq(r).parameters:{},p=u6(i)+r.length;c=st({snapshot:new vA(r,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h6(e),ml(e),e.component??e._loadedComponent??null,e,c6(i),p,f6(e),p),consumedSegments:[],remainingSegments:[]})}else c=i6(i,e,r,t).pipe((0,ct.U)(({matched:d,consumedSegments:p,remainingSegments:_,parameters:b})=>{if(!d)return null;const I=u6(i)+p.length;return{snapshot:new vA(p,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,h6(e),ml(e),e.component??e._loadedComponent??null,e,c6(i),I,f6(e),I),consumedSegments:p,remainingSegments:_}}));return c.pipe(si(d=>{if(null===d)return st(null);const{snapshot:p,consumedSegments:_,remainingSegments:b}=d;t=e._injector??t;const I=e._loadedInjector??t,M=function Gie(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:O,slicedSegments:N}=EA(i,_,b,M.filter(ie=>void 0===ie.redirectTo),this.relativeLinkResolution);if(0===N.length&&O.hasChildren())return this.processChildren(I,M,O).pipe((0,ct.U)(ie=>null===ie?null:[new Od(p,ie)]));if(0===M.length&&0===N.length)return st([new Od(p,[])]);const z=ml(e)===s;return this.processSegment(I,M,O,N,z?an:s).pipe((0,ct.U)(ie=>null===ie?null:[new Od(p,ie)]))}))}}function $ie(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function l6(n){const t=[],e=new Set;for(const i of n){if(!$ie(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=l6(i.children);t.push(new Od(i.value,r))}return t.filter(i=>!e.has(i))}function c6(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function u6(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function h6(n){return n.data||{}}function f6(n){return n.resolve||{}}function p6(n){return"string"==typeof n.title||null===n.title}function cL(n){return si(t=>{const e=n(t);return e?(0,rn.D)(e).pipe((0,ct.U)(()=>t)):st(t)})}let m6=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===an);return i}getResolvedTitleForRoute(e){return e.data[rC]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return(0,o.f3M)(g6)},providedIn:"root"}),n})(),g6=(()=>{class n extends m6{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ms))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Xie{}class ere extends class Jie{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const AA=new o.OlP("",{providedIn:"root",factory:()=>({})}),uL=new o.OlP("ROUTES");let dL=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return st(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=bf(e.loadComponent()).pipe((0,vi.b)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),iu(()=>{this.componentLoaders.delete(e)})),r=new wq(i,()=>new Tt.x).pipe(UF());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return st({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,ct.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,_,b=!1;Array.isArray(d)?_=d:(p=d.create(e).injector,_=Dq(p.get(uL,[],o.XFs.Self|o.XFs.Optional)));return{routes:_.map(sL),injector:p}}),iu(()=>{this.childrenLoaders.delete(i)})),c=new wq(s,()=>new Tt.x).pipe(UF());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return bf(e()).pipe((0,Cr.z)(i=>i instanceof o.YKP||Array.isArray(i)?st(i):(0,rn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3),o.LFG(o.Sil))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class nre{}class ire{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function rre(n){throw n}function sre(n,t,e){return t.parse("/")}const ore={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},are={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function y6(){const n=(0,o.f3M)(kq),t=(0,o.f3M)(dC),e=(0,o.f3M)(Ne),i=(0,o.f3M)(o.zs3),r=(0,o.f3M)(o.Sil),s=(0,o.f3M)(uL,{optional:!0})??[],c=(0,o.f3M)(AA,{optional:!0})??{},d=(0,o.f3M)(g6),p=(0,o.f3M)(m6,{optional:!0}),_=(0,o.f3M)(nre,{optional:!0}),b=(0,o.f3M)(Xie,{optional:!0}),I=new fr(null,n,t,e,i,r,Dq(s));return _&&(I.urlHandlingStrategy=_),b&&(I.routeReuseStrategy=b),I.titleStrategy=p??d,function lre(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,I),I}let fr=(()=>{class n{constructor(e,i,r,s,c,d,p){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=p,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Tt.x,this.errorHandler=rre,this.malformedUriErrorHandler=sre,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>st(void 0),this.urlHandlingStrategy=new ire,this.routeReuseStrategy=new ere,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(dL),this.configLoader.onLoadEndListener=M=>this.triggerEvent(new Gne(M)),this.configLoader.onLoadStartListener=M=>this.triggerEvent(new jne(M)),this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const I=c.get(o.R0b);this.isNgZoneEnabled=I instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(p),this.currentUrlTree=function hne(){return new jm(new pn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=zq(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(zn(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),si(r=>{let s=!1,c=!1;return st(r).pipe((0,vi.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),si(d=>{const p=this.browserUrlTree.toString(),_=!this.navigated||d.extractedUrl.toString()!==p||p!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return v6(d.source)&&(this.browserUrlTree=d.extractedUrl),st(d).pipe(si(I=>{const M=this.transitions.getValue();return i.next(new YF(I.id,this.serializeUrl(I.extractedUrl),I.source,I.restoredState)),M!==this.transitions.getValue()?Wc.E:Promise.resolve(I)}),function Lie(n,t,e,i){return si(r=>function Nie(n,t,e,i,r){return new Fie(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ct.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,vi.b)(I=>{this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},r.urlAfterRedirects=I.urlAfterRedirects}),function qie(n,t,e,i,r,s){return(0,Cr.z)(c=>function Uie(n,t,e,i,r,s,c="emptyOnly",d="legacy"){return new Hie(n,t,e,i,r,c,d,s).recognize().pipe(si(p=>null===p?function Bie(n){return new ci.y(t=>t.error(n))}(new Vie):st(p)))}(n,t,e,c.urlAfterRedirects,i.serialize(c.urlAfterRedirects),i,r,s).pipe((0,ct.U)(d=>({...c,targetSnapshot:d}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,vi.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!I.extras.skipLocationChange){const O=this.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);this.setBrowserUrl(O,I)}this.browserUrlTree=I.urlAfterRedirects}const M=new Lne(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(I.urlAfterRedirects),I.targetSnapshot);i.next(M)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:M,extractedUrl:O,source:N,restoredState:z,extras:ie}=d,Me=new YF(M,this.serializeUrl(O),N,z);i.next(Me);const ze=zq(O,this.rootComponentType).snapshot;return st(r={...d,targetSnapshot:ze,urlAfterRedirects:O,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),Wc.E}),(0,vi.b)(d=>{const p=new Vne(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(p)}),(0,ct.U)(d=>r={...d,guards:lie(d.targetSnapshot,d.currentSnapshot,this.rootContexts)}),function vie(n,t){return(0,Cr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?st({...e,guardsResult:!0}):function bie(n,t,e,i){return(0,rn.D)(n).pipe((0,Cr.z)(r=>function Sie(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?st(s.map(d=>{const p=hC(t)??r,_=Oy(d,p);return bf(function gie(n){return n&&mC(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):p.runInContext(()=>_(n,t,e,i))).pipe(ou())})).pipe(Py()):st(!0)}(r.component,r.route,e,t,i)),ou(r=>!0!==r,!0))}(c,i,r,n).pipe((0,Cr.z)(d=>d&&function hie(n){return"boolean"==typeof n}(d)?function wie(n,t,e,i){return(0,rn.D)(t).pipe(rc(r=>bh(function Eie(n,t){return null!==n&&t&&t(new $ne(n)),st(!0)}(r.route.parent,i),function Cie(n,t){return null!==n&&t&&t(new qne(n)),st(!0)}(r.route,i),function Iie(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function cie(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>R_(()=>st(c.guards.map(p=>{const _=hC(c.node)??e,b=Oy(p,_);return bf(function mie(n){return n&&mC(n.canActivateChild)}(b)?b.canActivateChild(i,n):_.runInContext(()=>b(i,n))).pipe(ou())})).pipe(Py())));return st(s).pipe(Py())}(n,r.path,e),function Die(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return st(!0);const r=i.map(s=>R_(()=>{const c=hC(t)??e,d=Oy(s,c);return bf(function pie(n){return n&&mC(n.canActivate)}(d)?d.canActivate(t,n):c.runInContext(()=>d(t,n))).pipe(ou())}));return st(r).pipe(Py())}(n,r.route,e))),ou(r=>!0!==r,!0))}(i,s,n,t):st(d)),(0,ct.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,vi.b)(d=>{if(r.guardsResult=d.guardsResult,$m(d.guardsResult))throw Yq(0,d.guardsResult);const p=new Bne(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(p)}),zn(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,"",3),!1)),cL(d=>{if(d.guards.canActivateChecks.length)return st(d).pipe((0,vi.b)(p=>{const _=new Une(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}),si(p=>{let _=!1;return st(p).pipe(function Wie(n,t){return(0,Cr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return st(e);let s=0;return(0,rn.D)(r).pipe(rc(c=>function Zie(n,t,e,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!p6(r)&&(s[rC]=r.title),function Yie(n,t,e,i){const r=function Kie(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return st({});const s={};return(0,rn.D)(r).pipe((0,Cr.z)(c=>function Qie(n,t,e,i){const r=hC(t)??i,s=Oy(n,r);return bf(s.resolve?s.resolve(t,e):r.runInContext(()=>s(t,e)))}(n[c],t,e,i).pipe(ou(),(0,vi.b)(d=>{s[c]=d}))),HF(1),NI(s),ic(c=>oL(c)?Wc.E:Nh(c)))}(s,n,t,i).pipe((0,ct.U)(c=>(n._resolvedData=c,n.data=qq(n,e).resolve,r&&p6(r)&&(n.data[rC]=r.title),null)))}(c.route,i,n,t)),(0,vi.b)(()=>s++),HF(1),(0,Cr.z)(c=>s===r.length?st(e):Wc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,vi.b)({next:()=>_=!0,complete:()=>{_||(this.restoreHistory(p),this.cancelNavigationTransition(p,"",2))}}))}),(0,vi.b)(p=>{const _=new Hne(p.id,this.serializeUrl(p.extractedUrl),this.serializeUrl(p.urlAfterRedirects),p.targetSnapshot);this.triggerEvent(_)}))}),cL(d=>{const p=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,vi.b)(I=>{_.component=I}),(0,ct.U)(()=>{})));for(const I of _.children)b.push(...p(I));return b};return tE(p(d.targetSnapshot.root)).pipe(QI(),qn(1))}),cL(()=>this.afterPreactivation()),(0,ct.U)(d=>{const p=function Qne(n,t,e){const i=uC(n,t._root,e?e._root:void 0);return new $q(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return r={...d,targetRouterState:p}}),(0,vi.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,ct.U)(i=>(new aie(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,vi.b)({next(){s=!0},complete(){s=!0}}),iu(()=>{s||c||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),ic(d=>{if(c=!0,Xq(d)){Qq(d)||(this.navigated=!0,this.restoreHistory(r,!0));const p=new yA(r.id,this.serializeUrl(r.extractedUrl),d.message,d.cancellationCode);if(i.next(p),Qq(d)){const _=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||v6(r.source)};this.scheduleNavigation(_,"imperative",null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const p=new Hq(r.id,this.serializeUrl(r.extractedUrl),d,r.targetSnapshot??void 0);i.next(p);try{r.resolve(this.errorHandler(d))}catch(_){r.reject(_)}}return Wc.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(sL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:p}=i,_=r||this.routerState.root,b=p?this.currentUrlTree.fragment:c;let I=null;switch(d){case"merge":I={...this.currentUrlTree.queryParams,...s};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=s||null}return null!==I&&(I=this.removeEmptyProps(I)),kne(_,this.currentUrlTree,e,I,b??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=$m(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function cre(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new o.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...ore}:!1===i?{...are}:i,$m(e))return Tq(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Tq(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new zm(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,p,_;c?(d=c.resolve,p=c.reject,_=c.promise):_=new Promise((M,O)=>{d=M,p=O});const b=++this.navigationId;let I;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),I=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):I=0,this.setTransition({id:b,targetPageId:I,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:p,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(M=>Promise.reject(M))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const s=new yA(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(s),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:function(){return y6()},providedIn:"root"}),n})();function v6(n){return"imperative"!==n}let _C=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new Tt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fr),o.Y36(wf),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),wu=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new Tt.x,this.subscription=e.events.subscribe(s=>{s instanceof zm&&this.updateTargetUrlAndHref()})}set preserveFragment(e){this._preserveFragment=(0,o.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,o.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,o.D6c)(e)}get replaceUrl(){return this._replaceUrl}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){return!!(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fr),o.Y36(wf),o.Y36(De))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[o.TTD]}),n})(),Cf=(()=>{class n{constructor(e,i,r,s,c,d){this.router=e,this.element=i,this.renderer=r,this.cdr=s,this.link=c,this.linkWithHref=d,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new o.vpe,this.routerEventsSubscription=e.events.subscribe(p=>{p instanceof zm&&this.update()})}ngAfterContentInit(){st(this.links.changes,this.linksWithHrefs.changes,st(null)).pipe((0,Tg.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,rn.D)(e).pipe((0,Tg.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function ure(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fr),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(_C,8),o.Y36(wu,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,_C,5),o.Suo(r,wu,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.links=s),o.iGM(s=o.CRH())&&(i.linksWithHrefs=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[o.TTD]}),n})();class b6{}let dre=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(zn(e=>e instanceof zm),rc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=(0,o.MMx)(s.providers,e,`Route: ${s.path}`));const c=s._injector??e,d=s._loadedInjector??c;s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent?r.push(this.preloadConfig(c,s)):(s.children||s._loadedRoutes)&&r.push(this.processRoutes(d,s.children??s._loadedRoutes))}return(0,rn.D)(r).pipe((0,Tg.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):st(null);const s=r.pipe((0,Cr.z)(c=>null===c?st(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,rn.D)([s,c]).pipe((0,Tg.J)())}return s})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(o.Sil),o.LFG(o.lqb),o.LFG(b6),o.LFG(dL))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hL=new o.OlP("");let w6=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof YF?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zm&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof jq&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new jq(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ny(n,t){return{\u0275kind:n,\u0275providers:t}}function fL(n){return[{provide:uL,multi:!0,useValue:n}]}function E6(){const n=(0,o.f3M)(o.zs3);return t=>{const e=n.get(o.z2F);if(t!==e.components[0])return;const i=n.get(fr),r=n.get(D6);1===n.get(pL)&&i.initialNavigation(),n.get(I6,null,o.XFs.Optional)?.setUpPreloading(),n.get(hL,null,o.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const D6=new o.OlP("",{factory:()=>new Tt.x}),pL=new o.OlP("",{providedIn:"root",factory:()=>1});const I6=new o.OlP("");function mre(n){return Ny(0,[{provide:I6,useExisting:dre},{provide:b6,useExisting:n}])}const S6=new o.OlP("ROUTER_FORROOT_GUARD"),gre=[Ne,{provide:kq,useClass:GF},{provide:fr,useFactory:y6},dC,{provide:wf,useFactory:function C6(n){return n.routerState.root},deps:[fr]},dL];function _re(){return new o.PXZ("Router",fr)}let T6=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[gre,[],fL(e),{provide:S6,useFactory:wre,deps:[[fr,new o.FiY,new o.tp0]]},{provide:AA,useValue:i||{}},i?.useHash?{provide:De,useClass:it}:{provide:De,useClass:nt},{provide:hL,useFactory:()=>{const n=(0,o.f3M)(fr),t=(0,o.f3M)(Hd),e=(0,o.f3M)(AA);return e.scrollOffset&&t.setOffset(e.scrollOffset),new w6(n,t,e)}},i?.preloadingStrategy?mre(i.preloadingStrategy).\u0275providers:[],{provide:o.PXZ,multi:!0,useFactory:_re},i?.initialNavigation?Cre(i):[],[{provide:A6,useFactory:E6},{provide:o.tb,multi:!0,useExisting:A6}]]}}static forChild(e){return{ngModule:n,providers:[fL(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(S6,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[iL]}),n})();function wre(n){return"guarded"}function Cre(n){return["disabled"===n.initialNavigation?Ny(3,[{provide:o.ip1,multi:!0,useFactory:()=>{const t=(0,o.f3M)(fr);return()=>{t.setUpLocationChangeListener()}}},{provide:pL,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ny(2,[{provide:pL,useValue:0},{provide:o.ip1,multi:!0,deps:[o.zs3],useFactory:t=>{const e=t.get(W,Promise.resolve(null));let i=!1;return()=>e.then(()=>new Promise(s=>{const c=t.get(fr),d=t.get(D6);(function r(s){t.get(fr).events.pipe(zn(d=>d instanceof zm||d instanceof yA||d instanceof Hq),(0,ct.U)(d=>d instanceof zm||d instanceof yA&&(0===d.code||1===d.code)&&null),zn(d=>null!==d),qn(1)).subscribe(()=>{s()})})(()=>{s(!0),i=!0}),c.afterPreactivation=()=>(s(!0),i||d.closed?st(void 0):d),c.initialNavigation()}))}}]).\u0275providers:[]]}const A6=new o.OlP("");var Dre=V(8554),Ire=V(930);let Cu=(()=>{class n{constructor(e,i){this.router=e,this._snackBar=i,this.history=[]}navigateTo(e){this.history.push(e),this.router.navigateByUrl(e).then(i=>{},i=>{console.log({error:i}),this._snackBar.open("Algo errado n\xe3o est\xe1 certo: falhou","fechar")})}back(){this.history.pop();const e=this.history.length?this.history.pop():"/";this.navigateTo(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(fr),o.LFG(PI))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lo=(()=>{class n{constructor(e,i,r,s,c){this.afs=e,this.auth=i,this.ngZone=r,this._snackBar=s,this._nav=c,this.userDoc=null,this.userData=null,this.user=new Rr(this.userData),this.didLoggedIn=new Rr(!1),this.userUID="",this.auth.authState.subscribe(d=>{d&&d.uid?(this.userUID=d.uid,!this.didLoggedIn.value&&this.didLoggedIn.next(!0),this._nav.navigateTo("/")):(this.userData=null,this.user.next(this.userData),this.didLoggedIn.value&&this.didLoggedIn.next(!1))}),this.didLoggedIn.subscribe(d=>{d&&this.userUID&&!this.userData&&this.getUserData(this.userUID,"didLoggedInSubscribeConstructor").subscribe()})}signIn(e,i){var r=this;return(0,be.Z)(function*(){return r.auth.signInWithEmailAndPassword(e,i).then(s=>{!r.didLoggedIn.value&&r.didLoggedIn.next(!0)}).catch(s=>{console.log("Something went wrong: ",s.message),r._snackBar.open("Algo errado n\xe3o est\xe1 certo: login falhou","fechar")})})()}setUserData(e){return this.afs.doc(`users/${e.uid}`).set(e,{merge:!0})}signUp(e,i){return this.auth.createUserWithEmailAndPassword(e,i).then(r=>{this.sendVerificationMail();const s=r.user;this.setUserData({uid:s.uid,email:s.email,displayName:s.displayName,photoURL:s.photoURL,emailVerified:s.emailVerified,loginMode:"email-password"})}).catch(r=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: cadastro falhou","fechar"),console.log("Something went wrong: ",r)})}sendVerificationMail(){return this.auth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this._snackBar.open("Verifica\xe7\xe3o de email enviada, verifique","fechar"),this._nav.navigateTo("/verificar-email")})}forgotPassword(e){return this.auth.sendPasswordResetEmail(e).then(()=>{this._snackBar.open("Email para recupera\xe7\xe3o de senha enviado, verifique","fechar")}).catch(i=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: email de recupera\xe7\xe3o falhou","fechar")})}get isLoggedIn(){const e=!!(this.didLoggedIn.value&&this.userUID&&this.userData&&this.userData.emailVerified);return console.log(`${e} - ${!!this.didLoggedIn.value} - ${!!this.userUID} - ${!!this.userData} `),e}googleLogin(){var e=this;return(0,be.Z)(function*(){var i=new Dre.Q;return e.oAuthLogin(i,"google-oauth").catch(r=>{e._snackBar.open("Algo errado n\xe3o est\xe1 certo: login google falhou","fechar"),console.log("Something went wrong: ",r)})})()}signOut(){var e=this;return(0,be.Z)(function*(){return e.auth.signOut().then(()=>{e.userData=null,e.user.next(e.userData),e.didLoggedIn.value&&e.didLoggedIn.next(!1)})})()}deleteUser(){var e=this;return(0,be.Z)(function*(){if(e.userData){const i=e.userData;return e.auth.currentUser.then(r=>{e.deleteCurriloListData(i.curriculosUID).then(s=>{e.deleteUserData(i.uid).then(c=>{r?.delete(),e.userData=null,e.user.next(e.userData),e.didLoggedIn.value&&e.didLoggedIn.next(!1)})})}).catch(r=>{e._nav.navigateTo("/excluir-perfil")})}return Promise.reject("No userData to delete")})()}deleteUserData(e){return this.afs.doc(`users/${e}`).delete()}deleteCurriloListData(e){return this.afs.doc(`curriculos/${e}`).delete()}oAuthLogin(e,i){var r=this;return(0,be.Z)(function*(){return r.auth.signInWithPopup(e).then(s=>{const c=s.user;let d=null;c&&(d={uid:c.uid,email:c.email,displayName:c.displayName,photoURL:c.photoURL,emailVerified:c.emailVerified}),r.getUserData(d?.uid,"oAuthLogin").subscribe(p=>{const _=p?p.data():null;let b={uid:d?.uid,email:d?.email,displayName:d?.displayName,photoURL:d?.photoURL,emailVerified:d?.emailVerified,loginMode:"google-oauth"};_&&(b={uid:d?.uid,email:d?.email,displayName:_.displayName,photoURL:_.photoURL,emailVerified:d.emailVerified,loginMode:"google-oauth",curriculosUID:_.curriculosUID}),r.setUserData(b),r.user.next(b),r.userData=b,r.didLoggedIn.next(!0),r._nav.navigateTo("/")}).unsubscribe()}).catch(s=>{r._snackBar.open("Algo errado n\xe3o est\xe1 certo: login oAuth falhou","fechar"),console.log("Something went wrong: ",s)})})()}getUserData(e,i){const r=e||"";return this.afs.collection("users").doc(r).get().pipe((0,vi.b)(c=>{this.userData=c.data(),this.user.next(this.userData)}))}getUser(){return function Sre(n,t){const e="object"==typeof t;return new Promise((i,r)=>{const s=new Ire.Hp({next:c=>{i(c),s.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new mw)}});n.subscribe(s)})}(this.auth.authState.pipe(ou()))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(MN),o.LFG(vw),o.LFG(o.R0b),o.LFG(PI),o.LFG(Cu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qm=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){var r=this;return(0,be.Z)(function*(){return(yield r.authService.getUser())||(console.log("Acesso negado: AuthGuard"),r.router.navigate(["/"])),!0})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lo),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RA=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){var r=this;return(0,be.Z)(function*(){return(yield r.authService.getUser())&&(console.log("Acesso negado: NoAuthGuard"),r.router.navigate(["/"])),!0})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lo),o.LFG(fr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tre=(()=>{class n{constructor(e){this._nav=e}ngOnInit(){}back(){this._nav.back()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-adicionais"]],decls:9,vars:0,consts:[[1,"container"],[1,"mat-h2"],["routerLink","","routerLinkActive","inactive",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Recursos Adicionais"),o.qZA(),o.TgZ(3,"div")(4,"span"),o._uU(5,"Esta funcionalidade n\xe3o est\xe1 liberada."),o.qZA()(),o.TgZ(6,"div")(7,"a",2),o.NdJ("click",function(){return i.back()}),o._uU(8,"Voltar"),o.qZA()()())},dependencies:[wu,Cf]}),n})(),Are=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i}ngOnInit(){}onEnter(e,i){this.authService.signIn(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo),o.Y36(Cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-email-login"]],decls:30,vars:0,consts:[[1,"container"],[1,"mat-h3"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required","",3,"keyup.enter"],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password",3,"keyup.enter"],["userPassword",""],["mat-raised-button","",3,"click"],[1,"or"],[1,"orInner"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"forgotPassword"],["routerLink","/esqueceu-senha","routerLinkActive","active"],[1,"redirectToLogin"],["routerLink","/cadastro","routerLinkActive","active"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h3",1),o._uU(2,"Fa\xe7a o Login"),o.qZA(),o.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),o._uU(6,"Email"),o.qZA(),o.TgZ(7,"input",4,5),o.NdJ("keyup.enter",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return o.KtG(i.onEnter(c.value,d.value))}),o.qZA()(),o.TgZ(9,"mat-form-field",3)(10,"mat-label"),o._uU(11,"Senha"),o.qZA(),o.TgZ(12,"input",6,7),o.NdJ("keyup.enter",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return o.KtG(i.onEnter(c.value,d.value))}),o.qZA()()(),o.TgZ(14,"button",8),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return o.KtG(i.authService.signIn(c.value,d.value))}),o._uU(15," Entrar "),o.qZA(),o.TgZ(16,"div",9)(17,"span",10),o._uU(18,"ou"),o.qZA()(),o.TgZ(19,"button",8),o.NdJ("click",function(){return i.authService.googleLogin()}),o._UZ(20,"mat-icon",11),o._uU(21," Entrar com conta Google "),o.qZA(),o.TgZ(22,"div",12)(23,"a",13),o._uU(24,"Esqueceu a senha?"),o.qZA()(),o.TgZ(25,"div",14)(26,"span"),o._uU(27,"N\xe3o tem um cadastro? "),o.TgZ(28,"a",15),o._uU(29,"Cadastrar"),o.qZA()()()()}},dependencies:[wu,Cf,hg,Lc,Do,Ni,Lp,fd,Vp,su],styles:[".forgotPassword[_ngcontent-%COMP%]{margin-top:15px}"]}),n})(),Mre=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-esqueceu-senha"]],decls:18,vars:0,consts:[[1,"container"],[1,"mat-h2"],[1,"text-center"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required",""],["userEmail",""],["mat-raised-button","",3,"click"],[1,"redirectToLogin"],["routerLink","/login","routerLinkActive","active"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Recuperar Senha"),o.qZA(),o.TgZ(3,"p",2),o._uU(4,"Informe o email utilizado no cadastro"),o.qZA(),o.TgZ(5,"form",3)(6,"mat-form-field",4)(7,"mat-label"),o._uU(8,"Email"),o.qZA(),o._UZ(9,"input",5,6),o.qZA()(),o.TgZ(11,"button",7),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(10);return o.KtG(i.authService.forgotPassword(c.value))}),o._uU(12," Recuperar "),o.qZA(),o.TgZ(13,"div",8)(14,"span"),o._uU(15,"Voltar e fazer "),o.TgZ(16,"a",9),o._uU(17,"Login?"),o.qZA()()()()}},dependencies:[wu,Cf,hg,Lc,Do,Ni,Lp,fd,Vp],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;flex-direction:column;align-items:center}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();function xre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"button",4),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.googleLogin())}),o._UZ(2,"mat-icon",5),o._uU(3," Excluir perfil "),o.qZA()()}}function kre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),o._uU(3,"Email"),o.qZA(),o.TgZ(4,"input",8),o.NdJ("ngModelChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.userEmail=r)})("keyup.enter",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onEnter())}),o.qZA()(),o.TgZ(5,"mat-form-field",7)(6,"mat-label"),o._uU(7,"Senha"),o.qZA(),o.TgZ(8,"input",9),o.NdJ("keyup.enter",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.onEnter())})("ngModelChange",function(r){o.CHM(e);const s=o.oxw(2);return o.KtG(s.userPassword=r)}),o.qZA()(),o.TgZ(9,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw(2);return o.KtG(r.emailLogin())}),o._uU(10,"Excluir Perfil"),o.qZA()()}if(2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngModel",e.userEmail),o.xp6(4),o.Q6J("ngModel",e.userPassword)}}function Rre(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"p"),o._uU(2,"Refa\xe7a o login antes de excluir o Perfil"),o.qZA(),o.YNc(3,xre,4,0,"div",2),o.YNc(4,kre,11,2,"div",3),o.qZA()),2&n){const e=t.ngIf;o.xp6(3),o.Q6J("ngIf","google-oauth"==e.loginMode),o.xp6(1),o.Q6J("ngIf","email-password"==e.loginMode)}}let Ore=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i,this.userEmail="",this.userPassword=""}ngOnInit(){}googleLogin(){this.authService.googleLogin().then(e=>{this.authService.deleteUser().then(i=>{this._nav.navigateTo("/")})})}emailLogin(){this.userEmail&&this.userPassword&&this.authService.signIn(this.userEmail,this.userPassword).then(e=>{this.authService.deleteUser().then(i=>{this._nav.navigateTo("/")})})}onEnter(){this.emailLogin()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo),o.Y36(Cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-excluir-perfil"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],["class","full-width text-center",4,"ngIf"],["mat-raised-button","",1,"google",3,"click"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"full-width","text-center"],["appearance","fill",1,"full-width"],["matInput","","required","",3,"ngModel","ngModelChange","keyup.enter"],["matInput","","type","password","required","","autocomplete","current-password",3,"ngModel","keyup.enter","ngModelChange"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(o.YNc(0,Rre,5,2,"div",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,i.authService.user))},dependencies:[_n,Xa,Uf,sp,zy,Ni,Lp,fd,Vp,su,bl]}),n})();const M6={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let OA;const Pre=new Uint8Array(16);function Nre(){if(!OA&&(OA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!OA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return OA(Pre)}const cs=[];for(let n=0;n<256;++n)cs.push((n+256).toString(16).slice(1));const Lre=function Fre(n,t,e){if(M6.randomUUID&&!t&&!n)return M6.randomUUID();const i=(n=n||{}).random||(n.rng||Nre)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return function x6(n,t=0){return(cs[n[t+0]]+cs[n[t+1]]+cs[n[t+2]]+cs[n[t+3]]+"-"+cs[n[t+4]]+cs[n[t+5]]+"-"+cs[n[t+6]]+cs[n[t+7]]+"-"+cs[n[t+8]]+cs[n[t+9]]+"-"+cs[n[t+10]]+cs[n[t+11]]+cs[n[t+12]]+cs[n[t+13]]+cs[n[t+14]]+cs[n[t+15]]).toLowerCase()}(i)};let k6=(()=>{class n{constructor(e,i){this.afs=e,this.authService=i,this.curriculoListDoc=null,this.curriculoList=void 0;const r=this.authService.userData;r&&(this.curriculoListDoc=e.doc(`curriculos/${r.uid}`),this.curriculoList=this.curriculoListDoc.valueChanges(),!r.curriculosUID)&&this.afs.doc(`curriculos/${r.uid}`).set({uid:r.uid,ownerUID:r.uid,curriculos:[]},{merge:!0}).then(d=>{r.curriculosUID=r.uid,this.authService.setUserData(r).then()})}deleteCurriculoFromList(e,i){return i.curriculos=i.curriculos.filter(r=>r.uid!=e),this.updateCurriculosList(i)}updateCurriculosList(e){return e?this.afs.doc(`curriculos/${e.uid}`).set(e,{merge:!0}):Promise.reject()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(MN),o.LFG(Lo))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Bre=(()=>{class n{constructor(e){this.http=e}getData(e){const i=e.replace("-","");return this.http.get("https://brasilapi.com.br/api/cep/v2/{cep}".replace("{cep}",i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(jp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mL=(()=>{class n{constructor(){this.show=new Rr(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ure(n,t){if(1&n&&(o.TgZ(0,"mat-option",37),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function Hre(n,t){if(1&n&&(o.TgZ(0,"mat-option",37),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function jre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1)(1,"mat-form-field",5)(2,"mat-label"),o._uU(3),o.qZA(),o._UZ(4,"input",38),o.qZA(),o.TgZ(5,"div",23)(6,"button",39),o.NdJ("click",function(){const s=o.CHM(e).index,c=o.oxw();return o.KtG(c.deleteCurso(s))}),o.TgZ(7,"mat-icon"),o._uU(8,"remove_circle"),o.qZA()()()()}if(2&n){const e=t.index;o.xp6(3),o.hij("Curso ",e+1,""),o.xp6(1),o.MGl("autocomplete","curso_",e+1,""),o.Q6J("formControlName",e)}}function Gre(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",1)(2,"h4"),o._uU(3),o.qZA(),o.TgZ(4,"div",23)(5,"button",39),o.NdJ("click",function(){const s=o.CHM(e).index,c=o.oxw();return o.KtG(c.deleteExperiencia(s))}),o.TgZ(6,"mat-icon"),o._uU(7,"remove_circle"),o.qZA()()()(),o.TgZ(8,"div",40)(9,"mat-form-field",5)(10,"mat-label"),o._uU(11),o.qZA(),o._UZ(12,"input",41),o.qZA(),o.TgZ(13,"mat-form-field",5)(14,"mat-label"),o._uU(15),o.qZA(),o._UZ(16,"input",42),o.qZA(),o.TgZ(17,"mat-form-field",5)(18,"mat-label"),o._uU(19),o.qZA(),o._UZ(20,"input",43),o.qZA(),o.TgZ(21,"mat-form-field",5)(22,"mat-label"),o._uU(23),o.qZA(),o._UZ(24,"input",44),o.qZA()(),o.BQk()}if(2&n){const e=t.index;o.xp6(3),o.hij("Experi\xeancia ",e+1,""),o.xp6(5),o.Q6J("formGroupName",e),o.xp6(3),o.hij("Empresa ",e+1,""),o.xp6(1),o.MGl("autocomplete","empresa_",e+1,""),o.xp6(3),o.hij("Per\xedodo ",e+1,""),o.xp6(1),o.MGl("autocomplete","periodo_",e+1,""),o.xp6(3),o.hij("Cargo ",e+1,""),o.xp6(1),o.MGl("autocomplete","cargo_",e+1,""),o.xp6(3),o.hij("Atividades Exercidas ",e+1,""),o.xp6(1),o.MGl("autocomplete","atividades_exercidas_",e+1,"")}}let R6=(()=>{class n{constructor(e,i,r,s,c,d){this.curriculosService=e,this.route=i,this._nav=r,this.cepService=s,this.progressBarService=c,this.dateAdapter=d,this.curriculosList=void 0,this.curriculoSelected=void 0,this.uid=null,this.estadoCivisList=["Solteiro","Solteira","Casado","Casada","Vi\xfavo","Vi\xfava","Divorciado","Divorciada"],this.escolaridadeList=["Ensino Fundamental - Completo","Ensino Fundamental - Incompleto","Ensino M\xe9dio - Completo","Ensino M\xe9dio - Incompleto","Curso T\xe9cnico - Completo","Curso T\xe9cnico - Incompleto","Curso Superior - Completo","Curso Superior - Incompleto","P\xf3s Gradua\xe7\xe3o - Especializa\xe7\xe3o - Completo","P\xf3s Gradua\xe7\xe3o - Especializa\xe7\xe3o - Incompleto","P\xf3s Gradua\xe7\xe3o - MBA - Completo","P\xf3s Gradua\xe7\xe3o - MBA - Incompleto","P\xf3s Gradua\xe7\xe3o - Mestrado - Completo","P\xf3s Gradua\xe7\xe3o - Mestrado - Incompleto","P\xf3s Gradua\xe7\xe3o - Doutorado - Completo","P\xf3s Gradua\xe7\xe3o - Doutorado - Incompleto"],this.fakeData={name:"",identifier:"",email:"",estado_civil:""},this.curriculoForm=new Bc({name:new jn(this.fakeData.name,[Et.required,Et.maxLength(35)]),identifier:new jn(this.fakeData.identifier,[Et.required,Et.maxLength(25)]),email:new jn(this.fakeData.email,[Et.required,Et.email,Et.maxLength(30)]),estado_civil:new jn(this.fakeData.estado_civil,[Et.required,n.checkCategoryInput(this.estadoCivisList)]),data_nascimento:new jn(new Date(""),[Et.required,n.checkIsValidDate()]),nacionalidade:new jn("",[Et.required,Et.maxLength(20)]),telefone:new jn("",[Et.required,Et.maxLength(16)]),whatsapp:new jn(!1,[Et.required]),compartilhar:new jn(!1,[Et.required]),cep:new jn("",[Et.required,Et.maxLength(9),Et.minLength(8)]),rua:new jn("",[Et.required,Et.maxLength(120)]),bairro:new jn("",[Et.required,Et.maxLength(40)]),estado:new jn("",[Et.required,Et.maxLength(40)]),cidade:new jn("",[Et.required,Et.maxLength(40)]),numero:new jn("",[Et.maxLength(10)]),complemento:new jn("",[Et.maxLength(20)]),escolaridade:new jn("",[Et.required,n.checkCategoryInput(this.escolaridadeList)]),descricao_escolaridade:new jn("",[Et.required,Et.maxLength(70)]),cursos:new mg([]),objetivo:new jn("",[Et.required,Et.maxLength(150)]),experiencias:new mg([])}),this.uid=this.route.snapshot.paramMap.get("id"),this.curriculosService.curriculoList?.subscribe(p=>{this.curriculosList=p,this.curriculoSelected=this.curriculosList?.curriculos.filter(_=>_.uid=this.uid)[0],this.curriculoSelected&&this.preencheValoresIniciais(),this.curriculoForm.markAllAsTouched()})}ngOnInit(){this.dateAdapter.setLocale({pt:"pt"})}preencheValoresIniciais(){let e=this.curriculoSelected.data_nascimento;e=e||"";let i={name:this.curriculoSelected.name,identifier:this.curriculoSelected.identifier,email:this.curriculoSelected.email,data_nascimento:new Date(e),estado_civil:this.curriculoSelected.estado_civil,nacionalidade:this.curriculoSelected.nacionalidade,telefone:this.curriculoSelected.telefone,whatsapp:this.curriculoSelected.whatsapp,compartilhar:this.curriculoSelected.compartilhar,cep:this.curriculoSelected.cep,rua:this.curriculoSelected.rua,bairro:this.curriculoSelected.bairro,estado:this.curriculoSelected.estado,cidade:this.curriculoSelected.cidade,numero:this.curriculoSelected.numero,complemento:this.curriculoSelected.complemento,escolaridade:this.curriculoSelected.escolaridade,descricao_escolaridade:this.curriculoSelected.descricao_escolaridade,objetivo:this.curriculoSelected.objetivo};Object.keys(i).forEach(c=>{void 0===i[c]&&(i[c]="")}),this.curriculoForm.patchValue(i);const r=this.curriculoSelected.cursos;this.curriculoForm.controls.cursos=new mg([]),r?.length&&r.map(c=>{c.length&&this.addCurso(c)});const s=this.curriculoSelected.experiencias;this.curriculoForm.controls.experiencias=new mg([]),s?.length&&s.map(c=>{c&&this.addExperiencia(c)})}static checkCategoryInput(e){return i=>{const r=i.value;return e.includes(r)?null:{"not-in-list":r}}}static checkIsValidDate(){return e=>{const i=e.value;return n.isValidDate(new Date(i))?null:{"not-valid-date":i}}}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}gravar(){if(this.progressBarService.show.next(!0),this.isFormValid()){let e=[];this.experiencias.controls.length&&(e=this.experiencias.controls.map(r=>({...r.getRawValue()})));const i={uid:this.uid,...this.curriculoForm.getRawValue(),data_nascimento:new Intl.DateTimeFormat("en-US").format(this.curriculoForm.controls.data_nascimento.value||void 0),experiencias:e};if(i.uid=i.uid?i.uid:Lre(),this.isEditMode()){const r=this.curriculosList?.curriculos.filter(s=>s.uid!=this.uid);r.push(i),this.curriculoSelected=i,this.curriculosList.curriculos=r}else this.curriculosList?.curriculos.push(i);this.curriculosService.updateCurriculosList(this.curriculosList).then(r=>{this.progressBarService.show.next(!1),this._nav.navigateTo("painel")}).catch(r=>{this.progressBarService.show.next(!1),console.log({err:r})})}}isEditMode(){return!!this.uid}pageTitle(){return this.isEditMode()?"Edi\xe7\xe3o de Curr\xedculo":"Cadastro de Curr\xedculo"}isFormValid(){return this.curriculoForm.valid}isCepValid(){let e=this.curriculoForm.value.cep.replace("-","");return 8==e.length&&eE(e)}consultarCep(){this.progressBarService.show.next(!0),this.cepService.getData(this.curriculoForm.value.cep).subscribe(e=>{this.curriculoForm.controls.rua.setValue(e.street),this.curriculoForm.controls.bairro.setValue(e.neighborhood),this.curriculoForm.controls.cidade.setValue(e.city),this.curriculoForm.controls.estado.setValue(e.state),this.progressBarService.show.next(!1)},e=>{console.log(e),this.progressBarService.show.next(!1)})}get cursos(){return this.curriculoForm.get("cursos")}get experiencias(){return this.curriculoForm.get("experiencias")}addCurso(e){this.podeAddCurso()&&this.cursos.push(new jn(e,[Et.required,Et.maxLength(50)]))}addExperiencia(e){this.podeAddExperiencia()&&this.experiencias.push(new Bc({empresa:new jn(e?e.empresa:"",[Et.required,Et.maxLength(50)]),periodo:new jn(e?e.periodo:"",[Et.required,Et.maxLength(50)]),cargo:new jn(e?e.cargo:"",[Et.required,Et.maxLength(50)]),atividades_exercidas:new jn(e?e.atividades_exercidas:"",[Et.required,Et.maxLength(150)])}))}deleteCurso(e){this.cursos.removeAt(e)}podeAddCurso(){return this.cursos.length<3}podeAddExperiencia(){return this.experiencias.length<3}deleteExperiencia(e){this.experiencias.removeAt(e)}gerarPDF(){this._nav.navigateTo("adicionais")}disablePDF(){return!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(k6),o.Y36(wf),o.Y36(Cu),o.Y36(Bre),o.Y36(mL),o.Y36(ir))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-formulario-curriculo"]],decls:130,vars:13,consts:[[1,"container"],[1,"flex-row"],[1,"mat-h2"],["mat-icon-button","","color","primary",3,"disabled","click"],[1,"my-form",3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","required","","formControlName","identifier"],["color","primary","formControlName","compartilhar"],["matInput","","required","","formControlName","name","autocomplete","full-name"],["matInput","","required","","formControlName","email","autocomplete","current-email"],["appearance","fill"],["formControlName","estado_civil"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","data_nascimento",3,"matDatepicker"],["dataNascimentoInput",""],["matSuffix","",3,"for"],["picker",""],["matInput","","required","","formControlName","nacionalidade","autocomplete","nacionalidade"],["matInput","","required","","formControlName","telefone","autocomplete","telefone"],["color","primary","formControlName","whatsapp"],["matInput","","formControlName","numero","autocomplete","numero"],["matInput","","formControlName","complemento","autocomplete","complemento"],["matInput","","required","","formControlName","cep","autocomplete","cep"],[1,"padding-8"],["mat-raised-button","",3,"disabled","click"],["matInput","","required","","formControlName","rua","autocomplete","rua"],["matInput","","required","","formControlName","bairro","autocomplete","bairro"],["matInput","","required","","formControlName","cidade","autocomplete","cidade"],["matInput","","required","","formControlName","estado","autocomplete","estado"],["formControlName","escolaridade"],["matInput","","required","","formControlName","descricao_escolaridade","autocomplete","descricao_escolaridade"],["formArrayName","cursos"],["class","flex-row",4,"ngFor","ngForOf"],["matInput","","required","","formControlName","objetivo","autocomplete","objetivo"],["formArrayName","experiencias"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],["required","","matInput","",3,"formControlName","autocomplete"],["mat-icon-button","","color","primary",3,"click"],[3,"formGroupName"],["required","","formControlName","empresa","matInput","",3,"autocomplete"],["required","","formControlName","periodo","matInput","",3,"autocomplete"],["required","","formControlName","cargo","matInput","",3,"autocomplete"],["required","","formControlName","atividades_exercidas","matInput","",3,"autocomplete"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3),o.qZA(),o.TgZ(4,"div")(5,"button",3),o.NdJ("click",function(){return i.gerarPDF()}),o.TgZ(6,"mat-icon"),o._uU(7,"picture_as_pdf"),o.qZA()()()(),o.TgZ(8,"form",4)(9,"mat-form-field",5)(10,"mat-label"),o._uU(11,"Identificador"),o.qZA(),o._UZ(12,"input",6),o.qZA(),o.TgZ(13,"div")(14,"mat-checkbox",7),o._uU(15,"Autorizo compartilhar com recrutadores as informa\xe7\xf5es deste curr\xedculo"),o.qZA()(),o.TgZ(16,"h3"),o._uU(17,"Dados Pessoais"),o.qZA(),o.TgZ(18,"mat-form-field",5)(19,"mat-label"),o._uU(20,"Nome Completo"),o.qZA(),o._UZ(21,"input",8),o.qZA(),o.TgZ(22,"mat-form-field",5)(23,"mat-label"),o._uU(24,"Email"),o.qZA(),o._UZ(25,"input",9),o.qZA(),o.TgZ(26,"mat-form-field",10)(27,"mat-label"),o._uU(28,"Estado Civil"),o.qZA(),o.TgZ(29,"mat-select",11)(30,"mat-option"),o._uU(31,"N\xe3o selecionado"),o.qZA(),o.YNc(32,Ure,2,2,"mat-option",12),o.qZA()(),o.TgZ(33,"mat-form-field",10)(34,"mat-label"),o._uU(35,"Data de Nascimento"),o.qZA(),o._UZ(36,"input",13,14),o.TgZ(38,"mat-hint"),o._uU(39,"DD/MM/AAAA"),o.qZA(),o._UZ(40,"mat-datepicker-toggle",15)(41,"mat-datepicker",null,16),o.qZA(),o.TgZ(43,"mat-form-field",5)(44,"mat-label"),o._uU(45,"Nacionalidade"),o.qZA(),o._UZ(46,"input",17),o.qZA(),o.TgZ(47,"mat-form-field",5)(48,"mat-label"),o._uU(49,"Telefone com DDD"),o.qZA(),o._UZ(50,"input",18),o.qZA(),o.TgZ(51,"mat-checkbox",19),o._uU(52,"Tem whatsapp?"),o.qZA(),o.TgZ(53,"h3"),o._uU(54,"Endere\xe7o"),o.qZA(),o.TgZ(55,"mat-form-field",5)(56,"mat-label"),o._uU(57,"N\xfamero"),o.qZA(),o._UZ(58,"input",20),o.qZA(),o.TgZ(59,"mat-form-field",5)(60,"mat-label"),o._uU(61,"Complemento"),o.qZA(),o._UZ(62,"input",21),o.qZA(),o.TgZ(63,"div",1)(64,"mat-form-field",5)(65,"mat-label"),o._uU(66,"CEP"),o.qZA(),o._UZ(67,"input",22),o.qZA(),o.TgZ(68,"div",23)(69,"button",24),o.NdJ("click",function(){return i.consultarCep()}),o._uU(70," Consultar "),o.qZA()()(),o.TgZ(71,"mat-form-field",5)(72,"mat-label"),o._uU(73,"Rua"),o.qZA(),o._UZ(74,"input",25),o.qZA(),o.TgZ(75,"mat-form-field",5)(76,"mat-label"),o._uU(77,"Bairro"),o.qZA(),o._UZ(78,"input",26),o.qZA(),o.TgZ(79,"mat-form-field",5)(80,"mat-label"),o._uU(81,"Cidade"),o.qZA(),o._UZ(82,"input",27),o.qZA(),o.TgZ(83,"mat-form-field",5)(84,"mat-label"),o._uU(85,"Estado"),o.qZA(),o._UZ(86,"input",28),o.qZA(),o.TgZ(87,"h3"),o._uU(88,"Escolaridade"),o.qZA(),o.TgZ(89,"mat-form-field",10)(90,"mat-label"),o._uU(91,"Selecione"),o.qZA(),o.TgZ(92,"mat-select",29)(93,"mat-option"),o._uU(94,"N\xe3o selecionado"),o.qZA(),o.YNc(95,Hre,2,2,"mat-option",12),o.qZA()(),o.TgZ(96,"mat-form-field",5)(97,"mat-label"),o._uU(98,"Descri\xe7\xe3o da Escolaridade"),o.qZA(),o._UZ(99,"input",30),o.qZA(),o.TgZ(100,"div",1)(101,"h3"),o._uU(102,"Cursos"),o.qZA(),o.TgZ(103,"div",23)(104,"button",3),o.NdJ("click",function(){return i.addCurso("")}),o.TgZ(105,"mat-icon"),o._uU(106,"add_circle"),o.qZA()()()(),o.TgZ(107,"p"),o._uU(108," Digite aqui At\xe9 3 cursos que voc\xea tenha feito, por exemplo, se voc\xea tem conhecimentos em Inform\xe1tica, sabe usar o computador para ler emails, navegar na internet, digitar um texto, pode colocar: Inform\xe1tica B\xe1sico. Caso n\xe3o tenha nenhum curso, pode deixar em branco. "),o.qZA(),o.TgZ(109,"div",31),o.YNc(110,jre,9,3,"div",32),o.qZA(),o.TgZ(111,"h3"),o._uU(112,"Objetivo"),o.qZA(),o.TgZ(113,"mat-form-field",5)(114,"mat-label"),o._uU(115,"Seu objetivo profissional"),o.qZA(),o._UZ(116,"input",33),o.qZA(),o.TgZ(117,"div",1)(118,"h3"),o._uU(119,"Experi\xeancias Profissionais"),o.qZA(),o.TgZ(120,"div",23)(121,"button",3),o.NdJ("click",function(){return i.addExperiencia()}),o.TgZ(122,"mat-icon"),o._uU(123,"add_circle"),o.qZA()()()(),o.TgZ(124,"p"),o._uU(125,' Preencha com at\xe9 3 empresas nas quais voc\xea j\xe1 trabalhou, escolha as empresas preferencialmente das mais recentes para mais antigas. Caso seja seu primeiro emprego, e voc\xea n\xe3o tenha experi\xeancia nenhuma, n\xe3o adicione nenhuma empresa, e automaticamente ser\xe1 preenchido "EM BUSCA DE MEU PRIMEIRO EMPREGO". '),o.qZA(),o.ynx(126,34),o.YNc(127,Gre,25,10,"ng-container",35),o.BQk(),o.qZA(),o.TgZ(128,"button",36),o.NdJ("click",function(){return i.gravar()}),o._uU(129," Salvar "),o.qZA()()),2&e){const r=o.MAs(42);o.xp6(3),o.Oqu(i.pageTitle()),o.xp6(2),o.Q6J("disabled",i.disablePDF()),o.xp6(3),o.Q6J("formGroup",i.curriculoForm),o.xp6(24),o.Q6J("ngForOf",i.estadoCivisList),o.xp6(4),o.Q6J("matDatepicker",r),o.xp6(4),o.Q6J("for",r),o.xp6(29),o.Q6J("disabled",!i.isCepValid()),o.xp6(26),o.Q6J("ngForOf",i.escolaridadeList),o.xp6(9),o.Q6J("disabled",!i.podeAddCurso()),o.xp6(6),o.Q6J("ngForOf",i.cursos.controls),o.xp6(11),o.Q6J("disabled",!i.podeAddExperiencia()),o.xp6(6),o.Q6J("ngForOf",i.experiencias.controls),o.xp6(1),o.Q6J("disabled",!i.isFormValid())}},dependencies:[zr,hg,Xa,Uf,Lc,sp,Ni,Lp,HD,fd,QV,Vp,su,oi,IE,HW,zR,WW,XB,Yu,np,nl,fh]}),n})();function $re(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4)(1,"span"),o._uU(2,"Voc\xea est\xe1 Logado. Mas ainda n\xe3o consegue fazer nada. O site ainda est\xe1 em desenvolvimento"),o.qZA(),o.TgZ(3,"div",5)(4,"span"),o._uU(5," Navegar para o: "),o.TgZ(6,"a",6),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.nav.navigateTo("painel"))}),o._uU(7,"Seu Painel"),o.qZA()()()()}}function zre(n,t){1&n&&(o.TgZ(0,"div",9)(1,"span"),o._uU(2,"J\xe1 possui um cadastro? "),o.TgZ(3,"a",10),o._uU(4,"Fa\xe7a o Login"),o.qZA()()())}function qre(n,t){if(1&n&&(o.YNc(0,zre,5,0,"div",7),o.ALo(1,"async"),o.TgZ(2,"div",5)(3,"span"),o._uU(4," N\xe3o tem cadastro? "),o.TgZ(5,"a",8),o._uU(6,"Crie um"),o.qZA()()()),2&n){const e=o.oxw();o.Q6J("ngIf",!o.lcZ(1,1,e.authService.user))}}let Wre=(()=>{class n{constructor(e,i){this.authService=e,this.nav=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo),o.Y36(Cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-inicio"]],decls:7,vars:4,consts:[[1,"container"],[1,"mat-h2"],["class","redirectToLogin text-center",4,"ngIf","ngIfElse"],["loggedOut",""],[1,"redirectToLogin","text-center"],[1,"margin-top-10"],["routerLink","","routerLinkActive","inactive",3,"click"],["class","redirectToLogin",4,"ngIf"],["routerLink","/cadastro","routerLinkActive","active"],[1,"redirectToLogin"],["routerLink","/login","routerLinkActive","active"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"P\xe1gina Inicial"),o.qZA(),o.YNc(3,$re,8,0,"div",2),o.ALo(4,"async"),o.YNc(5,qre,7,3,"ng-template",null,3,o.W1O),o.qZA()),2&e){const r=o.MAs(6);o.xp6(3),o.Q6J("ngIf",o.lcZ(4,2,i.authService.user))("ngIfElse",r)}},dependencies:[_n,wu,Cf,bl]}),n})(),Zre=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i}ngOnInit(){}googleLogin(){this.authService.googleLogin()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo),o.Y36(Cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container"],[1,"form-container"],["mat-raised-button","",1,"google",3,"click"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"or"],[1,"orInner"],["mat-raised-button","","routerLink","/email-login",1,"email"],[1,"links"],["routerLink","/cadastro","routerLinkActive","active",1,"create-account-txt"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.googleLogin()}),o._UZ(3,"mat-icon",3),o._uU(4," Entrar com conta Google "),o.qZA(),o.TgZ(5,"div",4)(6,"span",5),o._uU(7,"ou"),o.qZA()(),o.TgZ(8,"button",6),o._uU(9," Logar com Email "),o.qZA(),o.TgZ(10,"div",7)(11,"a",8),o._uU(12,"N\xe3o tem cadastro? "),o.TgZ(13,"strong"),o._uU(14,"Crie um"),o.qZA()()()()())},dependencies:[_C,wu,Cf,Ni,su],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.form-container[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:center}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:20px}.links[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();class O6{constructor(t,e){this.title=t,this.message=e}}let P6=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.title=i.title,this.message=i.message}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(ZR),o.Y36(s2))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title","",1,"mat-h2"],["mat-dialog-content",""],[1,"mat-body-1"],["mat-dialog-actions","",1,"justify-end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1)(3,"p",2),o._uU(4),o.qZA()(),o.TgZ(5,"div",3)(6,"button",4),o.NdJ("click",function(){return i.onDismiss()}),o._uU(7,"Cancelar"),o.qZA(),o.TgZ(8,"button",5),o.NdJ("click",function(){return i.onConfirm()}),o._uU(9," Confirmar "),o.qZA()()),2&e&&(o.xp6(1),o.hij(" ",i.title,"\n"),o.xp6(3),o.Oqu(i.message))},dependencies:[Ni,P4,N4,F4]}),n})();function Yre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li")(1,"div",5)(2,"span"),o._uU(3),o.qZA(),o._UZ(4,"div",4),o.TgZ(5,"button",2),o.NdJ("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.nav.navigateTo("/curriculo/"+s.uid))}),o.TgZ(6,"mat-icon"),o._uU(7,"edit"),o.qZA()(),o.TgZ(8,"button",2),o.NdJ("click",function(){const s=o.CHM(e).$implicit,c=o.oxw(2);return o.KtG(c.confirmarExclusao(s.uid))}),o.TgZ(9,"mat-icon"),o._uU(10,"remove_circle"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.identifier)}}function Kre(n,t){if(1&n&&(o.TgZ(0,"div",4)(1,"ul")(2,"li")(3,"div",5)(4,"span",6),o._uU(5,"Identificador"),o.qZA(),o._UZ(6,"div",4),o.qZA()(),o.YNc(7,Yre,11,1,"li",7),o.qZA()()),2&n){const e=o.oxw();o.xp6(7),o.Q6J("ngForOf",e.userCurriculos)}}let Qre=(()=>{class n{constructor(e,i,r,s,c,d){this.authService=e,this.curriculosService=i,this.nav=r,this.progressBarService=s,this._snackBar=c,this.dialog=d,this.subs=new $n.w0,this.subs.add(this.curriculosService.curriculoList?.subscribe(p=>{this.curriculoList=p}))}get userCurriculos(){return this.curriculoList?this.curriculoList.curriculos:[]}addCurriculo(){this.nav.navigateTo(this.userCurriculos.length?"adicionais":"curriculo")}ngOnInit(){}ngOnDestroy(){this.subs.unsubscribe()}deleteCurriculo(e){this.progressBarService.show.next(!0),this.curriculosService.deleteCurriculoFromList(e,this.curriculoList).then(i=>{this.progressBarService.show.next(!1),this._snackBar.open("Removido","Ok",{duration:15})}).catch(i=>{this._snackBar.open("N\xe3o removido","Ok",{duration:15}),console.log({err:i}),this.progressBarService.show.next(!1)})}confirmarExclusao(e){const r=new O6("Confirmar Exclus\xe3o do Curr\xedculo","Esta exclus\xe3o n\xe3o poder\xe1 ser revertida");this.dialog.open(P6,{maxWidth:"320px",data:r}).afterClosed().subscribe(c=>{c&&this.deleteCurriculo(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo),o.Y36(k6),o.Y36(Cu),o.Y36(mL),o.Y36(PI),o.Y36(YI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-painel"]],decls:8,vars:2,consts:[[1,"container"],[1,"flex-row","align-items-center"],["mat-icon-button","","color","primary",3,"click"],["class","full-width",4,"ngIf"],[1,"full-width"],[1,"flex-row","align-items-center","painel-row"],[1,"mat-body-2"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div"),o._uU(3),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return i.addCurriculo()}),o.TgZ(5,"mat-icon"),o._uU(6,"add_circle"),o.qZA()()(),o.YNc(7,Kre,8,1,"div",3),o.qZA()),2&e&&(o.xp6(3),o.hij("Quantidade de Curr\xedculos: ",i.userCurriculos.length,""),o.xp6(4),o.Q6J("ngIf",i.userCurriculos.length))},dependencies:[zr,_n,Ni,su],styles:["span[_ngcontent-%COMP%]{white-space:pre}.painel-row[_ngcontent-%COMP%]{max-width:320px;margin:0 auto}"]}),n})();function Xre(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1)(1,"ul")(2,"li"),o._uU(3," Email: "),o.TgZ(4,"strong"),o._uU(5),o.qZA()(),o.TgZ(6,"li"),o._uU(7," Name: "),o.TgZ(8,"strong"),o._uU(9),o.qZA()(),o.TgZ(10,"li"),o._uU(11," Email verified: "),o.TgZ(12,"strong"),o._uU(13),o.qZA()(),o.TgZ(14,"li"),o._uU(15," Uid: "),o.TgZ(16,"strong"),o._uU(17),o.qZA()(),o.TgZ(18,"li"),o._uU(19," LoginMode: "),o.TgZ(20,"strong"),o._uU(21),o.qZA()(),o.TgZ(22,"li"),o._uU(23," CurriculosUID: "),o.TgZ(24,"strong"),o._uU(25),o.qZA()()(),o.TgZ(26,"button",2),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.confirmarExclusao())}),o._uU(27," Excluir Perfil "),o.qZA()()}if(2&n){const e=t.ngIf;o.xp6(5),o.Oqu(e.email),o.xp6(4),o.Oqu(e.displayName?e.displayName:"User"),o.xp6(4),o.Oqu(e.emailVerified),o.xp6(4),o.Oqu(e.uid),o.xp6(4),o.Oqu(e.loginMode),o.xp6(4),o.Oqu(e.curriculosUID)}}let Jre=(()=>{class n{constructor(e,i,r){this.authService=e,this.dialog=i,this._nav=r}ngOnInit(){}excluirPerfil(){this.authService.deleteUser()}confirmarExclusao(){const i=new O6("Confirmar Exclus\xe3o do seu Perfil","Esta exclus\xe3o n\xe3o poder\xe1 ser revertida");this.dialog.open(P6,{maxWidth:"320px",data:i}).afterClosed().subscribe(s=>{s&&this._nav.navigateTo("/excluir-perfil")})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo),o.Y36(YI),o.Y36(Cu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-perfil"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(o.YNc(0,Xre,28,6,"div",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,i.authService.user))},dependencies:[_n,Ni,bl]}),n})(),ese=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-registro"]],decls:27,vars:0,consts:[[1,"container"],[1,"mat-h3"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","type","email","value","","required",""],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password"],["userPassword",""],["mat-raised-button","",1,"google",3,"click"],[1,"or"],[1,"orInner"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"redirectToLogin"],["routerLink","/login","routerLinkActive","active"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h3",1),o._uU(2,"Fa\xe7a o seu cadastro"),o.qZA(),o.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),o._uU(6,"Endere\xe7o de Email"),o.qZA(),o._UZ(7,"input",4,5),o.qZA(),o.TgZ(9,"mat-form-field",3)(10,"mat-label"),o._uU(11,"Senha"),o.qZA(),o._UZ(12,"input",6,7),o.qZA()(),o.TgZ(14,"button",8),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return o.KtG(i.authService.signUp(c.value,d.value))}),o._uU(15," Cadastrar "),o.qZA(),o.TgZ(16,"div",9)(17,"span",10),o._uU(18,"ou"),o.qZA()(),o.TgZ(19,"button",8),o.NdJ("click",function(){return i.authService.googleLogin()}),o._UZ(20,"mat-icon",11),o._uU(21," Continuar com conta Google "),o.qZA(),o.TgZ(22,"div",12)(23,"span"),o._uU(24,"J\xe1 possui um cadastro? "),o.TgZ(25,"a",13),o._uU(26,"Fa\xe7a o Login"),o.qZA()()()()}},dependencies:[wu,Cf,hg,Lc,Do,Ni,Lp,fd,Vp,su],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();function tse(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p",6),o._uU(2," N\xf3s enviamos um email de confirmacao para "),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5,". "),o.qZA(),o.TgZ(6,"p",6),o._uU(7," Para regularizar seu acesso confira seu email e click no link para verificar seu email. "),o.qZA()()),2&n){const e=t.ngIf;o.xp6(4),o.Oqu(e.email)}}const nse=[{path:"",component:Wre},{path:"login",component:Zre,canActivate:[RA]},{path:"cadastro",component:ese,canActivate:[RA]},{path:"perfil",component:Jre,canActivate:[qm]},{path:"email-login",component:Are,canActivate:[RA]},{path:"painel",component:Qre,canActivate:[qm]},{path:"esqueceu-senha",component:Mre,canActivate:[RA]},{path:"verificar-email",component:(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Lo))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-verificar-email"]],decls:12,vars:3,consts:[[1,"container"],[1,"mat-h2"],[4,"ngIf"],["mat-raised-button","",3,"click"],[1,"redirectToLogin","text-center"],["routerLink","/login","routerLinkActive","active"],[1,"text-center"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Obrigado por se cadastrar"),o.qZA(),o.YNc(3,tse,8,1,"div",2),o.ALo(4,"async"),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.authService.sendVerificationMail()}),o._uU(6," Reenviar verifica\xe7\xe3o "),o.qZA(),o.TgZ(7,"div",4)(8,"span"),o._uU(9,"Voltar e fazer "),o.TgZ(10,"a",5),o._uU(11,"Login?"),o.qZA()()()()),2&e&&(o.xp6(3),o.Q6J("ngIf",o.lcZ(4,1,i.authService.user)))},dependencies:[_n,wu,Cf,Ni,bl],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;flex-direction:column;align-items:center}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})(),canActivate:[qm]},{path:"curriculo",component:R6,canActivate:[qm]},{path:"curriculo/:id",component:R6,canActivate:[qm]},{path:"adicionais",component:Tre,canActivate:[qm]},{path:"excluir-perfil",component:Ore,canActivate:[qm]}];let ise=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[T6.forRoot(nse),T6]}),n})();const gL_firebaseConfig={apiKey:"AIzaSyDgzRquxls0_dgaA7t8UwnYXDhZ7416imI",authDomain:"curriculos-seve.firebaseapp.com",databaseURL:"https://curriculos-seve-default-rtdb.firebaseio.com",projectId:"curriculos-seve",storageBucket:"curriculos-seve.appspot.com",messagingSenderId:"963696035317",appId:"1:963696035317:web:2cb36dd541afc99f164cbc",measurementId:"G-2ZDXBRCGC2"};function rse(n,t){1&n&&o._UZ(0,"mat-progress-bar",9)}function sse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.nav.navigateTo("painel"))}),o.TgZ(1,"mat-icon"),o._uU(2,"dashboard"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Painel"),o.qZA()()}}function ose(n,t){1&n&&(o.TgZ(0,"button",11)(1,"mat-icon"),o._uU(2,"person"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Perfil"),o.qZA()())}function ase(n,t){1&n&&(o.TgZ(0,"button",12)(1,"mat-icon"),o._uU(2,"login"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Entrar"),o.qZA()())}function lse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){o.CHM(e);const r=o.oxw();return o.KtG(r.logout())}),o.TgZ(1,"mat-icon"),o._uU(2,"logout"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Sair"),o.qZA()()}}let cse=(()=>{class n{constructor(e,i,r,s,c){this.matIconRegistry=e,this.domSanitizer=i,this.authService=r,this.nav=s,this.progressBarService=c,this.title="curriculo-facil",this.showProgressBar=!1,this.matIconRegistry.addSvgIcon("google_logo",this.domSanitizer.bypassSecurityTrustResourceUrl("/curriculo-facil/assets/svg/google.svg")),this.progressBarService.show.subscribe(p=>{this.showProgressBar=p})}logout(){this.authService.signOut().then(()=>{this.nav.navigateTo("/")})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zp),o.Y36(go),o.Y36(Lo),o.Y36(Cu),o.Y36(mL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:25,vars:14,consts:[["mode","query",4,"ngIf"],[1,"full-width"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"mat-body"],["menu","matMenu"],["mat-menu-item","","routerLink","/"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/perfil",4,"ngIf"],["mat-menu-item","","routerLink","/login",4,"ngIf"],["mode","query"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/perfil"],["mat-menu-item","","routerLink","/login"]],template:function(e,i){if(1&e&&(o.YNc(0,rse,1,0,"mat-progress-bar",0),o.TgZ(1,"mat-toolbar")(2,"span"),o._uU(3,"Curr\xedculo F\xe1cil"),o.qZA(),o._UZ(4,"div",1),o.TgZ(5,"button",2)(6,"mat-icon"),o._uU(7,"menu"),o.qZA()()(),o.TgZ(8,"div",3),o._UZ(9,"router-outlet"),o.qZA(),o.TgZ(10,"mat-menu",null,4)(12,"button",5)(13,"mat-icon"),o._uU(14,"home"),o.qZA(),o.TgZ(15,"span"),o._uU(16,"Inicial"),o.qZA()(),o.YNc(17,sse,5,0,"button",6),o.ALo(18,"async"),o.YNc(19,ose,5,0,"button",7),o.ALo(20,"async"),o.YNc(21,ase,5,0,"button",8),o.ALo(22,"async"),o.YNc(23,lse,5,0,"button",6),o.ALo(24,"async"),o.qZA()),2&e){const r=o.MAs(11);o.Q6J("ngIf",i.showProgressBar),o.xp6(5),o.Q6J("matMenuTriggerFor",r),o.xp6(12),o.Q6J("ngIf",o.lcZ(18,6,i.authService.user)),o.xp6(2),o.Q6J("ngIf",o.lcZ(20,8,i.authService.user)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(22,10,i.authService.user)),o.xp6(2),o.Q6J("ngIf",o.lcZ(24,12,i.authService.user))}},dependencies:[_n,nL,_C,vx,Ni,su,PR,k_,NR,p4,bl],styles:[".mat-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0px}"]}),n})();const ya=void 0,dse=["pt",[["AM","PM"],ya,ya],ya,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],ya,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],ya,[["a.C.","d.C."],ya,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",ya,ya,ya],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],BYN:[ya,"\u0440."],JPY:["JP\xa5","\xa5"],PHP:[ya,"\u20b1"],PTE:["Esc."],RON:[ya,"L"],SYP:[ya,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function use(n){const e=Math.floor(Math.abs(n)),i=n.toString().replace(/^[^.]*\.?/,"").length,r=parseInt(n.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return e===Math.floor(e)&&e>=0&&e<=1?1:0===r&&0!==e&&e%1e6==0&&0===i||!(r>=0&&r<=5)?4:5}],PA=void 0,hse=[[["meia-noite","meio-dia","da manh\xe3","da tarde","da noite","da madrugada"],PA,PA],[["meia-noite","meio-dia","manh\xe3","tarde","noite","madrugada"],PA,PA],["00:00","12:00",["06:00","12:00"],["12:00","19:00"],["19:00","24:00"],["00:00","06:00"]]],fse={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"customInput",monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let pse=(()=>{class n extends gE{parse(e){if(console.log({value:e}),"string"==typeof e&&e.indexOf("/")>-1){const r=e.split("/");return r.length<2||isNaN(+r[0])||isNaN(+r[1])||isNaN(+r[2])?null:new Date(Number(r[2]),Number(r[1])-1,Number(r[0]))}const i="number"==typeof e?e:Date.parse(e);return isNaN(i)?null:new Date(i)}format(e,i){return"customInput"===i?new vc(Object.values(this.locale)[0]).transform(e,"shortDate")||"":new vc(Object.values(this.locale)[0]).transform(e,"MMM yyyy")||""}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();!function Xn(n,t,e){(0,o.dwT)(n,t,e)}(dse,"pt",hse);let mse=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[cse]}),n.\u0275inj=o.cJS({providers:[Lo,{provide:o.soG,useValue:"pt"},{provide:sa,useValue:"pt"},{provide:ir,useClass:pse},{provide:Yc,useValue:fse}],imports:[Qo,ise,RD,ev,bx,id,$k,oR,Rv,Jk,xR,FR,vd,ZW,a4,IL,m4,V4,Er.hO.initializeApp(gL_firebaseConfig),VZ,QQ,A5,ane]}),n})();(0,o.G48)(),Ll().bootstrapModule(mse).catch(n=>console.error(n))},5867:(ht,xe,V)=>{V.d(xe,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=V(9681);(0,o.registerVersion)("firebase","9.9.4","app")},127:(ht,xe,V)=>{V.d(xe,{Z:()=>o.Z});var o=V(3942);o.Z.registerVersion("firebase","9.9.4","app-compat")},5881:(ht,xe,V)=>{V.r(xe);var o=V(5861),H=V(3942),P=V(8554),ce=V(2090),oe=(V(9681),V(1877),V(4859));function me(){return window}function Z(){return(Z=(0,o.Z)(function*(re,G,q){var Ee;const{BuildInfo:Ye}=me();(0,P.aq)(G.sessionId,"AuthEvent did not contain a session ID");const bt=yield _e(G.sessionId),St={};return(0,P.ar)()?St.ibi=Ye.packageName:(0,P.as)()?St.apn=Ye.packageName:(0,P.at)(re,"operation-not-supported-in-this-environment"),Ye.displayName&&(St.appDisplayName=Ye.displayName),St.sessionId=bt,(0,P.au)(re,q,G.type,void 0,null!==(Ee=G.eventId)&&void 0!==Ee?Ee:void 0,St)})).apply(this,arguments)}function $e(){return($e=(0,o.Z)(function*(re){const{BuildInfo:G}=me(),q={};(0,P.ar)()?q.iosBundleId=G.packageName:(0,P.as)()?q.androidPackageName=G.packageName:(0,P.at)(re,"operation-not-supported-in-this-environment"),yield(0,P.av)(re,q)})).apply(this,arguments)}function lt(){return(lt=(0,o.Z)(function*(re,G,q){const{cordova:Ee}=me();let Ye=()=>{};try{yield new Promise((bt,St)=>{let Le=null;function at(){var Ut;bt();const wn=null===(Ut=Ee.plugins.browsertab)||void 0===Ut?void 0:Ut.close;"function"==typeof wn&&wn(),"function"==typeof q?.close&&q.close()}function Jt(){Le||(Le=window.setTimeout(()=>{St((0,P.aw)(re,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===document?.visibilityState&&Jt()}G.addPassiveListener(at),document.addEventListener("resume",Jt,!1),(0,P.as)()&&document.addEventListener("visibilitychange",Vn,!1),Ye=()=>{G.removePassiveListener(at),document.removeEventListener("resume",Jt,!1),document.removeEventListener("visibilitychange",Vn,!1),Le&&window.clearTimeout(Le)}})}finally{Ye()}})).apply(this,arguments)}function _e(re){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)(function*(re){const G=it(re),q=yield crypto.subtle.digest("SHA-256",G);return Array.from(new Uint8Array(q)).map(Ye=>Ye.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function it(re){if((0,P.aq)(/[0-9a-zA-Z]+/.test(re),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(re);const G=new ArrayBuffer(re.length),q=new Uint8Array(G);for(let Ee=0;Ee<re.length;Ee++)q[Ee]=re.charCodeAt(Ee);return q}class Re extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(G=>{this.resolveInialized=G})}addPassiveListener(G){this.passiveListeners.add(G)}removePassiveListener(G){this.passiveListeners.delete(G)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(G){return this.resolveInialized(),this.passiveListeners.forEach(q=>q(G)),super.onEvent(G)}initialized(){var G=this;return(0,o.Z)(function*(){yield G.initPromise})()}}function le(re){return he.apply(this,arguments)}function he(){return(he=(0,o.Z)(function*(re){const G=yield ne()._get(ge(re));return G&&(yield ne()._remove(ge(re))),G})).apply(this,arguments)}function J(){const re=[],G="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let q=0;q<20;q++){const Ee=Math.floor(Math.random()*G.length);re.push(G.charAt(Ee))}return re.join("")}function ne(){return(0,P.ay)(P.b)}function ge(re){return(0,P.az)("authEvent",re.config.apiKey,re.name)}function He(re){if(!re?.includes("?"))return{};const[G,...q]=re.split("?");return(0,ce.zd)(q.join("?"))}function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Yt(){var re;return(null===(re=self?.location)||void 0===re?void 0:re.protocol)||null}function Vi(re=(0,ce.z$)()){return!("file:"!==Yt()&&"ionic:"!==Yt()&&"capacitor:"!==Yt()||!re.toLowerCase().match(/iphone|ipad|ipod|android/))}function us(){try{const re=self.localStorage,G=P.aI();if(re)return re.setItem(G,"1"),re.removeItem(G),!function xs(re=(0,ce.z$)()){return function Bi(){return(0,ce.w1)()&&11===document?.documentMode}()||function Ln(re=(0,ce.z$)()){return/Edge\/\d+/.test(re)}(re)}()||(0,ce.hl)()}catch{return pr()&&(0,ce.hl)()}return!1}function pr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Kn(){return(function Gt(){return"http:"===Yt()||"https:"===Yt()}()||(0,ce.ru)()||Vi())&&!function Vo(){return(0,ce.b$)()||(0,ce.UG)()}()&&us()&&!pr()}function $r(){return Vi()&&typeof document<"u"}function rt(){return(rt=(0,o.Z)(function*(){return!!$r()&&new Promise(re=>{const G=setTimeout(()=>{re(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(G),re(!0)})})})).apply(this,arguments)}const Qn={LOCAL:"local",NONE:"none",SESSION:"session"},bn=P.ax,ki="persistence";function xn(re){return kn.apply(this,arguments)}function kn(){return(kn=(0,o.Z)(function*(re){yield re._initializationPromise;const G=mt(),q=P.az(ki,re.config.apiKey,re.name);G&&G.setItem(q,re._getPersistence())})).apply(this,arguments)}function mt(){var re;try{return(null===(re=function xi(){return typeof window<"u"?window:null}())||void 0===re?void 0:re.sessionStorage)||null}catch{return null}}const gt=P.ax;class Ft{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class tn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(G){var q=this;return(0,o.Z)(function*(){const Ee=G._key();let Ye=q.eventManagers.get(Ee);return Ye||(Ye=new Re(G),q.eventManagers.set(Ee,Ye),q.attachCallbackListeners(G,Ye)),Ye})()}_openPopup(G){(0,P.at)(G,"operation-not-supported-in-this-environment")}_openRedirect(G,q,Ee,Ye){var bt=this;return(0,o.Z)(function*(){!function De(re){var G,q,Ee,Ye,bt,St,Le,at,Jt,Vn;const Ut=me();(0,P.ax)("function"==typeof(null===(G=Ut?.universalLinks)||void 0===G?void 0:G.subscribe),re,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(q=Ut?.BuildInfo)||void 0===q?void 0:q.packageName)<"u",re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(bt=null===(Ye=null===(Ee=Ut?.cordova)||void 0===Ee?void 0:Ee.plugins)||void 0===Ye?void 0:Ye.browsertab)||void 0===bt?void 0:bt.openUrl),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(at=null===(Le=null===(St=Ut?.cordova)||void 0===St?void 0:St.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===at?void 0:at.isAvailable),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Vn=null===(Jt=Ut?.cordova)||void 0===Jt?void 0:Jt.InAppBrowser)||void 0===Vn?void 0:Vn.open),re,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(G);const St=yield bt._initialize(G);yield St.initialized(),St.resetRedirect(),(0,P.aD)(),yield bt._originValidation(G);const Le=function Se(re,G,q=null){return{type:G,eventId:q,urlResponse:null,sessionId:J(),postBody:null,tenantId:re.tenantId,error:(0,P.aw)(re,"no-auth-event")}}(G,Ee,Ye);yield function Ze(re,G){return ne()._set(ge(re),G)}(G,Le);const at=yield function W(re,G,q){return Z.apply(this,arguments)}(G,Le,q),Jt=yield function Fe(re){const{cordova:G}=me();return new Promise(q=>{G.plugins.browsertab.isAvailable(Ee=>{let Ye=null;Ee?G.plugins.browsertab.openUrl(re):Ye=G.InAppBrowser.open(re,(0,P.ap)()?"_blank":"_system","location=yes"),q(Ye)})})}(at);return function Ie(re,G,q){return lt.apply(this,arguments)}(G,St,Jt)})()}_isIframeWebStorageSupported(G,q){throw new Error("Method not implemented.")}_originValidation(G){const q=G._key();return this.originValidationPromises[q]||(this.originValidationPromises[q]=function te(re){return $e.apply(this,arguments)}(G)),this.originValidationPromises[q]}attachCallbackListeners(G,q){const{universalLinks:Ee,handleOpenURL:Ye,BuildInfo:bt}=me(),St=setTimeout((0,o.Z)(function*(){yield le(G),q.onEvent(Ke())}),500),Le=function(){var Vn=(0,o.Z)(function*(Ut){clearTimeout(St);const wn=yield le(G);let ks=null;wn&&Ut?.url&&(ks=function we(re,G){var q,Ee;const Ye=function Ue(re){const G=He(re),q=G.link?decodeURIComponent(G.link):void 0,Ee=He(q).link,Ye=G.deep_link_id?decodeURIComponent(G.deep_link_id):void 0;return He(Ye).link||Ye||Ee||q||re}(G);if(Ye.includes("/__/auth/callback")){const bt=He(Ye),St=bt.firebaseError?function ue(re){try{return JSON.parse(re)}catch{return null}}(decodeURIComponent(bt.firebaseError)):null,Le=null===(Ee=null===(q=St?.code)||void 0===q?void 0:q.split("auth/"))||void 0===Ee?void 0:Ee[1],at=Le?(0,P.aw)(Le):null;return at?{type:re.type,eventId:re.eventId,tenantId:re.tenantId,error:at,urlResponse:null,sessionId:null,postBody:null}:{type:re.type,eventId:re.eventId,tenantId:re.tenantId,sessionId:re.sessionId,urlResponse:Ye,postBody:null}}return null}(wn,Ut.url)),q.onEvent(ks||Ke())});return function(wn){return Vn.apply(this,arguments)}}();typeof Ee<"u"&&"function"==typeof Ee.subscribe&&Ee.subscribe(null,Le);const at=Ye,Jt=`${bt.packageName.toLowerCase()}://`;me().handleOpenURL=function(){var Vn=(0,o.Z)(function*(Ut){if(Ut.toLowerCase().startsWith(Jt)&&Le({url:Ut}),"function"==typeof at)try{at(Ut)}catch(wn){console.error(wn)}});return function(Ut){return Vn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(G){var q=this;return(0,o.Z)(function*(){return yield q.selectUnderlyingResolver(),q.assertedUnderlyingResolver._initialize(G)})()}_openPopup(G,q,Ee,Ye){var bt=this;return(0,o.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openPopup(G,q,Ee,Ye)})()}_openRedirect(G,q,Ee,Ye){var bt=this;return(0,o.Z)(function*(){return yield bt.selectUnderlyingResolver(),bt.assertedUnderlyingResolver._openRedirect(G,q,Ee,Ye)})()}_isIframeWebStorageSupported(G,q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(G,q)}_originValidation(G){return this.assertedUnderlyingResolver._originValidation(G)}get _shouldInitProactively(){return $r()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var G=this;return(0,o.Z)(function*(){if(G.underlyingResolver)return;const q=yield function ds(){return rt.apply(this,arguments)}();G.underlyingResolver=q?G.cordovaResolver:G.browserResolver})()}}function or(re){return re.unwrap()}function Ui(re){return Ki(re)}function Ki(re){const{_tokenResponse:G}=re instanceof ce.ZR?re.customData:re;if(!G)return null;if(!(re instanceof ce.ZR)&&"temporaryProof"in G&&"phoneNumber"in G)return P.P.credentialFromResult(re);const q=G.providerId;if(!q||q===P.o.PASSWORD)return null;let Ee;switch(q){case P.o.GOOGLE:Ee=P.Q;break;case P.o.FACEBOOK:Ee=P.N;break;case P.o.GITHUB:Ee=P.T;break;case P.o.TWITTER:Ee=P.W;break;default:const{oauthIdToken:Ye,oauthAccessToken:bt,oauthTokenSecret:St,pendingToken:Le,nonce:at}=G;return bt||St||Ye||Le?Le?q.startsWith("saml.")?P.aL._create(q,Le):P.J._fromParams({providerId:q,signInMethod:q,pendingToken:Le,idToken:Ye,accessToken:bt}):new P.U(q).credential({idToken:Ye,accessToken:bt,rawNonce:at}):null}return re instanceof ce.ZR?Ee.credentialFromError(re):Ee.credentialFromResult(re)}function Vt(re,G){return G.catch(q=>{throw q instanceof ce.ZR&&function xt(re,G){var q,Ee;const Ye=null===(q=G.customData)||void 0===q?void 0:q._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Ee=G)||void 0===Ee?void 0:Ee.code))G.resolver=new X(re,P.an(re,G));else if(Ye){const bt=Ki(G),St=G;bt&&(St.credential=bt,St.tenantId=Ye.tenantId||void 0,St.email=Ye.email||void 0,St.phoneNumber=Ye.phoneNumber||void 0)}}(re,q),q}).then(q=>{const Ye=q.user;return{operationType:q.operationType,credential:Ui(q),additionalUserInfo:P.al(q),user:$.getOrCreate(Ye)}})}function mr(re,G){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(re,G){const q=yield G;return{verificationId:q.verificationId,confirm:Ee=>Vt(re,q.confirm(Ee))}})).apply(this,arguments)}class X{constructor(G,q){this.resolver=q,this.auth=function Ri(re){return re.wrapped()}(G)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(G){return Vt(or(this.auth),this.resolver.resolveSignIn(G))}}class ${constructor(G){this._delegate=G,this.multiFactor=P.ao(G)}static getOrCreate(G){return $.USER_MAP.has(G)||$.USER_MAP.set(G,new $(G)),$.USER_MAP.get(G)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(G){return this._delegate.getIdTokenResult(G)}getIdToken(G){return this._delegate.getIdToken(G)}linkAndRetrieveDataWithCredential(G){return this.linkWithCredential(G)}linkWithCredential(G){var q=this;return(0,o.Z)(function*(){return Vt(q.auth,P.Z(q._delegate,G))})()}linkWithPhoneNumber(G,q){var Ee=this;return(0,o.Z)(function*(){return mr(Ee.auth,P.l(Ee._delegate,G,q))})()}linkWithPopup(G){var q=this;return(0,o.Z)(function*(){return Vt(q.auth,P.d(q._delegate,G,Ft))})()}linkWithRedirect(G){var q=this;return(0,o.Z)(function*(){return yield xn(P.aE(q.auth)),P.g(q._delegate,G,Ft)})()}reauthenticateAndRetrieveDataWithCredential(G){return this.reauthenticateWithCredential(G)}reauthenticateWithCredential(G){var q=this;return(0,o.Z)(function*(){return Vt(q.auth,P._(q._delegate,G))})()}reauthenticateWithPhoneNumber(G,q){return mr(this.auth,P.r(this._delegate,G,q))}reauthenticateWithPopup(G){return Vt(this.auth,P.e(this._delegate,G,Ft))}reauthenticateWithRedirect(G){var q=this;return(0,o.Z)(function*(){return yield xn(P.aE(q.auth)),P.h(q._delegate,G,Ft)})()}sendEmailVerification(G){return P.ab(this._delegate,G)}unlink(G){var q=this;return(0,o.Z)(function*(){return yield P.ak(q._delegate,G),q})()}updateEmail(G){return P.ag(this._delegate,G)}updatePassword(G){return P.ah(this._delegate,G)}updatePhoneNumber(G){return P.u(this._delegate,G)}updateProfile(G){return P.af(this._delegate,G)}verifyBeforeUpdateEmail(G,q){return P.ac(this._delegate,G,q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}$.USER_MAP=new WeakMap;const j=P.ax;let Y=(()=>{class re{constructor(q,Ee){if(this.app=q,Ee.isInitialized())return this._delegate=Ee.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ye}=q.options;j(Ye,"invalid-api-key",{appName:q.name}),j(Ye,"invalid-api-key",{appName:q.name});const bt=typeof window<"u"?Ft:void 0;this._delegate=Ee.initialize({options:{persistence:Ae(Ye,q.name),popupRedirectResolver:bt}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?$.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(q){this._delegate.languageCode=q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(q){this._delegate.tenantId=q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(q,Ee){P.G(this._delegate,q,Ee)}applyActionCode(q){return P.a2(this._delegate,q)}checkActionCode(q){return P.a3(this._delegate,q)}confirmPasswordReset(q,Ee){return P.a1(this._delegate,q,Ee)}createUserWithEmailAndPassword(q,Ee){var Ye=this;return(0,o.Z)(function*(){return Vt(Ye._delegate,P.a5(Ye._delegate,q,Ee))})()}fetchProvidersForEmail(q){return this.fetchSignInMethodsForEmail(q)}fetchSignInMethodsForEmail(q){return P.aa(this._delegate,q)}isSignInWithEmailLink(q){return P.a8(this._delegate,q)}getRedirectResult(){var q=this;return(0,o.Z)(function*(){j(Kn(),q._delegate,"operation-not-supported-in-this-environment");const Ee=yield P.j(q._delegate,Ft);return Ee?Vt(q._delegate,Promise.resolve(Ee)):{credential:null,user:null}})()}addFrameworkForLogging(q){!function Dn(re,G){(0,P.aE)(re)._logFramework(G)}(this._delegate,q)}onAuthStateChanged(q,Ee,Ye){const{next:bt,error:St,complete:Le}=K(q,Ee,Ye);return this._delegate.onAuthStateChanged(bt,St,Le)}onIdTokenChanged(q,Ee,Ye){const{next:bt,error:St,complete:Le}=K(q,Ee,Ye);return this._delegate.onIdTokenChanged(bt,St,Le)}sendSignInLinkToEmail(q,Ee){return P.a7(this._delegate,q,Ee)}sendPasswordResetEmail(q,Ee){return P.a0(this._delegate,q,Ee||void 0)}setPersistence(q){var Ee=this;return(0,o.Z)(function*(){let Ye;switch(function hs(re,G){bn(Object.values(Qn).includes(G),re,"invalid-persistence-type"),(0,ce.b$)()?bn(G!==Qn.SESSION,re,"unsupported-persistence-type"):(0,ce.UG)()?bn(G===Qn.NONE,re,"unsupported-persistence-type"):pr()?bn(G===Qn.NONE||G===Qn.LOCAL&&(0,ce.hl)(),re,"unsupported-persistence-type"):bn(G===Qn.NONE||us(),re,"unsupported-persistence-type")}(Ee._delegate,q),q){case Qn.SESSION:Ye=P.a;break;case Qn.LOCAL:Ye=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case Qn.NONE:Ye=P.L;break;default:return P.at("argument-error",{appName:Ee._delegate.name})}return Ee._delegate.setPersistence(Ye)})()}signInAndRetrieveDataWithCredential(q){return this.signInWithCredential(q)}signInAnonymously(){return Vt(this._delegate,P.X(this._delegate))}signInWithCredential(q){return Vt(this._delegate,P.Y(this._delegate,q))}signInWithCustomToken(q){return Vt(this._delegate,P.$(this._delegate,q))}signInWithEmailAndPassword(q,Ee){return Vt(this._delegate,P.a6(this._delegate,q,Ee))}signInWithEmailLink(q,Ee){return Vt(this._delegate,P.a9(this._delegate,q,Ee))}signInWithPhoneNumber(q,Ee){return mr(this._delegate,P.s(this._delegate,q,Ee))}signInWithPopup(q){var Ee=this;return(0,o.Z)(function*(){return j(Kn(),Ee._delegate,"operation-not-supported-in-this-environment"),Vt(Ee._delegate,P.c(Ee._delegate,q,Ft))})()}signInWithRedirect(q){var Ee=this;return(0,o.Z)(function*(){return j(Kn(),Ee._delegate,"operation-not-supported-in-this-environment"),yield xn(Ee._delegate),P.f(Ee._delegate,q,Ft)})()}updateCurrentUser(q){return this._delegate.updateCurrentUser(q)}verifyPasswordResetCode(q){return P.a4(this._delegate,q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return re.Persistence=Qn,re})();function K(re,G,q){let Ee=re;"function"!=typeof re&&({next:Ee,error:G,complete:q}=re);const Ye=Ee;return{next:St=>Ye(St&&$.getOrCreate(St)),error:G,complete:q}}function Ae(re,G){const q=function In(re,G){const q=mt();if(!q)return[];const Ee=P.az(ki,re,G);switch(q.getItem(Ee)){case Qn.NONE:return[P.L];case Qn.LOCAL:return[P.i,P.a];case Qn.SESSION:return[P.a];default:return[]}}(re,G);if(typeof self<"u"&&!q.includes(P.i)&&q.push(P.i),typeof window<"u")for(const Ee of[P.b,P.a])q.includes(Ee)||q.push(Ee);return q.includes(P.L)||q.push(P.L),q}class qe{constructor(){this.providerId="phone",this._delegate=new P.P(or(H.Z.auth()))}static credential(G,q){return P.P.credential(G,q)}verifyPhoneNumber(G,q){return this._delegate.verifyPhoneNumber(G,q)}unwrap(){return this._delegate}}qe.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,qe.PROVIDER_ID=P.P.PROVIDER_ID;const Dt=P.ax;class gn{constructor(G,q,Ee=H.Z.app()){var Ye;Dt(null===(Ye=Ee.options)||void 0===Ye?void 0:Ye.apiKey,"invalid-api-key",{appName:Ee.name}),this._delegate=new P.R(G,q,Ee.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fi(re){re.INTERNAL.registerComponent(new oe.wA("auth-compat",G=>{const q=G.getProvider("app-compat").getImmediate(),Ee=G.getProvider("auth");return new Y(q,Ee)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:qe,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:gn,TwitterAuthProvider:P.W,Auth:Y,AuthCredential:P.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),re.registerVersion("@firebase/auth-compat","0.2.19")}(H.Z)},9751:(ht,xe,V)=>{V.d(xe,{y:()=>me});var o=V(930),H=V(727),P=V(8822),ce=V(9635),de=V(2416),ye=V(576),oe=V(2806);let me=(()=>{class te{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Ie=new te;return Ie.source=this,Ie.operator=Fe,Ie}subscribe(Fe,Ie,lt){const De=function Z(te){return te&&te instanceof o.Lv||function W(te){return te&&(0,ye.m)(te.next)&&(0,ye.m)(te.error)&&(0,ye.m)(te.complete)}(te)&&(0,H.Nn)(te)}(Fe)?Fe:new o.Hp(Fe,Ie,lt);return(0,oe.x)(()=>{const{operator:_e,source:nt}=this;De.add(_e?_e.call(De,nt):nt?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Ie){Fe.error(Ie)}}forEach(Fe,Ie){return new(Ie=Ce(Ie))((lt,De)=>{const _e=new o.Hp({next:nt=>{try{Fe(nt)}catch(it){De(it),_e.unsubscribe()}},error:De,complete:lt});this.subscribe(_e)})}_subscribe(Fe){var Ie;return null===(Ie=this.source)||void 0===Ie?void 0:Ie.subscribe(Fe)}[P.L](){return this}pipe(...Fe){return(0,ce.U)(Fe)(this)}toPromise(Fe){return new(Fe=Ce(Fe))((Ie,lt)=>{let De;this.subscribe(_e=>De=_e,_e=>lt(_e),()=>Ie(De))})}}return te.create=$e=>new te($e),te})();function Ce(te){var $e;return null!==($e=te??de.v.Promise)&&void 0!==$e?$e:Promise}},7579:(ht,xe,V)=>{V.d(xe,{x:()=>oe});var o=V(9751),H=V(727);const ce=(0,V(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),ye=V(2806);let oe=(()=>{class Ce extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const te=new me(this,this);return te.operator=Z,te}_throwIfClosed(){if(this.closed)throw new ce}next(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(Z)}})}error(Z){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:te}=this;for(;te.length;)te.shift().error(Z)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:te,isStopped:$e,observers:Fe}=this;return te||$e?H.Lc:(this.currentObservers=null,Fe.push(Z),new H.w0(()=>{this.currentObservers=null,(0,de.P)(Fe,Z)}))}_checkFinalizedStatuses(Z){const{hasError:te,thrownError:$e,isStopped:Fe}=this;te?Z.error($e):Fe&&Z.complete()}asObservable(){const Z=new o.y;return Z.source=this,Z}}return Ce.create=(W,Z)=>new me(W,Z),Ce})();class me extends oe{constructor(W,Z){super(),this.destination=W,this.source=Z}next(W){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===te||te.call(Z,W)}error(W){var Z,te;null===(te=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===te||te.call(Z,W)}complete(){var W,Z;null===(Z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===Z||Z.call(W)}_subscribe(W){var Z,te;return null!==(te=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(W))&&void 0!==te?te:H.Lc}}},930:(ht,xe,V)=>{V.d(xe,{Hp:()=>lt,Lv:()=>te});var o=V(576),H=V(727),P=V(2416),ce=V(7849),de=V(5032);const ye=Ce("C",void 0,void 0);function Ce(Ne,Re,Se){return{kind:Ne,value:Re,error:Se}}var W=V(3410),Z=V(2806);class te extends H.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,H.Nn)(Re)&&Re.add(this)):this.destination=it}static create(Re,Se,Ze){return new lt(Re,Se,Ze)}next(Re){this.isStopped?nt(function me(Ne){return Ce("N",Ne,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?nt(function oe(Ne){return Ce("E",void 0,Ne)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?nt(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Fe(Ne,Re){return $e.call(Ne,Re)}class Ie{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Re)}catch(Ze){De(Ze)}}error(Re){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Re)}catch(Ze){De(Ze)}else De(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Se){De(Se)}}}class lt extends te{constructor(Re,Se,Ze){let le;if(super(),(0,o.m)(Re)||!Re)le={next:Re??void 0,error:Se??void 0,complete:Ze??void 0};else{let he;this&&P.v.useDeprecatedNextContext?(he=Object.create(Re),he.unsubscribe=()=>this.unsubscribe(),le={next:Re.next&&Fe(Re.next,he),error:Re.error&&Fe(Re.error,he),complete:Re.complete&&Fe(Re.complete,he)}):le=Re}this.destination=new Ie(le)}}function De(Ne){P.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ne):(0,ce.h)(Ne)}function nt(Ne,Re){const{onStoppedNotification:Se}=P.v;Se&&W.z.setTimeout(()=>Se(Ne,Re))}const it={closed:!0,next:de.Z,error:function _e(Ne){throw Ne},complete:de.Z}},727:(ht,xe,V)=>{V.d(xe,{Lc:()=>ye,w0:()=>de,Nn:()=>oe});var o=V(576);const P=(0,V(3888).d)(Ce=>function(Z){Ce(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((te,$e)=>`${$e+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var ce=V(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Fe of Z)Fe.remove(this);else Z.remove(this);const{initialTeardown:te}=this;if((0,o.m)(te))try{te()}catch(Fe){W=Fe instanceof P?Fe.errors:[Fe]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Fe of $e)try{me(Fe)}catch(Ie){W=W??[],Ie instanceof P?W=[...W,...Ie.errors]:W.push(Ie)}}if(W)throw new P(W)}}add(W){var Z;if(W&&W!==this)if(this.closed)me(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(W)}}_hasParent(W){const{_parentage:Z}=this;return Z===W||Array.isArray(Z)&&Z.includes(W)}_addParent(W){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(W),Z):Z?[Z,W]:W}_removeParent(W){const{_parentage:Z}=this;Z===W?this._parentage=null:Array.isArray(Z)&&(0,ce.P)(Z,W)}remove(W){const{_finalizers:Z}=this;Z&&(0,ce.P)(Z,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const Ce=new de;return Ce.closed=!0,Ce})();const ye=de.EMPTY;function oe(Ce){return Ce instanceof de||Ce&&"closed"in Ce&&(0,o.m)(Ce.remove)&&(0,o.m)(Ce.add)&&(0,o.m)(Ce.unsubscribe)}function me(Ce){(0,o.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(ht,xe,V)=>{V.d(xe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ht,xe,V)=>{V.d(xe,{E:()=>H});const H=new(V(9751).y)(de=>de.complete())},8996:(ht,xe,V)=>{V.d(xe,{D:()=>Re});var o=V(8421),H=V(5363),P=V(9468),ye=V(9751),me=V(2202),Ce=V(576),W=V(9672);function te(Se,Ze){if(!Se)throw new Error("Iterable cannot be null");return new ye.y(le=>{(0,W.f)(le,Ze,()=>{const he=Se[Symbol.asyncIterator]();(0,W.f)(le,Ze,()=>{he.next().then(we=>{we.done?le.complete():le.next(we.value)})},0,!0)})})}var $e=V(3670),Fe=V(8239),Ie=V(1144),lt=V(6495),De=V(2206),_e=V(4532),nt=V(3260);function Re(Se,Ze){return Ze?function Ne(Se,Ze){if(null!=Se){if((0,$e.c)(Se))return function ce(Se,Ze){return(0,o.Xf)(Se).pipe((0,P.R)(Ze),(0,H.Q)(Ze))}(Se,Ze);if((0,Ie.z)(Se))return function oe(Se,Ze){return new ye.y(le=>{let he=0;return Ze.schedule(function(){he===Se.length?le.complete():(le.next(Se[he++]),le.closed||this.schedule())})})}(Se,Ze);if((0,Fe.t)(Se))return function de(Se,Ze){return(0,o.Xf)(Se).pipe((0,P.R)(Ze),(0,H.Q)(Ze))}(Se,Ze);if((0,De.D)(Se))return te(Se,Ze);if((0,lt.T)(Se))return function Z(Se,Ze){return new ye.y(le=>{let he;return(0,W.f)(le,Ze,()=>{he=Se[me.h](),(0,W.f)(le,Ze,()=>{let we,J;try{({value:we,done:J}=he.next())}catch(ne){return void le.error(ne)}J?le.complete():le.next(we)},0,!0)}),()=>(0,Ce.m)(he?.return)&&he.return()})}(Se,Ze);if((0,nt.L)(Se))return function it(Se,Ze){return te((0,nt.Q)(Se),Ze)}(Se,Ze)}throw(0,_e.z)(Se)}(Se,Ze):(0,o.Xf)(Se)}},8421:(ht,xe,V)=>{V.d(xe,{Xf:()=>$e});var o=V(655),H=V(1144),P=V(8239),ce=V(9751),de=V(3670),ye=V(2206),oe=V(4532),me=V(6495),Ce=V(3260),W=V(576),Z=V(7849),te=V(8822);function $e(Ne){if(Ne instanceof ce.y)return Ne;if(null!=Ne){if((0,de.c)(Ne))return function Fe(Ne){return new ce.y(Re=>{const Se=Ne[te.L]();if((0,W.m)(Se.subscribe))return Se.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,H.z)(Ne))return function Ie(Ne){return new ce.y(Re=>{for(let Se=0;Se<Ne.length&&!Re.closed;Se++)Re.next(Ne[Se]);Re.complete()})}(Ne);if((0,P.t)(Ne))return function lt(Ne){return new ce.y(Re=>{Ne.then(Se=>{Re.closed||(Re.next(Se),Re.complete())},Se=>Re.error(Se)).then(null,Z.h)})}(Ne);if((0,ye.D)(Ne))return _e(Ne);if((0,me.T)(Ne))return function De(Ne){return new ce.y(Re=>{for(const Se of Ne)if(Re.next(Se),Re.closed)return;Re.complete()})}(Ne);if((0,Ce.L)(Ne))return function nt(Ne){return _e((0,Ce.Q)(Ne))}(Ne)}throw(0,oe.z)(Ne)}function _e(Ne){return new ce.y(Re=>{(function it(Ne,Re){var Se,Ze,le,he;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Se=(0,o.KL)(Ne);!(Ze=yield Se.next()).done;)if(Re.next(Ze.value),Re.closed)return}catch(we){le={error:we}}finally{try{Ze&&!Ze.done&&(he=Se.return)&&(yield he.call(Se))}finally{if(le)throw le.error}}Re.complete()})})(Ne,Re).catch(Se=>Re.error(Se))})}},6451:(ht,xe,V)=>{V.d(xe,{T:()=>ye});var o=V(8189),H=V(8421),P=V(515),ce=V(3269),de=V(8996);function ye(...oe){const me=(0,ce.yG)(oe),Ce=(0,ce._6)(oe,1/0),W=oe;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,o.J)(Ce)((0,de.D)(W,me)):P.E}},5403:(ht,xe,V)=>{V.d(xe,{x:()=>H});var o=V(930);function H(ce,de,ye,oe,me){return new P(ce,de,ye,oe,me)}class P extends o.Lv{constructor(de,ye,oe,me,Ce,W){super(de),this.onFinalize=Ce,this.shouldUnsubscribe=W,this._next=ye?function(Z){try{ye(Z)}catch(te){de.error(te)}}:super._next,this._error=me?function(Z){try{me(Z)}catch(te){de.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=oe?function(){try{oe()}catch(Z){de.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(ht,xe,V)=>{V.d(xe,{U:()=>P});var o=V(4482),H=V(5403);function P(ce,de){return(0,o.e)((ye,oe)=>{let me=0;ye.subscribe((0,H.x)(oe,Ce=>{oe.next(ce.call(de,Ce,me++))}))})}},8189:(ht,xe,V)=>{V.d(xe,{J:()=>P});var o=V(5577),H=V(4671);function P(ce=1/0){return(0,o.z)(H.y,ce)}},5577:(ht,xe,V)=>{V.d(xe,{z:()=>me});var o=V(4004),H=V(8421),P=V(4482),ce=V(9672),de=V(5403),oe=V(576);function me(Ce,W,Z=1/0){return(0,oe.m)(W)?me((te,$e)=>(0,o.U)((Fe,Ie)=>W(te,Fe,$e,Ie))((0,H.Xf)(Ce(te,$e))),Z):("number"==typeof W&&(Z=W),(0,P.e)((te,$e)=>function ye(Ce,W,Z,te,$e,Fe,Ie,lt){const De=[];let _e=0,nt=0,it=!1;const Ne=()=>{it&&!De.length&&!_e&&W.complete()},Re=Ze=>_e<te?Se(Ze):De.push(Ze),Se=Ze=>{Fe&&W.next(Ze),_e++;let le=!1;(0,H.Xf)(Z(Ze,nt++)).subscribe((0,de.x)(W,he=>{$e?.(he),Fe?Re(he):W.next(he)},()=>{le=!0},void 0,()=>{if(le)try{for(_e--;De.length&&_e<te;){const he=De.shift();Ie?(0,ce.f)(W,Ie,()=>Se(he)):Se(he)}Ne()}catch(he){W.error(he)}}))};return Ce.subscribe((0,de.x)(W,Re,()=>{it=!0,Ne()})),()=>{lt?.()}}(te,$e,Ce,Z)))}},5363:(ht,xe,V)=>{V.d(xe,{Q:()=>ce});var o=V(9672),H=V(4482),P=V(5403);function ce(de,ye=0){return(0,H.e)((oe,me)=>{oe.subscribe((0,P.x)(me,Ce=>(0,o.f)(me,de,()=>me.next(Ce),ye),()=>(0,o.f)(me,de,()=>me.complete(),ye),Ce=>(0,o.f)(me,de,()=>me.error(Ce),ye)))})}},3099:(ht,xe,V)=>{V.d(xe,{B:()=>de});var o=V(8421),H=V(7579),P=V(930),ce=V(4482);function de(oe={}){const{connector:me=(()=>new H.x),resetOnError:Ce=!0,resetOnComplete:W=!0,resetOnRefCountZero:Z=!0}=oe;return te=>{let $e,Fe,Ie,lt=0,De=!1,_e=!1;const nt=()=>{Fe?.unsubscribe(),Fe=void 0},it=()=>{nt(),$e=Ie=void 0,De=_e=!1},Ne=()=>{const Re=$e;it(),Re?.unsubscribe()};return(0,ce.e)((Re,Se)=>{lt++,!_e&&!De&&nt();const Ze=Ie=Ie??me();Se.add(()=>{lt--,0===lt&&!_e&&!De&&(Fe=ye(Ne,Z))}),Ze.subscribe(Se),!$e&&lt>0&&($e=new P.Hp({next:le=>Ze.next(le),error:le=>{_e=!0,nt(),Fe=ye(it,Ce,le),Ze.error(le)},complete:()=>{De=!0,nt(),Fe=ye(it,W),Ze.complete()}}),(0,o.Xf)(Re).subscribe($e))})(te)}}function ye(oe,me,...Ce){if(!0===me)return void oe();if(!1===me)return;const W=new P.Hp({next:()=>{W.unsubscribe(),oe()}});return me(...Ce).subscribe(W)}},9468:(ht,xe,V)=>{V.d(xe,{R:()=>H});var o=V(4482);function H(P,ce=0){return(0,o.e)((de,ye)=>{ye.add(P.schedule(()=>de.subscribe(ye),ce))})}},8505:(ht,xe,V)=>{V.d(xe,{b:()=>de});var o=V(576),H=V(4482),P=V(5403),ce=V(4671);function de(ye,oe,me){const Ce=(0,o.m)(ye)||oe||me?{next:ye,error:oe,complete:me}:ye;return Ce?(0,H.e)((W,Z)=>{var te;null===(te=Ce.subscribe)||void 0===te||te.call(Ce);let $e=!0;W.subscribe((0,P.x)(Z,Fe=>{var Ie;null===(Ie=Ce.next)||void 0===Ie||Ie.call(Ce,Fe),Z.next(Fe)},()=>{var Fe;$e=!1,null===(Fe=Ce.complete)||void 0===Fe||Fe.call(Ce),Z.complete()},Fe=>{var Ie;$e=!1,null===(Ie=Ce.error)||void 0===Ie||Ie.call(Ce,Fe),Z.error(Fe)},()=>{var Fe,Ie;$e&&(null===(Fe=Ce.unsubscribe)||void 0===Fe||Fe.call(Ce)),null===(Ie=Ce.finalize)||void 0===Ie||Ie.call(Ce)}))}):ce.y}},4408:(ht,xe,V)=>{V.d(xe,{o:()=>de});var o=V(727);class H extends o.w0{constructor(oe,me){super()}schedule(oe,me=0){return this}}const P={setInterval(ye,oe,...me){const{delegate:Ce}=P;return Ce?.setInterval?Ce.setInterval(ye,oe,...me):setInterval(ye,oe,...me)},clearInterval(ye){const{delegate:oe}=P;return(oe?.clearInterval||clearInterval)(ye)},delegate:void 0};var ce=V(8737);class de extends H{constructor(oe,me){super(oe,me),this.scheduler=oe,this.work=me,this.pending=!1}schedule(oe,me=0){if(this.closed)return this;this.state=oe;const Ce=this.id,W=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(W,Ce,me)),this.pending=!0,this.delay=me,this.id=this.id||this.requestAsyncId(W,this.id,me),this}requestAsyncId(oe,me,Ce=0){return P.setInterval(oe.flush.bind(oe,this),Ce)}recycleAsyncId(oe,me,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return me;P.clearInterval(me)}execute(oe,me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(oe,me);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(oe,me){let W,Ce=!1;try{this.work(oe)}catch(Z){Ce=!0,W=Z||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:oe,scheduler:me}=this,{actions:Ce}=me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Ce,this),null!=oe&&(this.id=this.recycleAsyncId(me,oe,null)),this.delay=null,super.unsubscribe()}}}},7565:(ht,xe,V)=>{V.d(xe,{v:()=>P});var o=V(6063);class H{constructor(de,ye=H.now){this.schedulerActionCtor=de,this.now=ye}schedule(de,ye=0,oe){return new this.schedulerActionCtor(this,de).schedule(oe,ye)}}H.now=o.l.now;class P extends H{constructor(de,ye=H.now){super(de,ye),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:ye}=this;if(this._active)return void ye.push(de);let oe;this._active=!0;do{if(oe=de.execute(de.state,de.delay))break}while(de=ye.shift());if(this._active=!1,oe){for(;de=ye.shift();)de.unsubscribe();throw oe}}}},4986:(ht,xe,V)=>{V.d(xe,{P:()=>ce,z:()=>P});var o=V(4408);const P=new(V(7565).v)(o.o),ce=P},6063:(ht,xe,V)=>{V.d(xe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(ht,xe,V)=>{V.d(xe,{z:()=>o});const o={setTimeout(H,P,...ce){const{delegate:de}=o;return de?.setTimeout?de.setTimeout(H,P,...ce):setTimeout(H,P,...ce)},clearTimeout(H){const{delegate:P}=o;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ht,xe,V)=>{V.d(xe,{h:()=>H});const H=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ht,xe,V)=>{V.d(xe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ht,xe,V)=>{V.d(xe,{_6:()=>ye,jO:()=>ce,yG:()=>de});var o=V(576),H=V(3532);function P(oe){return oe[oe.length-1]}function ce(oe){return(0,o.m)(P(oe))?oe.pop():void 0}function de(oe){return(0,H.K)(P(oe))?oe.pop():void 0}function ye(oe,me){return"number"==typeof P(oe)?oe.pop():me}},8737:(ht,xe,V)=>{function o(H,P){if(H){const ce=H.indexOf(P);0<=ce&&H.splice(ce,1)}}V.d(xe,{P:()=>o})},3888:(ht,xe,V)=>{function o(H){const ce=H(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}V.d(xe,{d:()=>o})},2806:(ht,xe,V)=>{V.d(xe,{O:()=>ce,x:()=>P});var o=V(2416);let H=null;function P(de){if(o.v.useDeprecatedSynchronousErrorHandling){const ye=!H;if(ye&&(H={errorThrown:!1,error:null}),de(),ye){const{errorThrown:oe,error:me}=H;if(H=null,oe)throw me}}else de()}function ce(de){o.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=de)}},9672:(ht,xe,V)=>{function o(H,P,ce,de=0,ye=!1){const oe=P.schedule(function(){ce(),ye?H.add(this.schedule(null,de)):this.unsubscribe()},de);if(H.add(oe),!ye)return oe}V.d(xe,{f:()=>o})},4671:(ht,xe,V)=>{function o(H){return H}V.d(xe,{y:()=>o})},1144:(ht,xe,V)=>{V.d(xe,{z:()=>o});const o=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ht,xe,V)=>{V.d(xe,{D:()=>H});var o=V(576);function H(P){return Symbol.asyncIterator&&(0,o.m)(P?.[Symbol.asyncIterator])}},576:(ht,xe,V)=>{function o(H){return"function"==typeof H}V.d(xe,{m:()=>o})},3670:(ht,xe,V)=>{V.d(xe,{c:()=>P});var o=V(8822),H=V(576);function P(ce){return(0,H.m)(ce[o.L])}},6495:(ht,xe,V)=>{V.d(xe,{T:()=>P});var o=V(2202),H=V(576);function P(ce){return(0,H.m)(ce?.[o.h])}},8239:(ht,xe,V)=>{V.d(xe,{t:()=>H});var o=V(576);function H(P){return(0,o.m)(P?.then)}},3260:(ht,xe,V)=>{V.d(xe,{L:()=>ce,Q:()=>P});var o=V(655),H=V(576);function P(de){return(0,o.FC)(this,arguments,function*(){const oe=de.getReader();try{for(;;){const{value:me,done:Ce}=yield(0,o.qq)(oe.read());if(Ce)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(me)}}finally{oe.releaseLock()}})}function ce(de){return(0,H.m)(de?.getReader)}},3532:(ht,xe,V)=>{V.d(xe,{K:()=>H});var o=V(576);function H(P){return P&&(0,o.m)(P.schedule)}},4482:(ht,xe,V)=>{V.d(xe,{A:()=>H,e:()=>P});var o=V(576);function H(ce){return(0,o.m)(ce?.lift)}function P(ce){return de=>{if(H(de))return de.lift(function(ye){try{return ce(ye,this)}catch(oe){this.error(oe)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ht,xe,V)=>{function o(){}V.d(xe,{Z:()=>o})},9635:(ht,xe,V)=>{V.d(xe,{U:()=>P,z:()=>H});var o=V(4671);function H(...ce){return P(ce)}function P(ce){return 0===ce.length?o.y:1===ce.length?ce[0]:function(ye){return ce.reduce((oe,me)=>me(oe),ye)}}},7849:(ht,xe,V)=>{V.d(xe,{h:()=>P});var o=V(2416),H=V(3410);function P(ce){H.z.setTimeout(()=>{const{onUnhandledError:de}=o.v;if(!de)throw ce;de(ce)})}},4532:(ht,xe,V)=>{function o(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(xe,{z:()=>o})},655:(ht,xe,V)=>{function ce(J,ne){var ge={};for(var ue in J)Object.prototype.hasOwnProperty.call(J,ue)&&ne.indexOf(ue)<0&&(ge[ue]=J[ue]);if(null!=J&&"function"==typeof Object.getOwnPropertySymbols){var Ue=0;for(ue=Object.getOwnPropertySymbols(J);Ue<ue.length;Ue++)ne.indexOf(ue[Ue])<0&&Object.prototype.propertyIsEnumerable.call(J,ue[Ue])&&(ge[ue[Ue]]=J[ue[Ue]])}return ge}function me(J,ne,ge,ue){return new(ge||(ge=Promise))(function(He,vt){function tn(Dn){try{Ke(ue.next(Dn))}catch(Yn){vt(Yn)}}function Zt(Dn){try{Ke(ue.throw(Dn))}catch(Yn){vt(Yn)}}function Ke(Dn){Dn.done?He(Dn.value):function Ue(He){return He instanceof ge?He:new ge(function(vt){vt(He)})}(Dn.value).then(tn,Zt)}Ke((ue=ue.apply(J,ne||[])).next())})}function De(J){return this instanceof De?(this.v=J,this):new De(J)}function _e(J,ne,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ue,ue=ge.apply(J,ne||[]),He=[];return Ue={},vt("next"),vt("throw"),vt("return"),Ue[Symbol.asyncIterator]=function(){return this},Ue;function vt(cn){ue[cn]&&(Ue[cn]=function(nn){return new Promise(function(Yt,Gt){He.push([cn,nn,Yt,Gt])>1||tn(cn,nn)})})}function tn(cn,nn){try{!function Zt(cn){cn.value instanceof De?Promise.resolve(cn.value.v).then(Ke,Dn):Yn(He[0][2],cn)}(ue[cn](nn))}catch(Yt){Yn(He[0][3],Yt)}}function Ke(cn){tn("next",cn)}function Dn(cn){tn("throw",cn)}function Yn(cn,nn){cn(nn),He.shift(),He.length&&tn(He[0][0],He[0][1])}}function it(J){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,ne=J[Symbol.asyncIterator];return ne?ne.call(J):(J=function te(J){var ne="function"==typeof Symbol&&Symbol.iterator,ge=ne&&J[ne],ue=0;if(ge)return ge.call(J);if(J&&"number"==typeof J.length)return{next:function(){return J&&ue>=J.length&&(J=void 0),{value:J&&J[ue++],done:!J}}};throw new TypeError(ne?"Object is not iterable.":"Symbol.iterator is not defined.")}(J),ge={},ue("next"),ue("throw"),ue("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ue(He){ge[He]=J[He]&&function(vt){return new Promise(function(tn,Zt){!function Ue(He,vt,tn,Zt){Promise.resolve(Zt).then(function(Ke){He({value:Ke,done:tn})},vt)}(tn,Zt,(vt=J[He](vt)).done,vt.value)})}}}V.d(xe,{FC:()=>_e,KL:()=>it,_T:()=>ce,mG:()=>me,qq:()=>De})},4650:(ht,xe,V)=>{V.d(xe,{$8M:()=>Rc,$Z:()=>bh,AFp:()=>pR,ALo:()=>zk,AaK:()=>me,BQk:()=>Hg,CHM:()=>Tf,CRH:()=>tI,CZH:()=>jb,CqO:()=>jE,D6c:()=>RB,EJc:()=>vB,EiD:()=>jn,EpF:()=>UE,F$t:()=>WE,F4k:()=>HE,FYo:()=>Xy,FiY:()=>We,G48:()=>S_,Gf:()=>eI,GfV:()=>Jy,Gpc:()=>Z,Gre:()=>Hx,Hsn:()=>ZE,Ikx:()=>rb,JOm:()=>Yl,JVY:()=>CC,KtG:()=>ka,L6k:()=>EC,LAX:()=>BA,LFG:()=>ni,LSH:()=>IC,Lbi:()=>Yp,Lck:()=>Ok,MAs:()=>VE,MGl:()=>Ih,MMx:()=>vb,NdJ:()=>jv,O4$:()=>ku,OlP:()=>Rn,Oqu:()=>tb,PXZ:()=>DI,Q6J:()=>Vv,QGY:()=>Hv,QP$:()=>Ye,QbO:()=>gB,Qsj:()=>XA,R0b:()=>Qs,RDi:()=>wC,Rgc:()=>Up,SBq:()=>op,Sil:()=>E_,Suo:()=>v_,TTD:()=>co,TgZ:()=>Vg,Udp:()=>Sh,VKq:()=>Uk,W1O:()=>tR,WFA:()=>Gv,X6Q:()=>kI,XFs:()=>rt,Xpm:()=>Y,Xts:()=>qy,Y36:()=>vh,YKP:()=>VD,YNc:()=>LE,Yjl:()=>re,Yz7:()=>nn,Z0I:()=>Vo,ZZ4:()=>tw,_Bn:()=>LD,_UZ:()=>Uv,_Vd:()=>rp,_c5:()=>xB,_uU:()=>Kg,aQg:()=>iw,c2e:()=>_B,cJS:()=>Gt,cg1:()=>r_,d8E:()=>kp,dDg:()=>EB,dqk:()=>Ft,dwT:()=>Qx,eBb:()=>$y,eFA:()=>SR,ekj:()=>Th,eoX:()=>wI,f3M:()=>S,g9A:()=>gR,h0i:()=>Ph,hGG:()=>kB,hij:()=>Qg,iGM:()=>xb,ifc:()=>gt,ip1:()=>fR,jDz:()=>Nk,kL8:()=>Xx,kcU:()=>Zd,lG2:()=>fi,lcZ:()=>$D,lqb:()=>jc,lri:()=>md,mCW:()=>se,n5z:()=>mo,n_E:()=>Bp,oAB:()=>Dt,oxw:()=>qE,pB0:()=>w,q3G:()=>Ei,q4F:()=>eM,qLn:()=>zl,qOj:()=>Fv,qZA:()=>Bg,qzn:()=>na,rWj:()=>ER,sBO:()=>TR,sIi:()=>id,s_b:()=>pd,soG:()=>$b,tb:()=>Gb,tp0:()=>kt,uIk:()=>wr,vHH:()=>Ie,vpe:()=>ca,wAp:()=>Rt,xp6:()=>RM,ynx:()=>Ug,z2F:()=>D_,z3N:()=>Eo,zSh:()=>fh,zs3:()=>gh});var o=V(7579),H=V(727),P=V(9751),ce=V(6451),de=V(3099);function ye(a){for(let l in a)if(a[l]===ye)return l;throw Error("Could not find renamed property on target object.")}function oe(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function me(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(me).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function Ce(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const W=ye({__forward_ref__:ye});function Z(a){return a.__forward_ref__=Z,a.toString=function(){return me(this())},a}function te(a){return $e(a)?a():a}function $e(a){return"function"==typeof a&&a.hasOwnProperty(W)&&a.__forward_ref__===Z}class Ie extends Error{constructor(l,u){super(function lt(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,u)),this.code=l}}function De(a){return"string"==typeof a?a:null==a?"":String(a)}function Re(a,l){throw new Ie(-201,!1)}function Zt(a,l){null==a&&function Ke(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function nn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Gt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Vi(a){return Bi(a,pr)||Bi(a,$r)}function Vo(a){return null!==Vi(a)}function Bi(a,l){return a.hasOwnProperty(l)?a[l]:null}function us(a){return a&&(a.hasOwnProperty(Kn)||a.hasOwnProperty(ds))?a[Kn]:null}const pr=ye({\u0275prov:ye}),Kn=ye({\u0275inj:ye}),$r=ye({ngInjectableDef:ye}),ds=ye({ngInjectorDef:ye});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let xi;function bn(a){const l=xi;return xi=a,l}function ki(a,l,u){const h=Vi(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&rt.Optional?null:void 0!==l?l:void Re(me(a))}function xn(a){return{toString:a}.toString()}var kn=(()=>((kn=kn||{})[kn.OnPush=0]="OnPush",kn[kn.Default=1]="Default",kn))(),gt=(()=>{return(a=gt||(gt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",gt;var a})();const Ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ui={},xt=[],Ki=ye({\u0275cmp:ye}),Vt=ye({\u0275dir:ye}),mr=ye({\u0275pipe:ye}),Kt=ye({\u0275mod:ye}),X=ye({\u0275fac:ye}),$=ye({__NG_ELEMENT_ID__:ye});let j=0;function Y(a){return xn(()=>{const u=!0===a.standalone,h={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:h,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===kn.OnPush,directiveDefs:null,pipeDefs:null,standalone:u,dependencies:u&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||xt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||gt.Emulated,id:"c"+j++,styles:a.styles||xt,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return f.inputs=mn(a.inputs,h),f.outputs=mn(a.outputs),v&&v.forEach(C=>C(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ae).filter(qe):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Ee).filter(qe):null,f})}function Ae(a){return G(a)||q(a)}function qe(a){return null!==a}function Dt(a){return xn(()=>({type:a.type,bootstrap:a.bootstrap||xt,declarations:a.declarations||xt,imports:a.imports||xt,exports:a.exports||xt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function mn(a,l){if(null==a)return Ui;const u={};for(const h in a)if(a.hasOwnProperty(h)){let f=a[h],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),u[f]=h,l&&(l[f]=m)}return u}const fi=Y;function re(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function G(a){return a[Ki]||null}function q(a){return a[Vt]||null}function Ee(a){return a[mr]||null}function Ye(a){const l=G(a)||q(a)||Ee(a);return null!==l&&l.standalone}function bt(a,l){const u=a[Kt]||null;if(!u&&!0===l)throw new Error(`Type ${me(a)} does not have '\u0275mod' property.`);return u}function pi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Sr(a){return Array.isArray(a)&&!0===a[1]}function Ps(a){return 0!=(8&a.flags)}function Ca(a){return 2==(2&a.flags)}function Ea(a){return 1==(1&a.flags)}function _r(a){return null!==a.template}function Du(a){return 0!=(256&a[2])}function Hi(a,l){return a.hasOwnProperty(X)?a[X]:null}class Ta{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function co(){return Bd}function Bd(a){return a.type.prototype.ngOnChanges&&(a.setInput=Iu),wc}function wc(){const a=Aa(this),l=a?.current;if(l){const u=a.previous;if(u===Ui)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Iu(a,l,u,h){const f=Aa(a)||function qo(a,l){return a[Ud]=l}(a,{previous:Ui,current:null}),m=f.current||(f.current={}),v=f.previous,C=this.declaredInputs[u],D=v[C];m[C]=new Ta(D&&D.currentValue,l,v===Ui),a[h]=l}co.ngInherit=!0;const Ud="__ngSimpleChanges__";function Aa(a){return a[Ud]||null}function Gn(a){for(;Array.isArray(a);)a=a[0];return a}function qr(a,l){return Gn(l[a])}function ji(a,l){return Gn(l[a.index])}function Zo(a,l){return a.data[l]}function fs(a,l){return a[l]}function dn(a,l){const u=l[a];return pi(u)?u:u[0]}function Ec(a){return 4==(4&a[2])}function uo(a){return 64==(64&a[2])}function xr(a,l){return null==l?null:a[l]}function Cl(a){a[18]=0}function Jn(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const Nt={lFrame:Rl(null),bindingsEnabled:!0};function Yo(){return Nt.bindingsEnabled}function Oe(){return Nt.lFrame.lView}function Qt(){return Nt.lFrame.tView}function Tf(a){return Nt.lFrame.contextLView=a,a[8]}function ka(a){return Nt.lFrame.contextLView=null,a}function mi(){let a=Ra();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ra(){return Nt.lFrame.currentTNode}function ar(a,l){const u=Nt.lFrame;u.currentTNode=a,u.isParent=l}function Ic(){return Nt.lFrame.isParent}function Oa(){Nt.lFrame.isParent=!1}function gi(){const a=Nt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ml(){return Nt.lFrame.bindingIndex++}function Vs(a){const l=Nt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function $d(a,l){const u=Nt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Pa(l)}function Pa(a){Nt.lFrame.currentDirectiveIndex=a}function Mu(a){const l=Nt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function xl(){return Nt.lFrame.currentQueryIndex}function xu(a){Nt.lFrame.currentQueryIndex=a}function kl(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function zd(a,l,u){if(u&rt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||u&rt.Host||(f=kl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const h=Nt.lFrame=xf();return h.currentTNode=l,h.lView=a,!0}function Na(a){const l=xf(),u=a[1];Nt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function xf(){const a=Nt.lFrame,l=null===a?null:a.child;return null===l?Rl(a):l}function Rl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function kf(){const a=Nt.lFrame;return Nt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const qd=kf;function ho(){const a=kf();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Bn(){return Nt.lFrame.selectedIndex}function Bs(a){Nt.lFrame.selectedIndex=a}function Un(){const a=Nt.lFrame;return Zo(a.tView,a.selectedIndex)}function ku(){Nt.lFrame.currentNamespace="svg"}function Zd(){!function Ou(){Nt.lFrame.currentNamespace=null}()}function Nu(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const m=a.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:D,ngAfterViewChecked:A,ngOnDestroy:R}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-u,v),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),D&&(a.viewHooks||(a.viewHooks=[])).push(-u,D),A&&((a.viewHooks||(a.viewHooks=[])).push(u,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,A)),null!=R&&(a.destroyHooks||(a.destroyHooks=[])).push(u,R)}}function Fa(a,l,u){Va(a,l,3,u)}function La(a,l,u,h){(3&a[2])===u&&Va(a,l,u,h)}function Kd(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function Va(a,l,u,h){const m=h??-1,v=l.length-1;let C=0;for(let D=void 0!==h?65535&a[18]:0;D<v;D++)if("number"==typeof l[D+1]){if(C=l[D],null!=h&&C>=h)break}else l[D]<0&&(a[18]+=65536),(C<m||-1==m)&&(Qd(a,u,l,D),a[18]=(4294901760&a[18])+D+2),D++}function Qd(a,l,u,h){const f=u[h]<0,m=u[h+1],C=a[f?-u[h]:u[h]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(C)}finally{}}}else try{m.call(C)}finally{}}class kr{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function Us(a,l,u){let h=0;for(;h<u.length;){const f=u[h];if("number"==typeof f){if(0!==f)break;h++;const m=u[h++],v=u[h++],C=u[h++];a.setAttribute(l,v,C,m)}else{const m=f,v=u[++h];Lu(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),h++}}return h}function Pl(a){return 3===a||4===a||6===a}function Lu(a){return 64===a.charCodeAt(0)}function Nl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const f=l[h];"number"==typeof f?u=f:0===u||Jd(a,u,f,null,-1===u||2===u?l[++h]:null)}}return a}function Jd(a,l,u,h,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const C=a[m++];if("number"==typeof C){if(C===l){v=-1;break}if(C>l){v=m-1;break}}}for(;m<a.length;){const C=a[m];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==f&&(a[m+1]=f));if(h===a[m+1])return void(a[m+2]=f)}m++,null!==h&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,u),null!==h&&a.splice(m++,0,h),null!==f&&a.splice(m++,0,f)}function Of(a){return-1!==a}function _i(a){return 32767&a}function po(a,l){let u=function Pf(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Vu=!0;function Fl(a){const l=Vu;return Vu=a,l}let eh=0;const vr={};function Hs(a,l){const u=Mc(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,Bu(h.data,a),Bu(l,null),Bu(h.blueprint,null));const f=Ll(a,l),m=a.injectorIndex;if(Of(f)){const v=_i(f),C=po(f,l),D=C[1].data;for(let A=0;A<8;A++)l[m+A]=C[v+A]|D[v+A]}return l[m+8]=f,m}function Bu(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Mc(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Ll(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,f=l;for(;null!==f;){if(h=za(f),null===h)return-1;if(u++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Ko(a,l,u){!function th(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty($)&&(h=u[$]),null==h&&(h=u[$]=eh++);const f=255&h;l.data[a+(f>>5)]|=1<<f}(a,l,u)}function Ua(a,l,u){if(u&rt.Optional)return a;Re()}function Qo(a,l,u,h){if(u&rt.Optional&&void 0===h&&(h=null),0==(u&(rt.Self|rt.Host))){const f=a[9],m=bn(void 0);try{return f?f.get(l,h,u&rt.Optional):ki(l,h,u&rt.Optional)}finally{bn(m)}}return Ua(h,0,u)}function Ha(a,l,u,h=rt.Default,f){if(null!==a){if(1024&l[2]){const v=function Lf(a,l,u,h,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const C=nh(m,v,u,h|rt.Self,vr);if(C!==vr)return C;let D=m.parent;if(!D){const A=v[21];if(A){const R=A.get(u,vr,h);if(R!==vr)return R}D=za(v),v=v[15]}m=D}return f}(a,l,u,h,vr);if(v!==vr)return v}const m=nh(a,l,u,h,vr);if(m!==vr)return m}return Qo(l,u,h,f)}function nh(a,l,u,h,f){const m=function Ff(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty($)?a[$]:void 0;return"number"==typeof l?l>=0?255&l:Uu:l}(u);if("function"==typeof m){if(!zd(l,a,h))return h&rt.Host?Ua(f,0,h):Qo(l,u,h,f);try{const v=m(h);if(null!=v||h&rt.Optional)return v;Re()}finally{qd()}}else if("number"==typeof m){let v=null,C=Mc(a,l),D=-1,A=h&rt.Host?l[16][6]:null;for((-1===C||h&rt.SkipSelf)&&(D=-1===C?Ll(a,l):l[C+8],-1!==D&&kc(h,!1)?(v=l[1],C=_i(D),l=po(D,l)):C=-1);-1!==C;){const R=l[1];if(ja(m,C,R.data)){const B=xc(C,l,u,v,h,A);if(B!==vr)return B}D=l[C+8],-1!==D&&kc(h,l[1].data[C+8]===A)&&ja(m,C,l)?(v=R,C=_i(D),l=po(D,l)):C=-1}}return f}function xc(a,l,u,h,f,m){const v=l[1],C=v.data[a+8],R=Bl(C,v,u,null==h?Ca(C)&&Vu:h!=v&&0!=(3&C.type),f&rt.Host&&m===C);return null!==R?ms(l,v,R,C):vr}function Bl(a,l,u,h,f){const m=a.providerIndexes,v=l.data,C=1048575&m,D=a.directiveStart,R=m>>20,Q=f?C+R:a.directiveEnd;for(let ae=h?C:C+R;ae<Q;ae++){const Te=v[ae];if(ae<D&&u===Te||ae>=D&&Te.type===u)return ae}if(f){const ae=v[D];if(ae&&_r(ae)&&ae.type===u)return D}return null}function ms(a,l,u,h){let f=a[u];const m=l.data;if(function Fu(a){return a instanceof kr}(f)){const v=f;v.resolving&&function nt(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new Ie(-200,`Circular dependency in DI detected for ${a}${u}`)}(function _e(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():De(a)}(m[u]));const C=Fl(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?bn(v.injectImpl):null;zd(a,h,rt.Default);try{f=a[u]=v.factory(void 0,m,a,h),l.firstCreatePass&&u>=h.directiveStart&&function Yd(a,l,u){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(h){const v=Bd(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,v),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,v)}f&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,f),m&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,m),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,m))}(u,m[u],l)}finally{null!==D&&bn(D),Fl(C),v.resolving=!1,qd()}}return f}function ja(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function kc(a,l){return!(a&rt.Self||a&rt.Host&&l)}class Ga{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Ha(this._tNode,this._lView,l,h,u)}}function Uu(){return new Ga(mi(),Oe())}function mo(a){return xn(()=>{const l=a.prototype.constructor,u=l[X]||$a(l),h=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==h;){const m=f[X]||$a(f);if(m&&m!==u)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function $a(a){return $e(a)?()=>{const l=$a(te(a));return l&&l()}:Hi(a)}function za(a){const l=a[1],u=l.type;return 2===u?l.declTNode:1===u?a[6]:null}function Rc(a){return function Vl(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let f=0;for(;f<h;){const m=u[f];if(Pl(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<h&&"string"==typeof u[f];)f++;else{if(m===l)return u[f+1];f+=2}}}return null}(mi(),a)}const qa="__parameters__";function Za(a,l,u){return xn(()=>{const h=function Hu(a){return function(...u){if(a){const h=a(...u);for(const f in h)this[f]=h[f]}}}(l);function f(...m){if(this instanceof f)return h.apply(this,m),this;const v=new f(...m);return C.annotation=v,C;function C(D,A,R){const B=D.hasOwnProperty(qa)?D[qa]:Object.defineProperty(D,qa,{value:[]})[qa];for(;B.length<=R;)B.push(null);return(B[R]=B[R]||[]).push(v),D}}return u&&(f.prototype=Object.create(u.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Rn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=nn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Xi(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Xi(h,l)):l!==a&&l.push(h)}return l}function js(a,l){a.forEach(u=>Array.isArray(u)?js(u,l):l(u))}function Ul(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Jo(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function lr(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function cr(a,l,u){let h=Zr(a,l);return h>=0?a[1|h]=u:(h=~h,function ct(a,l,u,h){let f=a.length;if(f==l)a.push(u,h);else if(1===f)a.push(h,a[0]),a[0]=u;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function Ka(a,l){const u=Zr(a,l);if(u>=0)return a[1|u]}function Zr(a,l){return function Ji(a,l,u){let h=0,f=a.length>>u;for(;f!==h;){const m=h+(f-h>>1),v=a[m<<u];if(l===v)return m<<u;v>l?f=m:h=m+1}return~(f<<u)}(a,l,1)}const Hn={},ys="__NG_DI_FLAG__",Ja="ngTempTokenPath",Pc=/\n/gm,Nc="__source";let el;function $s(a){const l=el;return el=a,l}function oh(a,l=rt.Default){if(void 0===el)throw new Ie(-203,!1);return null===el?ki(a,void 0,l):el.get(a,l&rt.Optional?null:void 0,l)}function ni(a,l=rt.Default){return(function Qn(){return xi}()||oh)(te(a),l)}function S(a,l=rt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ni(a,l)}function T(a){const l=[];for(let u=0;u<a.length;u++){const h=te(a[u]);if(Array.isArray(h)){if(0===h.length)throw new Ie(900,!1);let f,m=rt.Default;for(let v=0;v<h.length;v++){const C=h[v],D=U(C);"number"==typeof D?-1===D?f=C.token:m|=D:f=C}l.push(ni(f,m))}else l.push(ni(h))}return l}function k(a,l){return a[ys]=l,a.prototype[ys]=l,a}function U(a){return a[ys]}const We=k(Za("Optional"),8),kt=k(Za("SkipSelf"),4);let lg,$f;function wC(a){lg=a}function jl(a){return function zf(){if(void 0===$f&&($f=null,Ft.trustedTypes))try{$f=Ft.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return $f}()?.createHTML(a)||a}class ta{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ah extends ta{getTypeName(){return"HTML"}}class qf extends ta{getTypeName(){return"Style"}}class Wf extends ta{getTypeName(){return"Script"}}class lh extends ta{getTypeName(){return"URL"}}class ch extends ta{getTypeName(){return"ResourceURL"}}function Eo(a){return a instanceof ta?a.changingThisBreaksApplicationSecurity:a}function na(a,l){const u=function Bc(a){return a instanceof ta&&a.getTypeName()||null}(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function CC(a){return new ah(a)}function EC(a){return new qf(a)}function $y(a){return new Wf(a)}function BA(a){return new lh(a)}function w(a){return new ch(a)}class y{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(jl(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class E{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=jl(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=jl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let f=u.length-1;0<f;f--){const v=u.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const L=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function se(a){return(a=String(a)).match(L)?a:"unsafe:"+a}function Xe(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function ft(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const $t=Xe("area,br,col,hr,img,wbr"),Nn=Xe("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qs=Xe("rp,rt"),uh=ft($t,ft(Nn,Xe("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ft(qs,Xe("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ft(qs,Nn)),Hc=Xe("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dh=Xe("srcset"),Qf=ft(Hc,dh,Xe("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xe("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ug=Xe("script,style,template");class dg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let f=this.checkClobberedElement(u,u.nextSibling);if(f){u=f;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!uh.hasOwnProperty(u))return this.sanitizedSomething=!0,!ug.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let f=0;f<h.length;f++){const m=h.item(f),v=m.name,C=v.toLowerCase();if(!Qf.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let D=m.value;Hc[C]&&(D=se(D)),dh[C]&&(a=D,D=(a=String(a)).split(",").map(l=>se(l.trim())).join(", ")),this.buf.push(" ",v,'="',Xf(D),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();uh.hasOwnProperty(u)&&!$t.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Xf(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Zu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Do=/([^\#-~ |!])/g;function Xf(a){return a.replace(/&/g,"&amp;").replace(Zu,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Do,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Jf;function jn(a,l){let u=null;try{Jf=Jf||function g(a){const l=new E(a);return function x(){try{return!!(new window.DOMParser).parseFromString(jl(""),"text/html")}catch{return!1}}()?new y(l):l}(a);let h=l?String(l):"";u=Jf.getInertBodyElement(h);let f=5,m=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=m,m=u.innerHTML,u=Jf.getInertBodyElement(h)}while(h!==m);return jl((new dg).sanitizeChildren(DC(u)||u))}finally{if(u){const h=DC(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function DC(a){return"content"in a&&function UA(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ei=(()=>((Ei=Ei||{})[Ei.NONE=0]="NONE",Ei[Ei.HTML=1]="HTML",Ei[Ei.STYLE=2]="STYLE",Ei[Ei.SCRIPT=3]="SCRIPT",Ei[Ei.URL=4]="URL",Ei[Ei.RESOURCE_URL=5]="RESOURCE_URL",Ei))();function IC(a){const l=function hh(){const a=Oe();return a&&a[12]}();return l?l.sanitize(Ei.URL,a)||"":na(a,"URL")?Eo(a):se(De(a))}const qy=new Rn("ENVIRONMENT_INITIALIZER"),$A=new Rn("INJECTOR",-1),Wy=new Rn("INJECTOR_DEF_TYPES");class AC{get(l,u=Hn){if(u===Hn){const h=new Error(`NullInjectorError: No provider for ${me(l)}!`);throw h.name="NullInjectorError",h}return u}}function MC(...a){return{\u0275providers:xC(0,a)}}function xC(a,...l){const u=[],h=new Set;let f;return js(l,m=>{const v=m;ep(v,u,[],h)&&(f||(f=[]),f.push(v))}),void 0!==f&&Zy(f,u),u}function Zy(a,l){for(let u=0;u<a.length;u++){const{providers:f}=a[u];js(f,m=>{l.push(m)})}}function ep(a,l,u,h){if(!(a=te(a)))return!1;let f=null,m=us(a);const v=!m&&G(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const D=a.ngModule;if(m=us(D),!m)return!1;f=D}const C=h.has(f);if(v){if(C)return!1;if(h.add(f),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const A of D)ep(A,l,u,h)}}else{if(!m)return!1;{if(null!=m.imports&&!C){let A;h.add(f);try{js(m.imports,R=>{ep(R,l,u,h)&&(A||(A=[]),A.push(R))})}finally{}void 0!==A&&Zy(A,l)}if(!C){const A=Hi(f)||(()=>new f);l.push({provide:f,useFactory:A,deps:xt},{provide:Wy,useValue:f,multi:!0},{provide:qy,useValue:()=>ni(f),multi:!0})}const D=m.providers;null==D||C||js(D,R=>{l.push(R)})}}return f!==a&&void 0!==a.providers}const kC=ye({provide:String,useValue:ye});function Yy(a){return null!==a&&"object"==typeof a&&kC in a}function nl(a){return"function"==typeof a}const fh=new Rn("Set Injector scope."),tp={},qA={};let np;function fg(){return void 0===np&&(np=new AC),np}class jc{}class OC extends jc{constructor(l,u,h,f){super(),this.parent=u,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pg(l,v=>this.processProvider(v)),this.records.set($A,ph(void 0,this)),f.has("environment")&&this.records.set(jc,ph(void 0,this));const m=this.records.get(fh);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Wy.multi,xt,rt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const u=$s(this),h=bn(void 0);try{return l()}finally{$s(u),bn(h)}}get(l,u=Hn,h=rt.Default){this.assertNotDestroyed();const f=$s(this),m=bn(void 0);try{if(!(h&rt.SkipSelf)){let C=this.records.get(l);if(void 0===C){const D=function YA(a){return"function"==typeof a||"object"==typeof a&&a instanceof Rn}(l)&&Vi(l);C=D&&this.injectableDefInScope(D)?ph(ip(l),tp):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&rt.Self?fg():this.parent).get(l,u=h&rt.Optional&&u===Hn?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Ja]=v[Ja]||[]).unshift(me(l)),f)throw v;return function ee(a,l,u,h){const f=a[Ja];throw l[Nc]&&f.unshift(l[Nc]),a.message=function fe(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=me(l);if(Array.isArray(l))f=l.map(me).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let C=l[v];m.push(v+":"+("string"==typeof C?JSON.stringify(C):me(C)))}f=`{${m.join(", ")}}`}return`${u}${h?"("+h+")":""}[${f}]: ${a.replace(Pc,"\n  ")}`}("\n"+a.message,f,u,h),a.ngTokenPath=f,a[Ja]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{bn(m),$s(f)}}resolveInjectorInitializers(){const l=$s(this),u=bn(void 0);try{const h=this.get(qy.multi,xt,rt.Self);for(const f of h)f()}finally{$s(l),bn(u)}}toString(){const l=[],u=this.records;for(const h of u.keys())l.push(me(h));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ie(205,!1)}processProvider(l){let u=nl(l=te(l))?l:te(l&&l.provide);const h=function ZA(a){return Yy(a)?ph(void 0,a.useValue):ph(Ky(a),tp)}(l);if(nl(l)||!0!==l.multi)this.records.get(u);else{let f=this.records.get(u);f||(f=ph(void 0,tp,!0),f.factory=()=>T(f.multi),this.records.set(u,f)),u=l,f.multi.push(l)}this.records.set(u,h)}hydrate(l,u){return u.value===tp&&(u.value=qA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Qy(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=te(l.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function ip(a){const l=Vi(a),u=null!==l?l.factory:Hi(a);if(null!==u)return u;if(a instanceof Rn)throw new Ie(204,!1);if(a instanceof Function)return function WA(a){const l=a.length;if(l>0)throw lr(l,"?"),new Ie(204,!1);const u=function Ln(a){const l=a&&(a[pr]||a[$r]);if(l){const u=function xs(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Ie(204,!1)}function Ky(a,l,u){let h;if(nl(a)){const f=te(a);return Hi(f)||ip(f)}if(Yy(a))h=()=>te(a.useValue);else if(function RC(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...T(a.deps||[]));else if(function Yu(a){return!(!a||!a.useExisting)}(a))h=()=>ni(te(a.useExisting));else{const f=te(a&&(a.useClass||a.provide));if(!function CL(a){return!!a.deps}(a))return Hi(f)||ip(f);h=()=>new f(...T(a.deps))}return h}function ph(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function PC(a){return!!a.\u0275providers}function pg(a,l){for(const u of a)Array.isArray(u)?pg(u,l):PC(u)?pg(u.\u0275providers,l):l(u)}class NC{}class QA{resolveComponentFactory(l){throw function FC(a){const l=Error(`No component factory found for ${me(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let rp=(()=>{class a{}return a.NULL=new QA,a})();function sp(){return Gc(mi(),Oe())}function Gc(a,l){return new op(ji(a,l))}let op=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=sp,a})();function VC(a){return a instanceof op?a.nativeElement:a}class Xy{}let XA=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function BC(){const a=Oe(),u=dn(mi().index,a);return(pi(u)?u:a)[11]}(),a})(),JA=(()=>{class a{}return a.\u0275prov=nn({token:a,providedIn:"root",factory:()=>null}),a})();class Jy{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const eM=new Jy("14.2.0"),UC={};function nv(a){return a.ngOriginalError}class zl{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l);this._console.error("ERROR",l),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&nv(l);for(;u&&nv(u);)u=nv(u);return u||null}}const ql=new Map;let rv=0;const Io="__ngContext__";function Or(a,l){pi(l)?(a[Io]=l[20],function $n(a){ql.set(a[20],a)}(l)):a[Io]=l}function cp(a){const l=a[Io];return"number"==typeof l?function Rr(a){return ql.get(a)||null}(l):l||null}function ov(a){const l=cp(a);return l?pi(l)?l:l.lView:null}function qc(a){return a instanceof Function?a():a}var Yl=(()=>((Yl=Yl||{})[Yl.Important=1]="Important",Yl[Yl.DashCase=2]="DashCase",Yl))();function $C(a,l){return undefined(a,l)}function wg(a){const l=a[3];return Sr(l)?l[3]:l}function zC(a){return uM(a[13])}function Cg(a){return uM(a[4])}function uM(a){for(;null!==a&&!Sr(a);)a=a[4];return a}function fp(a,l,u,h,f){if(null!=h){let m,v=!1;Sr(h)?m=h:pi(h)&&(v=!0,h=h[0]);const C=Gn(h);0===a&&null!==u?null==f?gM(l,u,C):mh(l,u,C,f||null,!0):1===a&&null!==u?mh(l,u,C,f||null,!0):2===a?function DM(a,l,u){const h=av(a,l);h&&function yM(a,l,u,h){a.removeChild(l,u,h)}(a,h,l,u)}(l,C,v):3===a&&l.destroyNode(C),null!=m&&function ZL(a,l,u,h,f){const m=u[7];m!==Gn(u)&&fp(l,a,h,m,f);for(let C=10;C<u.length;C++){const D=u[C];Eg(D[1],D,a,l,h,m)}}(l,a,m,u,f)}}function WC(a,l,u){return a.createElement(l,u)}function hM(a,l){const u=a[9],h=u.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Jn(f,-1)),u.splice(h,1)}function ZC(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const f=h[17];null!==f&&f!==a&&hM(f,h),l>0&&(a[u-1][4]=h[4]);const m=Jo(a,10+l);!function LL(a,l){Eg(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-65}return h}function fM(a,l){if(!(128&l[2])){const u=l[11];u.destroyNode&&Eg(a,l,u,3,null,null),function UL(a){let l=a[13];if(!l)return YC(a[1],a);for(;l;){let u=null;if(pi(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)pi(l)&&YC(l[1],l),l=l[3];null===l&&(l=a),pi(l)&&YC(l[1],l),u=l&&l[4]}l=u}}(l)}}function YC(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function $L(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const f=l[u[h]];if(!(f instanceof kr)){const m=u[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const C=f[m[v]],D=m[v+1];try{D.call(C)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function GL(a,l){const u=a.cleanup,h=l[7];let f=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+1],C="function"==typeof v?v(l):Gn(l[v]),D=h[f=u[m+2]],A=u[m+3];"boolean"==typeof A?C.removeEventListener(u[m],D,A):A>=0?h[f=A]():h[f=-A].unsubscribe(),m+=2}else{const v=h[f=u[m+1]];u[m].call(v)}if(null!==h){for(let m=f+1;m<h.length;m++)(0,h[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const u=l[17];if(null!==u&&Sr(l[3])){u!==l[3]&&hM(u,l);const h=l[19];null!==h&&h.detachView(a)}!function st(a){ql.delete(a[20])}(l)}}function pM(a,l,u){return function mM(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const f=a.data[h.directiveStart].encapsulation;if(f===gt.None||f===gt.Emulated)return null}return ji(h,u)}(a,l.parent,u)}function mh(a,l,u,h,f){a.insertBefore(l,u,h,f)}function gM(a,l,u){a.appendChild(l,u)}function _M(a,l,u,h,f){null!==h?mh(a,l,u,h,f):gM(a,l,u)}function av(a,l){return a.parentNode(l)}function vM(a,l,u){return wM(a,l,u)}let wM=function bM(a,l,u){return 40&a.type?ji(a,u):null};function lv(a,l,u,h){const f=pM(a,h,l),m=l[11],C=vM(h.parent||l[6],h,l);if(null!=f)if(Array.isArray(u))for(let D=0;D<u.length;D++)_M(m,f,u[D],C,!1);else _M(m,f,u,C,!1)}function cv(a,l){if(null!==l){const u=l.type;if(3&u)return ji(l,a);if(4&u)return QC(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return cv(a,h);{const f=a[l.index];return Sr(f)?QC(-1,f):Gn(f)}}if(32&u)return $C(l,a)()||Gn(a[l.index]);{const h=EM(a,l);return null!==h?Array.isArray(h)?h[0]:cv(wg(a[16]),h):cv(a,l.next)}}return null}function EM(a,l){return null!==l?a[16][6].projection[l.projection]:null}function QC(a,l){const u=10+a+1;if(u<l.length){const h=l[u],f=h[1].firstChild;if(null!==f)return cv(h,f)}return l[7]}function XC(a,l,u,h,f,m,v){for(;null!=u;){const C=h[u.index],D=u.type;if(v&&0===l&&(C&&Or(Gn(C),h),u.flags|=4),64!=(64&u.flags))if(8&D)XC(a,l,u.child,h,f,m,!1),fp(l,a,f,C,m);else if(32&D){const A=$C(u,h);let R;for(;R=A();)fp(l,a,f,R,m);fp(l,a,f,C,m)}else 16&D?IM(a,l,h,u,f,m):fp(l,a,f,C,m);u=v?u.projectionNext:u.next}}function Eg(a,l,u,h,f,m){XC(u,h,a.firstChild,l,f,m,!1)}function IM(a,l,u,h,f,m){const v=u[16],D=v[6].projection[h.projection];if(Array.isArray(D))for(let A=0;A<D.length;A++)fp(l,a,f,D[A],m);else XC(a,l,D,v[3],f,m,!0)}function SM(a,l,u){a.setAttribute(l,"style",u)}function JC(a,l,u){""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u)}function TM(a,l,u){let h=a.length;for(;;){const f=a.indexOf(l,u);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===h||a.charCodeAt(f+m)<=32)return f}u=f+1}}const AM="ng-template";function KL(a,l,u){let h=0;for(;h<a.length;){let f=a[h++];if(u&&"class"===f){if(f=a[h],-1!==TM(f.toLowerCase(),l,0))return!0}else if(1===f){for(;h<a.length&&"string"==typeof(f=a[h++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function MM(a){return 4===a.type&&a.value!==AM}function QL(a,l,u){return l===(4!==a.type||u?a.value:AM)}function XL(a,l,u){let h=4;const f=a.attrs||[],m=function tV(a){for(let l=0;l<a.length;l++)if(Pl(a[l]))return l;return a.length}(f);let v=!1;for(let C=0;C<l.length;C++){const D=l[C];if("number"!=typeof D){if(!v)if(4&h){if(h=2|1&h,""!==D&&!QL(a,D,u)||""===D&&1===l.length){if(rl(h))return!1;v=!0}}else{const A=8&h?D:l[++C];if(8&h&&null!==a.attrs){if(!KL(a.attrs,A,u)){if(rl(h))return!1;v=!0}continue}const B=JL(8&h?"class":D,f,MM(a),u);if(-1===B){if(rl(h))return!1;v=!0;continue}if(""!==A){let Q;Q=B>m?"":f[B+1].toLowerCase();const ae=8&h?Q:null;if(ae&&-1!==TM(ae,A,0)||2&h&&A!==Q){if(rl(h))return!1;v=!0}}}}else{if(!v&&!rl(h)&&!rl(D))return!1;if(v&&rl(D))continue;v=!1,h=D|1&h}}return rl(h)||v}function rl(a){return 0==(1&a)}function JL(a,l,u,h){if(null===l)return-1;let f=0;if(h||!u){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let C=l[++f];for(;"string"==typeof C;)C=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function nV(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function xM(a,l,u=!1){for(let h=0;h<l.length;h++)if(XL(a,l[h],u))return!0;return!1}function iV(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let f=0;f<a.length;f++)if(a[f]!==h[f])continue e;return!0}}return!1}function kM(a,l){return a?":not("+l.trim()+")":l}function rV(a){let l=a[0],u=1,h=2,f="",m=!1;for(;u<a.length;){let v=a[u];if("string"==typeof v)if(2&h){const C=a[++u];f+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?f+="."+v:4&h&&(f+=" "+v);else""!==f&&!rl(v)&&(l+=kM(m,f),f=""),h=v,m=m||!rl(h);u++}return""!==f&&(l+=kM(m,f)),l}const zt={};function RM(a){OM(Qt(),Oe(),Bn()+a,!1)}function OM(a,l,u,h){if(!h)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Fa(l,m,u)}else{const m=a.preOrderHooks;null!==m&&La(l,m,0,u)}Bs(u)}function LM(a,l=null,u=null,h){const f=VM(a,l,u,h);return f.resolveInjectorInitializers(),f}function VM(a,l=null,u=null,h,f=new Set){const m=[u||xt,MC(a)];return h=h||("object"==typeof a?void 0:me(a)),new OC(m,l||fg(),h||null,f)}let gh=(()=>{class a{static create(u,h){if(Array.isArray(u))return LM({name:""},h,u,"");{const f=u.name??"";return LM({name:f},u.parent,u.providers,f)}}}return a.THROW_IF_NOT_FOUND=Hn,a.NULL=new AC,a.\u0275prov=nn({token:a,providedIn:"any",factory:()=>ni($A)}),a.__NG_ELEMENT_ID__=-1,a})();function vh(a,l=rt.Default){const u=Oe();return null===u?ni(a,l):Ha(mi(),u,te(a),l)}function bh(){throw new Error("invalid")}function mv(a,l){return a<<17|l<<2}function So(a){return a>>17&32767}function gv(a){return 2|a}function Xl(a){return(131068&a)>>2}function mp(a,l){return-131069&a|l<<2}function yv(a){return 1|a}function uE(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const f=u[h],m=u[h+1];if(-1!==m){const v=a.data[m];xu(f),v.contentQueries(2,l[m],m)}}}function Ch(a,l,u,h,f,m,v,C,D,A,R){const B=l.blueprint.slice();return B[0]=f,B[2]=76|h,(null!==R||a&&1024&a[2])&&(B[2]|=1024),Cl(B),B[3]=B[15]=a,B[8]=u,B[10]=v||a&&a[10],B[11]=C||a&&a[11],B[12]=D||a&&a[12]||null,B[9]=A||a&&a[9]||null,B[6]=m,B[20]=function Tt(){return rv++}(),B[21]=R,B[16]=2==l.type?a[16]:B,B}function yp(a,l,u,h,f){let m=a.data[l];if(null===m)m=function Iv(a,l,u,h,f){const m=Ra(),v=Ic(),D=a.data[l]=function bp(a,l,u,h,f,m){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,l,h,f);return null===a.firstChild&&(a.firstChild=D),null!==m&&(v?null==m.child&&null!==D.parent&&(m.child=D):null===m.next&&(m.next=D)),D}(a,l,u,h,f),function Gd(){return Nt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=u,m.value=h,m.attrs=f;const v=function Dc(){const a=Nt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return ar(m,!0),m}function Jl(a,l,u,h){if(0===u)return-1;const f=l.length;for(let m=0;m<u;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return f}function ia(a,l,u){Na(l);try{const h=a.viewQuery;null!==h&&Ep(1,h,u);const f=a.template;null!==f&&Sv(a,l,f,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&uE(a,l),a.staticViewQueries&&Ep(2,a.viewQuery,u);const m=a.components;null!==m&&function tx(a,l){for(let u=0;u<l.length;u++)xV(a,l[u])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,ho()}}function vp(a,l,u,h){const f=l[2];if(128!=(128&f)){Na(l);try{Cl(l),function Al(a){return Nt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Sv(a,l,u,2,h);const v=3==(3&f);if(v){const A=a.preOrderCheckHooks;null!==A&&Fa(l,A,null)}else{const A=a.preOrderHooks;null!==A&&La(l,A,0,null),Kd(l,0)}if(function cx(a){for(let l=zC(a);null!==l;l=Cg(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const f=u[h],m=f[3];0==(512&f[2])&&Jn(m,1),f[2]|=512}}}(l),function gE(a){for(let l=zC(a);null!==l;l=Cg(l))for(let u=10;u<l.length;u++){const h=l[u],f=h[1];uo(h)&&vp(f,h,f.template,h[8])}}(l),null!==a.contentQueries&&uE(a,l),v){const A=a.contentCheckHooks;null!==A&&Fa(l,A)}else{const A=a.contentHooks;null!==A&&La(l,A,1),Kd(l,1)}!function JM(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const f=u[h];if(f<0)Bs(~f);else{const m=f,v=u[++h],C=u[++h];$d(v,m),C(2,l[m])}}}finally{Bs(-1)}}(a,l);const C=a.components;null!==C&&function ex(a,l){for(let u=0;u<l.length;u++)ux(a,l[u])}(l,C);const D=a.viewQuery;if(null!==D&&Ep(2,D,h),v){const A=a.viewCheckHooks;null!==A&&Fa(l,A)}else{const A=a.viewHooks;null!==A&&La(l,A,2),Kd(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Jn(l[3],-1))}finally{ho()}}}function dE(a,l,u,h){const f=l[10],v=Ec(l);try{!v&&f.begin&&f.begin(),v&&ia(a,l,h),vp(a,l,u,h)}finally{!v&&f.end&&f.end()}}function Sv(a,l,u,h,f){const m=Bn(),v=2&h;try{Bs(-1),v&&l.length>22&&OM(a,l,22,!1),u(h,f)}finally{Bs(m)}}function xg(a,l,u){if(Ps(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function kg(a,l,u){!Yo()||(function Wn(a,l,u,h){const f=u.directiveStart,m=u.directiveEnd;a.firstCreatePass||Hs(u,l),Or(h,l);const v=u.initialInputs;for(let C=f;C<m;C++){const D=a.data[C],A=_r(D);A&&AV(l,u,D);const R=ms(l,a,C,u);Or(R,l),null!==v&&ir(0,C-f,R,D,0,v),A&&(dn(u.index,l)[8]=R)}}(a,l,u,ji(u,l)),128==(128&u.flags)&&function SV(a,l,u){const h=u.directiveStart,f=u.directiveEnd,m=u.index,v=function Mf(){return Nt.lFrame.currentDirectiveIndex}();try{Bs(m);for(let C=h;C<f;C++){const D=a.data[C],A=l[C];Pa(C),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&lx(D,A)}}finally{Bs(-1),Pa(v)}}(a,l,u))}function Rg(a,l,u=ji){const h=l.localNames;if(null!==h){let f=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],C=-1===v?u(l,a):a[v];a[f++]=C}}}function hE(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Tv(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Tv(a,l,u,h,f,m,v,C,D,A){const R=22+h,B=R+f,Q=function nx(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:zt);return u}(R,B),ae="function"==typeof A?A():A;return Q[1]={type:a,blueprint:Q,template:u,queries:null,viewQuery:C,declTNode:l,data:Q.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:B,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:ae,incompleteFirstPass:!1}}function ix(a,l,u,h){const f=Nv(l);null===u?f.push(h):(f.push(u),a.firstCreatePass&&bE(a).push(h,f.length-1))}function Av(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const f=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,f):u[h]=[l,f]}return u}function rx(a,l){const h=l.directiveEnd,f=a.data,m=l.attrs,v=[];let C=null,D=null;for(let A=l.directiveStart;A<h;A++){const R=f[A],B=R.inputs,Q=null===m||MM(l)?null:Yc(B,m);v.push(Q),C=Av(B,A,C),D=Av(R.outputs,A,D)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=C,l.outputs=D}function Zs(a,l,u,h,f,m,v,C){const D=ji(l,u);let R,A=l.inputs;!C&&null!=A&&(R=A[h])?(Kc(a,u,R,h,f),Ca(l)&&fE(u,l.index)):3&l.type&&(h=function DV(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),f=null!=v?v(f,l.value||"",h):f,m.setProperty(D,h,f))}function fE(a,l){const u=dn(l,a);16&u[2]||(u[2]|=32)}function pE(a,l,u,h){let f=!1;if(Yo()){const m=function TV(a,l,u){const h=a.directiveRegistry;let f=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];xM(u,v.selectors,!1)&&(f||(f=[]),Ko(Hs(u,l),a,v.type),_r(v)?(wp(a,u),f.unshift(v)):f.push(v))}return f}(a,l,u),v=null===h?null:{"":-1};if(null!==m){f=!0,Mv(u,a.data.length,m.length);for(let R=0;R<m.length;R++){const B=m[R];B.providersResolver&&B.providersResolver(B)}let C=!1,D=!1,A=Jl(a,l,m.length,null);for(let R=0;R<m.length;R++){const B=m[R];u.mergedAttrs=Nl(u.mergedAttrs,B.hostAttrs),xv(a,u,l,A,B),Og(A,B,v),null!==B.contentQueries&&(u.flags|=8),(null!==B.hostBindings||null!==B.hostAttrs||0!==B.hostVars)&&(u.flags|=128);const Q=B.type.prototype;!C&&(Q.ngOnChanges||Q.ngOnInit||Q.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!D&&(Q.ngOnChanges||Q.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),D=!0),A++}rx(a,u)}v&&function nd(a,l,u){if(l){const h=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=u[l[f+1]];if(null==m)throw new Ie(-301,!1);h.push(l[f],m)}}}(u,h,v)}return u.mergedAttrs=Nl(u.mergedAttrs,u.attrs),f}function mE(a,l,u,h,f,m){const v=m.hostBindings;if(v){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const D=~l.index;(function ax(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=D&&C.push(D),C.push(h,f,v)}}function lx(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function wp(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Og(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;_r(l)&&(u[""]=a)}}function Mv(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function xv(a,l,u,h,f){a.data[h]=f;const m=f.factory||(f.factory=Hi(f.type)),v=new kr(m,_r(f),vh);a.blueprint[h]=v,u[h]=v,mE(a,l,0,h,Jl(a,u,f.hostVars,zt),f)}function AV(a,l,u){const h=ji(l,a),f=hE(u),m=a[10],v=Pv(a,Ch(a,f,null,u.onPush?32:16,h,l,m,m.createRenderer(h,u),null,null,null));a[l.index]=v}function sa(a,l,u,h,f,m){const v=ji(a,l);!function kv(a,l,u,h,f,m,v){if(null==m)a.removeAttribute(l,f,u);else{const C=null==v?De(m):v(m,h||"",f);a.setAttribute(l,f,C,u)}}(l[11],v,m,a.value,u,h,f)}function ir(a,l,u,h,f,m){const v=m[l];if(null!==v){const C=h.setInput;for(let D=0;D<v.length;){const A=v[D++],R=v[D++],B=v[D++];null!==C?h.setInput(u,B,A,R):u[R]=B}}}function Yc(a,l){let u=null,h=0;for(;h<l.length;){const f=l[h];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===u&&(u=[]),u.push(f,a[f],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Pg(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function ux(a,l){const u=dn(l,a);if(uo(u)){const h=u[1];48&u[2]?vp(h,u,h.template,u[8]):u[5]>0&&Rv(u)}}function Rv(a){for(let h=zC(a);null!==h;h=Cg(h))for(let f=10;f<h.length;f++){const m=h[f];if(uo(m))if(512&m[2]){const v=m[1];vp(v,m,v.template,m[8])}else m[5]>0&&Rv(m)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const f=dn(u[h],a);uo(f)&&f[5]>0&&Rv(f)}}function xV(a,l){const u=dn(l,a),h=u[1];(function Ov(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),ia(h,u,u[8])}function Pv(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function _E(a){for(;a;){a[2]|=32;const l=wg(a);if(Du(a)&&!l)return a;a=l}return null}function Ep(a,l,u){xu(0),l(a,u)}function Nv(a){return a[7]||(a[7]=[])}function bE(a){return a.cleanup||(a.cleanup=[])}function wE(a,l,u){return(null===a||_r(a))&&(u=function Hd(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function CE(a,l){const u=a[9],h=u?u.get(zl,null):null;h&&h.handleError(l)}function Kc(a,l,u,h,f){for(let m=0;m<u.length;){const v=u[m++],C=u[m++],D=l[v],A=a.data[v];null!==A.setInput?A.setInput(D,f,h,C):D[C]=f}}function Ng(a,l,u){let h=u?a.styles:null,f=u?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const C=l[v];"number"==typeof C?m=C:1==m?f=Ce(f,C):2==m&&(h=Ce(h,C+": "+l[++v]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=f:a.classesWithoutHost=f}function Fg(a,l,u,h,f=!1){for(;null!==u;){const m=l[u.index];if(null!==m&&h.push(Gn(m)),Sr(m))for(let C=10;C<m.length;C++){const D=m[C],A=D[1].firstChild;null!==A&&Fg(D[1],D,A,h)}const v=u.type;if(8&v)Fg(a,l,u.child,h);else if(32&v){const C=$C(u,l);let D;for(;D=C();)h.push(D)}else if(16&v){const C=EM(l,u);if(Array.isArray(C))h.push(...C);else{const D=wg(l[16]);Fg(D[1],D,C,h,!0)}}u=f?u.projectionNext:u.next}return h}class Eh{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return Fg(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Sr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(ZC(l,h),Jo(u,h))}this._attachedToViewContainer=!1}fM(this._lView[1],this._lView)}onDestroy(l){ix(this._lView[1],this._lView,null,l)}markForCheck(){_E(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function yE(a,l,u){const h=l[10];h.begin&&h.begin();try{vp(a,l,a.template,u)}catch(f){throw CE(l,f),f}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function BL(a,l){Eg(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Ie(902,!1);this._appRef=l}}class RV extends Eh{constructor(l){super(l),this._view=l}detectChanges(){!function vE(a){!function Cp(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=ov(u);if(null!==h){const f=h[1];dE(f,h,f.template,u)}}}(a[8])}(this._view)}checkNoChanges(){}get context(){return null}}class EE extends rp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=G(l);return new Dp(u,this.ngModule)}}function fx(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class OV{constructor(l,u){this.injector=l,this.parentInjector=u}get(l,u,h){const f=this.injector.get(l,UC,h);return f!==UC||u===UC?f:this.parentInjector.get(l,u,h)}}class Dp extends NC{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function sV(a){return a.map(rV).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return fx(this.componentDef.inputs)}get outputs(){return fx(this.componentDef.outputs)}create(l,u,h,f){let m=(f=f||this.ngModule)instanceof jc?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new OV(l,m):l,C=v.get(Xy,null);if(null===C)throw new Ie(407,!1);const D=v.get(JA,null),A=C.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",B=h?function ra(a,l,u){return a.selectRootElement(l,u===gt.ShadowDom)}(A,h,this.componentDef.encapsulation):WC(C.createRenderer(null,this.componentDef),R,function DE(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(R)),Q=this.componentDef.onPush?288:272,ae={components:[]},Te=Tv(0,null,null,1,0,null,null,null,null,null),je=Ch(null,Te,ae,Q,null,null,C,A,D,v,null);let et,ut;Na(je);try{const Ot=function gx(a,l,u,h,f,m){const v=u[1];u[22]=a;const D=yp(v,22,2,"#host",null),A=D.mergedAttrs=l.hostAttrs;null!==A&&(Ng(D,A,!0),null!==a&&(Us(f,a,A),null!==D.classes&&JC(f,a,D.classes),null!==D.styles&&SM(f,a,D.styles)));const R=h.createRenderer(a,l),B=Ch(u,hE(l),null,l.onPush?32:16,u[22],D,h,R,m||null,null,null);return v.firstCreatePass&&(Ko(Hs(D,u),v,l.type),wp(v,D),Mv(D,u.length,1)),Pv(u,B),u[22]=B}(B,this.componentDef,je,C,A);if(B)if(h)Us(A,B,["ng-version",eM.full]);else{const{attrs:Ve,classes:At}=function oV(a){const l=[],u=[];let h=1,f=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++h]):8===f&&u.push(m);else{if(!rl(f))break;f=m}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Ve&&Us(A,B,Ve),At&&At.length>0&&JC(A,B,At.join(" "))}if(ut=Zo(Te,22),void 0!==u){const Ve=ut.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const hn=u[At];Ve.push(null!=hn?Array.from(hn):null)}}et=function SE(a,l,u,h,f){const m=u[1],v=function IV(a,l,u){const h=mi();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),xv(a,h,l,Jl(a,l,1,null),u),rx(a,h));const f=ms(l,a,h.directiveStart,h);Or(f,l);const m=ji(h,l);return m&&Or(m,l),f}(m,u,l);if(h.components.push(v),a[8]=v,null!==f)for(const D of f)D(v,l);if(l.contentQueries){const D=mi();l.contentQueries(1,v,D.directiveStart)}const C=mi();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(Bs(C.index),mE(u[1],C,0,C.directiveStart,C.directiveEnd,l),lx(l,v)),v}(Ot,this.componentDef,je,ae,[yx]),ia(Te,je,null)}finally{ho()}return new IE(this.componentType,et,Gc(ut,je),je,ut)}}class IE extends class Ku{}{constructor(l,u,h,f,m){super(),this.location=h,this._rootLView=f,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new RV(f),this.componentType=l}setInput(l,u){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[l])){const m=this._rootLView;Kc(m[1],m,f,l,u),fE(m,this._tNode.index)}}get injector(){return new Ga(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function yx(){const a=mi();Nu(Oe()[1],a)}function Fv(a){let l=function TE(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let f;if(_r(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Ie(903,!1);f=l.\u0275dir}if(f){if(u){h.push(f);const v=a;v.inputs=AE(a.inputs),v.declaredInputs=AE(a.declaredInputs),v.outputs=AE(a.outputs);const C=f.hostBindings;C&&Cx(a,C);const D=f.viewQuery,A=f.contentQueries;if(D&&bx(a,D),A&&wx(a,A),oe(a.inputs,f.inputs),oe(a.declaredInputs,f.declaredInputs),oe(a.outputs,f.outputs),_r(f)&&f.data.animation){const R=a.data;R.animation=(R.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const C=m[v];C&&C.ngInherit&&C(a),C===Fv&&(u=!1)}}l=Object.getPrototypeOf(l)}!function vx(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const f=a[h];f.hostVars=l+=f.hostVars,f.hostAttrs=Nl(f.hostAttrs,u=Nl(u,f.hostAttrs))}}(h)}function AE(a){return a===Ui?{}:a===xt?[]:a}function bx(a,l){const u=a.viewQuery;a.viewQuery=u?(h,f)=>{l(h,f),u(h,f)}:l}function wx(a,l){const u=a.contentQueries;a.contentQueries=u?(h,f,m)=>{l(h,f,m),u(h,f,m)}:l}function Cx(a,l){const u=a.hostBindings;a.hostBindings=u?(h,f)=>{l(h,f),u(h,f)}:l}let Lg=null;function Ni(){if(!Lg){const a=Ft.Symbol;if(a&&a.iterator)Lg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Lg=h)}}}return Lg}function id(a){return!!oa(a)&&(Array.isArray(a)||!(a instanceof Map)&&Ni()in a)}function oa(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function br(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function wr(a,l,u,h){const f=Oe();return br(f,Ml(),l)&&(Qt(),sa(Un(),f,a,l,u,h)),wr}function Qc(a,l,u,h){return br(a,Ml(),u)?l+De(u)+h:zt}function LE(a,l,u,h,f,m,v,C){const D=Oe(),A=Qt(),R=a+22,B=A.firstCreatePass?function Ax(a,l,u,h,f,m,v,C,D){const A=l.consts,R=yp(l,a,4,v||null,xr(A,C));pE(l,u,R,xr(A,D)),Nu(l,R);const B=R.tViews=Tv(2,R,h,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,R),B.queries=l.queries.embeddedTView(R)),R}(R,A,D,l,u,h,f,m,v):A.data[R];ar(B,!1);const Q=D[11].createComment("");lv(A,D,Q,B),Or(Q,D),Pv(D,D[R]=Pg(Q,D,Q,B)),Ea(B)&&kg(A,D,B),null!=v&&Rg(D,B,C)}function VE(a){return fs(function Tl(){return Nt.lFrame.contextLView}(),22+a)}function Vv(a,l,u){const h=Oe();return br(h,Ml(),l)&&Zs(Qt(),Un(),h,a,l,h[11],u,!1),Vv}function Bv(a,l,u,h,f){const v=f?"class":"style";Kc(a,u,l.inputs[v],v,h)}function Vg(a,l,u,h){const f=Oe(),m=Qt(),v=22+a,C=f[11],D=f[v]=WC(C,l,function Pu(){return Nt.lFrame.currentNamespace}()),A=m.firstCreatePass?function Mx(a,l,u,h,f,m,v){const C=l.consts,A=yp(l,a,2,f,xr(C,m));return pE(l,u,A,xr(C,v)),null!==A.attrs&&Ng(A,A.attrs,!1),null!==A.mergedAttrs&&Ng(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(v,m,f,0,l,u,h):m.data[v];ar(A,!0);const R=A.mergedAttrs;null!==R&&Us(C,D,R);const B=A.classes;null!==B&&JC(C,D,B);const Q=A.styles;return null!==Q&&SM(C,D,Q),64!=(64&A.flags)&&lv(m,f,D,A),0===function Dl(){return Nt.lFrame.elementDepthCount}()&&Or(D,f),function jd(){Nt.lFrame.elementDepthCount++}(),Ea(A)&&(kg(m,f,A),xg(m,A,f)),null!==h&&Rg(f,A),Vg}function Bg(){let a=mi();Ic()?Oa():(a=a.parent,ar(a,!1));const l=a;!function Il(){Nt.lFrame.elementDepthCount--}();const u=Qt();return u.firstCreatePass&&(Nu(u,a),Ps(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Tc(a){return 0!=(16&a.flags)}(l)&&Bv(u,l,Oe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ac(a){return 0!=(32&a.flags)}(l)&&Bv(u,l,Oe(),l.stylesWithoutHost,!1),Bg}function Uv(a,l,u,h){return Vg(a,l,u,h),Bg(),Uv}function Ug(a,l,u){const h=Oe(),f=Qt(),m=a+22,v=f.firstCreatePass?function xx(a,l,u,h,f){const m=l.consts,v=xr(m,h),C=yp(l,a,8,"ng-container",v);return null!==v&&Ng(C,v,!0),pE(l,u,C,xr(m,f)),null!==l.queries&&l.queries.elementStart(l,C),C}(m,f,h,l,u):f.data[m];ar(v,!0);const C=h[m]=h[11].createComment("");return lv(f,h,C,v),Or(C,h),Ea(v)&&(kg(f,h,v),xg(f,v,h)),null!=u&&Rg(h,v),Ug}function Hg(){let a=mi();const l=Qt();return Ic()?Oa():(a=a.parent,ar(a,!1)),l.firstCreatePass&&(Nu(l,a),Ps(a)&&l.queries.elementEnd(a)),Hg}function UE(){return Oe()}function Hv(a){return!!a&&"function"==typeof a.then}function HE(a){return!!a&&"function"==typeof a.subscribe}const jE=HE;function jv(a,l,u,h){const f=Oe(),m=Qt(),v=mi();return GE(m,f,f[11],v,a,l,0,h),jv}function Gv(a,l){const u=mi(),h=Oe(),f=Qt();return GE(f,h,wE(Mu(f.data),u,h),u,a,l),Gv}function GE(a,l,u,h,f,m,v,C){const D=Ea(h),R=a.firstCreatePass&&bE(a),B=l[8],Q=Nv(l);let ae=!0;if(3&h.type||C){const et=ji(h,l),ut=C?C(et):et,Ot=Q.length,Ve=C?hn=>C(Gn(hn[h.index])):h.index;let At=null;if(!C&&D&&(At=function kx(a,l,u,h){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===u&&f[m+1]===h){const C=l[7],D=f[m+2];return C.length>D?C[D]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,h.index)),null!==At)(At.__ngLastListenerFn__||At).__ngNextListenerFn__=m,At.__ngLastListenerFn__=m,ae=!1;else{m=zE(h,l,B,m,!1);const hn=u.listen(ut,f,m);Q.push(m,hn),R&&R.push(f,Ve,Ot,Ot+1)}}else m=zE(h,l,B,m,!1);const Te=h.outputs;let je;if(ae&&null!==Te&&(je=Te[f])){const et=je.length;if(et)for(let ut=0;ut<et;ut+=2){const oi=l[je[ut]][je[ut+1]].subscribe(m),vd=Q.length;Q.push(m,oi),R&&R.push(f,h.index,vd,-(vd+1))}}}function $E(a,l,u,h){try{return!1!==u(h)}catch(f){return CE(a,f),!1}}function zE(a,l,u,h,f){return function m(v){if(v===Function)return h;_E(2&a.flags?dn(a.index,l):l);let D=$E(l,0,h,v),A=m.__ngNextListenerFn__;for(;A;)D=$E(l,0,A,v)&&D,A=A.__ngNextListenerFn__;return f&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function qE(a=1){return function fo(a){return(Nt.lFrame.contextLView=function Wd(a,l){for(;a>0;)l=l[15],a--;return l}(a,Nt.lFrame.contextLView))[8]}(a)}function LV(a,l){let u=null;const h=function eV(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===h?xM(a,m,!0):iV(h,m))return f}else u=f}return u}function WE(a){const l=Oe()[16][6];if(!l.projection){const h=l.projection=lr(a?a.length:1,null),f=h.slice();let m=l.child;for(;null!==m;){const v=a?LV(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:h[v]=m,f[v]=m),m=m.next}}}function ZE(a,l=0,u){const h=Oe(),f=Qt(),m=yp(f,22+a,16,null,u||null);null===m.projection&&(m.projection=l),Oa(),64!=(64&m.flags)&&function WL(a,l,u){IM(l[11],0,l,u,pM(a,u,l),vM(u.parent||l[6],u,l))}(f,h,m)}function Ih(a,l,u,h,f){const m=Oe(),v=Qc(m,l,u,h);return v!==zt&&Zs(Qt(),Un(),m,a,v,m[11],f,!1),Ih}function Ox(a,l,u,h,f){const m=a[u+1],v=null===l;let C=h?So(m):Xl(m),D=!1;for(;0!==C&&(!1===D||v);){const R=a[C+1];Px(a[C],l)&&(D=!0,a[C+1]=h?yv(R):gv(R)),C=h?So(R):Xl(R)}D&&(a[u+1]=h?gv(m):yv(m))}function Px(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Zr(a,l)>=0}const ri={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Wv(a){return a.substring(ri.key,ri.keyEnd)}function QE(a,l){const u=ri.textEnd;return u===l?-1:(l=ri.keyEnd=function Yv(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,ri.key=l,u),od(a,l,u))}function od(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Sh(a,l,u){return Cs(a,l,u,!1),Sh}function Th(a,l){return Cs(a,l,null,!0),Th}function Ao(a,l){for(let u=function VV(a){return function Fx(a){ri.key=0,ri.keyEnd=0,ri.value=0,ri.valueEnd=0,ri.textEnd=a.length}(a),QE(a,od(a,0,ri.textEnd))}(l);u>=0;u=QE(l,u))cr(a,Wv(l),!0)}function Cs(a,l,u,h){const f=Oe(),m=Qt(),v=Vs(2);m.firstUpdatePass&&Jv(m,a,v,h),l!==zt&&br(f,v,l)&&Zg(m,m.data[Bn()],f,f[11],a,f[v+1]=function Yg(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=me(Eo(a)))),a}(l,u),h,v)}function Ah(a,l){return l>=a.expandoStartIndex}function Jv(a,l,u,h){const f=a.data;if(null===f[u+1]){const m=f[Bn()],v=Ah(a,u);tD(m,h)&&null===l&&!v&&(l=!1),l=function Bx(a,l,u,h){const f=Mu(a);let m=h?l.residualClasses:l.residualStyles;if(null===f)0===(h?l.classBindings:l.styleBindings)&&(u=Es(u=Wg(null,a,l,u,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(u=Wg(f,a,l,u,h),null===m){let D=function JE(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==Xl(h))return a[So(h)]}(a,l,h);void 0!==D&&Array.isArray(D)&&(D=Wg(null,a,l,D[1],h),D=Es(D,l.attrs,h),function tu(a,l,u,h){a[So(u?l.classBindings:l.styleBindings)]=h}(a,l,h,D))}else m=function eD(a,l,u){let h;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)h=Es(h,a[m].hostAttrs,u);return Es(h,l.attrs,u)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),u}(f,m,l,h),function KE(a,l,u,h,f,m){let v=m?l.classBindings:l.styleBindings,C=So(v),D=Xl(v);a[h]=u;let R,A=!1;if(Array.isArray(u)){const B=u;R=B[1],(null===R||Zr(B,R)>0)&&(A=!0)}else R=u;if(f)if(0!==D){const Q=So(a[C+1]);a[h+1]=mv(Q,C),0!==Q&&(a[Q+1]=mp(a[Q+1],h)),a[C+1]=function $M(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=mv(C,0),0!==C&&(a[C+1]=mp(a[C+1],h)),C=h;else a[h+1]=mv(D,0),0===C?C=h:a[D+1]=mp(a[D+1],h),D=h;A&&(a[h+1]=gv(a[h+1])),Ox(a,R,h,!0),Ox(a,R,h,!1),function qv(a,l,u,h,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Zr(m,l)>=0&&(u[h+1]=yv(u[h+1]))}(l,R,a,h,m),v=mv(C,D),m?l.classBindings=v:l.styleBindings=v}(f,m,l,u,v,h)}}function Wg(a,l,u,h,f){let m=null;const v=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<v&&(m=l[C],h=Es(h,m.hostAttrs,f),m!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function Es(a,l,u){const h=u?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),cr(a,v,!!u||l[++m]))}return void 0===a?null:a}function Zg(a,l,u,h,f,m,v,C){if(!(3&l.type))return;const D=a.data,A=D[C+1];ld(function _v(a){return 1==(1&a)}(A)?eb(D,l,u,f,Xl(A),v):void 0)||(ld(m)||function ed(a){return 2==(2&a)}(A)&&(m=eb(D,null,u,f,C,v)),function YL(a,l,u,h,f){if(l)f?a.addClass(u,h):a.removeClass(u,h);else{let m=-1===h.indexOf("-")?void 0:Yl.DashCase;null==f?a.removeStyle(u,h,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Yl.Important),a.setStyle(u,h,f,m))}}(h,v,qr(Bn(),u),f,m))}function eb(a,l,u,h,f,m){const v=null===l;let C;for(;f>0;){const D=a[f],A=Array.isArray(D),R=A?D[1]:D,B=null===R;let Q=u[f+1];Q===zt&&(Q=B?xt:void 0);let ae=B?Ka(Q,h):R===h?Q:void 0;if(A&&!ld(ae)&&(ae=Ka(D,h)),ld(ae)&&(C=ae,v))return C;const Te=a[f+1];f=v?So(Te):Xl(Te)}if(null!==l){let D=m?l.residualClasses:l.residualStyles;null!=D&&(C=Ka(D,h))}return C}function ld(a){return void 0!==a}function tD(a,l){return 0!=(a.flags&(l?16:32))}function Kg(a,l=""){const u=Oe(),h=Qt(),f=a+22,m=h.firstCreatePass?yp(h,f,1,l,null):h.data[f],v=u[f]=function qC(a,l){return a.createText(l)}(u[11],l);lv(h,u,v,m),ar(m,!1)}function tb(a){return Qg("",a,""),tb}function Qg(a,l,u){const h=Oe(),f=Qc(h,a,l,u);return f!==zt&&function To(a,l,u){const h=qr(l,a);!function dM(a,l,u){a.setValue(l,u)}(a[11],h,u)}(h,Bn(),f),Qg}function Hx(a,l,u){!function la(a,l,u,h){const f=Qt(),m=Vs(2);f.firstUpdatePass&&Jv(f,null,m,h);const v=Oe();if(u!==zt&&br(v,m,u)){const C=f.data[Bn()];if(tD(C,h)&&!Ah(f,m)){let D=h?C.classesWithoutHost:C.stylesWithoutHost;null!==D&&(u=Ce(D,u||"")),Bv(f,C,v,u,h)}else!function Ux(a,l,u,h,f,m,v,C){f===zt&&(f=xt);let D=0,A=0,R=0<f.length?f[0]:null,B=0<m.length?m[0]:null;for(;null!==R||null!==B;){const Q=D<f.length?f[D+1]:void 0,ae=A<m.length?m[A+1]:void 0;let je,Te=null;R===B?(D+=2,A+=2,Q!==ae&&(Te=B,je=ae)):null===B||null!==R&&R<B?(D+=2,Te=R):(A+=2,Te=B,je=ae),null!==Te&&Zg(a,l,u,h,Te,je,v,C),R=D<f.length?f[D]:null,B=A<m.length?m[A]:null}}(f,C,v,v[11],v[m+1],v[m+1]=function ad(a,l,u){if(null==u||""===u)return xt;const h=[],f=Eo(u);if(Array.isArray(f))for(let m=0;m<f.length;m++)a(h,f[m],!0);else if("object"==typeof f)for(const m in f)f.hasOwnProperty(m)&&a(h,m,f[m]);else"string"==typeof f&&l(h,f);return h}(a,l,u),h,m)}}(cr,Ao,Qc(Oe(),a,l,u),!0)}function rb(a,l,u){const h=Oe();return br(h,Ml(),l)&&Zs(Qt(),Un(),h,a,l,h[11],u,!0),rb}function kp(a,l,u){const h=Oe();if(br(h,Ml(),l)){const m=Qt(),v=Un();Zs(m,v,h,a,l,wE(Mu(m.data),v,h),u,!0)}return kp}const cd=void 0;var sb=["en",[["a","p"],["AM","PM"],cd],[["AM","PM"],cd,cd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cd,"{1} 'at' {0}",cd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function i_(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let nc={};function Qx(a,l,u){"string"!=typeof l&&(u=l,l=a[Rt.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),nc[l]=a,u&&(nc[l][Rt.ExtraData]=u)}function r_(a){const l=function Jx(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=s_(l);if(u)return u;const h=l.split("-")[0];if(u=s_(h),u)return u;if("en"===h)return sb;throw new Ie(701,!1)}function Xx(a){return r_(a)[Rt.PluralCase]}function s_(a){return a in nc||(nc[a]=Ft.ng&&Ft.ng.common&&Ft.ng.common.locales&&Ft.ng.common.locales[a]),nc[a]}var Rt=(()=>((Rt=Rt||{})[Rt.LocaleId=0]="LocaleId",Rt[Rt.DayPeriodsFormat=1]="DayPeriodsFormat",Rt[Rt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rt[Rt.DaysFormat=3]="DaysFormat",Rt[Rt.DaysStandalone=4]="DaysStandalone",Rt[Rt.MonthsFormat=5]="MonthsFormat",Rt[Rt.MonthsStandalone=6]="MonthsStandalone",Rt[Rt.Eras=7]="Eras",Rt[Rt.FirstDayOfWeek=8]="FirstDayOfWeek",Rt[Rt.WeekendRange=9]="WeekendRange",Rt[Rt.DateFormat=10]="DateFormat",Rt[Rt.TimeFormat=11]="TimeFormat",Rt[Rt.DateTimeFormat=12]="DateTimeFormat",Rt[Rt.NumberSymbols=13]="NumberSymbols",Rt[Rt.NumberFormats=14]="NumberFormats",Rt[Rt.CurrencyCode=15]="CurrencyCode",Rt[Rt.CurrencySymbol=16]="CurrencySymbol",Rt[Rt.CurrencyName=17]="CurrencyName",Rt[Rt.Currencies=18]="Currencies",Rt[Rt.Directionality=19]="Directionality",Rt[Rt.PluralCase=20]="PluralCase",Rt[Rt.ExtraData=21]="ExtraData",Rt))();const ud="en-US";let mD=ud;function pb(a,l,u,h,f){if(a=te(a),Array.isArray(a))for(let m=0;m<a.length;m++)pb(a[m],l,u,h,f);else{const m=Qt(),v=Oe();let C=nl(a)?a:te(a.provide),D=Ky(a);const A=mi(),R=1048575&A.providerIndexes,B=A.directiveStart,Q=A.providerIndexes>>20;if(nl(a)||!a.multi){const ae=new kr(D,f,vh),Te=gb(C,l,f?R:R+Q,B);-1===Te?(Ko(Hs(A,v),m,C),mb(m,a,l.length),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ae),v.push(ae)):(u[Te]=ae,v[Te]=ae)}else{const ae=gb(C,l,R+Q,B),Te=gb(C,l,R,R+Q),je=ae>=0&&u[ae],et=Te>=0&&u[Te];if(f&&!et||!f&&!je){Ko(Hs(A,v),m,C);const ut=function Rk(a,l,u,h,f){const m=new kr(a,u,vh);return m.multi=[],m.index=l,m.componentProviders=0,FD(m,f,h&&!u),m}(f?kk:xk,u.length,f,h,D);!f&&et&&(u[Te].providerFactory=ut),mb(m,a,l.length,0),l.push(C),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),u.push(ut),v.push(ut)}else mb(m,a,ae>-1?ae:Te,FD(u[f?Te:ae],D,!f&&h));!f&&h&&et&&u[Te].componentProviders++}}}function mb(a,l,u,h){const f=nl(l),m=function zA(a){return!!a.useClass}(l);if(f||m){const D=(m?te(l.useClass):l).prototype.ngOnDestroy;if(D){const A=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const R=A.indexOf(u);-1===R?A.push(u,[h,D]):A[R+1].push(h,D)}else A.push(u,D)}}}function FD(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function gb(a,l,u,h){for(let f=u;f<h;f++)if(l[f]===a)return f;return-1}function xk(a,l,u,h){return _b(this.multi,[])}function kk(a,l,u,h){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=ms(u,u[1],this.providerFactory.index,h);m=C.slice(0,v),_b(f,m);for(let D=v;D<C.length;D++)m.push(C[D])}else m=[],_b(f,m);return m}function _b(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function LD(a,l=[]){return u=>{u.providersResolver=(h,f)=>function Mk(a,l,u){const h=Qt();if(h.firstCreatePass){const f=_r(a);pb(u,h.data,h.blueprint,f,!0),pb(l,h.data,h.blueprint,f,!1)}}(h,f?f(a):a,l)}}class Ph{}class VD{}function Ok(a,l){return new Pk(a,l??null)}class Pk extends Ph{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new EE(this);const h=bt(l);this._bootstrapComponents=qc(h.bootstrap),this._r3Injector=VM(l,u,[{provide:Ph,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],me(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class yb extends VD{constructor(l){super(),this.moduleType=l}create(l){return new Pk(this.moduleType,l)}}class YV extends Ph{constructor(l,u,h){super(),this.componentFactoryResolver=new EE(this),this.instance=null;const f=new OC([...l,{provide:Ph,useValue:this},{provide:rp,useValue:this.componentFactoryResolver}],u||fg(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function vb(a,l,u=null){return new YV(a,l,u).injector}let h_=(()=>{class a{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const h=xC(0,u.type),f=h.length>0?vb([h],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,f)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=nn({token:a,providedIn:"environment",factory:()=>new a(ni(jc))}),a})();function Nk(a){a.getStandaloneInjector=l=>l.get(h_).getOrCreateStandaloneInjector(a)}function Uk(a,l,u,h){return p_(Oe(),gi(),a,l,u,h)}function p_(a,l,u,h,f,m){const v=l+u;return br(a,v,f)?function bi(a,l,u){return a[l]=u}(a,v+1,m?h.call(m,f):h(f)):function iu(a,l){const u=a[l];return u===zt?void 0:u}(a,v+1)}function zk(a,l){const u=Qt();let h;const f=a+22;u.firstCreatePass?(h=function qk(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[f]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(f,h.onDestroy)):h=u.data[f];const m=h.factory||(h.factory=Hi(h.type)),v=bn(vh);try{const C=Fl(!1),D=m();return Fl(C),function FV(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Oe(),f,D),D}finally{bn(v)}}function $D(a,l,u){const h=a+22,f=Oe(),m=fs(f,h);return function g_(a,l){return a[1].data[l].pure}(f,h)?p_(f,gi(),l,m.transform,u,m):m.transform(u)}function Sb(a){return l=>{setTimeout(a,void 0,l)}}const ca=class Zk extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let f=l,m=u||(()=>null),v=h;if(l&&"object"==typeof l){const D=l;f=D.next?.bind(D),m=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(m=Sb(m),f&&(f=Sb(f)),v&&(v=Sb(v)));const C=super.subscribe({next:f,error:m,complete:v});return l instanceof H.w0&&l.add(C),C}};function qD(){return this._results[Ni()]()}class Bp{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ni(),h=Bp.prototype;h[u]||(h[u]=qD)}get changes(){return this._changes||(this._changes=new ca)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const f=Xi(l);(this._changesDetected=!function rh(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let f=a[h],m=l[h];if(u&&(f=u(f),m=u(m)),m!==f)return!1}return!0}(h._results,f,u))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Up=(()=>{class a{}return a.__NG_ELEMENT_ID__=Tb,a})();const Hp=Up,zi=class extends Hp{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l,u){const h=this._declarationTContainer.tViews,f=Ch(this._declarationLView,h,l,16,null,h.declTNode,null,null,null,null,u||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(h)),ia(h,f,l),new Eh(f)}};function Tb(){return Fh(mi(),Oe())}function Fh(a,l){return 4&a.type?new zi(l,a,Gc(a,l)):null}let pd=(()=>{class a{}return a.__NG_ELEMENT_ID__=WD,a})();function WD(){return ZD(mi(),Oe())}const Ab=pd,jp=class extends Ab{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new Ga(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ll(this._hostTNode,this._hostLView);if(Of(l)){const u=po(l,this._hostLView),h=_i(l);return new Ga(u[1].data[h+8],u)}return new Ga(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=Mb(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){let f,m;"number"==typeof h?f=h:null!=h&&(f=h.index,m=h.injector);const v=l.createEmbeddedView(u||{},m);return this.insert(v,f),v}createComponent(l,u,h,f,m){const v=l&&!function ci(a){return"function"==typeof a}(l);let C;if(v)C=u;else{const B=u||{};C=B.index,h=B.injector,f=B.projectableNodes,m=B.environmentInjector||B.ngModuleRef}const D=v?l:new Dp(G(l)),A=h||this.parentInjector;if(!m&&null==D.ngModule){const Q=(v?A:this.parentInjector).get(jc,null);Q&&(m=Q)}const R=D.create(A,f,void 0,m);return this.insert(R.hostView,C),R}insert(l,u){const h=l._lView,f=h[1];if(function Tu(a){return Sr(a[3])}(h)){const R=this.indexOf(l);if(-1!==R)this.detach(R);else{const B=h[3],Q=new jp(B,B[6],B[3]);Q.detach(Q.indexOf(l))}}const m=this._adjustIndex(u),v=this._lContainer;!function HL(a,l,u,h){const f=10+h,m=u.length;h>0&&(u[f-1][4]=l),h<m-10?(l[4]=u[f],Ul(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const v=l[17];null!==v&&u!==v&&function jL(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(v,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=64}(f,h,v,m);const C=QC(m,v),D=h[11],A=av(D,v[7]);return null!==A&&function VL(a,l,u,h,f,m){h[0]=f,h[6]=l,Eg(a,h,u,1,f,m)}(f,v[6],D,h,A,C),l.attachToViewContainerRef(),Ul(__(v),m,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=Mb(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=ZC(this._lContainer,u);h&&(Jo(__(this._lContainer),u),fM(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=ZC(this._lContainer,u);return h&&null!=Jo(__(this._lContainer),u)?new Eh(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function Mb(a){return a[8]}function __(a){return a[8]||(a[8]=[])}function ZD(a,l){let u;const h=l[a.index];if(Sr(h))u=h;else{let f;if(8&a.type)f=Gn(h);else{const m=l[11];f=m.createComment("");const v=ji(a,l);mh(m,av(m,v),f,function qL(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=u=Pg(h,l,f,a),Pv(l,u)}return new jp(u,a,l)}class YD{constructor(l){this.queryList=l,this.matches=null}clone(){return new YD(this.queryList)}setDirty(){this.queryList.setDirty()}}class KD{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,f=[];for(let m=0;m<h;m++){const v=u.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new KD(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==eR(l,u).matches&&this.queries[u].setDirty()}}class Yk{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class QD{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const f=null!==u?u.length:0,m=this.getByIndex(h).embeddedTView(l,f);m&&(m.indexInDeclarationView=h,null!==u?u.push(m):u=[m])}return null!==u?new QD(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class XD{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new XD(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const m=h[f];this.matchTNodeWithReadOption(l,u,iB(u,m)),this.matchTNodeWithReadOption(l,u,Bl(u,l,m,!1,!1))}else h===Up?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,Bl(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===op||f===pd||f===Up&&4&u.type)this.addMatch(u.index,-2);else{const m=Bl(u,l,f,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function iB(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function Qk(a,l,u,h){return-1===u?function Kk(a,l){return 11&a.type?Gc(a,l):4&a.type?Fh(a,l):null}(l,a):-2===u?function JD(a,l,u){return u===op?Gc(l,a):u===Up?Fh(l,a):u===pd?ZD(l,a):void 0}(a,l,h):ms(a,a[1],u,l)}function y_(a,l,u,h){const f=l[19].queries[h];if(null===f.matches){const m=a.data,v=u.matches,C=[];for(let D=0;D<v.length;D+=2){const A=v[D];C.push(A<0?null:Qk(l,m[A],v[D+1],u.metadata.read))}f.matches=C}return f.matches}function Gp(a,l,u,h){const f=a.queries.getByIndex(u),m=f.matches;if(null!==m){const v=y_(a,l,f,u);for(let C=0;C<m.length;C+=2){const D=m[C];if(D>0)h.push(v[C/2]);else{const A=m[C+1],R=l[-D];for(let B=10;B<R.length;B++){const Q=R[B];Q[17]===Q[3]&&Gp(Q[1],Q,A,h)}if(null!==R[9]){const B=R[9];for(let Q=0;Q<B.length;Q++){const ae=B[Q];Gp(ae[1],ae,A,h)}}}}}return h}function xb(a){const l=Oe(),u=Qt(),h=xl();xu(h+1);const f=eR(u,h);if(a.dirty&&Ec(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Gp(u,l,h,[]):y_(u,l,f,h);a.reset(m,VC),a.notifyOnChanges()}return!0}return!1}function eI(a,l,u){const h=Qt();h.firstCreatePass&&(nI(h,new Yk(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),Xk(h,Oe(),l)}function v_(a,l,u,h){const f=Qt();if(f.firstCreatePass){const m=mi();nI(f,new Yk(l,u,h),m.index),function Jk(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(f,a),2==(2&u)&&(f.staticContentQueries=!0)}Xk(f,Oe(),u)}function tI(){return function rB(a,l){return a[19].queries[l].queryList}(Oe(),xl())}function Xk(a,l,u){const h=new Bp(4==(4&u));ix(a,l,h,h.destroy),null===l[19]&&(l[19]=new KD),l[19].queries.push(new YD(h))}function nI(a,l,u){null===a.queries&&(a.queries=new QD),a.queries.track(new XD(l,u))}function eR(a,l){return a.queries.getByIndex(l)}function tR(a,l){return Fh(a,l)}function Hb(...a){}const fR=new Rn("Application Initializer");let jb=(()=>{class a{constructor(u){this.appInits=u,this.resolve=Hb,this.reject=Hb,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Hv(m))u.push(m);else if(jE(m)){const v=new Promise((C,D)=>{m.subscribe({complete:C,error:D})});u.push(v)}}Promise.all(u).then(()=>{h()}).catch(f=>{this.reject(f)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(ni(fR,8))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const pR=new Rn("AppId",{providedIn:"root",factory:function mR(){return`${pI()}${pI()}${pI()}`}});function pI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gR=new Rn("Platform Initializer"),Yp=new Rn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Gb=new Rn("appBootstrapListener"),gB=new Rn("AnimationModuleType");let _B=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const $b=new Rn("LocaleId",{providedIn:"root",factory:()=>S($b,rt.Optional|rt.SkipSelf)||function yB(){return typeof $localize<"u"&&$localize.locale||ud}()}),vB=new Rn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class _R{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let E_=(()=>{class a{compileModuleSync(u){return new yb(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),m=qc(bt(u).declarations).reduce((v,C)=>{const D=G(C);return D&&v.push(new Dp(D)),v},[]);return new _R(h,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Bh=(()=>Promise.resolve(0))();function gI(a){typeof Zone>"u"?Bh.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Qs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ca(!1),this.onMicrotaskEmpty=new ca(!1),this.onStable=new ca(!1),this.onError=new ca(!1),typeof Zone>"u")throw new Ie(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&u,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function _I(){let a=Ft.requestAnimationFrame,l=Ft.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function vI(a){const l=()=>{!function wR(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Ft,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Kp(a),a.isCheckStableRunning=!0,yI(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Kp(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,f,m,v,C)=>{try{return zb(a),u.invokeTask(f,m,v,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),bI(a)}},onInvoke:(u,h,f,m,v,C,D)=>{try{return zb(a),u.invoke(f,m,v,C,D)}finally{a.shouldCoalesceRunChangeDetection&&l(),bI(a)}},onHasTask:(u,h,f,m)=>{u.hasTask(f,m),h===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Kp(a),yI(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,h,f,m)=>(u.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qs.isInAngularZone())throw new Ie(909,!1)}static assertNotInAngularZone(){if(Qs.isInAngularZone())throw new Ie(909,!1)}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,bR,Hb,Hb);try{return m.runTask(v,u,h)}finally{m.cancelTask(v)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const bR={};function yI(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Kp(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function zb(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function bI(a){a._nesting--,yI(a)}class CR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ca,this.onMicrotaskEmpty=new ca,this.onStable=new ca,this.onError=new ca}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,f){return l.apply(u,h)}}const md=new Rn(""),ER=new Rn("");let CI,EB=(()=>{class a{constructor(u,h,f){this._ngZone=u,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,CI||(function DB(a){CI=a}(f),f.addToWindow(h)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qs.assertNotInAngularZone(),gI(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gI(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,f){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:f})}whenStable(u,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,h,f){return[]}}return a.\u0275fac=function(u){return new(u||a)(ni(Qs),ni(wI),ni(ER))},a.\u0275prov=nn({token:a,factory:a.\u0275fac}),a})(),wI=(()=>{class a{constructor(){this._applications=new Map}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return CI?.findTestabilityInTree(this,u,h)??null}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),oc=null;const EI=new Rn("AllowMultipleToken"),qb=new Rn("PlatformDestroyListeners");class DI{constructor(l,u){this.name=l,this.token=u}}function SR(a,l,u=[]){const h=`Platform: ${l}`,f=new Rn(h);return(m=[])=>{let v=Zb();if(!v||v.injector.get(EI,!1)){const C=[...u,...m,{provide:f,useValue:!0}];a?a(C):function gd(a){if(oc&&!oc.get(EI,!1))throw new Ie(400,!1);oc=a;const l=a.get(es);(function Wb(a){const l=a.get(gR,null);l&&l.forEach(u=>u())})(a)}(function TI(a=[],l){return gh.create({name:l,providers:[{provide:fh,useValue:"platform"},{provide:qb,useValue:new Set([()=>oc=null])},...a]})}(C,h))}return function SI(a){const l=Zb();if(!l)throw new Ie(401,!1);return l}()}}function Zb(){return oc?.get(es)??null}let es=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const f=function Yb(a,l){let u;return u="noop"===a?new CR:("zone.js"===a?void 0:a)||new Qs(l),u}(h?.ngZone,function AI(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(h)),m=[{provide:Qs,useValue:f}];return f.run(()=>{const v=gh.create({providers:m,parent:this.injector,name:u.moduleType.name}),C=u.create(v),D=C.injector.get(zl,null);if(!D)throw new Ie(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:R=>{D.handleError(R)}});C.onDestroy(()=>{I_(this._modules,C),A.unsubscribe()})}),function Kb(a,l,u){try{const h=u();return Hv(h)?h.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(D,f,()=>{const A=C.injector.get(jb);return A.runInitializers(),A.donePromise.then(()=>(function gD(a){Zt(a,"Expected localeId to be defined"),"string"==typeof a&&(mD=a.toLowerCase().replace(/_/g,"-"))}(C.injector.get($b,ud)||ud),this._moduleDoBootstrap(C),C))})})}bootstrapModule(u,h=[]){const f=Qb({},h);return function Qp(a,l,u){const h=new yb(u);return Promise.resolve(h)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(u){const h=u.injector.get(D_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!u.instance.ngDoBootstrap)throw new Ie(403,!1);u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ie(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const u=this._injector.get(qb,null);u&&(u.forEach(h=>h()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(ni(gh))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function Qb(a,l){return Array.isArray(l)?l.reduce(Qb,a):{...a,...l}}let D_=(()=>{class a{constructor(u,h,f){this._zone=u,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new P.y(C=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{C.next(this._stable),C.complete()})}),v=new P.y(C=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{Qs.assertNotInAngularZone(),gI(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,C.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{Qs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{C.next(!1)}))});return()=>{D.unsubscribe(),A.unsubscribe()}});this.isStable=(0,ce.T)(m,v.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,h){const f=u instanceof NC;if(!this._injector.get(jb).done)throw!f&&Ye(u),new Ie(405,false);let v;v=f?u:this._injector.get(rp).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const C=function IR(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Ph),A=v.create(gh.NULL,[],h||v.selector,C),R=A.location.nativeElement,B=A.injector.get(md,null);return B?.registerApplication(R),A.onDestroy(()=>{this.detachView(A.hostView),I_(this.components,A),B?.unregisterApplication(R)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ie(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;I_(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Gb,[]).concat(this._bootstrapListeners).forEach(f=>f(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>I_(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Ie(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(u){return new(u||a)(ni(Qs),ni(jc),ni(zl))},a.\u0275prov=nn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function I_(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let MI=!0,xI=!1;function kI(){return xI=!0,MI}function S_(){if(xI)throw new Error("Cannot enable prod mode after platform setup.");MI=!1}let TR=(()=>{class a{}return a.__NG_ELEMENT_ID__=AR,a})();function AR(a){return function MR(a,l,u){if(Ca(a)&&!u){const h=dn(a.index,l);return new Eh(h,h)}return 47&a.type?new Eh(l[16],l):null}(mi(),Oe(),16==(16&a))}class RR{constructor(){}supports(l){return id(l)}create(l){return new OR(l)}}const ew=(a,l)=>l;class OR{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ew}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,f=0,m=null;for(;u||h;){const v=!h||u&&u.currentIndex<jI(h,f,m)?u:h,C=jI(v,f,m),D=v.currentIndex;if(v===h)f--,h=h._nextRemoved;else if(u=u._next,null==v.previousIndex)f++;else{m||(m=[]);const A=C-f,R=D-f;if(A!=R){for(let Q=0;Q<A;Q++){const ae=Q<m.length?m[Q]:m[Q]=0,Te=ae+Q;R<=Te&&Te<A&&(m[Q]=ae+1)}m[v.previousIndex]=R-A}}C!==D&&l(v,C,D)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!id(l))throw new Ie(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)m=l[C],v=this._trackByFn(C,m),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,m,v,C)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,C),h=!0),u=u._next}else f=0,function Ix(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[Ni()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{v=this._trackByFn(f,C),null!==u&&Object.is(u.trackById,v)?(h&&(u=this._verifyReinsertion(u,C,v,f)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,v,f),h=!0),u=u._next,f++}),this.length=f;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,m,f)):l=this._addAfter(new k_(u,h),m,f),l}_verifyReinsertion(l,u,h,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const f=null===u?this._itHead:u._next;return l._next=f,l._prev=u,null===f?this._itTail=l:f._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new HI),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HI),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class k_{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class UI{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class HI{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new UI,this.map.set(u,h)),h.add(l)}get(l,u){const f=this.map.get(l);return f?f.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jI(a,l,u){const h=a.previousIndex;if(null===h)return h;let f=0;return u&&h<u.length&&(f=u[h]),h+l+f}class Uh{constructor(){}supports(l){return l instanceof Map||oa(l)}create(){return new PR}}class PR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||oa(l)))throw new Ie(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,f)=>{if(u&&u.key===f)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(f,h);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,u);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const h=new GI(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class GI{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $I(){return new tw([new RR])}let tw=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||$I()),deps:[[a,new kt,new We]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(null!=h)return h;throw new Ie(901,!1)}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:$I}),a})();function nw(){return new iw([new Uh])}let iw=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const f=h.factories.slice();u=u.concat(f)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||nw()),deps:[[a,new kt,new We]]}}find(u){const h=this.factories.find(f=>f.supports(u));if(h)return h;throw new Ie(901,!1)}}return a.\u0275prov=nn({token:a,providedIn:"root",factory:nw}),a})();const xB=SR(null,"core",[]);let kB=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(ni(D_))},a.\u0275mod=Dt({type:a}),a.\u0275inj=Gt({}),a})();function RB(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(ht,xe,V)=>{V.d(xe,{Z:()=>Ie});var o=V(2090),H=V(4859),P=V(9681),ce=V(1877);class de{constructor(De,_e){this._delegate=De,this.firebase=_e,(0,P._addComponent)(De,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(De,_e=P._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const it=this._delegate.container.getProvider(De);return!it.isInitialized()&&"EXPLICIT"===(null===(nt=it.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&it.initialize(),it.getImmediate({identifier:_e})}_removeServiceInstance(De,_e=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(_e)}_addComponent(De){(0,P._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,P._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function Ce(){const lt=function me(lt){const De={},_e={__esModule:!0,initializeApp:function Ne(le,he={}){const we=P.initializeApp(le,he);if((0,o.r3)(De,we.name))return De[we.name];const J=new lt(we,_e);return De[we.name]=J,J},app:it,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function Se(le){const he=le.name,we=he.replace("-compat","");if(P._registerComponent(le)&&"PUBLIC"===le.type){const J=(ne=it())=>{if("function"!=typeof ne[we])throw oe.create("invalid-app-argument",{appName:he});return ne[we]()};void 0!==le.serviceProps&&(0,o.ZB)(J,le.serviceProps),_e[we]=J,lt.prototype[we]=function(...ne){return this._getService.bind(this,he).apply(this,le.multipleInstances?ne:[])}}return"PUBLIC"===le.type?_e[we]:null},removeApp:function nt(le){delete De[le]},useAsService:function Ze(le,he){return"serverAuth"===he?null:he},modularAPIs:P}};function it(le){if(!(0,o.r3)(De,le=le||P._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:le});return De[le]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Re(){return Object.keys(De).map(le=>De[le])}}),it.App=lt,_e}(de);return lt.INTERNAL=Object.assign(Object.assign({},lt.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function De(_e){(0,o.ZB)(lt,_e)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),lt}(),Z=new ce.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const lt=self.firebase.SDK_VERSION;lt&&lt.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=W;!function Fe(lt){(0,P.registerVersion)("@firebase/app-compat","0.1.33",lt)}()},9681:(ht,xe,V)=>{V.r(xe),V.d(xe,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>us,_DEFAULT_ENTRY_NAME:()=>Zt,_addComponent:()=>cn,_addOrOverwriteComponent:()=>nn,_apps:()=>Dn,_clearComponents:()=>Vo,_components:()=>Yn,_getProvider:()=>Gt,_registerComponent:()=>Yt,_removeServiceInstance:()=>Vi,deleteApp:()=>ds,getApp:()=>Kn,getApps:()=>$r,initializeApp:()=>pr,onLog:()=>Qn,registerVersion:()=>xi,setLogLevel:()=>bn});var o=V(5861),H=V(4859),P=V(1877),ce=V(2090),de=V(8766);class ye{constructor(Y){this.container=Y}getPlatformInfoString(){return this.container.getProviders().map(K=>{if(function oe(j){return"VERSION"===j.getComponent()?.type}(K)){const Ae=K.getImmediate();return`${Ae.library}/${Ae.version}`}return null}).filter(K=>K).join(" ")}}const me="@firebase/app",W=new P.Yd("@firebase/app"),Zt="[DEFAULT]",Ke={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Dn=new Map,Yn=new Map;function cn(j,Y){try{j.container.addComponent(Y)}catch(K){W.debug(`Component ${Y.name} failed to register with FirebaseApp ${j.name}`,K)}}function nn(j,Y){j.container.addOrOverwriteComponent(Y)}function Yt(j){const Y=j.name;if(Yn.has(Y))return W.debug(`There were multiple attempts to register component ${Y}.`),!1;Yn.set(Y,j);for(const K of Dn.values())cn(K,j);return!0}function Gt(j,Y){const K=j.container.getProvider("heartbeat").getImmediate({optional:!0});return K&&K.triggerHeartbeat(),j.container.getProvider(Y)}function Vi(j,Y,K=Zt){Gt(j,Y).clearInstance(K)}function Vo(){Yn.clear()}const Ln=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class xs{constructor(Y,K,Ae){this._isDeleted=!1,this._options=Object.assign({},Y),this._config=Object.assign({},K),this._name=K.name,this._automaticDataCollectionEnabled=K.automaticDataCollectionEnabled,this._container=Ae,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Y){this.checkDestroyed(),this._automaticDataCollectionEnabled=Y}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Y){this._isDeleted=Y}checkDestroyed(){if(this.isDeleted)throw Ln.create("app-deleted",{appName:this._name})}}const us="9.9.4";function pr(j,Y={}){"object"!=typeof Y&&(Y={name:Y});const K=Object.assign({name:Zt,automaticDataCollectionEnabled:!1},Y),Ae=K.name;if("string"!=typeof Ae||!Ae)throw Ln.create("bad-app-name",{appName:String(Ae)});const qe=Dn.get(Ae);if(qe){if((0,ce.vZ)(j,qe.options)&&(0,ce.vZ)(K,qe.config))return qe;throw Ln.create("duplicate-app",{appName:Ae})}const Dt=new H.H0(Ae);for(const mn of Yn.values())Dt.addComponent(mn);const gn=new xs(j,K,Dt);return Dn.set(Ae,gn),gn}function Kn(j=Zt){const Y=Dn.get(j);if(!Y)throw Ln.create("no-app",{appName:j});return Y}function $r(){return Array.from(Dn.values())}function ds(j){return rt.apply(this,arguments)}function rt(){return(rt=(0,o.Z)(function*(j){const Y=j.name;Dn.has(Y)&&(Dn.delete(Y),yield Promise.all(j.container.getProviders().map(K=>K.delete())),j.isDeleted=!0)})).apply(this,arguments)}function xi(j,Y,K){var Ae;let qe=null!==(Ae=Ke[j])&&void 0!==Ae?Ae:j;K&&(qe+=`-${K}`);const Dt=qe.match(/\s|\//),gn=Y.match(/\s|\//);if(Dt||gn){const mn=[`Unable to register library "${qe}" with version "${Y}":`];return Dt&&mn.push(`library name "${qe}" contains illegal characters (whitespace or "/")`),Dt&&gn&&mn.push("and"),gn&&mn.push(`version name "${Y}" contains illegal characters (whitespace or "/")`),void W.warn(mn.join(" "))}Yt(new H.wA(`${qe}-version`,()=>({library:qe,version:Y}),"VERSION"))}function Qn(j,Y){if(null!==j&&"function"!=typeof j)throw Ln.create("invalid-log-argument");(0,P.Am)(j,Y)}function bn(j){(0,P.Ub)(j)}const xn="firebase-heartbeat-store";let kn=null;function In(){return kn||(kn=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(j,Y)=>{0===Y&&j.createObjectStore(xn)}}).catch(j=>{throw Ln.create("idb-open",{originalErrorMessage:j.message})})),kn}function gt(){return(gt=(0,o.Z)(function*(j){var Y;try{return(yield In()).transaction(xn).objectStore(xn).get(Ri(j))}catch(K){if(K instanceof ce.ZR)W.warn(K.message);else{const Ae=Ln.create("idb-get",{originalErrorMessage:null===(Y=K)||void 0===Y?void 0:Y.message});W.warn(Ae.message)}}})).apply(this,arguments)}function Ft(j,Y){return or.apply(this,arguments)}function or(){return(or=(0,o.Z)(function*(j,Y){var K;try{const qe=(yield In()).transaction(xn,"readwrite");return yield qe.objectStore(xn).put(Y,Ri(j)),qe.done}catch(Ae){if(Ae instanceof ce.ZR)W.warn(Ae.message);else{const qe=Ln.create("idb-set",{originalErrorMessage:null===(K=Ae)||void 0===K?void 0:K.message});W.warn(qe.message)}}})).apply(this,arguments)}function Ri(j){return`${j.name}!${j.options.appId}`}class Ki{constructor(Y){this.container=Y,this._heartbeatsCache=null;const K=this.container.getProvider("app").getImmediate();this._storage=new Kt(K),this._heartbeatsCachePromise=this._storage.read().then(Ae=>(this._heartbeatsCache=Ae,Ae))}triggerHeartbeat(){var Y=this;return(0,o.Z)(function*(){const Ae=Y.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),qe=Vt();if(null===Y._heartbeatsCache&&(Y._heartbeatsCache=yield Y._heartbeatsCachePromise),Y._heartbeatsCache.lastSentHeartbeatDate!==qe&&!Y._heartbeatsCache.heartbeats.some(Dt=>Dt.date===qe))return Y._heartbeatsCache.heartbeats.push({date:qe,agent:Ae}),Y._heartbeatsCache.heartbeats=Y._heartbeatsCache.heartbeats.filter(Dt=>{const gn=new Date(Dt.date).valueOf();return Date.now()-gn<=2592e6}),Y._storage.overwrite(Y._heartbeatsCache)})()}getHeartbeatsHeader(){var Y=this;return(0,o.Z)(function*(){if(null===Y._heartbeatsCache&&(yield Y._heartbeatsCachePromise),null===Y._heartbeatsCache||0===Y._heartbeatsCache.heartbeats.length)return"";const K=Vt(),{heartbeatsToSend:Ae,unsentEntries:qe}=function mr(j,Y=1024){const K=[];let Ae=j.slice();for(const qe of j){const Dt=K.find(gn=>gn.agent===qe.agent);if(Dt){if(Dt.dates.push(qe.date),X(K)>Y){Dt.dates.pop();break}}else if(K.push({agent:qe.agent,dates:[qe.date]}),X(K)>Y){K.pop();break}Ae=Ae.slice(1)}return{heartbeatsToSend:K,unsentEntries:Ae}}(Y._heartbeatsCache.heartbeats),Dt=(0,ce.L)(JSON.stringify({version:2,heartbeats:Ae}));return Y._heartbeatsCache.lastSentHeartbeatDate=K,qe.length>0?(Y._heartbeatsCache.heartbeats=qe,yield Y._storage.overwrite(Y._heartbeatsCache)):(Y._heartbeatsCache.heartbeats=[],Y._storage.overwrite(Y._heartbeatsCache)),Dt})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(Y){this.app=Y,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Y=this;return(0,o.Z)(function*(){return(yield Y._canUseIndexedDBPromise)&&(yield function mt(j){return gt.apply(this,arguments)}(Y.app))||{heartbeats:[]}})()}overwrite(Y){var K=this;return(0,o.Z)(function*(){var Ae;if(yield K._canUseIndexedDBPromise){const Dt=yield K.read();return Ft(K.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Dt.lastSentHeartbeatDate,heartbeats:Y.heartbeats})}})()}add(Y){var K=this;return(0,o.Z)(function*(){var Ae;if(yield K._canUseIndexedDBPromise){const Dt=yield K.read();return Ft(K.app,{lastSentHeartbeatDate:null!==(Ae=Y.lastSentHeartbeatDate)&&void 0!==Ae?Ae:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...Y.heartbeats]})}})()}}function X(j){return(0,ce.L)(JSON.stringify({version:2,heartbeats:j})).length}!function $(j){Yt(new H.wA("platform-logger",Y=>new ye(Y),"PRIVATE")),Yt(new H.wA("heartbeat",Y=>new Ki(Y),"PRIVATE")),xi(me,"0.7.32",j),xi(me,"0.7.32","esm2017"),xi("fire-js","")}("")},4859:(ht,xe,V)=>{V.d(xe,{H0:()=>me,wA:()=>P,zt:()=>de});var o=V(5861),H=V(2090);class P{constructor(W,Z,te){this.name=W,this.instanceFactory=Z,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ce="[DEFAULT]";class de{constructor(W,Z){this.name=W,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const Z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(Z)){const te=new H.BH;if(this.instancesDeferred.set(Z,te),this.isInitialized(Z)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:Z});$e&&te.resolve($e)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(W){var Z;const te=this.normalizeInstanceIdentifier(W?.identifier),$e=null!==(Z=W?.optional)&&void 0!==Z&&Z;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Fe){if($e)return null;throw Fe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function oe(Ce){return"EAGER"===Ce.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[Z,te]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(Z);try{const Fe=this.getOrInitializeService({instanceIdentifier:$e});te.resolve(Fe)}catch{}}}}clearInstance(W=ce){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,o.Z)(function*(){const Z=Array.from(W.instances.values());yield Promise.all([...Z.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...Z.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ce){return this.instances.has(W)}getOptions(W=ce){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:Z={}}=W,te=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:te,options:Z});for(const[Fe,Ie]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Fe)&&Ie.resolve($e);return $e}onInit(W,Z){var te;const $e=this.normalizeInstanceIdentifier(Z),Fe=null!==(te=this.onInitCallbacks.get($e))&&void 0!==te?te:new Set;Fe.add(W),this.onInitCallbacks.set($e,Fe);const Ie=this.instances.get($e);return Ie&&W(Ie,$e),()=>{Fe.delete(W)}}invokeOnInitCallbacks(W,Z){const te=this.onInitCallbacks.get(Z);if(te)for(const $e of te)try{$e(W,Z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:Z={}}){let te=this.instances.get(W);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=W,Ce===ce?void 0:Ce),options:Z}),this.instances.set(W,te),this.instancesOptions.set(W,Z),this.invokeOnInitCallbacks(te,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,te)}catch{}var Ce;return te||null}normalizeInstanceIdentifier(W=ce){return this.component?this.component.multipleInstances?W:ce:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const Z=this.getProvider(W.name);if(Z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);Z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const Z=new de(W,this);return this.providers.set(W,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(ht,xe,V)=>{V.d(xe,{Am:()=>Ce,Ub:()=>me,Yd:()=>oe,in:()=>H});const o=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},ce=H.INFO,de={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},ye=(W,Z,...te)=>{if(Z<W.logLevel)return;const $e=(new Date).toISOString(),Fe=de[Z];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Fe](`[${$e}]  ${W.name}:`,...te)};class oe{constructor(Z){this.name=Z,this._logLevel=ce,this._logHandler=ye,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in H))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?P[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Z),this._logHandler(this,H.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Z),this._logHandler(this,H.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Z),this._logHandler(this,H.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Z),this._logHandler(this,H.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Z),this._logHandler(this,H.ERROR,...Z)}}function me(W){o.forEach(Z=>{Z.setLogLevel(W)})}function Ce(W,Z){for(const te of o){let $e=null;Z&&Z.level&&($e=P[Z.level]),te.userLogHandler=null===W?null:(Fe,Ie,...lt)=>{const De=lt.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");Ie>=($e??Fe.logLevel)&&W({level:H[Ie].toLowerCase(),message:De,args:lt,type:Fe.name})}}}},8766:(ht,xe,V)=>{V.d(xe,{Lj:()=>Ne,X3:()=>it});var o=V(5861);let P,ce;const oe=new WeakMap,me=new WeakMap,Ce=new WeakMap,W=new WeakMap,Z=new WeakMap;let Fe={get(he,we,J){if(he instanceof IDBTransaction){if("done"===we)return me.get(he);if("objectStoreNames"===we)return he.objectStoreNames||Ce.get(he);if("store"===we)return J.objectStoreNames[1]?void 0:J.objectStore(J.objectStoreNames[0])}return _e(he[we])},set:(he,we,J)=>(he[we]=J,!0),has:(he,we)=>he instanceof IDBTransaction&&("done"===we||"store"===we)||we in he};function De(he){return"function"==typeof he?function lt(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ye(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...we){return he.apply(nt(this),we),_e(oe.get(this))}:function(...we){return _e(he.apply(nt(this),we))}:function(we,...J){const ne=he.call(nt(this),we,...J);return Ce.set(ne,we.sort?we.sort():[we]),_e(ne)}}(he):(he instanceof IDBTransaction&&function $e(he){if(me.has(he))return;const we=new Promise((J,ne)=>{const ge=()=>{he.removeEventListener("complete",ue),he.removeEventListener("error",Ue),he.removeEventListener("abort",Ue)},ue=()=>{J(),ge()},Ue=()=>{ne(he.error||new DOMException("AbortError","AbortError")),ge()};he.addEventListener("complete",ue),he.addEventListener("error",Ue),he.addEventListener("abort",Ue)});me.set(he,we)}(he),((he,we)=>we.some(J=>he instanceof J))(he,function de(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,Fe):he)}function _e(he){if(he instanceof IDBRequest)return function te(he){const we=new Promise((J,ne)=>{const ge=()=>{he.removeEventListener("success",ue),he.removeEventListener("error",Ue)},ue=()=>{J(_e(he.result)),ge()},Ue=()=>{ne(he.error),ge()};he.addEventListener("success",ue),he.addEventListener("error",Ue)});return we.then(J=>{J instanceof IDBCursor&&oe.set(J,he)}).catch(()=>{}),Z.set(we,he),we}(he);if(W.has(he))return W.get(he);const we=De(he);return we!==he&&(W.set(he,we),Z.set(we,he)),we}const nt=he=>Z.get(he);function it(he,we,{blocked:J,upgrade:ne,blocking:ge,terminated:ue}={}){const Ue=indexedDB.open(he,we),He=_e(Ue);return ne&&Ue.addEventListener("upgradeneeded",vt=>{ne(_e(Ue.result),vt.oldVersion,vt.newVersion,_e(Ue.transaction))}),J&&Ue.addEventListener("blocked",()=>J()),He.then(vt=>{ue&&vt.addEventListener("close",()=>ue()),ge&&vt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),He}function Ne(he,{blocked:we}={}){const J=indexedDB.deleteDatabase(he);return we&&J.addEventListener("blocked",()=>we()),_e(J).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],Se=["put","add","delete","clear"],Ze=new Map;function le(he,we){if(!(he instanceof IDBDatabase)||we in he||"string"!=typeof we)return;if(Ze.get(we))return Ze.get(we);const J=we.replace(/FromIndex$/,""),ne=we!==J,ge=Se.includes(J);if(!(J in(ne?IDBIndex:IDBObjectStore).prototype)||!ge&&!Re.includes(J))return;const ue=function(){var Ue=(0,o.Z)(function*(He,...vt){const tn=this.transaction(He,ge?"readwrite":"readonly");let Zt=tn.store;return ne&&(Zt=Zt.index(vt.shift())),(yield Promise.all([Zt[J](...vt),ge&&tn.done]))[0]});return function(vt){return Ue.apply(this,arguments)}}();return Ze.set(we,ue),ue}!function Ie(he){Fe=he(Fe)}(he=>({...he,get:(we,J,ne)=>le(we,J)||he.get(we,J,ne),has:(we,J)=>!!le(we,J)||he.has(we,J)}))},5861:(ht,xe,V)=>{function o(P,ce,de,ye,oe,me,Ce){try{var W=P[me](Ce),Z=W.value}catch(te){return void de(te)}W.done?ce(Z):Promise.resolve(Z).then(ye,oe)}function H(P){return function(){var ce=this,de=arguments;return new Promise(function(ye,oe){var me=P.apply(ce,de);function Ce(Z){o(me,ye,oe,Ce,W,"next",Z)}function W(Z){o(me,ye,oe,Ce,W,"throw",Z)}Ce(void 0)})}}V.d(xe,{Z:()=>H})}},ht=>{ht(ht.s=9)}]);