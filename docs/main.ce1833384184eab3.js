"use strict";(self.webpackChunkcurriculo_facil=self.webpackChunkcurriculo_facil||[]).push([[179],{2011:(yt,Pe,V)=>{V.d(Pe,{Dh:()=>pe,GT:()=>we,cc:()=>Ne,hO:()=>Ye,on:()=>q,pX:()=>fe,xv:()=>De});var o=V(4650),H=V(127),F=V(5813);yt=V.hmd(yt);const de=["ngOnDestroy"],fe=(Te,Xe,Qe,Ue={})=>new Proxy(Te,{get:(ke,Ae)=>Qe.runOutsideAngular(()=>{var Je;if(Te[Ae])return(null===(Je=null==Ue?void 0:Ue.spy)||void 0===Je?void 0:Je.get)&&Ue.spy.get(Ae,Te[Ae]),Te[Ae];if(de.indexOf(Ae)>-1)return()=>{};const ae=Xe.toPromise().then(ye=>{const Se=ye&&ye[Ae];return"function"==typeof Se?Se.bind(ye):Se&&Se.then?Se.then(ee=>Qe.run(()=>ee)):Qe.run(()=>Se)});return new Proxy(()=>{},{get:(ye,Se)=>ae[Se],apply:(ye,Se,ee)=>ae.then(le=>{var ue;const Ee=le&&le(...ee);return(null===(ue=null==Ue?void 0:Ue.spy)||void 0===ue?void 0:ue.apply)&&Ue.spy.apply(Ae,ee,Ee),Ee})})})}),we=(Te,Xe)=>{Xe.forEach(Qe=>{Object.getOwnPropertyNames(Qe.prototype||Qe).forEach(Ue=>{Object.defineProperty(Te.prototype,Ue,Object.getOwnPropertyDescriptor(Qe.prototype||Qe,Ue))})})};class se{constructor(Xe){return Xe}}const pe=new o.OlP("angularfire2.app.options"),De=new o.OlP("angularfire2.app.name");function q(Te,Xe,Qe){const ke="object"==typeof Qe&&Qe||{};ke.name=ke.name||"string"==typeof Qe&&Qe||"[DEFAULT]";const Je=H.Z.apps.filter(ae=>ae&&ae.name===ke.name)[0]||Xe.runOutsideAngular(()=>H.Z.initializeApp(Te,ke));try{JSON.stringify(Te)!==JSON.stringify(Je.options)&&Z("error",`${Je.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(Je)}const Z=(Te,...Xe)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Te](...Xe)},ce={provide:se,useFactory:q,deps:[pe,o.R0b,[new o.FiY,De]]};let Ye=(()=>{class Te{constructor(Qe){H.Z.registerVersion("angularfire",F.q4.full,"core"),H.Z.registerVersion("angularfire",F.q4.full,"app-compat"),H.Z.registerVersion("angular",o.q4F.full,Qe.toString())}static initializeApp(Qe,Ue){return{ngModule:Te,providers:[{provide:pe,useValue:Qe},{provide:De,useValue:Ue}]}}}return Te.\u0275fac=function(Qe){return new(Qe||Te)(o.LFG(o.Lbi))},Te.\u0275mod=o.oAB({type:Te}),Te.\u0275inj=o.cJS({providers:[ce]}),Te})();function Ne(Te,Xe,Qe,Ue,ke){const[,Ae,Je]=globalThis.\u0275AngularfireInstanceCache.find(ae=>ae[0]===Te)||[];if(Ae)return function He(Te,Xe){try{return Te.toString()===Xe.toString()}catch{return Te===Xe}}(ke,Je)||(ve("error",`${Xe} was already initialized on the ${Qe} Firebase App with different settings.${We?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:ke,was:Je})),Ae;{const ae=Ue();return globalThis.\u0275AngularfireInstanceCache.push([Te,ae,ke]),ae}}const We=!!yt.hot,ve=(Te,...Xe)=>{(0,o.X6Q)()&&typeof console<"u"&&console[Te](...Xe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(yt,Pe,V)=>{V.d(Pe,{q4:()=>Qy,iC:()=>Kc,fc:()=>Qu,HU:()=>Yc,vb:()=>ec,JM:()=>dl});var o=V(4650),H=V(5867),F=V(5861),de=V(9681),fe=V(2090),we=V(4859),se=V(1877),pe=V(8766);const De="@firebase/installations",q="0.5.12",ce=`w:${q}`,Ye="FIS_v2",Xe=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Qe(S){return S instanceof fe.ZR&&S.code.includes("request-failed")}function Ue({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function ke(S){return{token:S.token,requestStatus:2,expiresIn:le(S.expiresIn),creationTime:Date.now()}}function Ae(S,T){return Je.apply(this,arguments)}function Je(){return(Je=(0,F.Z)(function*(S,T){const $=(yield T.json()).error;return Xe.create("request-failed",{requestName:S,serverCode:$.code,serverMessage:$.message,serverStatus:$.status})})).apply(this,arguments)}function ae({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function ye(S,{refreshToken:T}){const R=ae(S);return R.append("Authorization",function ue(S){return`${Ye} ${S}`}(T)),R}function Se(S){return ee.apply(this,arguments)}function ee(){return(ee=(0,F.Z)(function*(S){const T=yield S();return T.status>=500&&T.status<600?S():T})).apply(this,arguments)}function le(S){return Number(S.replace("s","000"))}function Ee(S,T){return me.apply(this,arguments)}function me(){return(me=(0,F.Z)(function*({appConfig:S,heartbeatServiceProvider:T},{fid:R}){const $=Ue(S),te=ae(S),he=T.getImmediate({optional:!0});if(he){const Rt=yield he.getHeartbeatsHeader();Rt&&te.append("x-firebase-client",Rt)}const nt={method:"POST",headers:te,body:JSON.stringify({fid:R,authVersion:Ye,appId:S.appId,sdkVersion:ce})},Et=yield Se(()=>fetch($,nt));if(Et.ok){const Rt=yield Et.json();return{fid:Rt.fid||R,registrationStatus:2,refreshToken:Rt.refreshToken,authToken:ke(Rt.authToken)}}throw yield Ae("Create Installation",Et)})).apply(this,arguments)}function je(S){return new Promise(T=>{setTimeout(T,S)})}const rn=/^[cdef][\w-]{21}$/;function et(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const R=function En(S){return function Ct(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return rn.test(R)?R:""}catch{return""}}function ti(S){return`${S.appName}!${S.appId}`}const Dn=new Map;function dn(S,T){const R=ti(S);Bn(R,T),function as(S,T){const R=function Zn(){return!or&&"BroadcastChannel"in self&&(or=new BroadcastChannel("[Firebase] FID Change"),or.onmessage=S=>{Bn(S.data.key,S.data.fid)}),or}();R&&R.postMessage({key:S,fid:T}),function Ks(){0===Dn.size&&or&&(or.close(),or=null)}()}(R,T)}function Bn(S,T){const R=Dn.get(S);if(R)for(const $ of R)$(T)}let or=null;const ni="firebase-installations-store";let Ss=null;function It(){return Ss||(Ss=(0,pe.X3)("firebase-installations-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(ni)}})),Ss}function ar(S,T){return Un.apply(this,arguments)}function Un(){return(Un=(0,F.Z)(function*(S,T){const R=ti(S),te=(yield It()).transaction(ni,"readwrite"),he=te.objectStore(ni),Fe=yield he.get(R);return yield he.put(T,R),yield te.done,(!Fe||Fe.fid!==T.fid)&&dn(S,T.fid),T})).apply(this,arguments)}function vn(S){return wi.apply(this,arguments)}function wi(){return(wi=(0,F.Z)(function*(S){const T=ti(S),$=(yield It()).transaction(ni,"readwrite");yield $.objectStore(ni).delete(T),yield $.done})).apply(this,arguments)}function lr(S,T){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,F.Z)(function*(S,T){const R=ti(S),te=(yield It()).transaction(ni,"readwrite"),he=te.objectStore(ni),Fe=yield he.get(R),nt=T(Fe);return void 0===nt?yield he.delete(R):yield he.put(nt,R),yield te.done,nt&&(!Fe||Fe.fid!==nt.fid)&&dn(S,nt.fid),nt})).apply(this,arguments)}function $n(S){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,F.Z)(function*(S){let T;const R=yield lr(S.appConfig,$=>{const te=Qs($),he=Zt(S,te);return T=he.registrationPromise,he.installationEntry});return""===R.fid?{installationEntry:yield T}:{installationEntry:R,registrationPromise:T}})).apply(this,arguments)}function Qs(S){return cs(S||{fid:et(),registrationStatus:0})}function Zt(S,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(Xe.create("app-offline"))};const R={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},$=function vt(S,T){return dt.apply(this,arguments)}(S,R);return{installationEntry:R,registrationPromise:$}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:$r(S)}:{installationEntry:T}}function dt(){return(dt=(0,F.Z)(function*(S,T){try{const R=yield Ee(S,T);return ar(S.appConfig,R)}catch(R){throw Qe(R)&&409===R.customData.serverCode?yield vn(S.appConfig):yield ar(S.appConfig,{fid:T.fid,registrationStatus:0}),R}})).apply(this,arguments)}function $r(S){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,F.Z)(function*(S){let T=yield Wt(S.appConfig);for(;1===T.registrationStatus;)yield je(100),T=yield Wt(S.appConfig);if(0===T.registrationStatus){const{installationEntry:R,registrationPromise:$}=yield $n(S);return $||R}return T})).apply(this,arguments)}function Wt(S){return lr(S,T=>{if(!T)throw Xe.create("installation-not-found");return cs(T)})}function cs(S){return function ii(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function xn(S,T){return bt.apply(this,arguments)}function bt(){return(bt=(0,F.Z)(function*({appConfig:S,heartbeatServiceProvider:T},R){const $=wr(S,R),te=ye(S,R),he=T.getImmediate({optional:!0});if(he){const Rt=yield he.getHeartbeatsHeader();Rt&&te.append("x-firebase-client",Rt)}const nt={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:ce,appId:S.appId}})},Et=yield Se(()=>fetch($,nt));if(Et.ok)return ke(yield Et.json());throw yield Ae("Generate Auth Token",Et)})).apply(this,arguments)}function wr(S,{fid:T}){return`${Ue(S)}/${T}/authTokens:generate`}function W(S){return G.apply(this,arguments)}function G(){return(G=(0,F.Z)(function*(S,T=!1){let R;const $=yield lr(S.appConfig,he=>{if(!Mt(he))throw Xe.create("not-registered");const Fe=he.authToken;if(!T&&hn(Fe))return he;if(1===Fe.requestStatus)return R=j(S,T),he;{if(!navigator.onLine)throw Xe.create("app-offline");const nt=Di(he);return R=Re(S,nt),nt}});return R?yield R:$.authToken})).apply(this,arguments)}function j(S,T){return z.apply(this,arguments)}function z(){return(z=(0,F.Z)(function*(S,T){let R=yield Y(S.appConfig);for(;1===R.authToken.requestStatus;)yield je(100),R=yield Y(S.appConfig);const $=R.authToken;return 0===$.requestStatus?W(S,T):$})).apply(this,arguments)}function Y(S){return lr(S,T=>{if(!Mt(T))throw Xe.create("not-registered");return function ne(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function Re(S,T){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,F.Z)(function*(S,T){try{const R=yield xn(S,T),$=Object.assign(Object.assign({},T),{authToken:R});return yield ar(S.appConfig,$),R}catch(R){if(!Qe(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const $=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield ar(S.appConfig,$)}else yield vn(S.appConfig);throw R}})).apply(this,arguments)}function Mt(S){return void 0!==S&&2===S.registrationStatus}function hn(S){return 2===S.requestStatus&&!function an(S){const T=Date.now();return T<S.creationTime||S.creationTime+S.expiresIn<T+36e5}(S)}function Di(S){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:T})}function Q(){return(Q=(0,F.Z)(function*(S){const T=S,{installationEntry:R,registrationPromise:$}=yield $n(T);return $?$.catch(console.error):W(T).catch(console.error),R.fid})).apply(this,arguments)}function tt(){return(tt=(0,F.Z)(function*(S,T=!1){const R=S;return yield mt(R),(yield W(R,T)).token})).apply(this,arguments)}function mt(S){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,F.Z)(function*(S){const{registrationPromise:T}=yield $n(S);T&&(yield T)})).apply(this,arguments)}function Yn(S){return Xe.create("missing-app-config-values",{valueName:S})}const Lo="installations",za=S=>{const T=S.getProvider("app").getImmediate(),R=function No(S){if(!S||!S.options)throw Yn("App Configuration");if(!S.name)throw Yn("App Name");const T=["projectId","apiKey","appId"];for(const R of T)if(!S.options[R])throw Yn(R);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(T);return{app:T,appConfig:R,heartbeatServiceProvider:(0,de._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Vo=S=>{const T=S.getProvider("app").getImmediate(),R=(0,de._getProvider)(T,Lo).getImmediate();return{getId:()=>function X(S){return Q.apply(this,arguments)}(R),getToken:te=>function Me(S){return tt.apply(this,arguments)}(R,te)}};(function Bt(){(0,de._registerComponent)(new we.wA(Lo,za,"PUBLIC")),(0,de._registerComponent)(new we.wA("installations-internal",Vo,"PRIVATE"))})(),(0,de.registerVersion)(De,q),(0,de.registerVersion)(De,q,"esm2017");const qa="@firebase/remote-config",ai=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Gd{constructor(T,R,$,te){this.client=T,this.storage=R,this.storageCache=$,this.logger=te}isCachedDataFresh(T,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const $=Date.now()-R,te=$<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${$}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${te}.`),te}fetch(T){var R=this;return(0,F.Z)(function*(){const[$,te]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(te&&R.isCachedDataFresh(T.cacheMaxAgeMillis,$))return te;T.eTag=te&&te.eTag;const he=yield R.client.fetch(T),Fe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&Fe.push(R.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(Fe),he})()}}function xc(S=navigator){return S.languages&&S.languages[0]||S.language}class pi{constructor(T,R,$,te,he,Fe){this.firebaseInstallations=T,this.sdkVersion=R,this.namespace=$,this.projectId=te,this.apiKey=he,this.appId=Fe}fetch(T){var R=this;return(0,F.Z)(function*(){var $,te,he;const[Fe,nt]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),Rt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Ft={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ht={sdk_version:R.sdkVersion,app_instance_id:Fe,app_instance_id_token:nt,app_id:R.appId,language_code:xc()},si={method:"POST",headers:Ft,body:JSON.stringify(ht)},Ai=fetch(Rt,si),Sa=new Promise((po,ds)=>{T.signal.addEventListener(()=>{const mo=new Error("The operation was aborted.");mo.name="AbortError",ds(mo)})});let ea;try{yield Promise.race([Ai,Sa]),ea=yield Ai}catch(po){let ds="fetch-client-network";throw"AbortError"===(null===($=po)||void 0===$?void 0:$.name)&&(ds="fetch-timeout"),ai.create(ds,{originalErrorMessage:null===(te=po)||void 0===te?void 0:te.message})}let Ps=ea.status;const fl=ea.headers.get("ETag")||void 0;let fo,pl;if(200===ea.status){let po;try{po=yield ea.json()}catch(ds){throw ai.create("fetch-client-parse",{originalErrorMessage:null===(he=ds)||void 0===he?void 0:he.message})}fo=po.entries,pl=po.state}if("INSTANCE_STATE_UNSPECIFIED"===pl?Ps=500:"NO_CHANGE"===pl?Ps=304:("NO_TEMPLATE"===pl||"EMPTY_CONFIG"===pl)&&(fo={}),304!==Ps&&200!==Ps)throw ai.create("fetch-status",{httpStatus:Ps});return{status:Ps,eTag:fl,config:fo}})()}}class Xs{constructor(T,R){this.client=T,this.storage=R}fetch(T){var R=this;return(0,F.Z)(function*(){const $=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(T,$)})()}attemptFetch(T,{throttleEndTimeMillis:R,backoffCount:$}){var te=this;return(0,F.Z)(function*(){yield function zd(S,T){return new Promise((R,$)=>{const te=Math.max(T-Date.now(),0),he=setTimeout(R,te);S.addEventListener(()=>{clearTimeout(he),$(ai.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,R);try{const he=yield te.client.fetch(T);return yield te.storage.deleteThrottleMetadata(),he}catch(he){if(!function ug(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}(he))throw he;const Fe={throttleEndTimeMillis:Date.now()+(0,fe.$s)($),backoffCount:$+1};return yield te.storage.setThrottleMetadata(Fe),te.attemptFetch(T,Fe)}})()}}class hg{constructor(T,R,$,te,he){this.app=T,this._client=R,this._storageCache=$,this._storage=te,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Nl(S,T){var R;const $=S.target.error||void 0;return ai.create(T,{originalErrorMessage:$&&(null===(R=$)||void 0===R?void 0:R.message)})}const Ya="app_namespace_store";class Wd{constructor(T,R,$,te=function Zd(){return new Promise((S,T)=>{var R;try{const $=indexedDB.open("firebase_remote_config",1);$.onerror=te=>{T(Nl(te,"storage-open"))},$.onsuccess=te=>{S(te.target.result)},$.onupgradeneeded=te=>{0===te.oldVersion&&te.target.result.createObjectStore(Ya,{keyPath:"compositeKey"})}}catch($){T(ai.create("storage-open",{originalErrorMessage:null===(R=$)||void 0===R?void 0:R.message}))}})}()){this.appId=T,this.appName=R,this.namespace=$,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var R=this;return(0,F.Z)(function*(){const $=yield R.openDbPromise;return new Promise((te,he)=>{var Fe;const Et=$.transaction([Ya],"readonly").objectStore(Ya),Rt=R.createCompositeKey(T);try{const Ft=Et.get(Rt);Ft.onerror=ht=>{he(Nl(ht,"storage-get"))},Ft.onsuccess=ht=>{const si=ht.target.result;te(si?si.value:void 0)}}catch(Ft){he(ai.create("storage-get",{originalErrorMessage:null===(Fe=Ft)||void 0===Fe?void 0:Fe.message}))}})})()}set(T,R){var $=this;return(0,F.Z)(function*(){const te=yield $.openDbPromise;return new Promise((he,Fe)=>{var nt;const Rt=te.transaction([Ya],"readwrite").objectStore(Ya),Ft=$.createCompositeKey(T);try{const ht=Rt.put({compositeKey:Ft,value:R});ht.onerror=si=>{Fe(Nl(si,"storage-set"))},ht.onsuccess=()=>{he()}}catch(ht){Fe(ai.create("storage-set",{originalErrorMessage:null===(nt=ht)||void 0===nt?void 0:nt.message}))}})})()}delete(T){var R=this;return(0,F.Z)(function*(){const $=yield R.openDbPromise;return new Promise((te,he)=>{var Fe;const Et=$.transaction([Ya],"readwrite").objectStore(Ya),Rt=R.createCompositeKey(T);try{const Ft=Et.delete(Rt);Ft.onerror=ht=>{he(Nl(ht,"storage-delete"))},Ft.onsuccess=()=>{te()}}catch(Ft){he(ai.create("storage-delete",{originalErrorMessage:null===(Fe=Ft)||void 0===Fe?void 0:Fe.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class Ka{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,F.Z)(function*(){const R=T.storage.getLastFetchStatus(),$=T.storage.getLastSuccessfulFetchTimestampMillis(),te=T.storage.getActiveConfig(),he=yield R;he&&(T.lastFetchStatus=he);const Fe=yield $;Fe&&(T.lastSuccessfulFetchTimestampMillis=Fe);const nt=yield te;nt&&(T.activeConfig=nt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Ky(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,F.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function pg(){(0,de._registerComponent)(new we.wA("remote-config",function S(T,{instanceIdentifier:R}){const $=T.getProvider("app").getImmediate(),te=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw ai.create("registration-window");if(!(0,fe.hl)())throw ai.create("indexed-db-unavailable");const{projectId:he,apiKey:Fe,appId:nt}=$.options;if(!he)throw ai.create("registration-project-id");if(!Fe)throw ai.create("registration-api-key");if(!nt)throw ai.create("registration-app-id");const Et=new Wd(nt,$.name,R=R||"firebase"),Rt=new Ka(Et),Ft=new se.Yd(qa);Ft.logLevel=se.in.ERROR;const ht=new pi(te,de.SDK_VERSION,R,he,Fe,nt),si=new Xs(ht,Et),Ai=new Gd(si,Et,Rt,Ft),Sa=new hg($,Ai,Rt,Et,Ft);return function Js(S){const T=(0,fe.m9)(S);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Sa),Sa},"PUBLIC").setMultipleInstances(!0)),(0,de.registerVersion)(qa,"0.3.11"),(0,de.registerVersion)(qa,"0.3.11","esm2017")}();const $o="/firebase-messaging-sw.js",Gr="/firebase-cloud-messaging-push-scope",Qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bl="google.c.a.c_id",Zf="google.c.a.c_l",mg="google.c.a.ts",Qi="google.c.a.e";var to=(()=>{return(S=to||(to={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",to;var S})();function us(S){const T=new Uint8Array(S);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Kd(S){const R=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),$=atob(R),te=new Uint8Array($.length);for(let he=0;he<$.length;++he)te[he]=$.charCodeAt(he);return te}const Ji="fcm_token_details_db",Qd="fcm_token_object_Store";function Jd(S){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,F.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Ji))return null;let T=null;return(yield(0,pe.X3)(Ji,5,{upgrade:($=(0,F.Z)(function*(te,he,Fe,nt){var Et;if(he<2||!te.objectStoreNames.contains(Qd))return;const Rt=nt.objectStore(Qd),Ft=yield Rt.index("fcmSenderId").get(S);if(yield Rt.clear(),Ft)if(2===he){const ht=Ft;if(!ht.auth||!ht.p256dh||!ht.endpoint)return;T={token:ht.fcmToken,createTime:null!==(Et=ht.createTime)&&void 0!==Et?Et:Date.now(),subscriptionOptions:{auth:ht.auth,p256dh:ht.p256dh,endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:"string"==typeof ht.vapidKey?ht.vapidKey:us(ht.vapidKey)}}}else if(3===he){const ht=Ft;T={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:us(ht.auth),p256dh:us(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:us(ht.vapidKey)}}}else if(4===he){const ht=Ft;T={token:ht.fcmToken,createTime:ht.createTime,subscriptionOptions:{auth:us(ht.auth),p256dh:us(ht.p256dh),endpoint:ht.endpoint,swScope:ht.swScope,vapidKey:us(ht.vapidKey)}}}}),function(he,Fe,nt,Et){return $.apply(this,arguments)})})).close(),yield(0,pe.Lj)(Ji),yield(0,pe.Lj)("fcm_vapid_details_db"),yield(0,pe.Lj)("undefined"),kc(T)?T:null;var $}),Mc.apply(this,arguments)}function kc(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:T}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}const no="firebase-messaging-store";let Uu=null;function Mn(){return Uu||(Uu=(0,pe.X3)("firebase-messaging-database",1,{upgrade:(S,T)=>{0===T&&S.createObjectStore(no)}})),Uu}function Ul(S){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,F.Z)(function*(S){const T=Bi(S),$=yield(yield Mn()).transaction(no).objectStore(no).get(T);if($)return $;{const te=yield Jd(S.appConfig.senderId);if(te)return yield Sn(S,te),te}})).apply(this,arguments)}function Sn(S,T){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,F.Z)(function*(S,T){const R=Bi(S),te=(yield Mn()).transaction(no,"readwrite");return yield te.objectStore(no).put(T,R),yield te.done,T})).apply(this,arguments)}function $l(S){return ma.apply(this,arguments)}function ma(){return(ma=(0,F.Z)(function*(S){const T=Bi(S),$=(yield Mn()).transaction(no,"readwrite");yield $.objectStore(no).delete(T),yield $.done})).apply(this,arguments)}function Bi({appConfig:S}){return S.appId}const ri=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function io(S,T){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,F.Z)(function*(S,T){var R;const $=yield Go(S),te=ga(T),he={method:"POST",headers:$,body:JSON.stringify(te)};let Fe;try{Fe=yield(yield fetch(jo(S.appConfig),he)).json()}catch(nt){throw ri.create("token-subscribe-failed",{errorInfo:null===(R=nt)||void 0===R?void 0:R.toString()})}if(Fe.error)throw ri.create("token-subscribe-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ri.create("token-subscribe-no-token");return Fe.token})).apply(this,arguments)}function Ja(S,T){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,F.Z)(function*(S,T){var R;const $=yield Go(S),te=ga(T.subscriptionOptions),he={method:"PATCH",headers:$,body:JSON.stringify(te)};let Fe;try{Fe=yield(yield fetch(`${jo(S.appConfig)}/${T.token}`,he)).json()}catch(nt){throw ri.create("token-update-failed",{errorInfo:null===(R=nt)||void 0===R?void 0:R.toString()})}if(Fe.error)throw ri.create("token-update-failed",{errorInfo:Fe.error.message});if(!Fe.token)throw ri.create("token-update-no-token");return Fe.token})).apply(this,arguments)}function $u(S,T){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,F.Z)(function*(S,T){var R;const te={method:"DELETE",headers:yield Go(S)};try{const Fe=yield(yield fetch(`${jo(S.appConfig)}/${T}`,te)).json();if(Fe.error)throw ri.create("token-unsubscribe-failed",{errorInfo:Fe.error.message})}catch(he){throw ri.create("token-unsubscribe-failed",{errorInfo:null===(R=he)||void 0===R?void 0:R.toString()})}})).apply(this,arguments)}function jo({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Go(S){return xt.apply(this,arguments)}function xt(){return(xt=(0,F.Z)(function*({appConfig:S,installations:T}){const R=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function ga({p256dh:S,auth:T,endpoint:R,vapidKey:$}){const te={web:{endpoint:R,auth:T,p256dh:S}};return $!==Qa&&(te.web.applicationPubKey=$),te}const Fc=6048e5;function Xd(S){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,F.Z)(function*(S){const T=yield jl(S.swRegistration,S.vapidKey),R={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:T.endpoint,auth:us(T.getKey("auth")),p256dh:us(T.getKey("p256dh"))},$=yield Ul(S.firebaseDependencies);if($){if(th($.subscriptionOptions,R))return Date.now()>=$.createTime+Fc?Wf(S,{token:$.token,createTime:Date.now(),subscriptionOptions:R}):$.token;try{yield $u(S.firebaseDependencies,$.token)}catch(te){console.warn(te)}return Be(S.firebaseDependencies,R)}return Be(S.firebaseDependencies,R)})).apply(this,arguments)}function eh(S){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,F.Z)(function*(S){const T=yield Ul(S.firebaseDependencies);T&&(yield $u(S.firebaseDependencies,T.token),yield $l(S.firebaseDependencies));const R=yield S.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function Wf(S,T){return zo.apply(this,arguments)}function zo(){return(zo=(0,F.Z)(function*(S,T){try{const R=yield Ja(S.firebaseDependencies,T),$=Object.assign(Object.assign({},T),{token:R,createTime:Date.now()});return yield Sn(S.firebaseDependencies,$),R}catch(R){throw yield eh(S),R}})).apply(this,arguments)}function Be(S,T){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,F.Z)(function*(S,T){const $={token:yield io(S,T),createTime:Date.now(),subscriptionOptions:T};return yield Sn(S,$),$.token})).apply(this,arguments)}function jl(S,T){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,F.Z)(function*(S,T){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Kd(T)})})).apply(this,arguments)}function th(S,T){return T.vapidKey===S.vapidKey&&T.endpoint===S.endpoint&&T.auth===S.auth&&T.p256dh===S.p256dh}function ro(S){const T={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function As(S,T){if(!T.notification)return;S.notification={};const R=T.notification.title;R&&(S.notification.title=R);const $=T.notification.body;$&&(S.notification.body=$);const te=T.notification.image;te&&(S.notification.image=te)}(T,S),function Hu(S,T){!T.data||(S.data=T.data)}(T,S),function Gl(S,T){var R,$,te,he,Fe;if(!T.fcmOptions&&!(null===(R=T.notification)||void 0===R?void 0:R.click_action))return;S.fcmOptions={};const nt=null!==(te=null===($=T.fcmOptions)||void 0===$?void 0:$.link)&&void 0!==te?te:null===(he=T.notification)||void 0===he?void 0:he.click_action;nt&&(S.fcmOptions.link=nt);const Et=null===(Fe=T.fcmOptions)||void 0===Fe?void 0:Fe.analytics_label;Et&&(S.fcmOptions.analyticsLabel=Et)}(T,S),T}function Yf(S){return"object"==typeof S&&!!S&&Bl in S}function nh(S,T){const R=[];for(let $=0;$<S.length;$++)R.push(S.charAt($)),$<T.length&&R.push(T.charAt($));return R.join("")}function _a(S){return ri.create("missing-app-config-values",{valueName:S})}nh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class $i{constructor(T,R,$){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function ih(S){if(!S||!S.options)throw _a("App Configuration Object");if(!S.name)throw _a("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:R}=S;for(const $ of T)if(!R[$])throw _a($);return{appName:S.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:te,installations:R,analyticsProvider:$}}_delete(){return Promise.resolve()}}function xs(S){return el.apply(this,arguments)}function el(){return(el=(0,F.Z)(function*(S){var T;try{S.swRegistration=yield navigator.serviceWorker.register($o,{scope:Gr}),S.swRegistration.update().catch(()=>{})}catch(R){throw ri.create("failed-service-worker-registration",{browserErrorMessage:null===(T=R)||void 0===T?void 0:T.message})}})).apply(this,arguments)}function tl(S,T){return Or.apply(this,arguments)}function Or(){return(Or=(0,F.Z)(function*(S,T){if(!T&&!S.swRegistration&&(yield xs(S)),T||!S.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw ri.create("invalid-sw-registration");S.swRegistration=T}})).apply(this,arguments)}function Kf(S,T){return nl.apply(this,arguments)}function nl(){return(nl=(0,F.Z)(function*(S,T){T?S.vapidKey=T:S.vapidKey||(S.vapidKey=Qa)})).apply(this,arguments)}function zl(){return(zl=(0,F.Z)(function*(S,T){if(!navigator)throw ri.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ri.create("permission-blocked");return yield Kf(S,null==T?void 0:T.vapidKey),yield tl(S,null==T?void 0:T.serviceWorkerRegistration),Xd(S)})).apply(this,arguments)}function Nc(S,T,R){return il.apply(this,arguments)}function il(){return(il=(0,F.Z)(function*(S,T,R){const $=sh(T);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent($,{message_id:R[Bl],message_name:R[Zf],message_time:R[mg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sh(S){switch(S){case to.NOTIFICATION_CLICKED:return"notification_open";case to.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ju(){return(ju=(0,F.Z)(function*(S,T){const R=T.data;if(!R.isFirebaseMessaging)return;S.onMessageHandler&&R.messageType===to.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(ro(R)):S.onMessageHandler.next(ro(R)));const $=R.data;Yf($)&&"1"===$[Qi]&&(yield Nc(S,R.messageType,$))})).apply(this,arguments)}const ql="@firebase/messaging",ya=S=>{const T=new $i(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function oh(S,T){return ju.apply(this,arguments)}(T,R)),T},ah=S=>{const T=S.getProvider("messaging").getImmediate();return{getToken:$=>function rh(S,T){return zl.apply(this,arguments)}(T,$)}};function Lc(){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,F.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Qf(){(0,de._registerComponent)(new we.wA("messaging",ya,"PUBLIC")),(0,de._registerComponent)(new we.wA("messaging-internal",ah,"PRIVATE")),(0,de.registerVersion)(ql,"0.9.16"),(0,de.registerVersion)(ql,"0.9.16","esm2017")}();const ch="analytics",_g="firebase_id",Wl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yl="https://www.googletagmanager.com/gtag/js",Ii=new se.Yd("@firebase/analytics");function dh(S){return Promise.all(S.map(T=>T.catch(R=>R)))}function yg(S,T){const R=document.createElement("script");R.src=`${Yl}?l=${S}&id=${T}`,R.async=!0,document.head.appendChild(R)}function rl(S,T,R,$,te,he){return hh.apply(this,arguments)}function hh(){return(hh=(0,F.Z)(function*(S,T,R,$,te,he){const Fe=$[te];try{if(Fe)yield T[Fe];else{const Et=(yield dh(R)).find(Rt=>Rt.measurementId===te);Et&&(yield T[Et.appId])}}catch(nt){Ii.error(nt)}S("config",te,he)})).apply(this,arguments)}function ba(S,T,R,$,te){return qo.apply(this,arguments)}function qo(){return(qo=(0,F.Z)(function*(S,T,R,$,te){try{let he=[];if(te&&te.send_to){let Fe=te.send_to;Array.isArray(Fe)||(Fe=[Fe]);const nt=yield dh(R);for(const Et of Fe){const Rt=nt.find(ht=>ht.measurementId===Et),Ft=Rt&&T[Rt.appId];if(!Ft){he=[];break}he.push(Ft)}}0===he.length&&(he=Object.values(T)),yield Promise.all(he),S("event",$,te||{})}catch(he){Ii.error(he)}})).apply(this,arguments)}function kn(){const S=window.document.getElementsByTagName("script");for(const T of Object.values(S))if(T.src&&T.src.includes(Yl))return T;return null}const Fr=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sl=new class qu{constructor(T={},R=1e3){this.throttleMetadata=T,this.intervalMillis=R}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,R){this.throttleMetadata[T]=R}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function ol(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ao(S){return fn.apply(this,arguments)}function fn(){return(fn=(0,F.Z)(function*(S){var T;const{appId:R,apiKey:$}=S,te={method:"GET",headers:ol($)},he=Wl.replace("{app-id}",R),Fe=yield fetch(he,te);if(200!==Fe.status&&304!==Fe.status){let nt="";try{const Et=yield Fe.json();(null===(T=Et.error)||void 0===T?void 0:T.message)&&(nt=Et.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:Fe.status,responseMessage:nt})}return Fe.json()})).apply(this,arguments)}function Hn(S){return ct.apply(this,arguments)}function ct(){return(ct=(0,F.Z)(function*(S,T=sl,R){const{appId:$,apiKey:te,measurementId:he}=S.options;if(!$)throw Fr.create("no-app-id");if(!te){if(he)return{measurementId:he,appId:$};throw Fr.create("no-api-key")}const Fe=T.getThrottleMetadata($)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new $c;return setTimeout((0,F.Z)(function*(){nt.abort()}),void 0!==R?R:6e4),Uc({appId:$,apiKey:te,measurementId:he},Fe,nt,T)})).apply(this,arguments)}function Uc(S,T,R){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,F.Z)(function*(S,{throttleEndTimeMillis:T,backoffCount:R},$,te=sl){var he,Fe;const{appId:nt,measurementId:Et}=S;try{yield fh($,T)}catch(Rt){if(Et)return Ii.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null===(he=Rt)||void 0===he?void 0:he.message}]`),{appId:nt,measurementId:Et};throw Rt}try{const Rt=yield ao(S);return te.deleteThrottleMetadata(nt),Rt}catch(Rt){const Ft=Rt;if(!Zu(Ft)){if(te.deleteThrottleMetadata(nt),Et)return Ii.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Et} provided in the "measurementId" field in the local Firebase config. [${null==Ft?void 0:Ft.message}]`),{appId:nt,measurementId:Et};throw Rt}const ht=503===Number(null===(Fe=null==Ft?void 0:Ft.customData)||void 0===Fe?void 0:Fe.httpStatus)?(0,fe.$s)(R,te.intervalMillis,30):(0,fe.$s)(R,te.intervalMillis),si={throttleEndTimeMillis:Date.now()+ht,backoffCount:R+1};return te.setThrottleMetadata(nt,si),Ii.debug(`Calling attemptFetch again in ${ht} millis`),Uc(S,si,$,te)}})).apply(this,arguments)}function fh(S,T){return new Promise((R,$)=>{const te=Math.max(T-Date.now(),0),he=setTimeout(R,te);S.addEventListener(()=>{clearTimeout(he),$(Fr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}function Zu(S){if(!(S instanceof fe.ZR&&S.customData))return!1;const T=Number(S.customData.httpStatus);return 429===T||500===T||503===T||504===T}class $c{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Hc,Qn;function li(){return(li=(0,F.Z)(function*(S,T,R,$,te){if(te&&te.global)S("event",R,$);else{const he=yield T;S("event",R,Object.assign(Object.assign({},$),{send_to:he}))}})).apply(this,arguments)}function uo(S){Qn=S}function mh(S){Hc=S}function kt(){return ho.apply(this,arguments)}function ho(){return(ho=(0,F.Z)(function*(){var S;if(!(0,fe.hl)())return Ii.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(T){return Ii.warn(Fr.create("indexeddb-unavailable",{errorInfo:null===(S=T)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function Kl(){return(Kl=(0,F.Z)(function*(S,T,R,$,te,he,Fe){var nt;const Et=Hn(S);Et.then(Ai=>{R[Ai.measurementId]=Ai.appId,S.options.measurementId&&Ai.measurementId!==S.options.measurementId&&Ii.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Ai.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ai=>Ii.error(Ai)),T.push(Et);const Rt=kt().then(Ai=>{if(Ai)return $.getId()}),[Ft,ht]=yield Promise.all([Et,Rt]);kn()||yg(he,Ft.measurementId),Qn&&(te("consent","default",Qn),uo(void 0)),te("js",new Date);const si=null!==(nt=null==Fe?void 0:Fe.config)&&void 0!==nt?nt:{};return si.origin="firebase",si.update=!0,null!=ht&&(si[_g]=ht),te("config",Ft.measurementId,si),Hc&&(te("set",Hc),mh(void 0)),Ft.measurementId})).apply(this,arguments)}class Wu{constructor(T){this.app=T}_delete(){return delete ji[this.app.options.appId],Promise.resolve()}}let ji={},Gc=[];const al={};let Ko,Si,Yo="dataLayer",Ql=!1;function Ku(S,T,R){!function ll(){const S=[];if((0,fe.ru)()&&S.push("This is a browser extension environment."),(0,fe.zI)()||S.push("Cookies are not available."),S.length>0){const T=S.map(($,te)=>`(${te+1}) ${$}`).join(" "),R=Fr.create("invalid-analytics-context",{errorInfo:T});Ii.warn(R.message)}}();const $=S.options.appId;if(!$)throw Fr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Fr.create("no-api-key");Ii.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ji[$])throw Fr.create("already-exists",{id:$});if(!Ql){!function oo(S){let T=[];Array.isArray(window[S])?T=window[S]:window[S]=T}(Yo);const{wrappedGtag:he,gtagCore:Fe}=function vg(S,T,R,$,te){let he=function(...Fe){window[$].push(arguments)};return window[te]&&"function"==typeof window[te]&&(he=window[te]),window[te]=function Vc(S,T,R,$){function he(){return(he=(0,F.Z)(function*(Fe,nt,Et){try{"event"===Fe?yield ba(S,T,R,nt,Et):"config"===Fe?yield rl(S,T,R,$,nt,Et):"consent"===Fe?S("consent","update",Et):S("set",nt)}catch(Rt){Ii.error(Rt)}})).apply(this,arguments)}return function te(Fe,nt,Et){return he.apply(this,arguments)}}(he,S,T,R),{gtagCore:he,wrappedGtag:window[te]}}(ji,Gc,al,Yo,"gtag");Si=he,Ko=Fe,Ql=!0}return ji[$]=function gh(S,T,R,$,te,he,Fe){return Kl.apply(this,arguments)}(S,Gc,al,T,Ko,Yo,R),new Wu(S)}function _h(){return zc.apply(this,arguments)}function zc(){return(zc=(0,F.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const Wn="@firebase/analytics";!function er(){(0,de._registerComponent)(new we.wA(ch,(T,{options:R})=>Ku(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,de._registerComponent)(new we.wA("analytics-internal",function S(T){try{const R=T.getProvider(ch).getImmediate();return{logEvent:($,te,he)=>function Qo(S,T,R,$){S=(0,fe.m9)(S),function Ms(S,T,R,$,te){return li.apply(this,arguments)}(Si,ji[S.app.options.appId],T,R,$).catch(te=>Ii.error(te))}(R,$,te,he)}}catch(R){throw Fr.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,de.registerVersion)(Wn,"0.8.0"),(0,de.registerVersion)(Wn,"0.8.0","esm2017")}();var np=V(4408),Ir=V(7565);const cl=new class Sr extends Ir.v{}(class vh extends np.o{constructor(T,R){super(T,R),this.scheduler=T,this.work=R}schedule(T,R=0){return R>0?super.schedule(T,R):(this.delay=R,this.state=T,this.scheduler.flush(this),this)}execute(T,R){return R>0||this.closed?super.execute(T,R):this._execute(T,R)}requestAsyncId(T,R,$=0){return null!=$&&$>0||null==$&&this.delay>0?super.requestAsyncId(T,R,$):T.flush(this)}});var Jo=V(4986),Xo=V(8505),ul=V(5363),ip=V(9468);const Qy=new o.GfV("7.4.1"),rp="__angularfire_symbol__analyticsIsSupportedValue",Jl="__angularfire_symbol__analyticsIsSupported",dr="__angularfire_symbol__remoteConfigIsSupportedValue",qc="__angularfire_symbol__remoteConfigIsSupported",Da="__angularfire_symbol__messagingIsSupportedValue",Zc="__angularfire_symbol__messagingIsSupported";function dl(S,T,R){if(T){if(1===T.length)return T[0];const he=T.filter(Fe=>Fe.app===R);if(1===he.length)return he[0]}return R.container.getProvider(S).getImmediate({optional:!0})}globalThis[Jl]||(globalThis[Jl]=_h().then(S=>globalThis[rp]=S).catch(()=>globalThis[rp]=!1)),globalThis[Zc]||(globalThis[Zc]=Lc().then(S=>globalThis[Da]=S).catch(()=>globalThis[Da]=!1)),globalThis[qc]||(globalThis[qc]=Ky().then(S=>globalThis[dr]=S).catch(()=>globalThis[dr]=!1));const ec=(S,T)=>{const R=T?[T]:(0,H.C6)(),$=[];return R.forEach(te=>{te.container.getProvider(S).instances.forEach(Fe=>{$.includes(Fe)||$.push(Fe)})}),$};function Tr(){}class Ia{constructor(T,R=cl){this.zone=T,this.delegate=R}now(){return this.delegate.now()}schedule(T,R,$){const te=this.zone;return this.delegate.schedule(function(Fe){te.runGuarded(()=>{T.apply(this,[Fe])})},R,$)}}class Wc{constructor(T){this.zone=T,this.task=null}call(T,R){const $=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Tr,{},Tr,Tr)),R.pipe((0,Xo.b)({next:$,complete:$,error:$})).subscribe(T).add($)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yc=(()=>{class S{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Ia(Zone.current)),this.insideAngular=R.run(()=>new Ia(Zone.current,Jo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(R){return new(R||S)(o.LFG(o.R0b))},S.\u0275prov=o.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function tr(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Qu(S){return S.pipe((0,ul.Q)(tr().outsideAngular))}function Kc(S){return tr(),function Ch(S){return function(R){return(R=R.lift(new Wc(S.ngZone))).pipe((0,ip.R)(S.outsideAngular),(0,ul.Q)(S.insideAngular))}}(tr())(S)}},7143:(yt,Pe,V)=>{V.d(Pe,{$:()=>jo,A:()=>Z,B:()=>Ne,G:()=>Vo,H:()=>Cr,J:()=>Xs,L:()=>hn,M:()=>Ll,N:()=>Vl,P:()=>Jo,Q:()=>Bl,R:()=>tp,T:()=>Zf,U:()=>Qa,V:()=>to,W:()=>us,X:()=>Jd,Y:()=>Pc,Z:()=>io,_:()=>Ja,a:()=>Bc,a0:()=>Xd,a1:()=>eh,a2:()=>Wf,a3:()=>Be,a4:()=>jl,a5:()=>th,a6:()=>As,a7:()=>Hu,a8:()=>Yf,a9:()=>nh,aA:()=>Ai,aB:()=>Et,aC:()=>Qu,aD:()=>Os,aE:()=>Xt,aI:()=>ol,aL:()=>Qi,aa:()=>xs,ab:()=>tl,ac:()=>Kf,af:()=>Nc,ag:()=>sh,ah:()=>oh,ak:()=>no,al:()=>Gu,an:()=>Yl,ao:()=>hh,ap:()=>In,aq:()=>Se,ar:()=>qt,as:()=>mt,at:()=>Qe,au:()=>Th,av:()=>fl,aw:()=>Ue,ax:()=>ae,ay:()=>le,az:()=>an,b:()=>Fr,c:()=>Da,d:()=>Eg,e:()=>Xl,f:()=>Ch,g:()=>$,h:()=>S,i:()=>ho,j:()=>Fe,k:()=>ap,l:()=>Ti,m:()=>xg,o:()=>pe,r:()=>np,s:()=>Cg,u:()=>cl});var o=V(5861),H=V(2090),F=V(9681),de=V(655),fe=V(1877),we=V(4859);const pe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ne=function ce(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},He=function Ye(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},We=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Te=new fe.Yd("@firebase/auth");function Xe(w,..._){Te.logLevel<=fe.in.ERROR&&Te.error(`Auth (${F.SDK_VERSION}): ${w}`,..._)}function Qe(w,..._){throw Je(w,..._)}function Ue(w,..._){return Je(w,..._)}function ke(w,_,y){const D=Object.assign(Object.assign({},He()),{[_]:y});return new H.LL("auth","Firebase",D).create(_,{appName:w.name})}function Ae(w,_,y){if(!(_ instanceof y))throw y.name!==_.constructor.name&&Qe(w,"argument-error"),ke(w,"argument-error",`Type of ${_.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Je(w,..._){if("string"!=typeof w){const y=_[0],D=[..._.slice(1)];return D[0]&&(D[0].appName=w.name),w._errorFactory.create(y,...D)}return We.create(w,..._)}function ae(w,_,...y){if(!w)throw Je(_,...y)}function ye(w){const _="INTERNAL ASSERTION FAILED: "+w;throw Xe(_),new Error(_)}function Se(w,_){w||ye(_)}const ee=new Map;function le(w){Se(w instanceof Function,"Expected a class definition");let _=ee.get(w);return _?(Se(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,ee.set(w,_),_)}function me(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.href)||""}function je(){return"http:"===Ct()||"https:"===Ct()}function Ct(){var w;return typeof self<"u"&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class et{constructor(_,y){this.shortDelay=_,this.longDelay=y,Se(y>_,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(je()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function En(w,_){Se(w.emulator,"Emulator should always be set here");const{url:y}=w.emulator;return _?`${y}${_.startsWith("/")?_.slice(1):_}`:y}class ti{static initialize(_,y,D){this.fetchImpl=_,y&&(this.headersImpl=y),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Dn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dn=new et(3e4,6e4);function zt(w,_){return w.tenantId&&!_.tenantId?Object.assign(Object.assign({},_),{tenantId:w.tenantId}):_}function on(w,_,y,D){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,o.Z)(function*(w,_,y,D,k={}){return as(w,k,(0,o.Z)(function*(){let N={},re={};D&&("GET"===_?re=D:N={body:JSON.stringify(D)});const Oe=(0,H.xO)(Object.assign({key:w.config.apiKey},re)).slice(1),ot=yield w._getAdditionalHeaders();return ot["Content-Type"]="application/json",w.languageCode&&(ot["X-Firebase-Locale"]=w.languageCode),ti.fetch()(Ur(w,w.config.apiHost,y,Oe),Object.assign({method:_,headers:ot,referrerPolicy:"no-referrer"},N))}))})).apply(this,arguments)}function as(w,_,y){return or.apply(this,arguments)}function or(){return(or=(0,o.Z)(function*(w,_,y){w._canInitEmulator=!1;const D=Object.assign(Object.assign({},Dn),_);try{const k=new ls(w),N=yield Promise.race([y(),k.promise]);k.clearNetworkTimeout();const re=yield N.json();if("needConfirmation"in re)throw ni(w,"account-exists-with-different-credential",re);if(N.ok&&!("errorMessage"in re))return re;{const Oe=N.ok?re.errorMessage:re.error.message,[ot,St]=Oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ot)throw ni(w,"credential-already-in-use",re);if("EMAIL_EXISTS"===ot)throw ni(w,"email-already-in-use",re);if("USER_DISABLED"===ot)throw ni(w,"user-disabled",re);const Kt=D[ot]||ot.toLowerCase().replace(/[_\s]+/g,"-");if(St)throw ke(w,Kt,St);Qe(w,Kt)}}catch(k){if(k instanceof H.ZR)throw k;Qe(w,"network-request-failed")}})).apply(this,arguments)}function Zn(w,_,y,D){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,o.Z)(function*(w,_,y,D,k={}){const N=yield on(w,_,y,D,k);return"mfaPendingCredential"in N&&Qe(w,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ur(w,_,y,D){const k=`${_}${y}?${D}`;return w.config.emulator?En(w.config,k):`${w.config.apiScheme}://${k}`}class ls{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((y,D)=>{this.timer=setTimeout(()=>D(Ue(this.auth,"network-request-failed")),dn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ni(w,_,y){const D={appName:w.name};y.email&&(D.email=y.email),y.phoneNumber&&(D.phoneNumber=y.phoneNumber);const k=Ue(w,_,D);return k.customData._tokenResponse=y,k}function It(){return(It=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function ar(w,_){return Un.apply(this,arguments)}function Un(){return(Un=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function vn(w,_){return wi.apply(this,arguments)}function wi(){return(wi=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function lr(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch{}}function Ei(){return(Ei=(0,o.Z)(function*(w,_=!1){const y=(0,H.m9)(w),D=yield y.getIdToken(_),k=Zt(D);ae(k&&k.exp&&k.auth_time&&k.iat,y.auth,"internal-error");const N="object"==typeof k.firebase?k.firebase:void 0,re=null==N?void 0:N.sign_in_provider;return{claims:k,token:D,authTime:lr(Qs(k.auth_time)),issuedAtTime:lr(Qs(k.iat)),expirationTime:lr(Qs(k.exp)),signInProvider:re||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Qs(w){return 1e3*Number(w)}function Zt(w){var _;const[y,D,k]=w.split(".");if(void 0===y||void 0===D||void 0===k)return Xe("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,H.tV)(D);return N?JSON.parse(N):(Xe("Failed to decode base64 JWT payload"),null)}catch(N){return Xe("Caught error parsing JWT payload as JSON",null===(_=N)||void 0===_?void 0:_.toString()),null}}function dt(w,_){return $r.apply(this,arguments)}function $r(){return($r=(0,o.Z)(function*(w,_,y=!1){if(y)return _;try{return yield _}catch(D){throw D instanceof H.ZR&&Hr(D)&&w.auth.currentUser===w&&(yield w.auth.signOut()),D}})).apply(this,arguments)}function Hr({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Wt{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var y;if(_){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const k=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,k)}}schedule(_=!1){var y=this;if(!this.isRunning)return;const D=this.getInterval(_);this.timerId=setTimeout((0,o.Z)(function*(){yield y.iteration()}),D)}iteration(){var _=this;return(0,o.Z)(function*(){var y;try{yield _.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(y=D)||void 0===y?void 0:y.code)&&_.schedule(!0))}_.schedule()})()}}class cs{constructor(_,y){this.createdAt=_,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=lr(this.lastLoginAt),this.creationTime=lr(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ii(w){return xn.apply(this,arguments)}function xn(){return(xn=(0,o.Z)(function*(w){var _;const y=w.auth,D=yield w.getIdToken(),k=yield dt(w,vn(y,{idToken:D}));ae(null==k?void 0:k.users.length,y,"internal-error");const N=k.users[0];w._notifyReloadListener(N);const re=(null===(_=N.providerUserInfo)||void 0===_?void 0:_.length)?G(N.providerUserInfo):[],Oe=W(w.providerData,re),Kt=!!w.isAnonymous&&!(w.email&&N.passwordHash||(null==Oe?void 0:Oe.length)),ci={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:Oe,metadata:new cs(N.createdAt,N.lastLoginAt),isAnonymous:Kt};Object.assign(w,ci)})).apply(this,arguments)}function wr(){return(wr=(0,o.Z)(function*(w){const _=(0,H.m9)(w);yield ii(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function W(w,_){return[...w.filter(D=>!_.some(k=>k.providerId===D.providerId)),..._]}function G(w){return w.map(_=>{var{providerId:y}=_,D=(0,de._T)(_,["providerId"]);return{providerId:y,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function z(){return(z=(0,o.Z)(function*(w,_){const y=yield as(w,{},(0,o.Z)(function*(){const D=(0,H.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:k,apiKey:N}=w.config,re=Ur(w,k,"/v1/token",`key=${N}`),Oe=yield w._getAdditionalHeaders();return Oe["Content-Type"]="application/x-www-form-urlencoded",ti.fetch()(re,{method:"POST",headers:Oe,body:D})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){ae(_.idToken,"internal-error"),ae(typeof _.idToken<"u","internal-error"),ae(typeof _.refreshToken<"u","internal-error");const y="expiresIn"in _&&typeof _.expiresIn<"u"?Number(_.expiresIn):function vt(w){const _=Zt(w);return ae(_,"internal-error"),ae(typeof _.exp<"u","internal-error"),ae(typeof _.iat<"u","internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,y)}getToken(_,y=!1){var D=this;return(0,o.Z)(function*(){return ae(!D.accessToken||D.refreshToken,_,"user-token-expired"),y||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(_,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,y){var D=this;return(0,o.Z)(function*(){const{accessToken:k,refreshToken:N,expiresIn:re}=yield function j(w,_){return z.apply(this,arguments)}(_,y);D.updateTokensAndExpiration(k,N,Number(re))})()}updateTokensAndExpiration(_,y,D){this.refreshToken=y||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(_,y){const{refreshToken:D,accessToken:k,expirationTime:N}=y,re=new Y;return D&&(ae("string"==typeof D,"internal-error",{appName:_}),re.refreshToken=D),k&&(ae("string"==typeof k,"internal-error",{appName:_}),re.accessToken=k),N&&(ae("number"==typeof N,"internal-error",{appName:_}),re.expirationTime=N),re}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Re(w,_){ae("string"==typeof w||typeof w>"u","internal-error",{appName:_})}class Ze{constructor(_){var{uid:y,auth:D,stsTokenManager:k}=_,N=(0,de._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=D,this.stsTokenManager=k,this.accessToken=k.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.providerData=N.providerData?[...N.providerData]:[],this.metadata=new cs(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(_){var y=this;return(0,o.Z)(function*(){const D=yield dt(y,y.stsTokenManager.getToken(y.auth,_));return ae(D,y.auth,"internal-error"),y.accessToken!==D&&(y.accessToken=D,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),D})()}getIdTokenResult(_){return function $n(w){return Ei.apply(this,arguments)}(this,_)}reload(){return function bt(w){return wr.apply(this,arguments)}(this)}_assign(_){this!==_&&(ae(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(y=>Object.assign({},y)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ze(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,y=!1){var D=this;return(0,o.Z)(function*(){let k=!1;_.idToken&&_.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(_),k=!0),y&&(yield ii(D)),yield D.auth._persistUserIfCurrent(D),k&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var _=this;return(0,o.Z)(function*(){const y=yield _.getIdToken();return yield dt(_,function Ss(w,_){return It.apply(this,arguments)}(_.auth,{idToken:y})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,y){var D,k,N,re,Oe,ot,St,Kt;const ci=null!==(D=y.displayName)&&void 0!==D?D:void 0,zr=null!==(k=y.email)&&void 0!==k?k:void 0,ta=null!==(N=y.phoneNumber)&&void 0!==N?N:void 0,ic=null!==(re=y.photoURL)&&void 0!==re?re:void 0,sv=null!==(Oe=y.tenantId)&&void 0!==Oe?Oe:void 0,dp=null!==(ot=y._redirectEventId)&&void 0!==ot?ot:void 0,xa=null!==(St=y.createdAt)&&void 0!==St?St:void 0,kg=null!==(Kt=y.lastLoginAt)&&void 0!==Kt?Kt:void 0,{uid:xh,emailVerified:Rg,isAnonymous:hp,providerData:Mh,stsTokenManager:nd}=y;ae(xh&&nd,_,"internal-error");const Qc=Y.fromJSON(this.name,nd);ae("string"==typeof xh,_,"internal-error"),Re(ci,_.name),Re(zr,_.name),ae("boolean"==typeof Rg,_,"internal-error"),ae("boolean"==typeof hp,_,"internal-error"),Re(ta,_.name),Re(ic,_.name),Re(sv,_.name),Re(dp,_.name),Re(xa,_.name),Re(kg,_.name);const rc=new Ze({uid:xh,auth:_,email:zr,emailVerified:Rg,displayName:ci,isAnonymous:hp,photoURL:ic,phoneNumber:ta,tenantId:sv,stsTokenManager:Qc,createdAt:xa,lastLoginAt:kg});return Mh&&Array.isArray(Mh)&&(rc.providerData=Mh.map(ov=>Object.assign({},ov))),dp&&(rc._redirectEventId=dp),rc}static _fromIdTokenResponse(_,y,D=!1){return(0,o.Z)(function*(){const k=new Y;k.updateFromServerResponse(y);const N=new Ze({uid:y.localId,auth:_,stsTokenManager:k,isAnonymous:D});return yield ii(N),N})()}}const hn=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,o.Z)(function*(){return!0})()}_set(y,D){var k=this;return(0,o.Z)(function*(){k.storage[y]=D})()}_get(y){var D=this;return(0,o.Z)(function*(){const k=D.storage[y];return void 0===k?null:k})()}_remove(y){var D=this;return(0,o.Z)(function*(){delete D.storage[y]})()}_addListener(y,D){}_removeListener(y,D){}}return w.type="NONE",w})();function an(w,_,y){return`firebase:${w}:${_}:${y}`}class Di{constructor(_,y,D){this.persistence=_,this.auth=y,this.userKey=D;const{config:k,name:N}=this.auth;this.fullUserKey=an(this.userKey,k.apiKey,N),this.fullPersistenceKey=an("persistence",k.apiKey,N),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,o.Z)(function*(){const y=yield _.persistence._get(_.fullUserKey);return y?Ze._fromJSON(_.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var y=this;return(0,o.Z)(function*(){if(y.persistence===_)return;const D=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=_,D?y.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,y,D="authUser"){return(0,o.Z)(function*(){if(!y.length)return new Di(le(hn),_,D);const k=(yield Promise.all(y.map(function(){var St=(0,o.Z)(function*(Kt){if(yield Kt._isAvailable())return Kt});return function(Kt){return St.apply(this,arguments)}}()))).filter(St=>St);let N=k[0]||le(hn);const re=an(D,_.config.apiKey,_.name);let Oe=null;for(const St of y)try{const Kt=yield St._get(re);if(Kt){const ci=Ze._fromJSON(_,Kt);St!==N&&(Oe=ci),N=St;break}}catch{}const ot=k.filter(St=>St._shouldAllowMigration);return N._shouldAllowMigration&&ot.length?(N=ot[0],Oe&&(yield N._set(re,Oe.toJSON())),yield Promise.all(y.map(function(){var St=(0,o.Z)(function*(Kt){if(Kt!==N)try{yield Kt._remove(re)}catch{}});return function(Kt){return St.apply(this,arguments)}}())),new Di(N,_,D)):new Di(N,_,D)})()}}function ne(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(tt(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(X(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(Pt(_))return"Blackberry";if(Jt(_))return"Webos";if(Q(_))return"Safari";if((_.includes("chrome/")||Me(_))&&!_.includes("edge/"))return"Chrome";if(mt(_))return"Android";{const D=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function X(w=(0,H.z$)()){return/firefox\//i.test(w)}function Q(w=(0,H.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}function Me(w=(0,H.z$)()){return/crios\//i.test(w)}function tt(w=(0,H.z$)()){return/iemobile/i.test(w)}function mt(w=(0,H.z$)()){return/android/i.test(w)}function Pt(w=(0,H.z$)()){return/blackberry/i.test(w)}function Jt(w=(0,H.z$)()){return/webos/i.test(w)}function qt(w=(0,H.z$)()){return/iphone|ipad|ipod/i.test(w)||/macintosh/i.test(w)&&/mobile/i.test(w)}function In(w=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(w)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(w)}function nn(w=(0,H.z$)()){return qt(w)||mt(w)||Jt(w)||Pt(w)||/windows phone/i.test(w)||tt(w)}function No(w,_=[]){let y;switch(w){case"Browser":y=ne((0,H.z$)());break;case"Worker":y=`${ne((0,H.z$)())}-${w}`;break;default:y=w}const D=_.length?_.join(","):"FirebaseCore-web";return`${y}/JsCore/${F.SDK_VERSION}/${D}`}class Yn{constructor(_){this.auth=_,this.queue=[]}pushCallback(_,y){const D=N=>new Promise((re,Oe)=>{try{re(_(N))}catch(ot){Oe(ot)}});D.onAbort=y,this.queue.push(D);const k=this.queue.length-1;return()=>{this.queue[k]=()=>Promise.resolve()}}runMiddleware(_){var y=this;return(0,o.Z)(function*(){var D;if(y.auth.currentUser===_)return;const k=[];try{for(const N of y.queue)yield N(_),N.onAbort&&k.push(N.onAbort)}catch(N){k.reverse();for(const re of k)try{re()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=N)||void 0===D?void 0:D.message})}})()}}class Lo{constructor(_,y,D){this.app=_,this.heartbeatServiceProvider=y,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new za(this),this.idTokenSubscription=new za(this),this.beforeStateQueue=new Yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=We,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(_,y){var D=this;return y&&(this._popupRedirectResolver=le(y)),this._initializationPromise=this.queue((0,o.Z)(function*(){var k,N;if(!D._deleted&&(D.persistenceManager=yield Di.create(D,_),!D._deleted)){if(null===(k=D._popupRedirectResolver)||void 0===k?void 0:k._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(y),D.lastNotifiedUid=(null===(N=D.currentUser)||void 0===N?void 0:N.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,o.Z)(function*(){if(_._deleted)return;const y=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||y){if(_.currentUser&&y&&_.currentUser.uid===y.uid)return _._currentUser._assign(y),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(y,!0)}})()}initializeCurrentUser(_){var y=this;return(0,o.Z)(function*(){var D;const k=yield y.assertedPersistence.getCurrentUser();let N=k,re=!1;if(_&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Oe=null===(D=y.redirectUser)||void 0===D?void 0:D._redirectEventId,ot=null==N?void 0:N._redirectEventId,St=yield y.tryRedirectSignIn(_);(!Oe||Oe===ot)&&(null==St?void 0:St.user)&&(N=St.user,re=!0)}if(!N)return y.directlySetCurrentUser(null);if(!N._redirectEventId){if(re)try{yield y.beforeStateQueue.runMiddleware(N)}catch(Oe){N=k,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Oe))}return N?y.reloadAndSetCurrentUserOrClear(N):y.directlySetCurrentUser(null)}return ae(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===N._redirectEventId?y.directlySetCurrentUser(N):y.reloadAndSetCurrentUserOrClear(N)})()}tryRedirectSignIn(_){var y=this;return(0,o.Z)(function*(){let D=null;try{D=yield y._popupRedirectResolver._completeRedirectFn(y,_,!0)}catch{yield y._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(_){var y=this;return(0,o.Z)(function*(){var D;try{yield ii(_)}catch(k){if("auth/network-request-failed"!==(null===(D=k)||void 0===D?void 0:D.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function Gt(){if(typeof navigator>"u")return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,o.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var y=this;return(0,o.Z)(function*(){const D=_?(0,H.m9)(_):null;return D&&ae(D.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(D&&D._clone(y))})()}_updateCurrentUser(_,y=!1){var D=this;return(0,o.Z)(function*(){if(!D._deleted)return _&&ae(D.tenantId===_.tenantId,D,"tenant-id-mismatch"),y||(yield D.beforeStateQueue.runMiddleware(_)),D.queue((0,o.Z)(function*(){yield D.directlySetCurrentUser(_),D.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,o.Z)(function*(){return yield _.beforeStateQueue.runMiddleware(null),(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null,!0)})()}setPersistence(_){var y=this;return this.queue((0,o.Z)(function*(){yield y.assertedPersistence.setPersistence(le(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new H.LL("auth","Firebase",_())}onAuthStateChanged(_,y,D){return this.registerStateListener(this.authStateSubscription,_,y,D)}beforeAuthStateChanged(_,y){return this.beforeStateQueue.pushCallback(_,y)}onIdTokenChanged(_,y,D){return this.registerStateListener(this.idTokenSubscription,_,y,D)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,y){var D=this;return(0,o.Z)(function*(){const k=yield D.getOrInitRedirectPersistenceManager(y);return null===_?k.removeCurrentUser():k.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var y=this;return(0,o.Z)(function*(){if(!y.redirectPersistenceManager){const D=_&&le(_)||y._popupRedirectResolver;ae(D,y,"argument-error"),y.redirectPersistenceManager=yield Di.create(y,[le(D._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(_){var y=this;return(0,o.Z)(function*(){var D,k;return y._isInitialized&&(yield y.queue((0,o.Z)(function*(){}))),(null===(D=y._currentUser)||void 0===D?void 0:D._redirectEventId)===_?y._currentUser:(null===(k=y.redirectUser)||void 0===k?void 0:k._redirectEventId)===_?y.redirectUser:null})()}_persistUserIfCurrent(_){var y=this;return(0,o.Z)(function*(){if(_===y.currentUser)return y.queue((0,o.Z)(function*(){return y.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(y=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,y,D,k){if(this._deleted)return()=>{};const N="function"==typeof y?y:y.next.bind(y),re=this._isInitialized?Promise.resolve():this._initializationPromise;return ae(re,this,"internal-error"),re.then(()=>N(this.currentUser)),"function"==typeof y?_.addObserver(y,D,k):_.addObserver(y)}directlySetCurrentUser(_){var y=this;return(0,o.Z)(function*(){y.currentUser&&y.currentUser!==_&&y._currentUser._stopProactiveRefresh(),_&&y.isProactiveRefreshEnabled&&_._startProactiveRefresh(),y.currentUser=_,_?yield y.assertedPersistence.setCurrentUser(_):yield y.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=No(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,o.Z)(function*(){var y;const D={"X-Client-Version":_.clientVersion};_.app.options.appId&&(D["X-Firebase-gmpid"]=_.app.options.appId);const k=yield null===(y=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return k&&(D["X-Firebase-Client"]=k),D})()}}function Xt(w){return(0,H.m9)(w)}class za{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,H.ne)(y=>this.observer=y)}get next(){return ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Vo(w,_,y){const D=Xt(w);ae(D._canInitEmulator,D,"emulator-config-failed"),ae(/^https?:\/\//.test(_),D,"invalid-emulator-scheme");const k=!!(null==y?void 0:y.disableWarnings),N=Bt(_),{host:re,port:Oe}=function qa(w){const _=Bt(w),y=/(\/\/)?([^?#/]+)/.exec(w.substr(_.length));if(!y)return{host:"",port:null};const D=y[2].split("@").pop()||"",k=/^(\[[^\]]+\])(:|$)/.exec(D);if(k){const N=k[1];return{host:N,port:Bo(D.substr(N.length+1))}}{const[N,re]=D.split(":");return{host:N,port:Bo(re)}}}(_);D.config.emulator={url:`${N}//${re}${null===Oe?"":`:${Oe}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:re,port:Oe,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:k})}),k||function Fl(){function w(){const _=document.createElement("p"),y=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",w):w())}()}function Bt(w){const _=w.indexOf(":");return _<0?"":w.substr(0,_+1)}function Bo(w){if(!w)return null;const _=Number(w);return isNaN(_)?null:_}class Cr{constructor(_,y){this.providerId=_,this.signInMethod=y}toJSON(){return ye("not implemented")}_getIdTokenResponse(_){return ye("not implemented")}_linkToIdToken(_,y){return ye("not implemented")}_getReauthenticationResolver(_){return ye("not implemented")}}function Ki(w,_){return ai.apply(this,arguments)}function ai(){return(ai=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:resetPassword",zt(w,_))})).apply(this,arguments)}function ha(w,_){return Er.apply(this,arguments)}function Er(){return(Er=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function yn(w,_){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:update",zt(w,_))})).apply(this,arguments)}function kr(){return(kr=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithPassword",zt(w,_))})).apply(this,arguments)}function Za(w,_){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:sendOobCode",zt(w,_))})).apply(this,arguments)}function Kn(w,_){return Js.apply(this,arguments)}function Js(){return(Js=(0,o.Z)(function*(w,_){return Za(w,_)})).apply(this,arguments)}function Vi(w,_){return fa.apply(this,arguments)}function fa(){return(fa=(0,o.Z)(function*(w,_){return Za(w,_)})).apply(this,arguments)}function Dr(w,_){return cr.apply(this,arguments)}function cr(){return(cr=(0,o.Z)(function*(w,_){return Za(w,_)})).apply(this,arguments)}function Vu(w,_){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,o.Z)(function*(w,_){return Za(w,_)})).apply(this,arguments)}function jr(){return(jr=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithEmailLink",zt(w,_))})).apply(this,arguments)}function Gd(){return(Gd=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithEmailLink",zt(w,_))})).apply(this,arguments)}class xc extends Cr{constructor(_,y,D,k=null){super("password",D),this._email=_,this._password=y,this._tenantId=k}static _fromEmailAndPassword(_,y){return new xc(_,y,"password")}static _fromEmailAndCode(_,y,D=null){return new xc(_,y,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_;if((null==y?void 0:y.email)&&(null==y?void 0:y.password)){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(_){var y=this;return(0,o.Z)(function*(){switch(y.signInMethod){case"password":return function zf(w,_){return kr.apply(this,arguments)}(_,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function Uo(w,_){return jr.apply(this,arguments)}(_,{email:y._email,oobCode:y._password});default:Qe(_,"internal-error")}})()}_linkToIdToken(_,y){var D=this;return(0,o.Z)(function*(){switch(D.signInMethod){case"password":return ha(_,{idToken:y,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function Ac(w,_){return Gd.apply(this,arguments)}(_,{idToken:y,email:D._email,oobCode:D._password});default:Qe(_,"internal-error")}})()}_getReauthenticationResolver(_){return this._getIdTokenResponse(_)}}function pi(w,_){return zd.apply(this,arguments)}function zd(){return(zd=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithIdp",zt(w,_))})).apply(this,arguments)}class Xs extends Cr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(_){const y=new Xs(_.providerId,_.signInMethod);return _.idToken||_.accessToken?(_.idToken&&(y.idToken=_.idToken),_.accessToken&&(y.accessToken=_.accessToken),_.nonce&&!_.pendingToken&&(y.nonce=_.nonce),_.pendingToken&&(y.pendingToken=_.pendingToken)):_.oauthToken&&_.oauthTokenSecret?(y.accessToken=_.oauthToken,y.secret=_.oauthTokenSecret):Qe("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:k}=y,N=(0,de._T)(y,["providerId","signInMethod"]);if(!D||!k)return null;const re=new Xs(D,k);return re.idToken=N.idToken||void 0,re.accessToken=N.accessToken||void 0,re.secret=N.secret,re.nonce=N.nonce,re.pendingToken=N.pendingToken||null,re}_getIdTokenResponse(_){return pi(_,this.buildRequest())}_linkToIdToken(_,y){const D=this.buildRequest();return D.idToken=y,pi(_,D)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,pi(_,y)}buildRequest(){const _={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)_.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),_.postBody=(0,H.xO)(y)}return _}}function dg(w,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:sendVerificationCode",zt(w,_))})).apply(this,arguments)}function Nl(){return(Nl=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,_))})).apply(this,arguments)}function qd(){return(qd=(0,o.Z)(function*(w,_){const y=yield Zn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,_));if(y.temporaryProof)throw ni(w,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const fg={USER_NOT_FOUND:"user-not-found"};function Wd(){return(Wd=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithPhoneNumber",zt(w,Object.assign(Object.assign({},_),{operation:"REAUTH"})),fg)})).apply(this,arguments)}class Ka extends Cr{constructor(_){super("phone","phone"),this.params=_}static _fromVerification(_,y){return new Ka({verificationId:_,verificationCode:y})}static _fromTokenResponse(_,y){return new Ka({phoneNumber:_,temporaryProof:y})}_getIdTokenResponse(_){return function hg(w,_){return Nl.apply(this,arguments)}(_,this._makeVerificationRequest())}_linkToIdToken(_,y){return function Ya(w,_){return qd.apply(this,arguments)}(_,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(_){return function Zd(w,_){return Wd.apply(this,arguments)}(_,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:_,phoneNumber:y,verificationId:D,verificationCode:k}=this.params;return _&&y?{temporaryProof:_,phoneNumber:y}:{sessionInfo:D,code:k}}toJSON(){const _={providerId:this.providerId};return this.params.phoneNumber&&(_.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(_.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(_.verificationCode=this.params.verificationCode),this.params.verificationId&&(_.verificationId=this.params.verificationId),_}static fromJSON(_){"string"==typeof _&&(_=JSON.parse(_));const{verificationId:y,verificationCode:D,phoneNumber:k,temporaryProof:N}=_;return D||y||k||N?new Ka({verificationId:y,verificationCode:D,phoneNumber:k,temporaryProof:N}):null}}class eo{constructor(_){var y,D,k,N,re,Oe;const ot=(0,H.zd)((0,H.pd)(_)),St=null!==(y=ot.apiKey)&&void 0!==y?y:null,Kt=null!==(D=ot.oobCode)&&void 0!==D?D:null,ci=function pg(w){switch(w){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(k=ot.mode)&&void 0!==k?k:null);ae(St&&Kt&&ci,"argument-error"),this.apiKey=St,this.operation=ci,this.code=Kt,this.continueUrl=null!==(N=ot.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(re=ot.languageCode)&&void 0!==re?re:null,this.tenantId=null!==(Oe=ot.tenantId)&&void 0!==Oe?Oe:null}static parseLink(_){const y=function qf(w){const _=(0,H.zd)((0,H.pd)(w)).link,y=_?(0,H.zd)((0,H.pd)(_)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(w)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||y||_||w}(_);try{return new eo(y)}catch{return null}}}let Ll=(()=>{class w{constructor(){this.providerId=w.PROVIDER_ID}static credential(y,D){return xc._fromEmailAndPassword(y,D)}static credentialWithLink(y,D){const k=eo.parseLink(D);return ae(k,"argument-error"),xc._fromEmailAndCode(y,k.code,k.tenantId)}}return w.PROVIDER_ID="password",w.EMAIL_PASSWORD_SIGN_IN_METHOD="password",w.EMAIL_LINK_SIGN_IN_METHOD="emailLink",w})();class $o{constructor(_){this.providerId=_,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(_){this.defaultLanguageCode=_}setCustomParameters(_){return this.customParameters=_,this}getCustomParameters(){return this.customParameters}}class Gr extends $o{constructor(){super(...arguments),this.scopes=[]}addScope(_){return this.scopes.includes(_)||this.scopes.push(_),this}getScopes(){return[...this.scopes]}}class Qa extends Gr{static credentialFromJSON(_){const y="string"==typeof _?JSON.parse(_):_;return ae("providerId"in y&&"signInMethod"in y,"argument-error"),Xs._fromParams(y)}credential(_){return this._credential(Object.assign(Object.assign({},_),{nonce:_.rawNonce}))}_credential(_){return ae(_.idToken||_.accessToken,"argument-error"),Xs._fromParams(Object.assign(Object.assign({},_),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(_){return Qa.oauthCredentialFromTaggedObject(_)}static credentialFromError(_){return Qa.oauthCredentialFromTaggedObject(_.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:y,oauthAccessToken:D,oauthTokenSecret:k,pendingToken:N,nonce:re,providerId:Oe}=_;if(!D&&!k&&!y&&!N||!Oe)return null;try{return new Qa(Oe)._credential({idToken:y,accessToken:D,nonce:re,pendingToken:N})}catch{return null}}}let Vl=(()=>{class w extends Gr{constructor(){super("facebook.com")}static credential(y){return Xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.FACEBOOK_SIGN_IN_METHOD="facebook.com",w.PROVIDER_ID="facebook.com",w})(),Bl=(()=>{class w extends Gr{constructor(){super("google.com"),this.addScope("profile")}static credential(y,D){return Xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:D,oauthAccessToken:k}=y;if(!D&&!k)return null;try{return w.credential(D,k)}catch{return null}}}return w.GOOGLE_SIGN_IN_METHOD="google.com",w.PROVIDER_ID="google.com",w})(),Zf=(()=>{class w extends Gr{constructor(){super("github.com")}static credential(y){return Xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return w.credential(y.oauthAccessToken)}catch{return null}}}return w.GITHUB_SIGN_IN_METHOD="github.com",w.PROVIDER_ID="github.com",w})();class Qi extends Cr{constructor(_,y){super(_,_),this.pendingToken=y}_getIdTokenResponse(_){return pi(_,this.buildRequest())}_linkToIdToken(_,y){const D=this.buildRequest();return D.idToken=y,pi(_,D)}_getReauthenticationResolver(_){const y=this.buildRequest();return y.autoCreate=!1,pi(_,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(_){const y="string"==typeof _?JSON.parse(_):_,{providerId:D,signInMethod:k,pendingToken:N}=y;return D&&k&&N&&D===k?new Qi(D,N):null}static _create(_,y){return new Qi(_,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class to extends $o{constructor(_){ae(_.startsWith("saml."),"argument-error"),super(_)}static credentialFromResult(_){return to.samlCredentialFromTaggedObject(_)}static credentialFromError(_){return to.samlCredentialFromTaggedObject(_.customData||{})}static credentialFromJSON(_){const y=Qi.fromJSON(_);return ae(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{pendingToken:y,providerId:D}=_;if(!y||!D)return null;try{return Qi._create(D,y)}catch{return null}}}let us=(()=>{class w extends Gr{constructor(){super("twitter.com")}static credential(y,D){return Xs._fromParams({providerId:w.PROVIDER_ID,signInMethod:w.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:D})}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:D,oauthTokenSecret:k}=y;if(!D||!k)return null;try{return w.credential(D,k)}catch{return null}}}return w.TWITTER_SIGN_IN_METHOD="twitter.com",w.PROVIDER_ID="twitter.com",w})();function Kd(w,_){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signUp",zt(w,_))})).apply(this,arguments)}class ur{constructor(_){this.user=_.user,this.providerId=_.providerId,this._tokenResponse=_._tokenResponse,this.operationType=_.operationType}static _fromIdTokenResponse(_,y,D,k=!1){return(0,o.Z)(function*(){const N=yield Ze._fromIdTokenResponse(_,D,k),re=Qd(D);return new ur({user:N,providerId:re,_tokenResponse:D,operationType:y})})()}static _forOperation(_,y,D){return(0,o.Z)(function*(){yield _._updateTokensIfNecessary(D,!0);const k=Qd(D);return new ur({user:_,providerId:k,_tokenResponse:D,operationType:y})})()}}function Qd(w){return w.providerId?w.providerId:"phoneNumber"in w?"phone":null}function Jd(w){return Mc.apply(this,arguments)}function Mc(){return(Mc=(0,o.Z)(function*(w){var _;const y=Xt(w);if(yield y._initializationPromise,null===(_=y.currentUser)||void 0===_?void 0:_.isAnonymous)return new ur({user:y.currentUser,providerId:null,operationType:"signIn"});const D=yield Kd(y,{returnSecureToken:!0}),k=yield ur._fromIdTokenResponse(y,"signIn",D,!0);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class kc extends H.ZR{constructor(_,y,D,k){var N;super(y.code,y.message),this.operationType=D,this.user=k,Object.setPrototypeOf(this,kc.prototype),this.customData={appName:_.name,tenantId:null!==(N=_.tenantId)&&void 0!==N?N:void 0,_serverResponse:y.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(_,y,D,k){return new kc(_,y,D,k)}}function Rc(w,_,y,D){return("reauthenticate"===_?y._getReauthenticationResolver(w):y._getIdTokenResponse(w)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?kc._fromErrorAndOperation(w,N,_,D):N})}function Bu(w){return new Set(w.map(({providerId:_})=>_).filter(_=>!!_))}function no(w,_){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,o.Z)(function*(w,_){const y=(0,H.m9)(w);yield Ho(!0,y,_);const{providerUserInfo:D}=yield ar(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[_]}),k=Bu(D||[]);return y.providerData=y.providerData.filter(N=>k.has(N.providerId)),k.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Mn(w,_){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,o.Z)(function*(w,_,y=!1){const D=yield dt(w,_._linkToIdToken(w.auth,yield w.getIdToken()),y);return ur._forOperation(w,"link",D)})).apply(this,arguments)}function Ho(w,_,y){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,o.Z)(function*(w,_,y){yield ii(_);const k=!1===w?"provider-already-linked":"no-such-provider";ae(Bu(_.providerData).has(y)===w,_.auth,k)})).apply(this,arguments)}function Oc(w,_){return $l.apply(this,arguments)}function $l(){return($l=(0,o.Z)(function*(w,_,y=!1){var D;const{auth:k}=w,N="reauthenticate";try{const re=yield dt(w,Rc(k,N,_,w),y);ae(re.idToken,k,"internal-error");const Oe=Zt(re.idToken);ae(Oe,k,"internal-error");const{sub:ot}=Oe;return ae(w.uid===ot,k,"user-mismatch"),ur._forOperation(w,N,re)}catch(re){throw"auth/user-not-found"===(null===(D=re)||void 0===D?void 0:D.code)&&Qe(k,"user-mismatch"),re}})).apply(this,arguments)}function ma(w,_){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,o.Z)(function*(w,_,y=!1){const D="signIn",k=yield Rc(w,D,_),N=yield ur._fromIdTokenResponse(w,D,k);return y||(yield w._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Pc(w,_){return ri.apply(this,arguments)}function ri(){return(ri=(0,o.Z)(function*(w,_){return ma(Xt(w),_)})).apply(this,arguments)}function io(w,_){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,o.Z)(function*(w,_){const y=(0,H.m9)(w);return yield Ho(!1,y,_.providerId),Mn(y,_)})).apply(this,arguments)}function Ja(w,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,o.Z)(function*(w,_){return Oc((0,H.m9)(w),_)})).apply(this,arguments)}function $u(w,_){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,o.Z)(function*(w,_){return Zn(w,"POST","/v1/accounts:signInWithCustomToken",zt(w,_))})).apply(this,arguments)}function jo(w,_){return Go.apply(this,arguments)}function Go(){return(Go=(0,o.Z)(function*(w,_){const y=Xt(w),D=yield $u(y,{token:_,returnSecureToken:!0}),k=yield ur._fromIdTokenResponse(y,"signIn",D);return yield y._updateCurrentUser(k.user),k})).apply(this,arguments)}class xt{constructor(_,y){this.factorId=_,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(_,y){return"phoneInfo"in y?ga._fromServerResponse(_,y):Qe(_,"internal-error")}}class ga extends xt{constructor(_){super("phone",_),this.phoneNumber=_.phoneInfo}static _fromServerResponse(_,y){return new ga(y)}}function Fc(w,_,y){var D;ae((null===(D=y.url)||void 0===D?void 0:D.length)>0,w,"invalid-continue-uri"),ae(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,w,"invalid-dynamic-link-domain"),_.continueUrl=y.url,_.dynamicLinkDomain=y.dynamicLinkDomain,_.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(ae(y.iOS.bundleId.length>0,w,"missing-ios-bundle-id"),_.iOSBundleId=y.iOS.bundleId),y.android&&(ae(y.android.packageName.length>0,w,"missing-android-pkg-name"),_.androidInstallApp=y.android.installApp,_.androidMinimumVersionCode=y.android.minimumVersion,_.androidPackageName=y.android.packageName)}function Xd(w,_,y){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w),k={requestType:"PASSWORD_RESET",email:_};y&&Fc(D,k,y),yield Vi(D,k)})).apply(this,arguments)}function eh(w,_,y){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,o.Z)(function*(w,_,y){yield Ki((0,H.m9)(w),{oobCode:_,newPassword:y})})).apply(this,arguments)}function Wf(w,_){return zo.apply(this,arguments)}function zo(){return(zo=(0,o.Z)(function*(w,_){yield yn((0,H.m9)(w),{oobCode:_})})).apply(this,arguments)}function Be(w,_){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,o.Z)(function*(w,_){const y=(0,H.m9)(w),D=yield Ki(y,{oobCode:_}),k=D.requestType;switch(ae(k,y,"internal-error"),k){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ae(D.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ae(D.mfaInfo,y,"internal-error");default:ae(D.email,y,"internal-error")}let N=null;return D.mfaInfo&&(N=xt._fromServerResponse(Xt(y),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:N},operation:k}})).apply(this,arguments)}function jl(w,_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,o.Z)(function*(w,_){const{data:y}=yield Be((0,H.m9)(w),_);return y.email})).apply(this,arguments)}function th(w,_,y){return ro.apply(this,arguments)}function ro(){return(ro=(0,o.Z)(function*(w,_,y){const D=Xt(w),k=yield Kd(D,{returnSecureToken:!0,email:_,password:y}),N=yield ur._fromIdTokenResponse(D,"signIn",k);return yield D._updateCurrentUser(N.user),N})).apply(this,arguments)}function As(w,_,y){return Pc((0,H.m9)(w),Ll.credential(_,y))}function Hu(w,_,y){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w),k={requestType:"EMAIL_SIGNIN",email:_};ae(y.handleCodeInApp,D,"argument-error"),y&&Fc(D,k,y),yield Dr(D,k)})).apply(this,arguments)}function Yf(w,_){const y=eo.parseLink(_);return"EMAIL_SIGNIN"===(null==y?void 0:y.operation)}function nh(w,_,y){return ih.apply(this,arguments)}function ih(){return(ih=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w),k=Ll.credentialWithLink(_,y||me());return ae(k._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Pc(D,k)})).apply(this,arguments)}function _a(w,_){return $i.apply(this,arguments)}function $i(){return($i=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:createAuthUri",zt(w,_))})).apply(this,arguments)}function xs(w,_){return el.apply(this,arguments)}function el(){return(el=(0,o.Z)(function*(w,_){const D={identifier:_,continueUri:je()?me():"http://localhost"},{signinMethods:k}=yield _a((0,H.m9)(w),D);return k||[]})).apply(this,arguments)}function tl(w,_){return Or.apply(this,arguments)}function Or(){return(Or=(0,o.Z)(function*(w,_){const y=(0,H.m9)(w),k={requestType:"VERIFY_EMAIL",idToken:yield w.getIdToken()};_&&Fc(y.auth,k,_);const{email:N}=yield Kn(y.auth,k);N!==w.email&&(yield w.reload())})).apply(this,arguments)}function Kf(w,_,y){return nl.apply(this,arguments)}function nl(){return(nl=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield w.getIdToken(),newEmail:_};y&&Fc(D.auth,N,y);const{email:re}=yield Vu(D.auth,N);re!==w.email&&(yield w.reload())})).apply(this,arguments)}function rh(w,_){return zl.apply(this,arguments)}function zl(){return(zl=(0,o.Z)(function*(w,_){return on(w,"POST","/v1/accounts:update",_)})).apply(this,arguments)}function Nc(w,_){return il.apply(this,arguments)}function il(){return(il=(0,o.Z)(function*(w,{displayName:_,photoURL:y}){if(void 0===_&&void 0===y)return;const D=(0,H.m9)(w),N={idToken:yield D.getIdToken(),displayName:_,photoUrl:y,returnSecureToken:!0},re=yield dt(D,rh(D.auth,N));D.displayName=re.displayName||null,D.photoURL=re.photoUrl||null;const Oe=D.providerData.find(({providerId:ot})=>"password"===ot);Oe&&(Oe.displayName=D.displayName,Oe.photoURL=D.photoURL),yield D._updateTokensIfNecessary(re)})).apply(this,arguments)}function sh(w,_){return ju((0,H.m9)(w),_,null)}function oh(w,_){return ju((0,H.m9)(w),null,_)}function ju(w,_,y){return ql.apply(this,arguments)}function ql(){return(ql=(0,o.Z)(function*(w,_,y){const{auth:D}=w,N={idToken:yield w.getIdToken(),returnSecureToken:!0};_&&(N.email=_),y&&(N.password=y);const re=yield dt(w,ha(D,N));yield w._updateTokensIfNecessary(re,!0)})).apply(this,arguments)}class ya{constructor(_,y,D={}){this.isNewUser=_,this.providerId=y,this.profile=D}}class ah extends ya{constructor(_,y,D,k){super(_,y,D),this.username=k}}class Qf extends ya{constructor(_,y){super(_,"facebook.com",y)}}class Lc extends ah{constructor(_,y){super(_,"github.com",y,"string"==typeof(null==y?void 0:y.login)?null==y?void 0:y.login:null)}}class Pr extends ya{constructor(_,y){super(_,"google.com",y)}}class Jf extends ah{constructor(_,y,D){super(_,"twitter.com",y,D)}}function Gu(w){const{user:_,_tokenResponse:y}=w;return _.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Zl(w){var _,y;if(!w)return null;const{providerId:D}=w,k=w.rawUserInfo?JSON.parse(w.rawUserInfo):{},N=w.isNewUser||"identitytoolkit#SignupNewUserResponse"===w.kind;if(!D&&(null==w?void 0:w.idToken)){const re=null===(y=null===(_=Zt(w.idToken))||void 0===_?void 0:_.firebase)||void 0===y?void 0:y.sign_in_provider;if(re)return new ya(N,"anonymous"!==re&&"custom"!==re?re:null)}if(!D)return null;switch(D){case"facebook.com":return new Qf(N,k);case"github.com":return new Lc(N,k);case"google.com":return new Pr(N,k);case"twitter.com":return new Jf(N,k,w.screenName||null);case"custom":case"anonymous":return new ya(N,null);default:return new ya(N,D,k)}}(y)}class so{constructor(_,y,D){this.type=_,this.credential=y,this.auth=D}static _fromIdtoken(_,y){return new so("enroll",_,y)}static _fromMfaPendingCredential(_){return new so("signin",_)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(_){var y,D;if(null==_?void 0:_.multiFactorSession){if(null===(y=_.multiFactorSession)||void 0===y?void 0:y.pendingCredential)return so._fromMfaPendingCredential(_.multiFactorSession.pendingCredential);if(null===(D=_.multiFactorSession)||void 0===D?void 0:D.idToken)return so._fromIdtoken(_.multiFactorSession.idToken)}return null}}class Wl{constructor(_,y,D){this.session=_,this.hints=y,this.signInResolver=D}static _fromError(_,y){const D=Xt(_),k=y.customData._serverResponse,N=(k.mfaInfo||[]).map(Oe=>xt._fromServerResponse(D,Oe));ae(k.mfaPendingCredential,D,"internal-error");const re=so._fromMfaPendingCredential(k.mfaPendingCredential);return new Wl(re,N,function(){var Oe=(0,o.Z)(function*(ot){const St=yield ot._process(D,re);delete k.mfaInfo,delete k.mfaPendingCredential;const Kt=Object.assign(Object.assign({},k),{idToken:St.idToken,refreshToken:St.refreshToken});switch(y.operationType){case"signIn":const ci=yield ur._fromIdTokenResponse(D,y.operationType,Kt);return yield D._updateCurrentUser(ci.user),ci;case"reauthenticate":return ae(y.user,D,"internal-error"),ur._forOperation(y.user,y.operationType,Kt);default:Qe(D,"internal-error")}});return function(ot){return Oe.apply(this,arguments)}}())}resolveSignIn(_){var y=this;return(0,o.Z)(function*(){return y.signInResolver(_)})()}}function Yl(w,_){var y;const D=(0,H.m9)(w),k=_;return ae(_.customData.operationType,D,"argument-error"),ae(null===(y=k.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,D,"argument-error"),Wl._fromError(D,k)}function Ii(w,_){return on(w,"POST","/v2/accounts/mfaEnrollment:start",zt(w,_))}class oo{constructor(_){this.user=_,this.enrolledFactors=[],_._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(D=>xt._fromServerResponse(_.auth,D)))})}static _fromUser(_){return new oo(_)}getSession(){var _=this;return(0,o.Z)(function*(){return so._fromIdtoken(yield _.user.getIdToken(),_.user.auth)})()}enroll(_,y){var D=this;return(0,o.Z)(function*(){const k=_,N=yield D.getSession(),re=yield dt(D.user,k._process(D.user.auth,N,y));return yield D.user._updateTokensIfNecessary(re),D.user.reload()})()}unenroll(_){var y=this;return(0,o.Z)(function*(){var D;const k="string"==typeof _?_:_.uid,N=yield y.user.getIdToken(),re=yield dt(y.user,function yg(w,_){return on(w,"POST","/v2/accounts/mfaEnrollment:withdraw",zt(w,_))}(y.user.auth,{idToken:N,mfaEnrollmentId:k}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Oe})=>Oe!==k),yield y.user._updateTokensIfNecessary(re);try{yield y.user.reload()}catch(Oe){if("auth/user-token-expired"!==(null===(D=Oe)||void 0===D?void 0:D.code))throw Oe}})()}}const rl=new WeakMap;function hh(w){const _=(0,H.m9)(w);return rl.has(_)||rl.set(_,oo._fromUser(_)),rl.get(_)}const ba="__sak";class qo{constructor(_,y){this.storageRetriever=_,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(_,y){return this.storage.setItem(_,JSON.stringify(y)),Promise.resolve()}_get(_){const y=this.storage.getItem(_);return Promise.resolve(y?JSON.parse(y):null)}_remove(_){return this.storage.removeItem(_),Promise.resolve()}get storage(){return this.storageRetriever()}}const Fr=(()=>{class w extends qo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,D)=>this.onStorageEvent(y,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Vc(){const w=(0,H.z$)();return Q(w)||qt(w)}()&&function Yi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=nn(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const D of Object.keys(this.listeners)){const k=this.storage.getItem(D),N=this.localCache[D];k!==N&&y(D,N,k)}}onStorageEvent(y,D=!1){if(!y.key)return void this.forAllChangedKeys((Oe,ot,St)=>{this.notifyListeners(Oe,St)});const k=y.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Oe=this.storage.getItem(k);if(y.newValue!==Oe)null!==y.newValue?this.storage.setItem(k,y.newValue):this.storage.removeItem(k);else if(this.localCache[k]===y.newValue&&!D)return}const N=()=>{const Oe=this.storage.getItem(k);!D&&this.localCache[k]===Oe||this.notifyListeners(k,Oe)},re=this.storage.getItem(k);!function st(){return(0,H.w1)()&&10===document.documentMode}()||re===y.newValue||y.newValue===y.oldValue?N():setTimeout(N,10)}notifyListeners(y,D){this.localCache[y]=D;const k=this.listeners[y];if(k)for(const N of Array.from(k))N(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,D,k)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:D,newValue:k}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,D){var k=()=>super._set,N=this;return(0,o.Z)(function*(){yield k().call(N,y,D),N.localCache[y]=JSON.stringify(D)})()}_get(y){var D=()=>super._get,k=this;return(0,o.Z)(function*(){const N=yield D().call(k,y);return k.localCache[y]=JSON.stringify(N),N})()}_remove(y){var D=()=>super._remove,k=this;return(0,o.Z)(function*(){yield D().call(k,y),delete k.localCache[y]})()}}return w.type="LOCAL",w})(),Bc=(()=>{class w extends qo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,D){}_removeListener(y,D){}}return w.type="SESSION",w})();let sl=(()=>{class w{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const D=this.receivers.find(N=>N.isListeningto(y));if(D)return D;const k=new w(y);return this.receivers.push(k),k}isListeningto(y){return this.eventTarget===y}handleEvent(y){var D=this;return(0,o.Z)(function*(){const k=y,{eventId:N,eventType:re,data:Oe}=k.data,ot=D.handlersMap[re];if(!(null==ot?void 0:ot.size))return;k.ports[0].postMessage({status:"ack",eventId:N,eventType:re});const St=Array.from(ot).map(function(){var ci=(0,o.Z)(function*(zr){return zr(k.origin,Oe)});return function(zr){return ci.apply(this,arguments)}}()),Kt=yield function qu(w){return Promise.all(w.map(function(){var _=(0,o.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(D){return{fulfilled:!1,reason:D}}});return function(y){return _.apply(this,arguments)}}()))}(St);k.ports[0].postMessage({status:"done",eventId:N,eventType:re,response:Kt})})()}_subscribe(y,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(D)}_unsubscribe(y,D){this.handlersMap[y]&&D&&this.handlersMap[y].delete(D),(!D||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return w.receivers=[],w})();function ol(w="",_=10){let y="";for(let D=0;D<_;D++)y+=Math.floor(10*Math.random());return w+y}class ao{constructor(_){this.target=_,this.handlers=new Set}removeMessageHandler(_){_.messageChannel&&(_.messageChannel.port1.removeEventListener("message",_.onMessage),_.messageChannel.port1.close()),this.handlers.delete(_)}_send(_,y,D=50){var k=this;return(0,o.Z)(function*(){const N=typeof MessageChannel<"u"?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let re,Oe;return new Promise((ot,St)=>{const Kt=ol("",20);N.port1.start();const ci=setTimeout(()=>{St(new Error("unsupported_event"))},D);Oe={messageChannel:N,onMessage(zr){const ta=zr;if(ta.data.eventId===Kt)switch(ta.data.status){case"ack":clearTimeout(ci),re=setTimeout(()=>{St(new Error("timeout"))},3e3);break;case"done":clearTimeout(re),ot(ta.data.response);break;default:clearTimeout(ci),clearTimeout(re),St(new Error("invalid_response"))}}},k.handlers.add(Oe),N.port1.addEventListener("message",Oe.onMessage),k.target.postMessage({eventType:_,eventId:Kt,data:y},[N.port2])}).finally(()=>{Oe&&k.removeMessageHandler(Oe)})})()}}function fn(){return window}function ct(){return typeof fn().WorkerGlobalScope<"u"&&"function"==typeof fn().importScripts}function Zo(){return(Zo=(0,o.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const $c="firebaseLocalStorageDb",Ms="firebaseLocalStorage",li="fbase_key";class wa{constructor(_){this.request=_}toPromise(){return new Promise((_,y)=>{this.request.addEventListener("success",()=>{_(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function lo(w,_){return w.transaction([Ms],_?"readwrite":"readonly").objectStore(Ms)}function Wo(){const w=indexedDB.open($c,1);return new Promise((_,y)=>{w.addEventListener("error",()=>{y(w.error)}),w.addEventListener("upgradeneeded",()=>{const D=w.result;try{D.createObjectStore(Ms,{keyPath:li})}catch(k){y(k)}}),w.addEventListener("success",(0,o.Z)(function*(){const D=w.result;D.objectStoreNames.contains(Ms)?_(D):(D.close(),yield function jc(){const w=indexedDB.deleteDatabase($c);return new wa(w).toPromise()}(),_(yield Wo()))}))})}function ph(w,_,y){return ks.apply(this,arguments)}function ks(){return(ks=(0,o.Z)(function*(w,_,y){const D=lo(w,!0).put({[li]:_,value:y});return new wa(D).toPromise()})).apply(this,arguments)}function Ca(){return(Ca=(0,o.Z)(function*(w,_){const y=lo(w,!1).get(_),D=yield new wa(y).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Qn(w,_){const y=lo(w,!0).delete(_);return new wa(y).toPromise()}const ho=(()=>{class w{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,o.Z)(function*(){return y.db||(y.db=yield Wo()),y.db})()}_withRetries(y){var D=this;return(0,o.Z)(function*(){let k=0;for(;;)try{const N=yield D._openDb();return yield y(N)}catch(N){if(k++>3)throw N;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,o.Z)(function*(){return ct()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,o.Z)(function*(){y.receiver=sl._getInstance(function Zu(){return ct()?self:null}()),y.receiver._subscribe("keyChanged",function(){var D=(0,o.Z)(function*(k,N){return{keyProcessed:(yield y._poll()).includes(N.key)}});return function(k,N){return D.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var D=(0,o.Z)(function*(k,N){return["keyChanged"]});return function(k,N){return D.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,o.Z)(function*(){var D,k;if(y.activeServiceWorker=yield function Uc(){return Zo.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new ao(y.activeServiceWorker);const N=yield y.sender._send("ping",{},800);!N||(null===(D=N[0])||void 0===D?void 0:D.fulfilled)&&(null===(k=N[0])||void 0===k?void 0:k.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var D=this;return(0,o.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function fh(){var w;return(null===(w=null==navigator?void 0:navigator.serviceWorker)||void 0===w?void 0:w.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:y},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,o.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Wo();return yield ph(y,ba,"1"),yield Qn(y,ba),!0}catch{}return!1})()}_withPendingWrite(y){var D=this;return(0,o.Z)(function*(){D.pendingWrites++;try{yield y()}finally{D.pendingWrites--}})()}_set(y,D){var k=this;return(0,o.Z)(function*(){return k._withPendingWrite((0,o.Z)(function*(){return yield k._withRetries(N=>ph(N,y,D)),k.localCache[y]=D,k.notifyServiceWorker(y)}))})()}_get(y){var D=this;return(0,o.Z)(function*(){const k=yield D._withRetries(N=>function co(w,_){return Ca.apply(this,arguments)}(N,y));return D.localCache[y]=k,k})()}_remove(y){var D=this;return(0,o.Z)(function*(){return D._withPendingWrite((0,o.Z)(function*(){return yield D._withRetries(k=>Qn(k,y)),delete D.localCache[y],D.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,o.Z)(function*(){const D=yield y._withRetries(re=>{const Oe=lo(re,!1).getAll();return new wa(Oe).toPromise()});if(!D)return[];if(0!==y.pendingWrites)return[];const k=[],N=new Set;for(const{fbase_key:re,value:Oe}of D)N.add(re),JSON.stringify(y.localCache[re])!==JSON.stringify(Oe)&&(y.notifyListeners(re,Oe),k.push(re));for(const re of Object.keys(y.localCache))y.localCache[re]&&!N.has(re)&&(y.notifyListeners(re,null),k.push(re));return k})()}notifyListeners(y,D){this.localCache[y]=D;const k=this.listeners[y];if(k)for(const N of Array.from(k))N(D)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,o.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(D)}_removeListener(y,D){this.listeners[y]&&(this.listeners[y].delete(D),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return w.type="LOCAL",w})();function gh(w,_){return on(w,"POST","/v2/accounts/mfaSignIn:start",zt(w,_))}function ji(){return(ji=(0,o.Z)(function*(w){return(yield on(w,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function al(w){return new Promise((_,y)=>{const D=document.createElement("script");D.setAttribute("src",w),D.onload=_,D.onerror=k=>{const N=Ue("internal-error");N.customData=k,y(N)},D.type="text/javascript",D.charset="UTF-8",function Gc(){var w,_;return null!==(_=null===(w=document.getElementsByTagName("head"))||void 0===w?void 0:w[0])&&void 0!==_?_:document}().appendChild(D)})}function Yo(w){return`__${w}${Math.floor(1e6*Math.random())}`}const Si=1e12;class Ql{constructor(_){this.auth=_,this.counter=Si,this._widgets=new Map}render(_,y){const D=this.counter;return this._widgets.set(D,new Yu(_,this.auth.name,y||{})),this.counter++,D}reset(_){var y;const D=_||Si;null===(y=this._widgets.get(D))||void 0===y||y.delete(),this._widgets.delete(D)}getResponse(_){var y;return(null===(y=this._widgets.get(_||Si))||void 0===y?void 0:y.getResponse())||""}execute(_){var y=this;return(0,o.Z)(function*(){var D;return null===(D=y._widgets.get(_||Si))||void 0===D||D.execute(),""})()}}class Yu{constructor(_,y,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const k="string"==typeof _?document.getElementById(_):_;ae(k,"argument-error",{appName:y}),this.container=k,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ll(w){const _=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<w;D++)_.push(y.charAt(Math.floor(Math.random()*y.length)));return _.join("")}(50);const{callback:_,"expired-callback":y}=this.params;if(_)try{_(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ku=Yo("rcb"),Xf=new et(3e4,6e4);class _h{constructor(){var _;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(_=fn().grecaptcha)||void 0===_?void 0:_.render)}load(_,y=""){return ae(function zc(w){return w.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(w)}(y),_,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(fn().grecaptcha):new Promise((D,k)=>{const N=fn().setTimeout(()=>{k(Ue(_,"network-request-failed"))},Xf.get());fn()[Ku]=()=>{fn().clearTimeout(N),delete fn()[Ku];const Oe=fn().grecaptcha;if(!Oe)return void k(Ue(_,"internal-error"));const ot=Oe.render;Oe.render=(St,Kt)=>{const ci=ot(St,Kt);return this.counter++,ci},this.hostLanguage=y,D(Oe)},al(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:Ku,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(N),k(Ue(_,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(_){var y;return!!(null===(y=fn().grecaptcha)||void 0===y?void 0:y.render)&&(_===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class bg{load(_){return(0,o.Z)(function*(){return new Ql(_)})()}clearedOneInstance(){}}const ep="recaptcha",wg={theme:"light",type:"image"};class tp{constructor(_,y=Object.assign({},wg),D){this.parameters=y,this.type=ep,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xt(D),this.isInvisible="invisible"===this.parameters.size,ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const k="string"==typeof _?document.getElementById(_):_;ae(k,this.auth,"argument-error"),this.container=k,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new bg:new _h,this.validateStartingState()}verify(){var _=this;return(0,o.Z)(function*(){_.assertNotDestroyed();const y=yield _.render(),D=_.getAssertedRecaptcha();return D.getResponse(y)||new Promise(N=>{const re=Oe=>{!Oe||(_.tokenChangeListeners.delete(re),N(Oe))};_.tokenChangeListeners.add(re),_.isInvisible&&D.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(_){return Promise.reject(_)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(_=>{throw this.renderPromise=null,_})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(_=>{this.container.removeChild(_)})}validateStartingState(){ae(!this.parameters.sitekey,this.auth,"argument-error"),ae(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ae(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(_){return y=>{if(this.tokenChangeListeners.forEach(D=>D(y)),"function"==typeof _)_(y);else if("string"==typeof _){const D=fn()[_];"function"==typeof D&&D(y)}}}assertNotDestroyed(){ae(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var _=this;return(0,o.Z)(function*(){if(yield _.init(),!_.widgetId){let y=_.container;if(!_.isInvisible){const D=document.createElement("div");y.appendChild(D),y=D}_.widgetId=_.getAssertedRecaptcha().render(y,_.parameters)}return _.widgetId})()}init(){var _=this;return(0,o.Z)(function*(){ae(je()&&!ct(),_.auth,"internal-error"),yield function yh(){let w=null;return new Promise(_=>{"complete"!==document.readyState?(w=()=>_(),window.addEventListener("load",w)):_()}).catch(_=>{throw w&&window.removeEventListener("load",w),_})}(),_.recaptcha=yield _._recaptchaLoader.load(_.auth,_.auth.languageCode||void 0);const y=yield function Wu(w){return ji.apply(this,arguments)}(_.auth);ae(y,_.auth,"internal-error"),_.parameters.sitekey=y})()}getAssertedRecaptcha(){return ae(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qo{constructor(_,y){this.verificationId=_,this.onConfirmation=y}confirm(_){const y=Ka._fromVerification(this.verificationId,_);return this.onConfirmation(y)}}function Cg(w,_,y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,o.Z)(function*(w,_,y){const D=Xt(w),k=yield Ir(D,_,(0,H.m9)(y));return new Qo(k,N=>Pc(D,N))})).apply(this,arguments)}function Ti(w,_,y){return er.apply(this,arguments)}function er(){return(er=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w);yield Ho(!1,D,"phone");const k=yield Ir(D.auth,_,(0,H.m9)(y));return new Qo(k,N=>io(D,N))})).apply(this,arguments)}function np(w,_,y){return vh.apply(this,arguments)}function vh(){return(vh=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w),k=yield Ir(D.auth,_,(0,H.m9)(y));return new Qo(k,N=>Ja(D,N))})).apply(this,arguments)}function Ir(w,_,y){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,o.Z)(function*(w,_,y){var D;const k=yield y.verify();try{let N;if(ae("string"==typeof k,w,"argument-error"),ae(y.type===ep,w,"argument-error"),N="string"==typeof _?{phoneNumber:_}:_,"session"in N){const re=N.session;if("phoneNumber"in N)return ae("enroll"===re.type,w,"internal-error"),(yield Ii(w,{idToken:re.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:k}})).phoneSessionInfo.sessionInfo;{ae("signin"===re.type,w,"internal-error");const Oe=(null===(D=N.multiFactorHint)||void 0===D?void 0:D.uid)||N.multiFactorUid;return ae(Oe,w,"missing-multi-factor-info"),(yield gh(w,{mfaPendingCredential:re.credential,mfaEnrollmentId:Oe,phoneSignInInfo:{recaptchaToken:k}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:re}=yield dg(w,{phoneNumber:N.phoneNumber,recaptchaToken:k});return re}}finally{y._reset()}})).apply(this,arguments)}function cl(w,_){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,o.Z)(function*(w,_){yield Mn((0,H.m9)(w),_)})).apply(this,arguments)}let Jo=(()=>{class w{constructor(y){this.providerId=w.PROVIDER_ID,this.auth=Xt(y)}verifyPhoneNumber(y,D){return Ir(this.auth,y,(0,H.m9)(D))}static credential(y,D){return Ka._fromVerification(y,D)}static credentialFromResult(y){return w.credentialFromTaggedObject(y)}static credentialFromError(y){return w.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:D,temporaryProof:k}=y;return D&&k?Ka._fromTokenResponse(D,k):null}}return w.PROVIDER_ID="phone",w.PHONE_SIGN_IN_METHOD="phone",w})();function Xo(w,_){return _?le(_):(ae(w._popupRedirectResolver,w,"argument-error"),w._popupRedirectResolver)}class ul extends Cr{constructor(_){super("custom","custom"),this.params=_}_getIdTokenResponse(_){return pi(_,this._buildIdpRequest())}_linkToIdToken(_,y){return pi(_,this._buildIdpRequest(y))}_getReauthenticationResolver(_){return pi(_,this._buildIdpRequest())}_buildIdpRequest(_){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return _&&(y.idToken=_),y}}function ip(w){return ma(w.auth,new ul(w),w.bypassAuthState)}function Qy(w){const{auth:_,user:y}=w;return ae(y,_,"internal-error"),Oc(y,new ul(w),w.bypassAuthState)}function rp(w){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,o.Z)(function*(w){const{auth:_,user:y}=w;return ae(y,_,"internal-error"),Mn(y,new ul(w),w.bypassAuthState)})).apply(this,arguments)}class dr{constructor(_,y,D,k,N=!1){this.auth=_,this.resolver=D,this.user=k,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var _=this;return new Promise(function(){var y=(0,o.Z)(function*(D,k){_.pendingPromise={resolve:D,reject:k};try{_.eventManager=yield _.resolver._initialize(_.auth),yield _.onExecution(),_.eventManager.registerConsumer(_)}catch(N){_.reject(N)}});return function(D,k){return y.apply(this,arguments)}}())}onAuthEvent(_){var y=this;return(0,o.Z)(function*(){const{urlResponse:D,sessionId:k,postBody:N,tenantId:re,error:Oe,type:ot}=_;if(Oe)return void y.reject(Oe);const St={auth:y.auth,requestUri:D,sessionId:k,tenantId:re||void 0,postBody:N||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(ot)(St))}catch(Kt){y.reject(Kt)}})()}onError(_){this.reject(_)}getIdpTask(_){switch(_){case"signInViaPopup":case"signInViaRedirect":return ip;case"linkViaPopup":case"linkViaRedirect":return rp;case"reauthViaPopup":case"reauthViaRedirect":return Qy;default:Qe(this.auth,"internal-error")}}resolve(_){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(_),this.unregisterAndCleanUp()}reject(_){Se(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(_),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const qc=new et(2e3,1e4);function Da(w,_,y){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,o.Z)(function*(w,_,y){const D=Xt(w);Ae(w,_,$o);const k=Xo(D,y);return new dl(D,"signInViaPopup",_,k).executeNotNull()})).apply(this,arguments)}function Xl(w,_,y){return bh.apply(this,arguments)}function bh(){return(bh=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w);Ae(D.auth,_,$o);const k=Xo(D.auth,y);return new dl(D.auth,"reauthViaPopup",_,k,D).executeNotNull()})).apply(this,arguments)}function Eg(w,_,y){return wh.apply(this,arguments)}function wh(){return(wh=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w);Ae(D.auth,_,$o);const k=Xo(D.auth,y);return new dl(D.auth,"linkViaPopup",_,k,D).executeNotNull()})).apply(this,arguments)}let dl=(()=>{class w extends dr{constructor(y,D,k,N,re){super(y,D,N,re),this.provider=k,this.authWindow=null,this.pollId=null,w.currentPopupAction&&w.currentPopupAction.cancel(),w.currentPopupAction=this}executeNotNull(){var y=this;return(0,o.Z)(function*(){const D=yield y.execute();return ae(D,y.auth,"internal-error"),D})()}onExecution(){var y=this;return(0,o.Z)(function*(){Se(1===y.filter.length,"Popup operations only handle one event");const D=ol();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],D),y.authWindow.associatedEvent=D,y.resolver._originValidation(y.auth).catch(k=>{y.reject(k)}),y.resolver._isIframeWebStorageSupported(y.auth,k=>{k||y.reject(Ue(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,w.currentPopupAction=null}pollUserCancellation(){const y=()=>{var D,k;this.pollId=(null===(k=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===k?void 0:k.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,qc.get())};y()}}return w.currentPopupAction=null,w})();const Tr=new Map;class Ia extends dr{constructor(_,y,D=!1){super(_,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,D),this.eventId=null}execute(){var _=()=>super.execute,y=this;return(0,o.Z)(function*(){let D=Tr.get(y.auth._key());if(!D){try{const N=(yield function Wc(w,_){return Yc.apply(this,arguments)}(y.resolver,y.auth))?yield _().call(y):null;D=()=>Promise.resolve(N)}catch(k){D=()=>Promise.reject(k)}Tr.set(y.auth._key(),D)}return y.bypassAuthState||Tr.set(y.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(_){var y=()=>super.onAuthEvent,D=this;return(0,o.Z)(function*(){if("signInViaRedirect"===_.type)return y().call(D,_);if("unknown"!==_.type){if(_.eventId){const k=yield D.auth._redirectUserForId(_.eventId);if(k)return D.user=k,y().call(D,_);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,o.Z)(function*(){})()}cleanUp(){}}function Yc(){return(Yc=(0,o.Z)(function*(w,_){const y=Kc(_),D=sp(w);if(!(yield D._isAvailable()))return!1;const k="true"===(yield D._get(y));return yield D._remove(y),k})).apply(this,arguments)}function tr(w,_){return tc.apply(this,arguments)}function tc(){return(tc=(0,o.Z)(function*(w,_){return sp(w)._set(Kc(_),"true")})).apply(this,arguments)}function Os(){Tr.clear()}function Qu(w,_){Tr.set(w._key(),_)}function sp(w){return le(w._redirectPersistence)}function Kc(w){return an("pendingRedirect",w.config.apiKey,w.name)}function Ch(w,_,y){return function Dg(w,_,y){return hl.apply(this,arguments)}(w,_,y)}function hl(){return(hl=(0,o.Z)(function*(w,_,y){const D=Xt(w);Ae(w,_,$o);const k=Xo(D,y);return yield tr(k,D),k._openRedirect(D,_,"signInViaRedirect")})).apply(this,arguments)}function S(w,_,y){return function T(w,_,y){return R.apply(this,arguments)}(w,_,y)}function R(){return(R=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w);Ae(D.auth,_,$o);const k=Xo(D.auth,y);yield tr(k,D.auth);const N=yield Ft(D);return k._openRedirect(D.auth,_,"reauthViaRedirect",N)})).apply(this,arguments)}function $(w,_,y){return function te(w,_,y){return he.apply(this,arguments)}(w,_,y)}function he(){return(he=(0,o.Z)(function*(w,_,y){const D=(0,H.m9)(w);Ae(D.auth,_,$o);const k=Xo(D.auth,y);yield Ho(!1,D,_.providerId),yield tr(k,D.auth);const N=yield Ft(D);return k._openRedirect(D.auth,_,"linkViaRedirect",N)})).apply(this,arguments)}function Fe(w,_){return nt.apply(this,arguments)}function nt(){return(nt=(0,o.Z)(function*(w,_){return yield Xt(w)._initializationPromise,Et(w,_,!1)})).apply(this,arguments)}function Et(w,_){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,o.Z)(function*(w,_,y=!1){const D=Xt(w),k=Xo(D,_),re=yield new Ia(D,k,y).execute();return re&&!y&&(delete re.user._redirectEventId,yield D._persistUserIfCurrent(re.user),yield D._setRedirectUser(null,_)),re})).apply(this,arguments)}function Ft(w){return ht.apply(this,arguments)}function ht(){return(ht=(0,o.Z)(function*(w){const _=ol(`${w.uid}:::`);return w._redirectEventId=_,yield w.auth._setRedirectUser(w),yield w.auth._persistUserIfCurrent(w),_})).apply(this,arguments)}class Ai{constructor(_){this.auth=_,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(_){this.consumers.add(_),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,_)&&(this.sendToConsumer(this.queuedRedirectEvent,_),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(_){this.consumers.delete(_)}onEvent(_){if(this.hasEventBeenHandled(_))return!1;let y=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(_,D)&&(y=!0,this.sendToConsumer(_,D),this.saveEventToCache(_))}),this.hasHandledPotentialRedirect||!function Ps(w){switch(w.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ea(w);default:return!1}}(_)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=_,y=!0)),y}sendToConsumer(_,y){var D;if(_.error&&!ea(_)){const k=(null===(D=_.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";y.onError(Ue(this.auth,k))}else y.onAuthEvent(_)}isEventForConsumer(_,y){const D=null===y.eventId||!!_.eventId&&_.eventId===y.eventId;return y.filter.includes(_.type)&&D}hasEventBeenHandled(_){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sa(_))}saveEventToCache(_){this.cachedEventUids.add(Sa(_)),this.lastProcessedEventTime=Date.now()}}function Sa(w){return[w.type,w.eventId,w.sessionId,w.tenantId].filter(_=>_).join("-")}function ea({type:w,error:_}){return"unknown"===w&&"auth/no-auth-event"===(null==_?void 0:_.code)}function fl(w){return fo.apply(this,arguments)}function fo(){return(fo=(0,o.Z)(function*(w,_={}){return on(w,"GET","/v1/projects",_)})).apply(this,arguments)}const pl=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,po=/^https?/;function mo(){return(mo=(0,o.Z)(function*(w){if(w.config.emulator)return;const{authorizedDomains:_}=yield fl(w);for(const y of _)try{if(Ig(y))return}catch{}Qe(w,"unauthorized-domain")})).apply(this,arguments)}function Ig(w){const _=me(),{protocol:y,hostname:D}=new URL(_);if(w.startsWith("chrome-extension://")){const re=new URL(w);return""===re.hostname&&""===D?"chrome-extension:"===y&&w.replace("chrome-extension://","")===_.replace("chrome-extension://",""):"chrome-extension:"===y&&re.hostname===D}if(!po.test(y))return!1;if(pl.test(w))return D===w;const k=w.replace(/\./g,"\\.");return new RegExp("^(.+\\."+k+"|"+k+")$","i").test(D)}const Jy=new et(3e4,6e4);function Ju(){const w=fn().___jsl;if(null==w?void 0:w.H)for(const _ of Object.keys(w.H))if(w.H[_].r=w.H[_].r||[],w.H[_].L=w.H[_].L||[],w.H[_].r=[...w.H[_].L],w.CP)for(let y=0;y<w.CP.length;y++)w.CP[y]=null}let nc=null;function Xu(w){return nc=nc||function Gn(w){return new Promise((_,y)=>{var D,k,N;function re(){Ju(),gapi.load("gapi.iframes",{callback:()=>{_(gapi.iframes.getContext())},ontimeout:()=>{Ju(),y(Ue(w,"network-request-failed"))},timeout:Jy.get()})}if(null===(k=null===(D=fn().gapi)||void 0===D?void 0:D.iframes)||void 0===k?void 0:k.Iframe)_(gapi.iframes.getContext());else{if(!(null===(N=fn().gapi)||void 0===N?void 0:N.load)){const Oe=Yo("iframefcb");return fn()[Oe]=()=>{gapi.load?re():y(Ue(w,"network-request-failed"))},al(`https://apis.google.com/js/api.js?onload=${Oe}`).catch(ot=>y(ot))}re()}}).catch(_=>{throw nc=null,_})}(w),nc}const Xy=new et(5e3,15e3),Eh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},td=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eC(w){const _=w.config;ae(_.authDomain,w,"auth-domain-config-required");const y=_.emulator?En(_,"emulator/auth/iframe"):`https://${w.config.authDomain}/__/auth/iframe`,D={apiKey:_.apiKey,appName:w.name,v:F.SDK_VERSION},k=td.get(w.config.apiHost);k&&(D.eid=k);const N=w._getFrameworks();return N.length&&(D.fw=N.join(",")),`${y}?${(0,H.xO)(D).slice(1)}`}function ev(){return ev=(0,o.Z)(function*(w){const _=yield Xu(w),y=fn().gapi;return ae(y,w,"internal-error"),_.open({where:document.body,url:eC(w),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eh,dontclear:!0},D=>new Promise(function(){var k=(0,o.Z)(function*(N,re){yield D.restyle({setHideOnLeave:!1});const Oe=Ue(w,"network-request-failed"),ot=fn().setTimeout(()=>{re(Oe)},Xy.get());function St(){fn().clearTimeout(ot),N(D)}D.ping(St).then(St,()=>{re(Oe)})});return function(N,re){return k.apply(this,arguments)}}()))}),ev.apply(this,arguments)}const Dh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Fs{constructor(_){this.window=_,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Th(w,_,y,D,k,N){ae(w.config.authDomain,w,"auth-domain-config-required"),ae(w.config.apiKey,w,"invalid-api-key");const re={apiKey:w.config.apiKey,appName:w.name,authType:y,redirectUrl:D,v:F.SDK_VERSION,eventId:k};if(_ instanceof $o){_.setDefaultLanguage(w.languageCode),re.providerId=_.providerId||"",(0,H.xb)(_.getCustomParameters())||(re.customParameters=JSON.stringify(_.getCustomParameters()));for(const[ot,St]of Object.entries(N||{}))re[ot]=St}if(_ instanceof Gr){const ot=_.getScopes().filter(St=>""!==St);ot.length>0&&(re.scopes=ot.join(","))}w.tenantId&&(re.tid=w.tenantId);const Oe=re;for(const ot of Object.keys(Oe))void 0===Oe[ot]&&delete Oe[ot];return`${function Ta({config:w}){return w.emulator?En(w,"emulator/auth/handler"):`https://${w.authDomain}/__/auth/handler`}(w)}?${(0,H.xO)(Oe).slice(1)}`}const Aa="webStorageSupport",ap=class Ag{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Bc,this._completeRedirectFn=Et,this._overrideRedirectResult=Qu}_openPopup(_,y,D,k){var N=this;return(0,o.Z)(function*(){var re;Se(null===(re=N.eventManagers[_._key()])||void 0===re?void 0:re.manager,"_initialize() not called before _openPopup()");const Oe=Th(_,y,D,me(),k);return function tv(w,_,y,D=500,k=600){const N=Math.max((window.screen.availHeight-k)/2,0).toString(),re=Math.max((window.screen.availWidth-D)/2,0).toString();let Oe="";const ot=Object.assign(Object.assign({},Dh),{width:D.toString(),height:k.toString(),top:N,left:re}),St=(0,H.z$)().toLowerCase();y&&(Oe=Me(St)?"_blank":y),X(St)&&(_=_||"http://localhost",ot.scrollbars="yes");const Kt=Object.entries(ot).reduce((zr,[ta,ic])=>`${zr}${ta}=${ic},`,"");if(function Ke(w=(0,H.z$)()){var _;return qt(w)&&!!(null===(_=window.navigator)||void 0===_?void 0:_.standalone)}(St)&&"_self"!==Oe)return function Tg(w,_){const y=document.createElement("a");y.href=w,y.target=_;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(D)}(_||"",Oe),new Fs(null);const ci=window.open(_||"",Oe,Kt);ae(ci,w,"popup-blocked");try{ci.focus()}catch{}return new Fs(ci)}(_,Oe,ol())})()}_openRedirect(_,y,D,k){var N=this;return(0,o.Z)(function*(){return yield N._originValidation(_),function Hn(w){fn().location.href=w}(Th(_,y,D,me(),k)),new Promise(()=>{})})()}_initialize(_){const y=_._key();if(this.eventManagers[y]){const{manager:k,promise:N}=this.eventManagers[y];return k?Promise.resolve(k):(Se(N,"If manager is not set, promise should be"),N)}const D=this.initAndGetManager(_);return this.eventManagers[y]={promise:D},D.catch(()=>{delete this.eventManagers[y]}),D}initAndGetManager(_){var y=this;return(0,o.Z)(function*(){const D=yield function tC(w){return ev.apply(this,arguments)}(_),k=new Ai(_);return D.register("authEvent",N=>(ae(null==N?void 0:N.authEvent,_,"invalid-auth-event"),{status:k.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[_._key()]={manager:k},y.iframes[_._key()]=D,k})()}_isIframeWebStorageSupported(_,y){this.iframes[_._key()].send(Aa,{type:Aa},k=>{var N;const re=null===(N=null==k?void 0:k[0])||void 0===N?void 0:N[Aa];void 0!==re&&y(!!re),Qe(_,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(_){const y=_._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function ds(w){return mo.apply(this,arguments)}(_)),this.originValidationPromises[y]}get _shouldInitProactively(){return nn()||Q()||qt()}};class cp extends class lp{constructor(_){this.factorId=_}_process(_,y,D){switch(y.type){case"enroll":return this._finalizeEnroll(_,y.credential,D);case"signin":return this._finalizeSignIn(_,y.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(_){super("phone"),this.credential=_}static _fromCredential(_){return new cp(_)}_finalizeEnroll(_,y,D){return function dh(w,_){return on(w,"POST","/v2/accounts/mfaEnrollment:finalize",zt(w,_))}(_,{idToken:y,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(_,y){return function Kl(w,_){return on(w,"POST","/v2/accounts/mfaSignIn:finalize",zt(w,_))}(_,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xg=(()=>{class w{constructor(){}static assertion(y){return cp._fromCredential(y)}}return w.FACTOR_ID="phone",w})();var Mg="@firebase/auth";class iv{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var y=this;return(0,o.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const y=this.auth.onIdTokenChanged(D=>{var k;_((null===(k=D)||void 0===k?void 0:k.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,y),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const y=this.internalListeners.get(_);!y||(this.internalListeners.delete(_),y(),this.updateProactiveRefresh())}assertAuthConfigured(){ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function rv(w){(0,F._registerComponent)(new we.wA("auth",(_,{options:y})=>{const D=_.getProvider("app").getImmediate(),k=_.getProvider("heartbeat"),{apiKey:N,authDomain:re}=D.options;return((Oe,ot)=>{ae(N&&!N.includes(":"),"invalid-api-key",{appName:Oe.name}),ae(!(null==re?void 0:re.includes(":")),"argument-error",{appName:Oe.name});const St={apiKey:N,authDomain:re,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:No(w)},Kt=new Lo(Oe,ot,St);return function Ee(w,_){const y=(null==_?void 0:_.persistence)||[],D=(Array.isArray(y)?y:[y]).map(le);(null==_?void 0:_.errorMap)&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(D,null==_?void 0:_.popupRedirectResolver)}(Kt,y),Kt})(D,k)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,y,D)=>{_.getProvider("auth-internal").initialize()})),(0,F._registerComponent)(new we.wA("auth-internal",_=>{const y=Xt(_.getProvider("auth").getImmediate());return new iv(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,F.registerVersion)(Mg,"0.20.7",function Ah(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,F.registerVersion)(Mg,"0.20.7","esm2017")}("Browser")},2090:(yt,Pe,V)=>{V.d(Pe,{$s:()=>ii,BH:()=>Ye,DV:()=>on,Dv:()=>lr,G6:()=>ae,GJ:()=>dn,L:()=>pe,LL:()=>me,Pz:()=>Gt,Sg:()=>Ne,UG:()=>ve,UI:()=>as,US:()=>we,Wj:()=>Ei,Yr:()=>Je,ZB:()=>Z,ZR:()=>Ee,b$:()=>Qe,cI:()=>rn,dS:()=>Zt,eu:()=>Se,g5:()=>F,gK:()=>Ci,gQ:()=>Ss,h$:()=>se,hl:()=>ye,hu:()=>H,jU:()=>Te,lb:()=>Qs,m9:()=>wr,ne:()=>It,p$:()=>q,pd:()=>ni,r3:()=>zt,ru:()=>Xe,tV:()=>De,uI:()=>We,ug:()=>vt,vZ:()=>or,w1:()=>ke,w9:()=>Dn,xO:()=>Ur,xb:()=>Bn,z$:()=>He,zI:()=>ee,zd:()=>ls});const H=function(W,G){if(!W)throw F(G)},F=function(W){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+W)},de=function(W){const G=[];let j=0;for(let z=0;z<W.length;z++){let Y=W.charCodeAt(z);Y<128?G[j++]=Y:Y<2048?(G[j++]=Y>>6|192,G[j++]=63&Y|128):55296==(64512&Y)&&z+1<W.length&&56320==(64512&W.charCodeAt(z+1))?(Y=65536+((1023&Y)<<10)+(1023&W.charCodeAt(++z)),G[j++]=Y>>18|240,G[j++]=Y>>12&63|128,G[j++]=Y>>6&63|128,G[j++]=63&Y|128):(G[j++]=Y>>12|224,G[j++]=Y>>6&63|128,G[j++]=63&Y|128)}return G},we={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(W,G){if(!Array.isArray(W))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,z=[];for(let Y=0;Y<W.length;Y+=3){const Re=W[Y],Ze=Y+1<W.length,Mt=Ze?W[Y+1]:0,hn=Y+2<W.length,an=hn?W[Y+2]:0;let X=(15&Mt)<<2|an>>6,Q=63&an;hn||(Q=64,Ze||(X=64)),z.push(j[Re>>2],j[(3&Re)<<4|Mt>>4],j[X],j[Q])}return z.join("")},encodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(W):this.encodeByteArray(de(W),G)},decodeString(W,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(W):function(W){const G=[];let j=0,z=0;for(;j<W.length;){const Y=W[j++];if(Y<128)G[z++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const Re=W[j++];G[z++]=String.fromCharCode((31&Y)<<6|63&Re)}else if(Y>239&&Y<365){const hn=((7&Y)<<18|(63&W[j++])<<12|(63&W[j++])<<6|63&W[j++])-65536;G[z++]=String.fromCharCode(55296+(hn>>10)),G[z++]=String.fromCharCode(56320+(1023&hn))}else{const Re=W[j++],Ze=W[j++];G[z++]=String.fromCharCode((15&Y)<<12|(63&Re)<<6|63&Ze)}}return G.join("")}(this.decodeStringToByteArray(W,G))},decodeStringToByteArray(W,G){this.init_();const j=G?this.charToByteMapWebSafe_:this.charToByteMap_,z=[];for(let Y=0;Y<W.length;){const Re=j[W.charAt(Y++)],Mt=Y<W.length?j[W.charAt(Y)]:0;++Y;const an=Y<W.length?j[W.charAt(Y)]:64;++Y;const ne=Y<W.length?j[W.charAt(Y)]:64;if(++Y,null==Re||null==Mt||null==an||null==ne)throw Error();z.push(Re<<2|Mt>>4),64!==an&&(z.push(Mt<<4&240|an>>2),64!==ne&&z.push(an<<6&192|ne))}return z},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let W=0;W<this.ENCODED_VALS.length;W++)this.byteToCharMap_[W]=this.ENCODED_VALS.charAt(W),this.charToByteMap_[this.byteToCharMap_[W]]=W,this.byteToCharMapWebSafe_[W]=this.ENCODED_VALS_WEBSAFE.charAt(W),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[W]]=W,W>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(W)]=W,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(W)]=W)}}},se=function(W){const G=de(W);return we.encodeByteArray(G,!0)},pe=function(W){return se(W).replace(/\./g,"")},De=function(W){try{return we.decodeString(W,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function q(W){return Z(void 0,W)}function Z(W,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===W&&(W={});break;case Array:W=[];break;default:return G}for(const j in G)!G.hasOwnProperty(j)||!ce(j)||(W[j]=Z(W[j],G[j]));return W}function ce(W){return"__proto__"!==W}class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,j)=>{this.resolve=G,this.reject=j})}wrapCallback(G){return(j,z)=>{j?this.reject(j):this.resolve(z),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(j):G(j,z))}}}function Ne(W,G){if(W.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const z=G||"demo-project",Y=W.iat||0,Re=W.sub||W.user_id;if(!Re)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ze=Object.assign({iss:`https://securetoken.google.com/${z}`,aud:z,iat:Y,exp:Y+3600,auth_time:Y,sub:Re,user_id:Re,firebase:{sign_in_provider:"custom",identities:{}}},W);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Ze)),""].join(".")}function He(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function We(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(He())}function ve(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Te(){return"object"==typeof self&&self.self===self}function Xe(){const W="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof W&&void 0!==W.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ke(){const W=He();return W.indexOf("MSIE ")>=0||W.indexOf("Trident/")>=0}function Je(){return!1}function ae(){return!ve()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"object"==typeof indexedDB}function Se(){return new Promise((W,G)=>{try{let j=!0;const z="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(z);Y.onsuccess=()=>{Y.result.close(),j||self.indexedDB.deleteDatabase(z),W(!0)},Y.onupgradeneeded=()=>{j=!1},Y.onerror=()=>{var Re;G((null===(Re=Y.error)||void 0===Re?void 0:Re.message)||"")}}catch(j){G(j)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ee extends Error{constructor(G,j,z){super(j),this.code=G,this.customData=z,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,me.prototype.create)}}class me{constructor(G,j,z){this.service=G,this.serviceName=j,this.errors=z}create(G,...j){const z=j[0]||{},Y=`${this.service}/${G}`,Re=this.errors[G],Ze=Re?function je(W,G){return W.replace(Ct,(j,z)=>{const Y=G[z];return null!=Y?String(Y):`<${z}?>`})}(Re,z):"Error";return new Ee(Y,`${this.serviceName}: ${Ze} (${Y}).`,z)}}const Ct=/\{\$([^}]+)}/g;function rn(W){return JSON.parse(W)}function Gt(W){return JSON.stringify(W)}const et=function(W){let G={},j={},z={},Y="";try{const Re=W.split(".");G=rn(De(Re[0])||""),j=rn(De(Re[1])||""),Y=Re[2],z=j.d||{},delete j.d}catch{}return{header:G,claims:j,data:z,signature:Y}},Dn=function(W){const j=et(W).claims;return!!j&&"object"==typeof j&&j.hasOwnProperty("iat")},dn=function(W){const G=et(W).claims;return"object"==typeof G&&!0===G.admin};function zt(W,G){return Object.prototype.hasOwnProperty.call(W,G)}function on(W,G){if(Object.prototype.hasOwnProperty.call(W,G))return W[G]}function Bn(W){for(const G in W)if(Object.prototype.hasOwnProperty.call(W,G))return!1;return!0}function as(W,G,j){const z={};for(const Y in W)Object.prototype.hasOwnProperty.call(W,Y)&&(z[Y]=G.call(j,W[Y],Y,W));return z}function or(W,G){if(W===G)return!0;const j=Object.keys(W),z=Object.keys(G);for(const Y of j){if(!z.includes(Y))return!1;const Re=W[Y],Ze=G[Y];if(Zn(Re)&&Zn(Ze)){if(!or(Re,Ze))return!1}else if(Re!==Ze)return!1}for(const Y of z)if(!j.includes(Y))return!1;return!0}function Zn(W){return null!==W&&"object"==typeof W}function Ur(W){const G=[];for(const[j,z]of Object.entries(W))Array.isArray(z)?z.forEach(Y=>{G.push(encodeURIComponent(j)+"="+encodeURIComponent(Y))}):G.push(encodeURIComponent(j)+"="+encodeURIComponent(z));return G.length?"&"+G.join("&"):""}function ls(W){const G={};return W.replace(/^\?/,"").split("&").forEach(z=>{if(z){const[Y,Re]=z.split("=");G[decodeURIComponent(Y)]=decodeURIComponent(Re)}}),G}function ni(W){const G=W.indexOf("?");if(!G)return"";const j=W.indexOf("#",G);return W.substring(G,j>0?j:void 0)}class Ss{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,j){j||(j=0);const z=this.W_;if("string"==typeof G)for(let ne=0;ne<16;ne++)z[ne]=G.charCodeAt(j)<<24|G.charCodeAt(j+1)<<16|G.charCodeAt(j+2)<<8|G.charCodeAt(j+3),j+=4;else for(let ne=0;ne<16;ne++)z[ne]=G[j]<<24|G[j+1]<<16|G[j+2]<<8|G[j+3],j+=4;for(let ne=16;ne<80;ne++){const X=z[ne-3]^z[ne-8]^z[ne-14]^z[ne-16];z[ne]=4294967295&(X<<1|X>>>31)}let an,Di,Y=this.chain_[0],Re=this.chain_[1],Ze=this.chain_[2],Mt=this.chain_[3],hn=this.chain_[4];for(let ne=0;ne<80;ne++){ne<40?ne<20?(an=Mt^Re&(Ze^Mt),Di=1518500249):(an=Re^Ze^Mt,Di=1859775393):ne<60?(an=Re&Ze|Mt&(Re|Ze),Di=2400959708):(an=Re^Ze^Mt,Di=3395469782);const X=(Y<<5|Y>>>27)+an+hn+Di+z[ne]&4294967295;hn=Mt,Mt=Ze,Ze=4294967295&(Re<<30|Re>>>2),Re=Y,Y=X}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+Re&4294967295,this.chain_[2]=this.chain_[2]+Ze&4294967295,this.chain_[3]=this.chain_[3]+Mt&4294967295,this.chain_[4]=this.chain_[4]+hn&4294967295}update(G,j){if(null==G)return;void 0===j&&(j=G.length);const z=j-this.blockSize;let Y=0;const Re=this.buf_;let Ze=this.inbuf_;for(;Y<j;){if(0===Ze)for(;Y<=z;)this.compress_(G,Y),Y+=this.blockSize;if("string"==typeof G){for(;Y<j;)if(Re[Ze]=G.charCodeAt(Y),++Ze,++Y,Ze===this.blockSize){this.compress_(Re),Ze=0;break}}else for(;Y<j;)if(Re[Ze]=G[Y],++Ze,++Y,Ze===this.blockSize){this.compress_(Re),Ze=0;break}}this.inbuf_=Ze,this.total_+=j}digest(){const G=[];let j=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&j,j/=256;this.compress_(this.buf_);let z=0;for(let Y=0;Y<5;Y++)for(let Re=24;Re>=0;Re-=8)G[z]=this.chain_[Y]>>Re&255,++z;return G}}function It(W,G){const j=new ar(W,G);return j.subscribe.bind(j)}class ar{constructor(G,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{G(this)}).catch(z=>{this.error(z)})}next(G){this.forEachObserver(j=>{j.next(G)})}error(G){this.forEachObserver(j=>{j.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,j,z){let Y;if(void 0===G&&void 0===j&&void 0===z)throw new Error("Missing Observer.");Y=function vn(W,G){if("object"!=typeof W||null===W)return!1;for(const j of G)if(j in W&&"function"==typeof W[j])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:j,complete:z},void 0===Y.next&&(Y.next=wi),void 0===Y.error&&(Y.error=wi),void 0===Y.complete&&(Y.complete=wi);const Re=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),Re}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,G)}sendOne(G,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{j(this.observers[G])}catch(z){typeof console<"u"&&console.error&&console.error(z)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wi(){}const lr=function(W,G,j,z){let Y;if(z<G?Y="at least "+G:z>j&&(Y=0===j?"none":"no more than "+j),Y)throw new Error(W+" failed: Was called with "+z+(1===z?" argument.":" arguments.")+" Expects "+Y+".")};function Ci(W,G){return`${W} failed: ${G} argument `}function Ei(W,G,j,z){if((!z||j)&&"function"!=typeof j)throw new Error(Ci(W,G)+"must be a valid function.")}function Qs(W,G,j,z){if((!z||j)&&("object"!=typeof j||null===j))throw new Error(Ci(W,G)+"must be a valid context object.")}const Zt=function(W){const G=[];let j=0;for(let z=0;z<W.length;z++){let Y=W.charCodeAt(z);if(Y>=55296&&Y<=56319){const Re=Y-55296;z++,H(z<W.length,"Surrogate pair missing trail surrogate."),Y=65536+(Re<<10)+(W.charCodeAt(z)-56320)}Y<128?G[j++]=Y:Y<2048?(G[j++]=Y>>6|192,G[j++]=63&Y|128):Y<65536?(G[j++]=Y>>12|224,G[j++]=Y>>6&63|128,G[j++]=63&Y|128):(G[j++]=Y>>18|240,G[j++]=Y>>12&63|128,G[j++]=Y>>6&63|128,G[j++]=63&Y|128)}return G},vt=function(W){let G=0;for(let j=0;j<W.length;j++){const z=W.charCodeAt(j);z<128?G++:z<2048?G+=2:z>=55296&&z<=56319?(G+=4,j++):G+=3}return G};function ii(W,G=1e3,j=2){const z=G*Math.pow(j,W),Y=Math.round(.5*z*(Math.random()-.5)*2);return Math.min(144e5,z+Y)}function wr(W){return W&&W._delegate?W._delegate:W}},5279:(yt,Pe,V)=>{var o=V(4650);let H=null;function F(){return H}const se=new o.OlP("DocumentToken");let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function De(){return(0,o.LFG)(Z)}()},providedIn:"platform"}),n})();const q=new o.OlP("Location Initialized");let Z=(()=>{class n extends pe{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return F().getBaseHref(this._doc)}onPopState(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=F().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){ce()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){ce()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ye(){return new Z((0,o.LFG)(se))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function Ne(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function He(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function We(n){return n&&"?"!==n[0]?"?"+n:n}let ve=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Te(n){const t=(0,o.LFG)(se).location;return new Qe((0,o.LFG)(pe),t&&t.origin||"")}()},providedIn:"root"}),n})();const Xe=new o.OlP("appBaseHref");let Qe=(()=>{class n extends ve{constructor(e,i){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==i&&(i=this._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=i}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ne(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+We(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,s){const c=this.prepareExternalUrl(r+We(s));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){const c=this.prepareExternalUrl(r+We(s));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pe),o.LFG(Xe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n extends ve{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ne(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,s){let c=this.prepareExternalUrl(r+We(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,s){let c=this.prepareExternalUrl(r+We(s));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(pe),o.LFG(Xe,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),ke=(()=>{class n{constructor(e,i){this._subject=new o.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const r=this._platformStrategy.getBaseHref();this._platformLocation=i,this._baseHref=He(ae(r)),this._platformStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+We(i))}normalize(e){return n.stripTrailingSlash(function Je(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,ae(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._platformStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),r)}replaceState(e,i="",r=null){this._platformStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+We(i)),r)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){this._platformStrategy.historyGo?.(e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}))}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=We,n.joinWithSlash=Ne,n.stripTrailingSlash=He,n.\u0275fac=function(e){return new(e||n)(o.LFG(ve),o.LFG(pe))},n.\u0275prov=o.Yz7({token:n,factory:function(){return function Ae(){return new ke((0,o.LFG)(ve),(0,o.LFG)(pe))}()},providedIn:"root"}),n})();function ae(n){return n.replace(/\/index.html$/,"")}var le=(()=>((le=le||{})[le.Format=0]="Format",le[le.Standalone=1]="Standalone",le))(),ue=(()=>((ue=ue||{})[ue.Narrow=0]="Narrow",ue[ue.Abbreviated=1]="Abbreviated",ue[ue.Wide=2]="Wide",ue[ue.Short=3]="Short",ue))(),Ee=(()=>((Ee=Ee||{})[Ee.Short=0]="Short",Ee[Ee.Medium=1]="Medium",Ee[Ee.Long=2]="Long",Ee[Ee.Full=3]="Full",Ee))(),me=(()=>((me=me||{})[me.Decimal=0]="Decimal",me[me.Group=1]="Group",me[me.List=2]="List",me[me.PercentSign=3]="PercentSign",me[me.PlusSign=4]="PlusSign",me[me.MinusSign=5]="MinusSign",me[me.Exponential=6]="Exponential",me[me.SuperscriptingExponent=7]="SuperscriptingExponent",me[me.PerMille=8]="PerMille",me[me.Infinity=9]="Infinity",me[me.NaN=10]="NaN",me[me.TimeSeparator=11]="TimeSeparator",me[me.CurrencyDecimal=12]="CurrencyDecimal",me[me.CurrencyGroup=13]="CurrencyGroup",me))();function dn(n,t){return Un((0,o.cg1)(n)[o.wAp.DateFormat],t)}function zt(n,t){return Un((0,o.cg1)(n)[o.wAp.TimeFormat],t)}function on(n,t){return Un((0,o.cg1)(n)[o.wAp.DateTimeFormat],t)}function Bn(n,t){const e=(0,o.cg1)(n),i=e[o.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===me.CurrencyDecimal)return e[o.wAp.NumberSymbols][me.Decimal];if(t===me.CurrencyGroup)return e[o.wAp.NumberSymbols][me.Group]}return i}function ni(n){if(!n[o.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[o.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Un(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function vn(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const $n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ei={},Qs=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Zt=(()=>((Zt=Zt||{})[Zt.Short=0]="Short",Zt[Zt.ShortGMT=1]="ShortGMT",Zt[Zt.Long=2]="Long",Zt[Zt.Extended=3]="Extended",Zt))(),vt=(()=>((vt=vt||{})[vt.FullYear=0]="FullYear",vt[vt.Month=1]="Month",vt[vt.Date=2]="Date",vt[vt.Hours=3]="Hours",vt[vt.Minutes=4]="Minutes",vt[vt.Seconds=5]="Seconds",vt[vt.FractionalSeconds=6]="FractionalSeconds",vt[vt.Day=7]="Day",vt))(),dt=(()=>((dt=dt||{})[dt.DayPeriods=0]="DayPeriods",dt[dt.Days=1]="Days",dt[dt.Months=2]="Months",dt[dt.Eras=3]="Eras",dt))();function $r(n,t,e,i){let r=function Me(n){if(mt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,s=1,c=1]=n.split("-").map(d=>+d);return Hr(r,s-1,c)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match($n))return function tt(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,s=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-e,d=Number(n[5]||0)-i,f=Number(n[6]||0),m=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return s.call(t,c,d,f,m),t}(i)}const t=new Date(n);if(!mt(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Wt(e,t)||t;let d,c=[];for(;t;){if(d=Qs.exec(t),!d){c.push(t);break}{c=c.concat(d.slice(1));const v=c.pop();if(!v)break;t=v}}let f=r.getTimezoneOffset();i&&(f=ne(i,f),r=function Q(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function X(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(ne(t,r)-r))}(r,i,!0));let m="";return c.forEach(v=>{const E=function Di(n){if(an[n])return an[n];let t;switch(n){case"G":case"GG":case"GGG":t=W(dt.Eras,ue.Abbreviated);break;case"GGGG":t=W(dt.Eras,ue.Wide);break;case"GGGGG":t=W(dt.Eras,ue.Narrow);break;case"y":t=bt(vt.FullYear,1,0,!1,!0);break;case"yy":t=bt(vt.FullYear,2,0,!0,!0);break;case"yyy":t=bt(vt.FullYear,3,0,!1,!0);break;case"yyyy":t=bt(vt.FullYear,4,0,!1,!0);break;case"Y":t=hn(1);break;case"YY":t=hn(2,!0);break;case"YYY":t=hn(3);break;case"YYYY":t=hn(4);break;case"M":case"L":t=bt(vt.Month,1,1);break;case"MM":case"LL":t=bt(vt.Month,2,1);break;case"MMM":t=W(dt.Months,ue.Abbreviated);break;case"MMMM":t=W(dt.Months,ue.Wide);break;case"MMMMM":t=W(dt.Months,ue.Narrow);break;case"LLL":t=W(dt.Months,ue.Abbreviated,le.Standalone);break;case"LLLL":t=W(dt.Months,ue.Wide,le.Standalone);break;case"LLLLL":t=W(dt.Months,ue.Narrow,le.Standalone);break;case"w":t=Mt(1);break;case"ww":t=Mt(2);break;case"W":t=Mt(1,!0);break;case"d":t=bt(vt.Date,1);break;case"dd":t=bt(vt.Date,2);break;case"c":case"cc":t=bt(vt.Day,1);break;case"ccc":t=W(dt.Days,ue.Abbreviated,le.Standalone);break;case"cccc":t=W(dt.Days,ue.Wide,le.Standalone);break;case"ccccc":t=W(dt.Days,ue.Narrow,le.Standalone);break;case"cccccc":t=W(dt.Days,ue.Short,le.Standalone);break;case"E":case"EE":case"EEE":t=W(dt.Days,ue.Abbreviated);break;case"EEEE":t=W(dt.Days,ue.Wide);break;case"EEEEE":t=W(dt.Days,ue.Narrow);break;case"EEEEEE":t=W(dt.Days,ue.Short);break;case"a":case"aa":case"aaa":t=W(dt.DayPeriods,ue.Abbreviated);break;case"aaaa":t=W(dt.DayPeriods,ue.Wide);break;case"aaaaa":t=W(dt.DayPeriods,ue.Narrow);break;case"b":case"bb":case"bbb":t=W(dt.DayPeriods,ue.Abbreviated,le.Standalone,!0);break;case"bbbb":t=W(dt.DayPeriods,ue.Wide,le.Standalone,!0);break;case"bbbbb":t=W(dt.DayPeriods,ue.Narrow,le.Standalone,!0);break;case"B":case"BB":case"BBB":t=W(dt.DayPeriods,ue.Abbreviated,le.Format,!0);break;case"BBBB":t=W(dt.DayPeriods,ue.Wide,le.Format,!0);break;case"BBBBB":t=W(dt.DayPeriods,ue.Narrow,le.Format,!0);break;case"h":t=bt(vt.Hours,1,-12);break;case"hh":t=bt(vt.Hours,2,-12);break;case"H":t=bt(vt.Hours,1);break;case"HH":t=bt(vt.Hours,2);break;case"m":t=bt(vt.Minutes,1);break;case"mm":t=bt(vt.Minutes,2);break;case"s":t=bt(vt.Seconds,1);break;case"ss":t=bt(vt.Seconds,2);break;case"S":t=bt(vt.FractionalSeconds,1);break;case"SS":t=bt(vt.FractionalSeconds,2);break;case"SSS":t=bt(vt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=j(Zt.Short);break;case"ZZZZZ":t=j(Zt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=j(Zt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=j(Zt.Long);break;default:return null}return an[n]=t,t}(v);m+=E?E(r,e,f):"''"===v?"'":v.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),m}function Hr(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Wt(n,t){const e=function Ct(n){return(0,o.cg1)(n)[o.wAp.LocaleId]}(n);if(Ei[e]=Ei[e]||{},Ei[e][t])return Ei[e][t];let i="";switch(t){case"shortDate":i=dn(n,Ee.Short);break;case"mediumDate":i=dn(n,Ee.Medium);break;case"longDate":i=dn(n,Ee.Long);break;case"fullDate":i=dn(n,Ee.Full);break;case"shortTime":i=zt(n,Ee.Short);break;case"mediumTime":i=zt(n,Ee.Medium);break;case"longTime":i=zt(n,Ee.Long);break;case"fullTime":i=zt(n,Ee.Full);break;case"short":const r=Wt(n,"shortTime"),s=Wt(n,"shortDate");i=cs(on(n,Ee.Short),[r,s]);break;case"medium":const c=Wt(n,"mediumTime"),d=Wt(n,"mediumDate");i=cs(on(n,Ee.Medium),[c,d]);break;case"long":const f=Wt(n,"longTime"),m=Wt(n,"longDate");i=cs(on(n,Ee.Long),[f,m]);break;case"full":const v=Wt(n,"fullTime"),E=Wt(n,"fullDate");i=cs(on(n,Ee.Full),[v,E])}return i&&(Ei[e][t]=i),i}function cs(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function ii(n,t,e="-",i,r){let s="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,s=e));let c=String(n);for(;c.length<t;)c="0"+c;return i&&(c=c.substr(c.length-t)),s+c}function bt(n,t,e=0,i=!1,r=!1){return function(s,c){let d=function wr(n,t){switch(n){case vt.FullYear:return t.getFullYear();case vt.Month:return t.getMonth();case vt.Date:return t.getDate();case vt.Hours:return t.getHours();case vt.Minutes:return t.getMinutes();case vt.Seconds:return t.getSeconds();case vt.FractionalSeconds:return t.getMilliseconds();case vt.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,s);if((e>0||d>-e)&&(d+=e),n===vt.Hours)0===d&&-12===e&&(d=12);else if(n===vt.FractionalSeconds)return function xn(n,t){return ii(n,3).substr(0,t)}(d,t);const f=Bn(c,me.MinusSign);return ii(d,t,f,i,r)}}function W(n,t,e=le.Format,i=!1){return function(r,s){return function G(n,t,e,i,r,s){switch(e){case dt.Months:return function et(n,t,e){const i=(0,o.cg1)(n),s=Un([i[o.wAp.MonthsFormat],i[o.wAp.MonthsStandalone]],t);return Un(s,e)}(t,r,i)[n.getMonth()];case dt.Days:return function Gt(n,t,e){const i=(0,o.cg1)(n),s=Un([i[o.wAp.DaysFormat],i[o.wAp.DaysStandalone]],t);return Un(s,e)}(t,r,i)[n.getDay()];case dt.DayPeriods:const c=n.getHours(),d=n.getMinutes();if(s){const m=function Ss(n){const t=(0,o.cg1)(n);return ni(t),(t[o.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?vn(i):[vn(i[0]),vn(i[1])])}(t),v=function It(n,t,e){const i=(0,o.cg1)(n);ni(i);const s=Un([i[o.wAp.ExtraData][0],i[o.wAp.ExtraData][1]],t)||[];return Un(s,e)||[]}(t,r,i),E=m.findIndex(A=>{if(Array.isArray(A)){const[M,P]=A,B=c>=M.hours&&d>=M.minutes,J=c<P.hours||c===P.hours&&d<P.minutes;if(M.hours<P.hours){if(B&&J)return!0}else if(B||J)return!0}else if(A.hours===c&&A.minutes===d)return!0;return!1});if(-1!==E)return v[E]}return function rn(n,t,e){const i=(0,o.cg1)(n),s=Un([i[o.wAp.DayPeriodsFormat],i[o.wAp.DayPeriodsStandalone]],t);return Un(s,e)}(t,r,i)[c<12?0:1];case dt.Eras:return function En(n,t){return Un((0,o.cg1)(n)[o.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,s,n,t,e,i)}}function j(n){return function(t,e,i){const r=-1*i,s=Bn(e,me.MinusSign),c=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Zt.Short:return(r>=0?"+":"")+ii(c,2,s)+ii(Math.abs(r%60),2,s);case Zt.ShortGMT:return"GMT"+(r>=0?"+":"")+ii(c,1,s);case Zt.Long:return"GMT"+(r>=0?"+":"")+ii(c,2,s)+":"+ii(Math.abs(r%60),2,s);case Zt.Extended:return 0===i?"Z":(r>=0?"+":"")+ii(c,2,s)+":"+ii(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${n}"`)}}}function Ze(n){return Hr(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function Mt(n,t=!1){return function(e,i){let r;if(t){const s=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,c=e.getDate();r=1+Math.floor((c+s)/7)}else{const s=Ze(e),c=function Re(n){const t=Hr(n,0,1).getDay();return Hr(n,0,1+(t<=4?4:11)-t)}(s.getFullYear()),d=s.getTime()-c.getTime();r=1+Math.round(d/6048e5)}return ii(r,n,Bn(i,me.MinusSign))}}function hn(n,t=!1){return function(e,i){return ii(Ze(e).getFullYear(),n,Bn(i,me.MinusSign),t)}}const an={};function ne(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function mt(n){return n instanceof Date&&!isNaN(n.valueOf())}function Er(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,s]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(s)}return null}let yn=(()=>{class n{constructor(e,i,r,s){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,o.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,o.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.ZZ4),o.Y36(o.aQg),o.Y36(o.SBq),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class zf{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let kr=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,s,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new zf(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===s?void 0:s);else if(null!==s){const d=i.get(s);i.move(d,c),Za(d,r)}});for(let r=0,s=i.length;r<s;r++){const d=i.get(r).context;d.index=r,d.count=s,d.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Za(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(o.ZZ4))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Za(n,t){n.context.$implicit=t.item}let Kn=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Js,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Vi("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Vi("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Js{constructor(){this.$implicit=null,this.ngIf=null}}function Vi(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,o.AaK)(t)}'.`)}class fa{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Dr=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),cr=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new fa(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Dr,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),Vu=(()=>{class n{constructor(e,i,r){r._addDefault(new fa(e,i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.s_b),o.Y36(o.Rgc),o.Y36(Dr,9))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngSwitchDefault",""]]}),n})(),Ac=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,s]=e.split(".");null!=(i=null!=i&&s?`${i}${s}`:i)?this._renderer.setStyle(this._ngEl.nativeElement,r,i):this._renderer.removeStyle(this._ngEl.nativeElement,r)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.aQg),o.Y36(o.Qsj))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})();function pi(n,t){return new o.vHH(2100,"")}class zd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class ug{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}onDestroy(t){}}const Xs=new ug,dg=new zd;let pa=(()=>{class n{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,o.QGY)(e))return Xs;if((0,o.F4k)(e))return dg;throw pi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO,16))},n.\u0275pipe=o.Yjl({name:"async",type:n,pure:!1}),n})();const fg=new o.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Zd=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,s){if(null==e||""===e||e!=e)return null;try{return $r(e,i,s||this.locale,r??this.defaultTimezone??void 0)}catch(c){throw pi()}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.soG,16),o.Y36(fg,24))},n.\u0275pipe=o.Yjl({name:"date",type:n,pure:!0}),n})(),Qi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const Yd="browser";function ur(n){return"server"===n}let kc=(()=>{class n{}return n.\u0275prov=(0,o.Yz7)({token:n,providedIn:"root",factory:()=>new Rc((0,o.LFG)(se),window)}),n})();class Rc{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function no(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const c=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Bu(this.window.history)||Bu(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Bu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Mn{}class Ho extends class Ul extends class we{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function fe(n){H||(H=n)}(new Ho)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Oc(){return Sn=Sn||document.querySelector("base"),Sn?Sn.getAttribute("href"):null}();return null==e?null:function ma(n){$l=$l||document.createElement("a"),$l.setAttribute("href",n);const t=$l.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Sn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Er(document.cookie,t)}}let $l,Sn=null;const Bi=new o.OlP("TRANSITION_ID"),ri=[{provide:o.ip1,useFactory:function Pc(n,t,e){return()=>{e.get(o.CZH).donePromise.then(()=>{const i=F(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<r.length;s++)i.remove(r[s])})}},deps:[Bi,se,o.zs3],multi:!0}];class io{static init(){(0,o.VLi)(new io)}addToWindow(t){o.dqk.getAngularTestability=(i,r=!0)=>{const s=t.findTestabilityInTree(i,r);if(null==s)throw new Error("Could not find testability for element.");return s},o.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),o.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),o.dqk.frameworkStabilizers||(o.dqk.frameworkStabilizers=[]),o.dqk.frameworkStabilizers.push(i=>{const r=o.dqk.getAllAngularTestabilities();let s=r.length,c=!1;const d=function(f){c=c||f,s--,0==s&&i(c)};r.forEach(function(f){f.whenStable(d)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?F().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}}let Ui=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Ja=new o.OlP("EventManagerPlugins");let Ts=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let s=0;s<r.length;s++){const c=r[s];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ja),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class $u{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=F().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Rr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),jo=(()=>{class n extends Rr{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(s=>{const c=this._doc.createElement("style");c.textContent=s,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Go),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Go))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Go(n){F().remove(n)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ga=/%COMP%/g;function zo(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?zo(n,r,e):(r=r.replace(ga,n),e.push(r))}return e}function Be(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let jl=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Pn(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case o.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new As(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case o.ifc.ShadowDom:return new Hu(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=zo(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ts),o.LFG(jo),o.LFG(o.AFp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class Pn{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(xt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,i){t&&t.insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const s=xt[r];s?t.setAttributeNS(s,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=xt[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(o.JOm.DashCase|o.JOm.Important)?t.style.setProperty(e,i,r&o.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&o.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Be(i)):this.eventManager.addEventListener(t,e,Be(i))}}class As extends Pn{constructor(t,e,i,r){super(t),this.component=i;const s=zo(r+"-"+i.id,i.styles,[]);e.addStyles(s),this.contentAttr=function Xa(n){return"_ngcontent-%COMP%".replace(ga,n)}(r+"-"+i.id),this.hostAttr=function Wf(n){return"_nghost-%COMP%".replace(ga,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Hu extends Pn{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=zo(r.id,r.styles,[]);for(let c=0;c<s.length;c++){const d=document.createElement("style");d.textContent=s[c],this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Gl=(()=>{class n extends $u{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const Yf=["alt","control","meta","shift"],ih={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_a={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},$i={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let xs=(()=>{class n extends $u{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const s=n.parseEventName(i),c=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>F().onAndCancel(e,s.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let c="";if(Yf.forEach(f=>{const m=i.indexOf(f);m>-1&&(i.splice(m,1),c+=f+".")}),c+=s,0!=i.length||0===s.length)return null;const d={};return d.domEventName=r,d.fullKey=c,d}static getEventFullKey(e){let i="",r=function el(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&_a.hasOwnProperty(t)&&(t=_a[t]))}return ih[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Yf.forEach(s=>{s!=r&&$i[s](e)&&(i+=s+".")}),i+=r,i}static eventCallback(e,i,r){return s=>{n.getEventFullKey(s)===e&&r.runGuarded(()=>i(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const rh=(0,o.eFA)(o._c5,"browser",[{provide:o.Lbi,useValue:Yd},{provide:o.g9A,useValue:function tl(){Ho.makeCurrent(),io.init()},multi:!0},{provide:se,useFactory:function Kf(){return(0,o.RDi)(document),document},deps:[]}]),zl=[{provide:o.zSh,useValue:"root"},{provide:o.qLn,useFactory:function Or(){return new o.qLn},deps:[]},{provide:Ja,useClass:Gl,multi:!0,deps:[se,o.R0b,o.Lbi]},{provide:Ja,useClass:xs,multi:!0,deps:[se]},{provide:jl,useClass:jl,deps:[Ts,jo,o.AFp]},{provide:o.FYo,useExisting:jl},{provide:Rr,useExisting:jo},{provide:jo,useClass:jo,deps:[se]},{provide:o.dDg,useClass:o.dDg,deps:[o.R0b]},{provide:Ts,useClass:Ts,deps:[Ja,o.R0b]},{provide:Mn,useClass:Ui,deps:[]}];let Nc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:o.AFp,useValue:e.appId},{provide:Bi,useExisting:o.AFp},ri]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(n,12))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:zl,imports:[Qi,o.hGG]}),n})();typeof window<"u"&&window;let ba=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):o.LFG(Vc),i},providedIn:"root"}),n})(),Vc=(()=>{class n extends ba{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case o.q3G.NONE:return i;case o.q3G.HTML:return(0,o.qzn)(i,"HTML")?(0,o.z3N)(i):(0,o.EiD)(this._doc,String(i)).toString();case o.q3G.STYLE:return(0,o.qzn)(i,"Style")?(0,o.z3N)(i):i;case o.q3G.SCRIPT:if((0,o.qzn)(i,"Script"))return(0,o.z3N)(i);throw new Error("unsafe value used in a script context");case o.q3G.URL:return(0,o.yhl)(i),(0,o.qzn)(i,"URL")?(0,o.z3N)(i):(0,o.mCW)(String(i));case o.q3G.RESOURCE_URL:if((0,o.qzn)(i,"ResourceURL"))return(0,o.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,o.JVY)(e)}bypassSecurityTrustStyle(e){return(0,o.L6k)(e)}bypassSecurityTrustScript(e){return(0,o.eBb)(e)}bypassSecurityTrustUrl(e){return(0,o.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,o.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function qo(n){return new Vc(n.get(se))}(o.LFG(o.zs3)),i},providedIn:"root"}),n})();var kn=V(8996),Hi=V(8306);const{isArray:Fr}=Array,{getPrototypeOf:zu,prototype:Bc,keys:qu}=Object;function sl(n){if(1===n.length){const t=n[0];if(Fr(t))return{args:t,keys:null};if(function ol(n){return n&&"object"==typeof n&&zu(n)===Bc}(t)){const e=qu(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var ao=V(8421),fn=V(3269),Hn=V(5403),ct=V(4004);const{isArray:Uc}=Array;function fh(n){return(0,ct.U)(t=>function Zo(n,t){return Uc(t)?n(...t):n(t)}(n,t))}function Zu(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}function $c(...n){const t=(0,fn.jO)(n),{args:e,keys:i}=sl(n),r=new Hi.y(s=>{const{length:c}=e;if(!c)return void s.complete();const d=new Array(c);let f=c,m=c;for(let v=0;v<c;v++){let E=!1;(0,ao.Xf)(e[v]).subscribe((0,Hn.x)(s,A=>{E||(E=!0,m--),d[v]=A},()=>f--,void 0,()=>{(!f||!E)&&(m||s.next(i?Zu(i,d):d),s.complete())}))}});return t?r.pipe(fh(t)):r}let Hc=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n}),n})(),Ms=(()=>{class n extends Hc{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const li=new o.OlP("NgValueAccessor"),jc={provide:li,useExisting:(0,o.Gpc)(()=>ks),multi:!0},ph=new o.OlP("CompositionEventMode");let ks=(()=>{class n extends Hc{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Wo(){const n=F()?F().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(ph,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[o._Bn([jc]),o.qOj]}),n})();function co(n){return null==n||0===n.length}function Ca(n){return null!=n&&"number"==typeof n.length}const Qn=new o.OlP("NgValidators"),uo=new o.OlP("NgAsyncValidators"),mh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class kt{static min(t){return function ho(n){return t=>{if(co(t.value)||co(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function gh(n){return t=>{if(co(t.value)||co(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return Kl(t)}static requiredTrue(t){return function Wu(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function ji(n){return co(n.value)||mh.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function Gc(n){return t=>co(t.value)||!Ca(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function al(n){return t=>Ca(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Yo(n){if(!n)return Rs;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(co(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Xf(t)}static composeAsync(t){return _h(t)}}function Kl(n){return co(n.value)?{required:!0}:null}function Rs(n){return null}function Ko(n){return null!=n}function Si(n){const t=(0,o.QGY)(n)?(0,kn.D)(n):n;return(0,o.CqO)(t),t}function Ql(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Yu(n,t){return t.map(e=>e(n))}function Ku(n){return n.map(t=>function ll(n){return!n.validate}(t)?t:e=>t.validate(e))}function Xf(n){if(!n)return null;const t=n.filter(Ko);return 0==t.length?null:function(e){return Ql(Yu(e,t))}}function jn(n){return null!=n?Xf(Ku(n)):null}function _h(n){if(!n)return null;const t=n.filter(Ko);return 0==t.length?null:function(e){return $c(Yu(e,t).map(Si)).pipe((0,ct.U)(Ql))}}function zc(n){return null!=n?_h(Ku(n)):null}function bg(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function ep(n){return n._rawValidators}function wg(n){return n._rawAsyncValidators}function tp(n){return n?Array.isArray(n)?n:[n]:[]}function yh(n,t){return Array.isArray(n)?n.includes(t):n===t}function Qo(n,t){const e=tp(t);return tp(n).forEach(r=>{yh(e,r)||e.push(r)}),e}function Cg(n,t){return tp(t).filter(e=>!yh(n,e))}class Wn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=jn(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ti extends Wn{get formDirective(){return null}get path(){return null}}class er extends Wn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class np{constructor(t){this._cd=t}is(t){return"submitted"===t?!!this._cd?.submitted:!!this._cd?.control?.[t]}}let Sr=(()=>{class n extends np{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(er,2))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))},features:[o.qOj]}),n})(),cl=(()=>{class n extends np{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ti,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&o.ekj("ng-untouched",i.is("untouched"))("ng-touched",i.is("touched"))("ng-pristine",i.is("pristine"))("ng-dirty",i.is("dirty"))("ng-valid",i.is("valid"))("ng-invalid",i.is("invalid"))("ng-pending",i.is("pending"))("ng-submitted",i.is("submitted"))},features:[o.qOj]}),n})();function dl(n,t){return[...t.path,n]}function ec(n,t){Yc(n,t),t.valueAccessor.writeValue(n.value),function tc(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Qu(n,t)})}(n,t),function sp(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Os(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Qu(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function Wc(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Tr(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),tr(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ia(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Yc(n,t){const e=ep(n);null!==t.validator?n.setValidators(bg(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=wg(n);null!==t.asyncValidator?n.setAsyncValidators(bg(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Ia(t._rawValidators,r),Ia(t._rawAsyncValidators,r)}function tr(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=ep(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.validator);s.length!==r.length&&(e=!0,n.setValidators(s))}}if(null!==t.asyncValidator){const r=wg(n);if(Array.isArray(r)&&r.length>0){const s=r.filter(c=>c!==t.asyncValidator);s.length!==r.length&&(e=!0,n.setAsyncValidators(s))}}}const i=()=>{};return Ia(t._rawValidators,i),Ia(t._rawAsyncValidators,i),e}function Qu(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Kc(n,t){Yc(n,t)}function R(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function te(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function he(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(s=>{s.constructor===ks?e=s:function $(n){return Object.getPrototypeOf(n.constructor)===Ms}(s)?i=s:r=s}),r||i||e||null}function Fe(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const Rt="VALID",Ft="INVALID",ht="PENDING",si="DISABLED";function Sa(n){return(fo(n)?n.validators:n)||null}function ea(n){return Array.isArray(n)?jn(n):n||null}function Ps(n,t){return(fo(t)?t.asyncValidators:n)||null}function fl(n){return Array.isArray(n)?zc(n):n||null}function fo(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const pl=n=>n instanceof Gn,po=n=>n instanceof nc;function mo(n){return pl(n)?n.value:n.getRawValue()}function Ig(n,t){const e=po(n),i=n.controls;if(!(e?Object.keys(i):i).length)throw new o.vHH(1e3,"");if(!i[t])throw new o.vHH(1001,"")}function Jy(n,t){po(n),n._forEachChild((i,r)=>{if(void 0===t[r])throw new o.vHH(1002,"")})}class Ju{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=ea(this._rawValidators),this._composedAsyncValidatorFn=fl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rt}get invalid(){return this.status===Ft}get pending(){return this.status==ht}get disabled(){return this.status===si}get enabled(){return this.status!==si}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=ea(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fl(t)}addValidators(t){this.setValidators(Qo(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Qo(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Cg(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Cg(t,this._rawAsyncValidators))}hasValidator(t){return yh(this._rawValidators,t)}hasAsyncValidator(t){return yh(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ht,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=si,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rt,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rt||this.status===ht)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?si:Rt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ht,this._hasOwnPendingAsyncValidator=!0;const e=Si(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function Ai(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(e)),Array.isArray(t)&&0===t.length))return null;let i=n;return t.forEach(r=>{i=po(i)?i.controls.hasOwnProperty(r)?i.controls[r]:null:(n=>n instanceof Xu)(i)&&i.at(r)||null}),i}(this,t,".")}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new o.vpe,this.statusChanges=new o.vpe}_calculateStatus(){return this._allControlsDisabled()?si:this.errors?Ft:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ht)?ht:this._anyControlsHaveStatus(Ft)?Ft:Rt}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){fo(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Gn extends Ju{constructor(t=null,e,i){super(Sa(e),Ps(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fo(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Fe(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Fe(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class nc extends Ju{constructor(t,e,i){super(Sa(e),Ps(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){Jy(this,t),Object.keys(t).forEach(i=>{Ig(this,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{this.controls[i]&&this.controls[i].patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=mo(e),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const i=this.controls[e];if(this.contains(e)&&t(i))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,i)=>((e.enabled||this.disabled)&&(t[i]=e.value),t))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,s)=>{i=e(i,r,s)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Xu extends Ju{constructor(t,e,i){super(Sa(e),Ps(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){Jy(this,t),t.forEach((i,r)=>{Ig(this,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>mo(t))}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Xy={provide:Ti,useExisting:(0,o.Gpc)(()=>go)},ed=(()=>Promise.resolve(null))();let go=(()=>{class n extends Ti{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new o.vpe,this.form=new nc({},jn(e),zc(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){ed.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),ec(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){ed.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){ed.then(()=>{const i=this._findContainer(e.path),r=new nc({});Kc(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){ed.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){ed.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,te(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qn,10),o.Y36(uo,10))},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Xy]),o.qOj]}),n})(),Eh=(()=>{class n extends Ti{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return dl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,features:[o.qOj]}),n})();const Sg={provide:er,useExisting:(0,o.Gpc)(()=>Sh)},op=(()=>Promise.resolve(null))();let Sh=(()=>{class n extends er{constructor(e,i,r,s,c){super(),this._changeDetectorRef=c,this.control=new Gn,this._registered=!1,this.update=new o.vpe,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=he(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),R(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ec(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){op.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,r=""===i||i&&"false"!==i;op.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?dl(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ti,9),o.Y36(Qn,10),o.Y36(uo,10),o.Y36(li,10),o.Y36(o.sBO,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[o._Bn([Sg]),o.qOj,o.TTD]}),n})(),Fs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Th=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const lp=new o.OlP("NgModelWithFormControlWarning"),Mg={provide:Ti,useExisting:(0,o.Gpc)(()=>ml)};let ml=(()=>{class n extends Ti{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new o.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(tr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return ec(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Tr(e.control||null,e,!1),Fe(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,te(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Tr(i||null,e),pl(r)&&(ec(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);Kc(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function Ch(n,t){return tr(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yc(this.form,this),this._oldForm&&tr(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Qn,10),o.Y36(uo,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&o.NdJ("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[o._Bn([Mg]),o.qOj,o.TTD]}),n})();const iv={provide:Ti,useExisting:(0,o.Gpc)(()=>Ah)};let Ah=(()=>{class n extends Eh{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){w(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ti,13),o.Y36(Qn,10),o.Y36(uo,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[o._Bn([iv]),o.qOj]}),n})();const rv={provide:Ti,useExisting:(0,o.Gpc)(()=>up)};let up=(()=>{class n extends Ti{constructor(e,i,r){super(),this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return dl(null==this.name?this.name:this.name.toString(),this._parent)}_checkParentType(){w(this._parent)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ti,13),o.Y36(Qn,10),o.Y36(uo,10))},n.\u0275dir=o.lG2({type:n,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[o._Bn([rv]),o.qOj]}),n})();function w(n){return!(n instanceof Ah||n instanceof ml||n instanceof up)}const _={provide:er,useExisting:(0,o.Gpc)(()=>y)};let y=(()=>{class n extends er{constructor(e,i,r,s,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new o.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=he(0,s)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),R(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return dl(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(o.Y36(Ti,13),o.Y36(Qn,10),o.Y36(uo,10),o.Y36(li,10),o.Y36(lp,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[o._Bn([_]),o.qOj,o.TTD]}),n})(),xa=(()=>{class n{constructor(){this._validator=Rs}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Rs,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,features:[o.TTD]}),n})();const Mh={provide:Qn,useExisting:(0,o.Gpc)(()=>Qc),multi:!0};let Og,Qc=(()=>{class n extends xa{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=e=>function sv(n){return null!=n&&!1!==n&&"false"!=`${n}`}(e),this.createValidator=e=>Kl}enabled(e){return e}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,i){2&e&&o.uIk("required",i._enabled?"":null)},inputs:{required:"required"},features:[o._Bn([Mh]),o.qOj]}),n})(),SA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Th]]}),n})(),gL=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[SA]}),n})(),fp=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:lp,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[SA]}),n})();try{Og=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Og=!1}let Jc,bn=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Ji(n){return n===Yd}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Og)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.Lbi))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oC=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function aC(){if(Jc)return Jc;if("object"!=typeof document||!document)return Jc=new Set(oC),Jc;let n=document.createElement("input");return Jc=new Set(oC.filter(t=>(n.setAttribute("type",t),n.type===t))),Jc}let kh,eu,pp;function Xc(n){return function AA(){if(null==kh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>kh=!0}))}finally{kh=kh||!1}return kh}()?n:!!n.capture}function xA(){if(null==eu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return eu=!1,eu;if("scrollBehavior"in document.documentElement.style)eu=!0;else{const n=Element.prototype.scrollTo;eu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return eu}function id(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function rd(n){return n.composedPath?n.composedPath()[0]:n.target}function cv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Dt=V(7579),Jn=V(727);class hs extends Dt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}function pt(...n){const t=(0,fn.yG)(n);return(0,kn.D)(n,t)}function vl(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var fr=V(8505),sd=V(4986),Gi=V(4482);function Ph(n,t=sd.z){return(0,Gi.e)((e,i)=>{let r=null,s=null,c=null;const d=()=>{if(r){r.unsubscribe(),r=null;const m=s;s=null,i.next(m)}};function f(){const m=c+n,v=t.now();if(v<m)return r=this.schedule(void 0,m-v),void i.add(r);d()}e.subscribe((0,Hn.x)(i,m=>{s=m,c=t.now(),r||(r=t.schedule(f,n),i.add(r))},()=>{d(),i.complete()},void 0,()=>{s=r=null}))})}function ui(n,t){return(0,Gi.e)((e,i)=>{let r=0;e.subscribe((0,Hn.x)(i,s=>n.call(t,s,r++)&&i.next(s)))})}var od=V(515);function Xn(n){return n<=0?()=>od.E:(0,Gi.e)((t,e)=>{let i=0;t.subscribe((0,Hn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function dx(n){return ui((t,e)=>n<=e)}var _p=V(4671);function yv(n,t=_p.y){return n=n??XL,(0,Gi.e)((e,i)=>{let r,s=!0;e.subscribe((0,Hn.x)(i,c=>{const d=t(c);(s||!n(r,d))&&(s=!1,r=d,i.next(c))}))})}function XL(n,t){return n===t}var SC=V(5032);function gi(n){return(0,Gi.e)((t,e)=>{(0,ao.Xf)(n).subscribe((0,Hn.x)(e,()=>e.complete(),SC.Z)),!e.closed&&t.subscribe(e)})}function pn(n){return null!=n&&"false"!=`${n}`}function qr(n,t=0){return Ug(n)?Number(n):t}function Ug(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}function $g(n){return Array.isArray(n)?n:[n]}function zi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ka(n){return n instanceof o.SBq?n.nativeElement:n}let Hg=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hx=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=ka(e);return new Hi.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Dt.x,r=this._mutationObserverFactory.create(s=>i.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Hg))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sc=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new o.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=pn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=qr(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Ph(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(hx),o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),jg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Hg]}),n})();class ad{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Dt.x,this._typeaheadSubscription=Jn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Dt.x,this.change=new Dt.x,t instanceof o.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,fr.b)(e=>this._pressedLetters.push(e)),Ph(t),ui(()=>this._pressedLetters.length>0),(0,ct.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const s=(this._activeItemIndex+r)%i.length,c=i[s];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(s);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(s=>!t[s]||this._allowedModifierKeys.indexOf(s)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||vl(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof o.n_E?this._items.toArray():this._items}}class px extends ad{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}class kC extends ad{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let qg=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function RC(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function bv(n){try{return n.frameElement}catch{return null}}(function yx(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===FC(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),s=FC(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function NC(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function _x(n){return!function gx(n){return function n2(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function Zg(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function OC(n){return function PC(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||wv(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wv(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function FC(n){if(!wv(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class _o{constructor(t,e,i,r,s=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Xn(1)).subscribe(t)}}let LC=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new _o(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(qg),o.LFG(o.R0b),o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vx=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._focusTrapFactory=i,this._previouslyFocusedElement=null,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=pn(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=pn(e)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const i=e.autoCapture;i&&!i.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=id(),this.focusTrap.focusInitialElementWhenReady()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(LC),o.Y36(se))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["cdkTrapFocus"],features:[o.TTD]}),n})();function vp(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Wg(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const wx=new o.OlP("cdk-input-modality-detector-options"),Cx={ignoreKeys:[18,17,224,91,16]},ld=Xc({passive:!0,capture:!0});let Ex=(()=>{class n{constructor(e,i,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new hs(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(d=>d===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=rd(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(vp(c)?"keyboard":"mouse"),this._mostRecentTarget=rd(c))},this._onTouchstart=c=>{Wg(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=rd(c))},this._options={...Cx,...s},this.modalityDetected=this._modality.pipe(dx(1)),this.modalityChanged=this.modalityDetected.pipe(yv()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,ld),r.addEventListener("mousedown",this._onMousedown,ld),r.addEventListener("touchstart",this._onTouchstart,ld)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,ld),document.removeEventListener("mousedown",this._onMousedown,ld),document.removeEventListener("touchstart",this._onTouchstart,ld))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bn),o.LFG(o.R0b),o.LFG(se),o.LFG(wx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const BC=new o.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Dx(){return null}}),Ix=new o.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Yg=(()=>{class n{constructor(e,i,r,s){this._ngZone=i,this._defaultOptions=s,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let s,c;return 1===i.length&&"number"==typeof i[0]?c=i[0]:[s,c]=i,this.clear(),clearTimeout(this._previousTimeout),s||(s=r&&r.politeness?r.politeness:"polite"),null==c&&r&&(c=r.duration),this._liveElement.setAttribute("aria-live",s),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(d=>this._currentResolve=d)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof c&&(this._previousTimeout=setTimeout(()=>this.clear(),c)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let s=0;s<i.length;s++)i[s].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(BC,8),o.LFG(o.R0b),o.LFG(se),o.LFG(Ix,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tx=new o.OlP("cdk-focus-monitor-default-options"),yo=Xc({passive:!0,capture:!0});let oc=(()=>{class n{constructor(e,i,r,s,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Dt.x,this._rootNodeFocusAndBlurListener=d=>{const f=rd(d),m="focus"===d.type?this._onFocus:this._onBlur;for(let v=f;v;v=v.parentElement)m.call(this,d,v)},this._document=s,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=ka(e);if(!this._platform.isBrowser||1!==r.nodeType)return pt(null);const s=function kA(n){if(function MA(){if(null==pp){const n=typeof document<"u"?document.head:null;pp=!(!n||!n.createShadowRoot&&!n.attachShadow)}return pp}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const d={checkChildren:i,subject:new Dt.x,rootNode:s};return this._elementInfo.set(r,d),this._registerGlobalListeners(d),d.subject}stopMonitoring(e){const i=ka(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const s=ka(e);s===this._getDocument().activeElement?this._getClosestElementsInfo(s).forEach(([d,f])=>this._originChanged(d,i,f)):(this._setOrigin(i),"function"==typeof s.focus&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),s=rd(e);!r||!r.checkChildren&&i!==s||this._originChanged(i,this._getFocusOrigin(s),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r.subject,null))}_emitOrigin(e,i){this._ngZone.run(()=>e.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,yo),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,yo)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(gi(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yo),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yo),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r.subject,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&i.push([s,r])}),i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(bn),o.LFG(Ex),o.LFG(se,8),o.LFG(Tx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ax=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new o.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(oc))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const UC="cdk-high-contrast-black-on-white",xx="cdk-high-contrast-white-on-black",Kg="cdk-high-contrast-active";let $C=(()=>{class n{constructor(e,i){this._platform=e,this._document=i}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Kg),e.remove(UC),e.remove(xx),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?(e.add(Kg),e.add(UC)):2===i&&(e.add(Kg),e.add(xx))}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bn),o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mx=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($C))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[jg]]}),n})();const kx=new o.OlP("cdk-dir-doc",{providedIn:"root",factory:function Cv(){return(0,o.f3M)(se)}}),Rx=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Vs=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new o.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Ox(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Rx.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(kx,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();class Jg{}const iu="*";function ru(n,t){return{type:7,name:n,definitions:t,options:{}}}function Zr(n,t=null){return{type:4,styles:t,timings:n}}function Px(n,t=null){return{type:3,steps:n,options:t}}function GC(n,t=null){return{type:2,steps:n,options:t}}function zn(n){return{type:6,styles:n,offset:null}}function vo(n,t,e){return{type:0,name:n,styles:t,options:e}}function Ev(n){return{type:5,steps:n}}function Wr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Ra(n=null){return{type:9,options:n}}function Iv(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Nx(n){Promise.resolve(null).then(n)}class cd{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Nx(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Sv{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const s=this.players.length;0==s?Nx(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==s&&this._onFinish()}),c.onDestroy(()=>{++i==s&&this._onDestroy()}),c.onStart(()=>{++r==s&&this._onStart()})}),this.totalTime=this.players.reduce((c,d)=>Math.max(c,d.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const en=!1;function e_(n){return new o.vHH(3e3,en)}function Qx(){return typeof window<"u"&&typeof window.document<"u"}function t_(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ac(n){switch(n.length){case 0:return new cd;case 1:return n[0];default:return new Sv(n)}}function Jx(n,t,e,i,r={},s={}){const c=[],d=[];let f=-1,m=null;if(i.forEach(v=>{const E=v.offset,A=E==f,M=A&&m||{};Object.keys(v).forEach(P=>{let B=P,J=v[P];if("offset"!==P)switch(B=t.normalizePropertyName(B,c),J){case"!":J=r[P];break;case iu:J=s[P];break;default:J=t.normalizeStyleValue(P,B,J,c)}M[B]=J}),A||d.push(M),m=M,f=E}),c.length)throw function zx(n){return new o.vHH(3502,en)}();return d}function bo(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&nE(e,"start",n)));break;case"done":n.onDone(()=>i(e&&nE(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&nE(e,"destroy",n)))}}function nE(n,t,e){const s=iE(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(s._data=c),s}function iE(n,t,e,i,r="",s=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:s,disabled:!!c}}function Bs(n,t,e){let i;return n instanceof Map?(i=n.get(t),i||n.set(t,i=e)):(i=n[t],i||(i=n[t]=e)),i}function Mv(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let n_=(n,t)=>!1,rE=(n,t,e)=>[],Xx=null;function i_(n){const t=n.parentNode||n.host;return t===Xx?null:t}(t_()||typeof Element<"u")&&(Qx()?(Xx=(()=>document.documentElement)(),n_=(n,t)=>{for(;t;){if(t===n)return!0;t=i_(t)}return!1}):n_=(n,t)=>n.contains(t),rE=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let lc=null,oE=!1;function aE(n){lc||(lc=function tM(){return typeof document<"u"?document.body:null}()||{},oE=!!lc.style&&"WebkitAppearance"in lc.style);let t=!0;return lc.style&&!function eM(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in lc.style,!t&&oE&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lc.style)),t}const lE=n_,cE=rE;let Cp=(()=>{class n{validateStyleProperty(e){return aE(e)}matchesElement(e,i){return!1}containsElement(e,i){return lE(e,i)}getParentElement(e){return i_(e)}query(e,i,r){return cE(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,s,c,d=[],f){return new cd(r,s)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),su=(()=>{class n{}return n.NOOP=new Cp,n})();const kv="ng-enter",Bh="ng-leave",wo="ng-trigger",ou=".ng-trigger",Nr="ng-animating",cc=".ng-animating";function wl(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Us(parseFloat(t[1]),t[2])}function Us(n,t){return"s"===t?1e3*n:n}function Uh(n,t,e){return n.hasOwnProperty("duration")?n:function $h(n,t,e){let r,s=0,c="";if("string"==typeof n){const d=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===d)return t.push(e_()),{duration:0,delay:0,easing:""};r=Us(parseFloat(d[1]),d[2]);const f=d[3];null!=f&&(s=Us(parseFloat(f),d[4]));const m=d[5];m&&(c=m)}else r=n;if(!e){let d=!1,f=t.length;r<0&&(t.push(function zC(){return new o.vHH(3100,en)}()),d=!0),s<0&&(t.push(function qC(){return new o.vHH(3101,en)}()),d=!0),d&&t.splice(f,0,e_())}return{duration:r,delay:s,easing:c}}(n,t,e)}function Oa(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Co(n,t,e={}){if(t)for(let i in n)e[i]=n[i];else Oa(n,e);return e}function dd(n,t,e){return e?t+":"+e+";":""}function hd(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=dd(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=dd(0,hE(e),n.style[e]));n.setAttribute("style",t)}function ps(n,t,e){n.style&&(Object.keys(t).forEach(i=>{const r=s_(i);e&&!e.hasOwnProperty(i)&&(e[i]=n.style[r]),n.style[r]=t[i]}),t_()&&hd(n))}function ia(n,t){n.style&&(Object.keys(t).forEach(e=>{const i=s_(e);n.style[i]=""}),t_()&&hd(n))}function Cl(n){return Array.isArray(n)?1==n.length?n[0]:GC(n):n}const r_=new RegExp("{{\\s*(.+?)\\s*}}","g");function Rv(n){let t=[];if("string"==typeof n){let e;for(;e=r_.exec(n);)t.push(e[1]);r_.lastIndex=0}return t}function Ep(n,t,e){const i=n.toString(),r=i.replace(r_,(s,c)=>{let d=t[c];return t.hasOwnProperty(c)||(e.push(function Lx(n){return new o.vHH(3003,en)}()),d=""),d.toString()});return r==i?n:r}function Dp(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const dE=/-+([a-z0-9])/g;function s_(n){return n.replace(dE,(...t)=>t[1].toUpperCase())}function hE(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function $s(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function Tv(n){return new o.vHH(3004,en)}()}}function pE(n,t){return window.getComputedStyle(n)[t]}function lM(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function d2(n,t,e){if(":"==n[0]){const f=function cM(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function KC(n){return new o.vHH(3016,en)}()),"* => *"}}(n,e);if("function"==typeof f)return void t.push(f);n=f}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Av(n){return new o.vHH(3015,en)}()),t;const r=i[1],s=i[2],c=i[3];t.push(gE(r,c));"<"==s[0]&&!("*"==r&&"*"==c)&&t.push(gE(c,r))}(i,e,t)):e.push(n),e}const Hh=new Set(["true","1"]),jh=new Set(["false","0"]);function gE(n,t){const e=Hh.has(n)||jh.has(n),i=Hh.has(t)||jh.has(t);return(r,s)=>{let c="*"==n||n==r,d="*"==t||t==s;return!c&&e&&"boolean"==typeof r&&(c=r?Hh.has(n):jh.has(n)),!d&&i&&"boolean"==typeof s&&(d=s?Hh.has(t):jh.has(t)),c&&d}}const h2=new RegExp("s*:selfs*,?","g");function _E(n,t,e,i){return new vE(n).build(t,e,i)}class vE{constructor(t){this._driver=t}build(t,e,i){const r=new Gh(e);this._resetContextStyleTimingState(r);const s=$s(this,Cl(t),r);return r.unsupportedCSSPropertiesFound.size&&r.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const s=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function Bx(){return new o.vHH(3006,en)}()),t.definitions.forEach(d=>{if(this._resetContextStyleTimingState(e),0==d.type){const f=d,m=f.name;m.toString().split(/\s*,\s*/).forEach(v=>{f.name=v,s.push(this.visitState(f,e))}),f.name=m}else if(1==d.type){const f=this.visitTransition(d,e);i+=f.queryCount,r+=f.depCount,c.push(f)}else e.errors.push(function WC(){return new o.vHH(3007,en)}())}),{type:7,name:t.name,states:s,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const s=new Set,c=r||{};i.styles.forEach(d=>{if(Tp(d)){const f=d;Object.keys(f).forEach(m=>{Rv(f[m]).forEach(v=>{c.hasOwnProperty(v)||s.add(v)})})}}),s.size&&(Dp(s.values()),e.errors.push(function Nh(n,t){return new o.vHH(3008,en)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=$s(this,Cl(t.animation),e);return{type:1,matchers:lM(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:au(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>$s(this,i,e)),options:au(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const s=t.steps.map(c=>{e.currentTime=i;const d=$s(this,c,e);return r=Math.max(r,e.currentTime),d});return e.currentTime=r,{type:3,steps:s,options:au(t.options)}}visitAnimate(t,e){const i=function fM(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return zh(Uh(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=zh(0,0,"");return s.dynamic=!0,s.strValue=e,s}const r=Uh(e,t);return zh(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,s=t.styles?t.styles:zn({});if(5==s.type)r=this.visitKeyframes(s,e);else{let c=t.styles,d=!1;if(!c){d=!0;const m={};i.easing&&(m.easing=i.easing),c=zn(m)}e.currentTime+=i.duration+i.delay;const f=this.visitStyle(c,e);f.isEmptyStep=d,r=f}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[];Array.isArray(t.styles)?t.styles.forEach(c=>{"string"==typeof c?c==iu?i.push(c):e.errors.push(function YC(n){return new o.vHH(3002,en)}()):i.push(c)}):i.push(t.styles);let r=!1,s=null;return i.forEach(c=>{if(Tp(c)){const d=c,f=d.easing;if(f&&(s=f,delete d.easing),!r)for(let m in d)if(d[m].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:i,easing:s,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,s=e.currentTime;i&&s>0&&(s-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&Object.keys(c).forEach(d=>{if(!this._driver.validateStyleProperty(d))return delete c[d],void e.unsupportedCSSPropertiesFound.add(d);const f=e.collectedStyles[e.currentQuerySelector],m=f[d];let v=!0;m&&(s!=r&&s>=m.startTime&&r<=m.endTime&&(e.errors.push(function Ux(n,t,e,i,r){return new o.vHH(3010,en)}()),v=!1),s=m.startTime),v&&(f[d]={startTime:s,endTime:r}),e.options&&function uE(n,t,e){const i=t.params||{},r=Rv(n);r.length&&r.forEach(s=>{i.hasOwnProperty(s)||e.push(function ZC(n){return new o.vHH(3001,en)}())})}(c[d],e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Lh(){return new o.vHH(3011,en)}()),i;let s=0;const c=[];let d=!1,f=!1,m=0;const v=t.steps.map(oe=>{const Ve=this._makeStyleAst(oe,e);let xe=null!=Ve.offset?Ve.offset:function hM(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(Tp(e)&&e.hasOwnProperty("offset")){const i=e;t=parseFloat(i.offset),delete i.offset}});else if(Tp(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ve.styles),Ie=0;return null!=xe&&(s++,Ie=Ve.offset=xe),f=f||Ie<0||Ie>1,d=d||Ie<m,m=Ie,c.push(Ie),Ve});f&&e.errors.push(function $x(){return new o.vHH(3012,en)}()),d&&e.errors.push(function Hx(){return new o.vHH(3200,en)}());const E=t.steps.length;let A=0;s>0&&s<E?e.errors.push(function jx(){return new o.vHH(3202,en)}()):0==s&&(A=1/(E-1));const M=E-1,P=e.currentTime,B=e.currentAnimateTimings,J=B.duration;return v.forEach((oe,Ve)=>{const xe=A>0?Ve==M?1:A*Ve:c[Ve],Ie=xe*J;e.currentTime=P+B.delay+Ie,B.duration=Ie,this._validateStyleAst(oe,e),oe.offset=xe,i.styles.push(oe)}),i}visitReference(t,e){return{type:8,animation:$s(this,Cl(t.animation),e),options:au(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:au(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:au(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[s,c]=function f2(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(h2,"")),n=n.replace(/@\*/g,ou).replace(/@\w+/g,e=>ou+"-"+e.substr(1)).replace(/:animating/g,cc),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+s:s,Bs(e.collectedStyles,e.currentQuerySelector,{});const d=$s(this,Cl(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:d,originalSelector:t.selector,options:au(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Gx(){return new o.vHH(3013,en)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Uh(t.timings,e.errors,!0);return{type:12,animation:$s(this,Cl(t.animation),e),timings:i,options:null}}}class Gh{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Tp(n){return!Array.isArray(n)&&"object"==typeof n}function au(n){return n?(n=Oa(n)).params&&(n.params=function dM(n){return n?Oa(n):null}(n.params)):n={},n}function zh(n,t,e){return{duration:n,delay:t,easing:e}}function Ov(n,t,e,i,r,s,c=null,d=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:c,subTimeline:d}}class Ap{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const gM=new RegExp(":enter","g"),yM=new RegExp(":leave","g");function a_(n,t,e,i,r,s={},c={},d,f,m=[]){return(new vM).buildKeyframes(n,t,e,i,r,s,c,d,f,m)}class vM{buildKeyframes(t,e,i,r,s,c,d,f,m,v=[]){m=m||new Ap;const E=new l_(t,e,m,r,s,v,[]);E.options=f,E.currentTimeline.setStyles([c],null,E.errors,f),$s(this,i,E);const A=E.timelines.filter(M=>M.containsAnimation());if(Object.keys(d).length){let M;for(let P=A.length-1;P>=0;P--){const B=A[P];if(B.element===e){M=B;break}}M&&!M.allowOnlyTimelineStyles()&&M.setStyles([d],null,E.errors,f)}return A.length?A.map(M=>M.buildKeyframes()):[Ov(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),s=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);s!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let s=e.currentTimeline.currentTime;const c=null!=i.duration?wl(i.duration):null,d=null!=i.delay?wl(i.delay):null;return 0!==c&&t.forEach(f=>{const m=e.appendInstructionToTimeline(f,c,d);s=Math.max(s,m.duration+m.delay)}),s}visitReference(t,e){e.updateOptions(t.options,!0),$s(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const s=t.options;if(s&&(s.params||s.delay)&&(r=e.createSubContext(s),r.transformIntoNewTimeline(),null!=s.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xp);const c=wl(s.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>$s(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const s=t.options&&t.options.delay?wl(t.options.delay):0;t.steps.forEach(c=>{const d=e.createSubContext(t.options);s&&d.delayNextStep(s),$s(this,c,d),r=Math.max(r,d.currentTimeline.currentTime),i.push(d.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Uh(e.params?Ep(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const s=t.style;5==s.type?this.visitKeyframes(s,e):(e.incrementTime(i.duration),this.visitStyle(s,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.getCurrentStyleProperties().length&&i.forwardFrame();const s=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(s):i.setStyles(t.styles,s,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,s=i.duration,d=e.createSubContext().currentTimeline;d.easing=i.easing,t.styles.forEach(f=>{d.forwardTime((f.offset||0)*s),d.setStyles(f.styles,f.easing,e.errors,e.options),d.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(d),e.transformIntoNewTimeline(r+s),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},s=r.delay?wl(r.delay):0;s&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=xp);let c=i;const d=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=d.length;let f=null;d.forEach((m,v)=>{e.currentQueryIndex=v;const E=e.createSubContext(t.options,m);s&&E.delayNextStep(s),m===e.element&&(f=E.currentTimeline),$s(this,t.animation,E),E.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,E.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),f&&(e.currentTimeline.mergeTimelineCollectedStyles(f),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,s=t.timings,c=Math.abs(s.duration),d=c*(e.currentQueryTotal-1);let f=c*e.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":f=d-f;break;case"full":f=i.currentStaggerTime}const v=e.currentTimeline;f&&v.delayNextStep(f);const E=v.currentTime;$s(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-E+(r.startTime-i.currentTimeline.startTime)}}const xp={};class l_{constructor(t,e,i,r,s,c,d,f){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=s,this.errors=c,this.timelines=d,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xp,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=f||new qh(this._driver,e,0),d.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=wl(i.duration)),null!=i.delay&&(r.delay=wl(i.delay));const s=i.params;if(s){let c=r.params;c||(c=this.options.params={}),Object.keys(s).forEach(d=>{(!e||!c.hasOwnProperty(d))&&(c[d]=Ep(s[d],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,s=new l_(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(t),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(t){return this.previousNode=xp,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},s=new p2(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(s),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,s,c){let d=[];if(r&&d.push(this.element),t.length>0){t=(t=t.replace(gM,"."+this._enterClassName)).replace(yM,"."+this._leaveClassName);let m=this._driver.query(this.element,t,1!=i);0!==i&&(m=i<0?m.slice(m.length+i,m.length):m.slice(0,i)),d.push(...m)}return!s&&0==d.length&&c.push(function bl(n){return new o.vHH(3014,en)}()),d}}class qh{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new qh(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||iu,this._currentKeyframe[e]=iu}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&(this._previousKeyframe.easing=e);const s=r&&r.params||{},c=function bM(n,t){const e={};let i;return n.forEach(r=>{"*"===r?(i=i||Object.keys(t),i.forEach(s=>{e[s]=iu})):Co(r,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(c).forEach(d=>{const f=Ep(c[d],s,i);this._pendingStyles[d]=f,this._localTimelineStyles.hasOwnProperty(d)||(this._backFill[d]=this._globalTimelineStyles.hasOwnProperty(d)?this._globalTimelineStyles[d]:iu),this._updateStyle(d,f)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(i=>{this._currentKeyframe[i]=t[i]}),Object.keys(this._localTimelineStyles).forEach(i=>{this._currentKeyframe.hasOwnProperty(i)||(this._currentKeyframe[i]=this._localTimelineStyles[i])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const i=this._styleSummary[e],r=t._styleSummary[e];(!i||r.time>i.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((d,f)=>{const m=Co(d,!0);Object.keys(m).forEach(v=>{const E=m[v];"!"==E?t.add(v):E==iu&&e.add(v)}),i||(m.offset=f/this.duration),r.push(m)});const s=t.size?Dp(t.values()):[],c=e.size?Dp(e.values()):[];if(i){const d=r[0],f=Oa(d);d.offset=0,f.offset=1,r=[d,f]}return Ov(this.element,r,s,c,this.duration,this.startTime,this.easing,!1)}}class p2 extends qh{constructor(t,e,i,r,s,c,d=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=s,this._stretchStartingKeyframe=d,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const s=[],c=i+e,d=e/c,f=Co(t[0],!1);f.offset=0,s.push(f);const m=Co(t[0],!1);m.offset=c_(d),s.push(m);const v=t.length-1;for(let E=1;E<=v;E++){let A=Co(t[E],!1);A.offset=c_((e+A.offset*i)/c),s.push(A)}i=c,e=0,r="",t=s}return Ov(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function c_(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class fd{}class Pv extends fd{normalizePropertyName(t,e){return s_(t)}normalizeStyleValue(t,e,i,r){let s="";const c=i.toString().trim();if(Fv[e]&&0!==i&&"0"!==i)if("number"==typeof i)s="px";else{const d=i.match(/^[+-]?[\d\.]+([a-z]*)$/);d&&0==d[1].length&&r.push(function Vx(n,t){return new o.vHH(3005,en)}())}return c+s}}const Fv=(()=>function CM(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Mp(n,t,e,i,r,s,c,d,f,m,v,E,A){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:s,toState:i,toStyles:c,timelines:d,queriedElements:f,preStyleProps:m,postStyleProps:v,totalTime:E,errors:A}}const Zh={};class u_{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function m2(n,t,e,i,r){return n.some(s=>s(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){const r=this._stateStyles["*"],s=this._stateStyles[t],c=r?r.buildStyles(e,i):{};return s?s.buildStyles(e,i):c}build(t,e,i,r,s,c,d,f,m,v){const E=[],A=this.ast.options&&this.ast.options.params||Zh,P=this.buildStyles(i,d&&d.params||Zh,E),B=f&&f.params||Zh,J=this.buildStyles(r,B,E),oe=new Set,Ve=new Map,xe=new Map,Ie="void"===r,ze={params:{...A,...B}},ut=v?[]:a_(t,e,this.ast.animation,s,c,P,J,ze,m,E);let Vt=0;if(ut.forEach(Br=>{Vt=Math.max(Br.duration+Br.delay,Vt)}),E.length)return Mp(e,this._triggerName,i,r,Ie,P,J,[],[],Ve,xe,Vt,E);ut.forEach(Br=>{const Is=Br.element,jd=Bs(Ve,Is,{});Br.preStyleProps.forEach(Ys=>jd[Ys]=!0);const ja=Bs(xe,Is,{});Br.postStyleProps.forEach(Ys=>ja[Ys]=!0),Is!==e&&oe.add(Is)});const Vn=Dp(oe.values());return Mp(e,this._triggerName,i,r,Ie,P,J,ut,Vn,Ve,xe,Vt)}}class EM{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i={},r=Oa(this.defaultParams);return Object.keys(t).forEach(s=>{const c=t[s];null!=c&&(r[s]=c)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const c=s;Object.keys(c).forEach(d=>{let f=c[d];f.length>1&&(f=Ep(f,r,e));const m=this.normalizer.normalizePropertyName(d,e);f=this.normalizer.normalizeStyleValue(d,m,f,e),i[m]=f})}}),i}}class h_{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states={},e.states.forEach(r=>{this.states[r.name]=new EM(r.style,r.options&&r.options.params||{},i)}),Nv(this.states,"true","1"),Nv(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new u_(t,r,this.states))}),this.fallbackTransition=function bE(n,t,e){return new u_(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,d)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Nv(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const Lv=new Ap;class wE{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}register(t,e){const i=[],s=_E(this._driver,e,i,[]);if(i.length)throw function qx(n){return new o.vHH(3503,en)}();this._animations[t]=s}_buildPlayer(t,e,i){const r=t.element,s=Jx(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,s,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],s=this._animations[t];let c;const d=new Map;if(s?(c=a_(this._driver,e,s,kv,Bh,{},{},i,Lv,r),c.forEach(v=>{const E=Bs(d,v.element,{});v.postStyleProps.forEach(A=>E[A]=null)})):(r.push(function Zx(){return new o.vHH(3300,en)}()),c=[]),r.length)throw function Wx(n){return new o.vHH(3504,en)}();d.forEach((v,E)=>{Object.keys(v).forEach(A=>{v[A]=this._driver.computeStyle(E,A,iu)})});const m=ac(c.map(v=>{const E=d.get(v.element);return this._buildPlayer(v,{},E)}));return this._playersById[t]=m,m.onDestroy(()=>this.destroy(t)),this.players.push(m),m}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw function eE(n){return new o.vHH(3301,en)}();return e}listen(t,e,i,r){const s=iE(e,"","","");return bo(this._getPlayer(t),i,s,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const s=this._getPlayer(t);switch(i){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Vv="ng-animate-queued",kp="ng-animate-disabled",Uv=[],$v={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},IM={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Eo="__ng_removed";class f_{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function TE(n){return n??null}(i?t.value:t),i){const s=Oa(t);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Wh="void",Yh=new f_(Wh);class DE{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ra(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.hasOwnProperty(e))throw function a2(n,t){return new o.vHH(3302,en)}();if(null==i||0==i.length)throw function tE(n){return new o.vHH(3303,en)}();if(!function AE(n){return"start"==n||"done"==n}(i))throw function Yx(n,t){return new o.vHH(3400,en)}();const s=Bs(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};s.push(c);const d=Bs(this._engine.statesByElement,t,{});return d.hasOwnProperty(e)||(ra(t,wo),ra(t,wo+"-"+e),d[e]=Yh),()=>{this._engine.afterFlush(()=>{const f=s.indexOf(c);f>=0&&s.splice(f,1),this._triggers[e]||delete d[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw function Kx(n){return new o.vHH(3401,en)}();return e}trigger(t,e,i,r=!0){const s=this._getTrigger(e),c=new p_(this.id,e,t);let d=this._engine.statesByElement.get(t);d||(ra(t,wo),ra(t,wo+"-"+e),this._engine.statesByElement.set(t,d={}));let f=d[e];const m=new f_(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&f&&m.absorbOptions(f.options),d[e]=m,f||(f=Yh),m.value!==Wh&&f.value===m.value){if(!function AM(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const s=e[r];if(!t.hasOwnProperty(s)||n[s]!==t[s])return!1}return!0}(f.params,m.params)){const B=[],J=s.matchStyles(f.value,f.params,B),oe=s.matchStyles(m.value,m.params,B);B.length?this._engine.reportError(B):this._engine.afterFlush(()=>{ia(t,J),ps(t,oe)})}return}const A=Bs(this._engine.playersByElement,t,[]);A.forEach(B=>{B.namespaceId==this.id&&B.triggerName==e&&B.queued&&B.destroy()});let M=s.matchTransition(f.value,m.value,t,m.params),P=!1;if(!M){if(!r)return;M=s.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:M,fromState:f,toState:m,player:c,isFallbackTransition:P}),P||(ra(t,Vv),c.onStart(()=>{pd(t,Vv)})),c.onDone(()=>{let B=this.players.indexOf(c);B>=0&&this.players.splice(B,1);const J=this._engine.playersByElement.get(t);if(J){let oe=J.indexOf(c);oe>=0&&J.splice(oe,1)}}),this.players.push(c),A.push(c),c}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,i)=>{delete e[t]}),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,ou,!0);i.forEach(r=>{if(r[Eo])return;const s=this._engine.fetchNamespacesByElement(r);s.size?s.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const s=this._engine.statesByElement.get(t),c=new Map;if(s){const d=[];if(Object.keys(s).forEach(f=>{if(c.set(f,s[f].value),this._triggers[f]){const m=this.trigger(t,f,Wh,r);m&&d.push(m)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&ac(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(s=>{const c=s.name;if(r.has(c))return;r.add(c);const f=this._triggers[c].fallbackTransition,m=i[c]||Yh,v=new f_(Wh),E=new p_(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:f,fromState:m,toState:v,player:E,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const s=i.players.length?i.playersByQueriedElement.get(t):[];if(s&&s.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const s=t[Eo];(!s||s===$v)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ra(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const s=i.element,c=this._elementListeners.get(s);c&&c.forEach(d=>{if(d.name==i.triggerName){const f=iE(s,i.triggerName,i.fromState.value,i.toState.value);f._data=t,bo(i.player,d.phase,f,d.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const s=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==s||0==c?s-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class IE{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,s)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new DE(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement,s=i.length-1;if(s>=0){let c=!1;if(void 0!==this.driver.getParentElement){let d=this.driver.getParentElement(e);for(;d;){const f=r.get(d);if(f){const m=i.indexOf(f);i.splice(m+1,0,t),c=!0;break}d=this.driver.getParentElement(d)}}else for(let d=s;d>=0;d--)if(this.driver.containsElement(i[d].hostElement,e)){i.splice(d+1,0,t),c=!0;break}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i){const r=Object.keys(i);for(let s=0;s<r.length;s++){const c=i[r[s]].namespaceId;if(c){const d=this._fetchNamespace(c);d&&e.add(d)}}}return e}trigger(t,e,i,r){if(Rp(e)){const s=this._fetchNamespace(t);if(s)return s.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!Rp(e))return;const s=e[Eo];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ra(t,kp)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),pd(t,kp))}removeNode(t,e,i,r){if(Rp(e)){const s=t?this._fetchNamespace(t):null;if(s?s.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,s){this.collectedLeaveElements.push(e),e[Eo]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:s}}listen(t,e,i,r,s){return Rp(e)?this._fetchNamespace(t).listen(e,i,r,s):()=>{}}_buildInstruction(t,e,i,r,s){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,s)}destroyInnerAnimations(t){let e=this.driver.query(t,ou,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cc,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return ac(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Eo];if(e&&e.setForRemoval){if(t[Eo]=$v,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(kp)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ra(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?ac(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function l2(n){return new o.vHH(3402,en)}()}_flushAnimations(t,e){const i=new Ap,r=[],s=new Map,c=[],d=new Map,f=new Map,m=new Map,v=new Set;this.disabledNodes.forEach(lt=>{v.add(lt);const _t=this.driver.query(lt,".ng-animate-queued",!0);for(let Nt=0;Nt<_t.length;Nt++)v.add(_t[Nt])});const E=this.bodyNode,A=Array.from(this.statesByElement.keys()),M=xE(A,this.collectedEnterElements),P=new Map;let B=0;M.forEach((lt,_t)=>{const Nt=kv+B++;P.set(_t,Nt),lt.forEach(sn=>ra(sn,Nt))});const J=[],oe=new Set,Ve=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const _t=this.collectedLeaveElements[lt],Nt=_t[Eo];Nt&&Nt.setForRemoval&&(J.push(_t),oe.add(_t),Nt.hasAnimation?this.driver.query(_t,".ng-star-inserted",!0).forEach(sn=>oe.add(sn)):Ve.add(_t))}const xe=new Map,Ie=xE(A,Array.from(oe));Ie.forEach((lt,_t)=>{const Nt=Bh+B++;xe.set(_t,Nt),lt.forEach(sn=>ra(sn,Nt))}),t.push(()=>{M.forEach((lt,_t)=>{const Nt=P.get(_t);lt.forEach(sn=>pd(sn,Nt))}),Ie.forEach((lt,_t)=>{const Nt=xe.get(_t);lt.forEach(sn=>pd(sn,Nt))}),J.forEach(lt=>{this.processLeaveNode(lt)})});const ze=[],ut=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(e).forEach(Nt=>{const sn=Nt.player,bi=Nt.element;if(ze.push(sn),this.collectedEnterElements.length){const Fo=bi[Eo];if(Fo&&Fo.setForMove){if(Fo.previousTriggersValues&&Fo.previousTriggersValues.has(Nt.triggerName)){const lg=Fo.previousTriggersValues.get(Nt.triggerName),Gf=this.statesByElement.get(Nt.element);Gf&&Gf[Nt.triggerName]&&(Gf[Nt.triggerName].value=lg)}return void sn.destroy()}}const Lu=!E||!this.driver.containsElement(E,bi),Ga=xe.get(bi),jf=P.get(bi),Wi=this._buildInstruction(Nt,i,jf,Ga,Lu);if(Wi.errors&&Wi.errors.length)return void ut.push(Wi);if(Lu)return sn.onStart(()=>ia(bi,Wi.fromStyles)),sn.onDestroy(()=>ps(bi,Wi.toStyles)),void r.push(sn);if(Nt.isFallbackTransition)return sn.onStart(()=>ia(bi,Wi.fromStyles)),sn.onDestroy(()=>ps(bi,Wi.toStyles)),void r.push(sn);const Kq=[];Wi.timelines.forEach(Fo=>{Fo.stretchStartingKeyframe=!0,this.disabledNodes.has(Fo.element)||Kq.push(Fo)}),Wi.timelines=Kq,i.append(bi,Wi.timelines),c.push({instruction:Wi,player:sn,element:bi}),Wi.queriedElements.forEach(Fo=>Bs(d,Fo,[]).push(sn)),Wi.preStyleProps.forEach((Fo,lg)=>{const Gf=Object.keys(Fo);if(Gf.length){let cg=f.get(lg);cg||f.set(lg,cg=new Set),Gf.forEach(hL=>cg.add(hL))}}),Wi.postStyleProps.forEach((Fo,lg)=>{const Gf=Object.keys(Fo);let cg=m.get(lg);cg||m.set(lg,cg=new Set),Gf.forEach(hL=>cg.add(hL))})});if(ut.length){const lt=[];ut.forEach(_t=>{lt.push(function xv(n,t){return new o.vHH(3505,en)}())}),ze.forEach(_t=>_t.destroy()),this.reportError(lt)}const Vt=new Map,Vn=new Map;c.forEach(lt=>{const _t=lt.element;i.has(_t)&&(Vn.set(_t,_t),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Vt))}),r.forEach(lt=>{const _t=lt.element;this._getPreviousPlayers(_t,!1,lt.namespaceId,lt.triggerName,null).forEach(sn=>{Bs(Vt,_t,[]).push(sn),sn.destroy()})});const Br=J.filter(lt=>ME(lt,f,m)),Is=new Map;SM(Is,this.driver,Ve,m,iu).forEach(lt=>{ME(lt,f,m)&&Br.push(lt)});const ja=new Map;M.forEach((lt,_t)=>{SM(ja,this.driver,new Set(lt),f,"!")}),Br.forEach(lt=>{const _t=Is.get(lt),Nt=ja.get(lt);Is.set(lt,{..._t,...Nt})});const Ys=[],Nu=[],Yy={};c.forEach(lt=>{const{element:_t,player:Nt,instruction:sn}=lt;if(i.has(_t)){if(v.has(_t))return Nt.onDestroy(()=>ps(_t,sn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(sn.totalTime),void r.push(Nt);let bi=Yy;if(Vn.size>1){let Ga=_t;const jf=[];for(;Ga=Ga.parentNode;){const Wi=Vn.get(Ga);if(Wi){bi=Wi;break}jf.push(Ga)}jf.forEach(Wi=>Vn.set(Wi,bi))}const Lu=this._buildAnimation(Nt.namespaceId,sn,Vt,s,ja,Is);if(Nt.setRealPlayer(Lu),bi===Yy)Ys.push(Nt);else{const Ga=this.playersByElement.get(bi);Ga&&Ga.length&&(Nt.parentPlayer=ac(Ga)),r.push(Nt)}}else ia(_t,sn.fromStyles),Nt.onDestroy(()=>ps(_t,sn.toStyles)),Nu.push(Nt),v.has(_t)&&r.push(Nt)}),Nu.forEach(lt=>{const _t=s.get(lt.element);if(_t&&_t.length){const Nt=ac(_t);lt.setRealPlayer(Nt)}}),r.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<J.length;lt++){const _t=J[lt],Nt=_t[Eo];if(pd(_t,Bh),Nt&&Nt.hasAnimation)continue;let sn=[];if(d.size){let Lu=d.get(_t);Lu&&Lu.length&&sn.push(...Lu);let Ga=this.driver.query(_t,cc,!0);for(let jf=0;jf<Ga.length;jf++){let Wi=d.get(Ga[jf]);Wi&&Wi.length&&sn.push(...Wi)}}const bi=sn.filter(Lu=>!Lu.destroyed);bi.length?TM(this,_t,bi):this.processLeaveNode(_t)}return J.length=0,Ys.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const _t=this.players.indexOf(lt);this.players.splice(_t,1)}),lt.play()}),Ys}elementContainsData(t,e){let i=!1;const r=e[Eo];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,s){let c=[];if(e){const d=this.playersByQueriedElement.get(t);d&&(c=d)}else{const d=this.playersByElement.get(t);if(d){const f=!s||s==Wh;d.forEach(m=>{m.queued||!f&&m.triggerName!=r||c.push(m)})}}return(i||r)&&(c=c.filter(d=>!(i&&i!=d.namespaceId||r&&r!=d.triggerName))),c}_beforeAnimationBuild(t,e,i){const s=e.element,c=e.isRemovalTransition?void 0:t,d=e.isRemovalTransition?void 0:e.triggerName;for(const f of e.timelines){const m=f.element,v=m!==s,E=Bs(i,m,[]);this._getPreviousPlayers(m,v,c,d,e.toState).forEach(M=>{const P=M.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),M.destroy(),E.push(M)})}ia(s,e.fromStyles)}_buildAnimation(t,e,i,r,s,c){const d=e.triggerName,f=e.element,m=[],v=new Set,E=new Set,A=e.timelines.map(P=>{const B=P.element;v.add(B);const J=B[Eo];if(J&&J.removedBeforeQueried)return new cd(P.duration,P.delay);const oe=B!==f,Ve=function pr(n){const t=[];return jv(n,t),t}((i.get(B)||Uv).map(Vt=>Vt.getRealPlayer())).filter(Vt=>!!Vt.element&&Vt.element===B),xe=s.get(B),Ie=c.get(B),ze=Jx(0,this._normalizer,0,P.keyframes,xe,Ie),ut=this._buildPlayer(P,ze,Ve);if(P.subTimeline&&r&&E.add(B),oe){const Vt=new p_(t,d,B);Vt.setRealPlayer(ut),m.push(Vt)}return ut});m.forEach(P=>{Bs(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function SE(n,t,e){let i;if(n instanceof Map){if(i=n.get(t),i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}}else if(i=n[t],i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&delete n[t]}return i}(this.playersByQueriedElement,P.element,P))}),v.forEach(P=>ra(P,Nr));const M=ac(A);return M.onDestroy(()=>{v.forEach(P=>pd(P,Nr)),ps(f,e.toStyles)}),E.forEach(P=>{Bs(r,P,[]).push(M)}),M}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new cd(t.duration,t.delay)}}class p_{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new cd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(i=>bo(t,e,void 0,i))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bs(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Rp(n){return n&&1===n.nodeType}function Hv(n,t){const e=n.style.display;return n.style.display=t??"none",e}function SM(n,t,e,i,r){const s=[];e.forEach(f=>s.push(Hv(f)));const c=[];i.forEach((f,m)=>{const v={};f.forEach(E=>{const A=v[E]=t.computeStyle(m,E,r);(!A||0==A.length)&&(m[Eo]=IM,c.push(m))}),n.set(m,v)});let d=0;return e.forEach(f=>Hv(f,s[d++])),c}function xE(n,t){const e=new Map;if(n.forEach(d=>e.set(d,[])),0==t.length)return e;const r=new Set(t),s=new Map;function c(d){if(!d)return 1;let f=s.get(d);if(f)return f;const m=d.parentNode;return f=e.has(m)?m:r.has(m)?1:c(m),s.set(d,f),f}return t.forEach(d=>{const f=c(d);1!==f&&e.get(f).push(d)}),e}function ra(n,t){n.classList?.add(t)}function pd(n,t){n.classList?.remove(t)}function TM(n,t,e){ac(e).onDone(()=>n.processLeaveNode(t))}function jv(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Sv?jv(i.players,t):t.push(i)}}function ME(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(s=>r.add(s)):t.set(n,i),e.delete(n),!0}class Op{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,s)=>{},this._transitionEngine=new IE(t,e,i),this._timelineEngine=new wE(t,e,i),this._transitionEngine.onRemovalComplete=(r,s)=>this.onRemovalComplete(r,s)}registerTrigger(t,e,i,r,s){const c=t+"-"+r;let d=this._triggerCache[c];if(!d){const f=[],v=_E(this._driver,s,f,[]);if(f.length)throw function XC(n,t){return new o.vHH(3404,en)}();d=function d_(n,t,e){return new h_(n,t,e)}(r,v,this._normalizer),this._triggerCache[c]=d}this._transitionEngine.registerTrigger(e,r,d)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[s,c]=Mv(i);this._timelineEngine.command(s,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,s){if("@"==i.charAt(0)){const[c,d]=Mv(i);return this._timelineEngine.listen(c,e,d,s)}return this._transitionEngine.listen(t,e,i,r,s)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kE=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let s=n.initialStylesByElement.get(e);s||n.initialStylesByElement.set(e,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&ps(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ps(this._element,this._initialStyles),this._endStyles&&(ps(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ia(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ia(this._element,this._endStyles),this._endStyles=null),ps(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function m_(n){let t=null;const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=e[i];Kh(r)&&(t=t||{},t[r]=n[r])}return t}function Kh(n){return"display"===n||"position"===n}class RE{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,i){return t.animate(e,i)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(i=>{"offset"!=i&&(t[i]=this._finished?e[i]:pE(this.element,i))})}this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class MM{validateStyleProperty(t){return aE(t)}matchesElement(t,e){return!1}containsElement(t,e){return lE(t,e)}getParentElement(t){return i_(t)}query(t,e,i){return cE(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,s,c=[]){const f={duration:i,delay:r,fill:0==r?"both":"forwards"};s&&(f.easing=s);const m={},v=c.filter(A=>A instanceof RE);(function fE(n,t){return 0===n||0===t})(i,r)&&v.forEach(A=>{let M=A.currentSnapshot;Object.keys(M).forEach(P=>m[P]=M[P])}),e=function rM(n,t,e){const i=Object.keys(e);if(i.length&&t.length){let s=t[0],c=[];if(i.forEach(d=>{s.hasOwnProperty(d)||c.push(d),s[d]=e[d]}),c.length)for(var r=1;r<t.length;r++){let d=t[r];c.forEach(function(f){d[f]=pE(n,f)})}}return t}(t,e=e.map(A=>Co(A,!1)),m);const E=function xM(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=m_(t[0]),t.length>1&&(i=m_(t[t.length-1]))):t&&(e=m_(t)),e||i?new kE(n,e,i):null}(t,e);return new RE(t,e,f,E)}}let OE=(()=>{class n extends Jg{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:o.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?GC(e):e;return RM(this._renderer,null,i,"register",[r]),new kM(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class kM extends class jC{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new PE(this._id,t,e||{},this._renderer)}}class PE{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return RM(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function RM(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const g_="@.disabled";let El=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(s,c)=>{const d=c?.parentNode(s);d&&c.removeChild(d,s)}}createRenderer(e,i){const s=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let v=this._rendererCache.get(s);return v||(v=new FE("",s,this.engine),this._rendererCache.set(s,v)),v}const c=i.id,d=i.id+"-"+this._currentId;this._currentId++,this.engine.register(d,e);const f=v=>{Array.isArray(v)?v.forEach(f):this.engine.registerTrigger(c,d,e,v.name,v)};return i.data.animation.forEach(f),new NE(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[c,d]=s;c(d)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(Op),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class FE{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==g_?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class NE extends FE{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==g_?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.substr(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function Dl(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let s=e.substr(1),c="";return"@"!=s.charAt(0)&&([s,c]=function Pa(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(s)),this.engine.listen(this.namespaceId,r,s,c,d=>{this.factory.scheduleListenerCallback(d._data||-1,i,d)})}return this.delegate.listen(t,e,i)}}let Fa=(()=>{class n extends Op{constructor(e,i,r){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se),o.LFG(su),o.LFG(fd))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const uc=new o.OlP("AnimationModuleType"),BE=[{provide:Jg,useClass:OE},{provide:fd,useFactory:function LE(){return new Pv}},{provide:Op,useClass:Fa},{provide:o.FYo,useFactory:function VE(n,t,e){return new El(n,t,e)},deps:[jl,Op,o.R0b]}],UE=[{provide:su,useFactory:()=>new MM},{provide:uc,useValue:"BrowserAnimations"},...BE],OM=[{provide:su,useClass:Cp},{provide:uc,useValue:"NoopAnimations"},...BE];let Gv=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?OM:UE}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:UE,imports:[Nc]}),n})();function FM(n,t){if(1&n&&o._UZ(0,"mat-pseudo-checkbox",4),2&n){const e=o.oxw();o.Q6J("state",e.selected?"checked":"unchecked")("disabled",e.disabled)}}function $E(n,t){if(1&n&&(o.TgZ(0,"span",5),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.hij("(",e.group.label,")")}}const HE=["*"],zv=new o.OlP("mat-sanity-checks",{providedIn:"root",factory:function jE(){return!0}});let Fn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!cv()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(o.LFG($C),o.LFG(zv,8),o.LFG(se))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bp],bp]}),n})();function Fp(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=pn(t)}}}function lu(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Np(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=pn(t)}}}function qv(n,t=0){return class extends n{constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?qr(e):this.defaultTabIndex}}}function Zv(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new Dt.x,this.errorState=!1}updateErrorState(){const t=this.errorState,s=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);s!==t&&(this.errorState=s,this.stateChanges.next())}}}const GE=new o.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function $M(){return(0,o.f3M)(o.soG)}});class mr{constructor(){this._localeChanges=new Dt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const cu=new o.OlP("mat-date-formats"),HM=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Wv(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let zE=(()=>{class n extends mr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Wv(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Wv(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Wv(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let s=this._createDateWithOverflow(e,i,r);return s.getMonth(),s}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(HM.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const s=new Date;return s.setFullYear(e,i,r),s.setHours(0,0,0,0),s}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(GE,8),o.LFG(bn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const jM={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let GM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:mr,useClass:zE}]}),n})(),zM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[{provide:cu,useValue:jM}],imports:[[GM]]}),n})(),Yv=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qM{constructor(t,e,i){this._renderer=t,this.element=e,this.config=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Kv={enterDuration:225,exitDuration:150},y_=Xc({passive:!0}),Qv=["mousedown","touchstart"],Jv=["mouseup","mouseleave","touchend","touchcancel"];class ZE{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ka(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...Kv,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function YE(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),d=t-r.left,f=e-r.top,m=s.enterDuration,v=document.createElement("div");v.classList.add("mat-ripple-element"),v.style.left=d-c+"px",v.style.top=f-c+"px",v.style.height=2*c+"px",v.style.width=2*c+"px",null!=i.color&&(v.style.backgroundColor=i.color),v.style.transitionDuration=`${m}ms`,this._containerElement.appendChild(v),function WE(n){window.getComputedStyle(n).getPropertyValue("opacity")}(v),v.style.transform="scale(1)";const E=new qM(this,v,i);return E.state=0,this._activeRipples.add(E),i.persistent||(this._mostRecentTransientRipple=E),this._runTimeoutOutsideZone(()=>{const A=E===this._mostRecentTransientRipple;E.state=1,!i.persistent&&(!A||!this._isPointerDown)&&E.fadeOut()},m),E}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const i=t.element,r={...Kv,...t.config.animation};i.style.transitionDuration=`${r.exitDuration}ms`,i.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,i.remove()},r.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=ka(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Qv))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Jv),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=vp(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Wg(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,y_)})})}_removeTriggerEvents(){this._triggerElement&&(Qv.forEach(t=>{this._triggerElement.removeEventListener(t,this,y_)}),this._pointerUpEventsRegistered&&Jv.forEach(t=>{this._triggerElement.removeEventListener(t,this,y_)}))}}const KE=new o.OlP("mat-ripple-global-options");let uu=(()=>{class n{constructor(e,i,r,s,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new ZE(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(bn),o.Y36(KE,8),o.Y36(uc,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&o.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Jh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Fn],Fn]}),n})(),md=(()=>{class n{constructor(e){this._animationMode=e,this.state="unchecked",this.disabled=!1}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(uc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(e,i){2&e&&o.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===i.state)("mat-pseudo-checkbox-checked","checked"===i.state)("mat-pseudo-checkbox-disabled",i.disabled)("_mat-animation-noopable","NoopAnimations"===i._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(e,i){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),n})(),ZM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Fn]]}),n})();const QE=new o.OlP("MAT_OPTION_PARENT_COMPONENT"),WM=new o.OlP("MatOptgroup");let XE=0;class E2{constructor(t,e=!1){this.source=t,this.isUserInput=e}}let Ot=(()=>{class n{constructor(e,i,r,s){this._element=e,this._changeDetectorRef=i,this._parent=r,this.group=s,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+XE++,this.onSelectionChange=new o.vpe,this._stateChanges=new Dt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(e){this._disabled=pn(e)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(e,i){const r=this._getHostElement();"function"==typeof r.focus&&r.focus(i)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!vl(e)&&(this._selectViaInteraction(),e.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const e=this.viewValue;e!==this._mostRecentViewValue&&(this._mostRecentViewValue=e,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(e=!1){this.onSelectionChange.emit(new E2(this,e))}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),n})(),eD=(()=>{class n extends Ot{constructor(e,i,r,s){super(e,i,r,s)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(QE,8),o.Y36(WM,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i._selectViaInteraction()})("keydown",function(s){return i._handleKeydown(s)}),2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",i._getTabIndex())("aria-selected",i._getAriaSelected())("aria-disabled",i.disabled.toString()),o.ekj("mat-selected",i.selected)("mat-option-multiple",i.multiple)("mat-active",i.active)("mat-option-disabled",i.disabled))},exportAs:["matOption"],features:[o.qOj],ngContentSelectors:HE,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,FM,1,2,"mat-pseudo-checkbox",0),o.TgZ(1,"span",1),o.Hsn(2),o.qZA(),o.YNc(3,$E,2,1,"span",2),o._UZ(4,"div",3)),2&e&&(o.Q6J("ngIf",i.multiple),o.xp6(3),o.Q6J("ngIf",i.group&&i.group._inert),o.xp6(1),o.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i.disabled||i.disableRipple))},directives:[md,Kn,uu],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),n})();function tD(n,t,e){if(e.length){let i=t.toArray(),r=e.toArray(),s=0;for(let c=0;c<n+1;c++)i[c].group&&i[c].group===r[s]&&s++;return s}return 0}let Bp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jh,Qi,Fn,ZM]]}),n})();const QM=["*",[["mat-toolbar-row"]]],v_=["*","mat-toolbar-row"],b_=lu(class{constructor(n){this._elementRef=n}});let Mi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),D2=(()=>{class n extends b_{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(bn),o.Y36(se))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,Mi,5),2&e){let s;o.iGM(s=o.CRH())&&(i._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&o.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[o.qOj],ngContentSelectors:v_,decls:2,vars:0,template:function(e,i){1&e&&(o.F$t(QM),o.Hsn(0),o.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),n})(),XM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Fn],Fn]}),n})();const ek=["mat-button",""],nD=["*"],rD=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],nk=lu(Fp(Np(class{constructor(n){this._elementRef=n}})));let Yr=(()=>{class n extends nk{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const s of rD)this._hasHostAttributes(s)&&this._getHostElement().classList.add(s);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(oc),o.Y36(uc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&o.Gf(uu,5),2&e){let r;o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(o.uIk("disabled",i.disabled||null),o.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[o.qOj],attrs:ek,ngContentSelectors:nD,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"span",0),o.Hsn(1),o.qZA(),o._UZ(2,"span",1)(3,"span",2)),2&e&&(o.xp6(2),o.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),o.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},directives:[uu],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jh,Fn],Fn]}),n})();const sD=Xc({passive:!0});let ik=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return od.E;const i=ka(e),r=this._monitoredElements.get(i);if(r)return r.subject;const s=new Dt.x,c="cdk-text-field-autofilled",d=f=>{"cdk-text-field-autofill-start"!==f.animationName||i.classList.contains(c)?"cdk-text-field-autofill-end"===f.animationName&&i.classList.contains(c)&&(i.classList.remove(c),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!1}))):(i.classList.add(c),this._ngZone.run(()=>s.next({target:f.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",d,sD),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:s,unlisten:()=>{i.removeEventListener("animationstart",d,sD)}}),s}stopMonitoring(e){const i=ka(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bn),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();var ms=V(6451),gr=V(5577),rk=V(1144),Hs=V(576);const Up=["addListener","removeListener"],sk=["addEventListener","removeEventListener"],ok=["on","off"];function $p(n,t,e,i){if((0,Hs.m)(e)&&(i=e,e=void 0),i)return $p(n,t,e).pipe(fh(i));const[r,s]=function ak(n){return(0,Hs.m)(n.addEventListener)&&(0,Hs.m)(n.removeEventListener)}(n)?sk.map(c=>d=>n[c](t,d,e)):function oD(n){return(0,Hs.m)(n.addListener)&&(0,Hs.m)(n.removeListener)}(n)?Up.map(tb(n,t)):function aD(n){return(0,Hs.m)(n.on)&&(0,Hs.m)(n.off)}(n)?ok.map(tb(n,t)):[];if(!r&&(0,rk.z)(n))return(0,gr.z)(c=>$p(c,t,e))((0,ao.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Hi.y(c=>{const d=(...f)=>c.next(1<f.length?f:f[0]);return r(d),()=>s(d)})}function tb(n,t){return e=>i=>n[e](t,i)}var Hp=V(8189);function jp(...n){return function lk(){return(0,Hp.J)(1)}()((0,kn.D)(n,(0,fn.yG)(n)))}function Kr(...n){const t=(0,fn.yG)(n);return(0,Gi.e)((e,i)=>{(t?jp(n,e,t):jp(n,e)).subscribe(i)})}const T2=["connectionContainer"],A2=["inputContainer"],x2=["label"];function lD(n,t){1&n&&(o.ynx(0),o.TgZ(1,"div",14),o._UZ(2,"div",15)(3,"div",16)(4,"div",17),o.qZA(),o.TgZ(5,"div",18),o._UZ(6,"div",15)(7,"div",16)(8,"div",17),o.qZA(),o.BQk())}function w_(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.Hsn(1,1),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function ck(n,t){if(1&n&&(o.ynx(0),o.Hsn(1,2),o.TgZ(2,"span"),o._uU(3),o.qZA(),o.BQk()),2&n){const e=o.oxw(2);o.xp6(3),o.Oqu(e._control.placeholder)}}function uk(n,t){1&n&&o.Hsn(0,3,["*ngSwitchCase","true"])}function cD(n,t){1&n&&(o.TgZ(0,"span",23),o._uU(1," *"),o.qZA())}function Gp(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"label",20,21),o.NdJ("cdkObserveContent",function(){return o.CHM(e),o.oxw().updateOutlineGap()}),o.YNc(2,ck,4,1,"ng-container",12),o.YNc(3,uk,1,0,"ng-content",12),o.YNc(4,cD,2,0,"span",22),o.qZA()}if(2&n){const e=o.oxw();o.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),o.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),o.uIk("for",e._control.id)("aria-owns",e._control.id),o.xp6(2),o.Q6J("ngSwitchCase",!1),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function dk(n,t){1&n&&(o.TgZ(0,"div",24),o.Hsn(1,4),o.qZA())}function hk(n,t){if(1&n&&(o.TgZ(0,"div",25),o._UZ(1,"span",26),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function fk(n,t){if(1&n&&(o.TgZ(0,"div"),o.Hsn(1,5),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState)}}function pk(n,t){if(1&n&&(o.TgZ(0,"div",30),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Q6J("id",e._hintLabelId),o.xp6(1),o.Oqu(e.hintLabel)}}function mk(n,t){if(1&n&&(o.TgZ(0,"div",27),o.YNc(1,pk,2,2,"div",28),o.Hsn(2,6),o._UZ(3,"div",29),o.Hsn(4,7),o.qZA()),2&n){const e=o.oxw();o.Q6J("@transitionMessages",e._subscriptAnimationState),o.xp6(1),o.Q6J("ngIf",e.hintLabel)}}const uD=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],gk=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],Xh=new o.OlP("MatError"),dD={transitionMessages:ru("transitionMessages",[vo("enter",zn({opacity:1,transform:"translateY(0%)"})),Wr("void => enter",[zn({opacity:0,transform:"translateY(-5px)"}),Zr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let C_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n}),n})(),vk=0;const E_=new o.OlP("MatHint");let bk=(()=>{class n{constructor(){this.align="start",this.id="mat-hint-"+vk++}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("id",i.id)("align",null),o.ekj("mat-form-field-hint-end","end"===i.align))},inputs:{align:"align",id:"id"},features:[o._Bn([{provide:E_,useExisting:n}])]}),n})(),du=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-label"]]}),n})(),hD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const wk=new o.OlP("MatPrefix"),fD=new o.OlP("MatSuffix");let nb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matSuffix",""]],features:[o._Bn([{provide:fD,useExisting:n}])]}),n})(),pD=0;const Ck=lu(class{constructor(n){this._elementRef=n}},"primary"),Ek=new o.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),D_=new o.OlP("MatFormField");let zp=(()=>{class n extends Ck{constructor(e,i,r,s,c,d,f){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=s,this._platform=c,this._ngZone=d,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Dt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+pD++,this._labelId="mat-form-field-label-"+pD++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==f,this.appearance=s&&s.appearance?s.appearance:"legacy",this._hideRequiredMarker=!(!s||null==s.hideRequiredMarker)&&s.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=pn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Kr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(gi(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(gi(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ms.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Kr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Kr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(gi(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,$p(this._label.nativeElement,"transitionend").pipe(Xn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(s=>"start"===s.align):null,r=this._hintChildren?this._hintChildren.find(s=>"end"===s.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",s=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const v=i.querySelectorAll(`${r}, ${s}`);for(let E=0;E<v.length;E++)v[E].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let c=0,d=0;const f=i.querySelectorAll(r),m=i.querySelectorAll(s);if(this._label&&this._label.nativeElement.children.length){const v=i.getBoundingClientRect();if(0===v.width&&0===v.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const E=this._getStartEnd(v),A=e.children,M=this._getStartEnd(A[0].getBoundingClientRect());let P=0;for(let B=0;B<A.length;B++)P+=A[B].offsetWidth;c=Math.abs(M-E)-5,d=P>0?.75*P+10:0}for(let v=0;v<f.length;v++)f[v].style.width=`${c}px`;for(let v=0;v<m.length;v++)m[v].style.width=`${d}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Vs,8),o.Y36(Ek,8),o.Y36(bn),o.Y36(o.R0b),o.Y36(uc,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,C_,5),o.Suo(r,C_,7),o.Suo(r,du,5),o.Suo(r,du,7),o.Suo(r,hD,5),o.Suo(r,Xh,5),o.Suo(r,E_,5),o.Suo(r,wk,5),o.Suo(r,fD,5)),2&e){let s;o.iGM(s=o.CRH())&&(i._controlNonStatic=s.first),o.iGM(s=o.CRH())&&(i._controlStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildNonStatic=s.first),o.iGM(s=o.CRH())&&(i._labelChildStatic=s.first),o.iGM(s=o.CRH())&&(i._placeholderChild=s.first),o.iGM(s=o.CRH())&&(i._errorChildren=s),o.iGM(s=o.CRH())&&(i._hintChildren=s),o.iGM(s=o.CRH())&&(i._prefixChildren=s),o.iGM(s=o.CRH())&&(i._suffixChildren=s)}},viewQuery:function(e,i){if(1&e&&(o.Gf(T2,7),o.Gf(A2,5),o.Gf(x2,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._connectionContainerRef=r.first),o.iGM(r=o.CRH())&&(i._inputContainerRef=r.first),o.iGM(r=o.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&o.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[o._Bn([{provide:D_,useExisting:n}]),o.qOj],ngContentSelectors:gk,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(o.F$t(uD),o.TgZ(0,"div",0)(1,"div",1,2),o.NdJ("click",function(s){return i._control.onContainerClick&&i._control.onContainerClick(s)}),o.YNc(3,lD,9,0,"ng-container",3),o.YNc(4,w_,2,1,"div",4),o.TgZ(5,"div",5,6),o.Hsn(7),o.TgZ(8,"span",7),o.YNc(9,Gp,5,16,"label",8),o.qZA()(),o.YNc(10,dk,2,0,"div",9),o.qZA(),o.YNc(11,hk,2,4,"div",10),o.TgZ(12,"div",11),o.YNc(13,fk,2,1,"div",12),o.YNc(14,mk,5,2,"div",13),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngIf","outline"==i.appearance),o.xp6(1),o.Q6J("ngIf",i._prefixChildren.length),o.xp6(5),o.Q6J("ngIf",i._hasFloatingLabel()),o.xp6(1),o.Q6J("ngIf",i._suffixChildren.length),o.xp6(1),o.Q6J("ngIf","outline"!=i.appearance),o.xp6(1),o.Q6J("ngSwitch",i._getDisplayedMessages()),o.xp6(1),o.Q6J("ngSwitchCase","error"),o.xp6(1),o.Q6J("ngSwitchCase","hint"))},directives:[Kn,sc,Dr,cr],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[dD.transitionMessages]},changeDetection:0}),n})(),ib=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,Fn,jg],Fn]}),n})();const _D=new o.OlP("MAT_INPUT_VALUE_ACCESSOR"),yD=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let vD=0;const Dk=Zv(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i}});let qp=(()=>{class n extends Dk{constructor(e,i,r,s,c,d,f,m,v,E){super(d,s,c,r),this._elementRef=e,this._platform=i,this._autofillMonitor=m,this._formField=E,this._uid="mat-input-"+vD++,this.focused=!1,this.stateChanges=new Dt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(P=>aC().has(P)),this._iOSKeyupListener=P=>{const B=P.target;!B.value&&0===B.selectionStart&&0===B.selectionEnd&&(B.setSelectionRange(1,1),B.setSelectionRange(0,0))};const A=this._elementRef.nativeElement,M=A.nodeName.toLowerCase();this._inputValueAccessor=f||A,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&v.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===M,this._isTextarea="textarea"===M,this._isInFormField=!!E,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=pn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(kt.required)??!1}set required(e){this._required=pn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&aC().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=pn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField?._hideControlPlaceholder?.()?null:this.placeholder;if(e!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=e,e?i.setAttribute("placeholder",e):i.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){yD.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(bn),o.Y36(er,10),o.Y36(go,8),o.Y36(ml,8),o.Y36(Yv),o.Y36(_D,10),o.Y36(ik),o.Y36(o.R0b),o.Y36(D_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(o.Ikx("disabled",i.disabled)("required",i.required),o.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),o.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[o._Bn([{provide:C_,useExisting:n}]),o.qOj,o.TTD]}),n})(),bD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Yv],imports:[[eb,ib,Fn],eb,ib]}),n})();function Zp(n,t){const e=(0,Hs.m)(n)?n:()=>n,i=r=>r.error(e());return new Hi.y(t?r=>t.schedule(i,0,r):i)}function dc(n){return(0,Gi.e)((t,e)=>{let s,i=null,r=!1;i=t.subscribe((0,Hn.x)(e,void 0,void 0,c=>{s=(0,ao.Xf)(n(c,dc(n)(t))),i?(i.unsubscribe(),i=null,s.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(e))})}function wD(n){return(0,Gi.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var Wp=V(3099);function hu(n,t){return(0,Hs.m)(t)?(0,gr.z)(n,t,1):(0,gr.z)(n,1)}class rb{}class I_{}class hc{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),s=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(c):this.headers.set(s,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof hc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new hc;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof hc?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const s=t.value;if(s){let c=this.headers.get(e);if(!c)return;c=c.filter(d=>-1===s.indexOf(d)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Ik{encodeKey(t){return ED(t)}encodeValue(t){return ED(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Sk=/%(\d[a-f0-9])/gi,CD={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ED(n){return encodeURIComponent(n).replace(Sk,(t,e)=>CD[e]??t)}function ob(n){return`${n}`}class fu{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Ik,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sb(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[c,d]=-1==s?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],f=e.get(c)||[];f.push(d),e.set(c,f)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e];this.map.set(e,Array.isArray(i)?i:[i])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(s=>{e.push({param:i,value:s,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new fu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ob(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ob(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class F2{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Yp(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function DD(n){return typeof Blob<"u"&&n instanceof Blob}function _d(n){return typeof FormData<"u"&&n instanceof FormData}class Qp{constructor(t,e,i,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Ak(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new hc),this.context||(this.context=new F2),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const d=e.indexOf("?");this.urlWithParams=e+(-1===d?"?":d<e.length-1?"&":"")+c}}else this.params=new fu,this.urlWithParams=e}serializeBody(){return null===this.body?null:Yp(this.body)||DD(this.body)||_d(this.body)||function Kp(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof fu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||_d(this.body)?null:DD(this.body)?this.body.type||null:Yp(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,s=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,d=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let f=t.headers||this.headers,m=t.params||this.params;const v=t.context??this.context;return void 0!==t.setHeaders&&(f=Object.keys(t.setHeaders).reduce((E,A)=>E.set(A,t.setHeaders[A]),f)),t.setParams&&(m=Object.keys(t.setParams).reduce((E,A)=>E.set(A,t.setParams[A]),m)),new Qp(e,i,s,{params:m,headers:f,context:v,reportProgress:d,responseType:r,withCredentials:c})}}var _r=(()=>((_r=_r||{})[_r.Sent=0]="Sent",_r[_r.UploadProgress=1]="UploadProgress",_r[_r.ResponseHeader=2]="ResponseHeader",_r[_r.DownloadProgress=3]="DownloadProgress",_r[_r.Response=4]="Response",_r[_r.User=5]="User",_r))();class S_{constructor(t,e=200,i="OK"){this.headers=t.headers||new hc,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class ab extends S_{constructor(t={}){super(t),this.type=_r.ResponseHeader}clone(t={}){return new ab({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class T_ extends S_{constructor(t={}){super(t),this.type=_r.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new T_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ID extends S_{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function lb(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Jp=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let s;if(e instanceof Qp)s=e;else{let f,m;f=r.headers instanceof hc?r.headers:new hc(r.headers),r.params&&(m=r.params instanceof fu?r.params:new fu({fromObject:r.params})),s=new Qp(e,i,void 0!==r.body?r.body:null,{headers:f,context:r.context,params:m,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=pt(s).pipe(hu(f=>this.handler.handle(f)));if(e instanceof Qp||"events"===r.observe)return c;const d=c.pipe(ui(f=>f instanceof T_));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return d.pipe((0,ct.U)(f=>{if(null!==f.body&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return d.pipe((0,ct.U)(f=>{if(null!==f.body&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return d.pipe((0,ct.U)(f=>{if(null!==f.body&&"string"!=typeof f.body)throw new Error("Response is not a string.");return f.body}));default:return d.pipe((0,ct.U)(f=>f.body))}case"response":return d;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new fu).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,lb(r,i))}post(e,i,r={}){return this.request("POST",e,lb(r,i))}put(e,i,r={}){return this.request("PUT",e,lb(r,i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(rb))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();class cb{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const A_=new o.OlP("HTTP_INTERCEPTORS");let x_=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const U2=/^\)\]\}',?\n/;let TD=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Hi.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((M,P)=>r.setRequestHeader(M,P.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const M=e.detectContentTypeHeader();null!==M&&r.setRequestHeader("Content-Type",M)}if(e.responseType){const M=e.responseType.toLowerCase();r.responseType="json"!==M?M:"text"}const s=e.serializeBody();let c=null;const d=()=>{if(null!==c)return c;const M=r.statusText||"OK",P=new hc(r.getAllResponseHeaders()),B=function kk(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return c=new ab({headers:P,status:r.status,statusText:M,url:B}),c},f=()=>{let{headers:M,status:P,statusText:B,url:J}=d(),oe=null;204!==P&&(oe=typeof r.response>"u"?r.responseText:r.response),0===P&&(P=oe?200:0);let Ve=P>=200&&P<300;if("json"===e.responseType&&"string"==typeof oe){const xe=oe;oe=oe.replace(U2,"");try{oe=""!==oe?JSON.parse(oe):null}catch(Ie){oe=xe,Ve&&(Ve=!1,oe={error:Ie,text:oe})}}Ve?(i.next(new T_({body:oe,headers:M,status:P,statusText:B,url:J||void 0})),i.complete()):i.error(new ID({error:oe,headers:M,status:P,statusText:B,url:J||void 0}))},m=M=>{const{url:P}=d(),B=new ID({error:M,status:r.status||0,statusText:r.statusText||"Unknown Error",url:P||void 0});i.error(B)};let v=!1;const E=M=>{v||(i.next(d()),v=!0);let P={type:_r.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(P.total=M.total),"text"===e.responseType&&!!r.responseText&&(P.partialText=r.responseText),i.next(P)},A=M=>{let P={type:_r.UploadProgress,loaded:M.loaded};M.lengthComputable&&(P.total=M.total),i.next(P)};return r.addEventListener("load",f),r.addEventListener("error",m),r.addEventListener("timeout",m),r.addEventListener("abort",m),e.reportProgress&&(r.addEventListener("progress",E),null!==s&&r.upload&&r.upload.addEventListener("progress",A)),r.send(s),i.next({type:_r.Sent}),()=>{r.removeEventListener("error",m),r.removeEventListener("abort",m),r.removeEventListener("load",f),r.removeEventListener("timeout",m),e.reportProgress&&(r.removeEventListener("progress",E),null!==s&&r.upload&&r.upload.removeEventListener("progress",A)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Mn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const pu=new o.OlP("XSRF_COOKIE_NAME"),k_=new o.OlP("XSRF_HEADER_NAME");class yd{}let $2=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Er(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se),o.LFG(o.Lbi),o.LFG(pu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),R_=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const s=this.tokenService.getToken();return null!==s&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,s)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(yd),o.LFG(k_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Rk=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(A_,[]);this.chain=i.reduceRight((r,s)=>new cb(r,s),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(I_),o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),H2=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:R_,useClass:x_}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:pu,useValue:e.cookieName}:[],e.headerName?{provide:k_,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[R_,{provide:A_,useExisting:R_,multi:!0},{provide:yd,useClass:$2},{provide:pu,useValue:"XSRF-TOKEN"},{provide:k_,useValue:"X-XSRF-TOKEN"}]}),n})(),AD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Jp,{provide:rb,useClass:Rk},TD,{provide:I_,useExisting:TD}],imports:[[H2.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const MD=["*"];let Xp;function em(n){return function Pk(){if(void 0===Xp&&(Xp=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(Xp=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return Xp}()?.createHTML(n)||n}function kD(n){return Error(`Unable to find icon with the name "${n}"`)}function RD(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function OD(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class vd{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let fc=(()=>{class n{constructor(e,i,r,s){this._httpClient=e,this._sanitizer=i,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,s){return this._addSvgIconConfig(e,i,new vd(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,s){const c=this._sanitizer.sanitize(o.q3G.HTML,r);if(!c)throw OD(r);const d=em(c);return this._addSvgIconConfig(e,i,new vd("",d,s))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new vd(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const s=this._sanitizer.sanitize(o.q3G.HTML,i);if(!s)throw OD(i);const c=em(s);return this._addSvgIconSetConfig(e,new vd("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,e);if(!i)throw RD(e);const r=this._cachedIconsByUrl.get(i);return r?pt(tm(r)):this._loadSvgIconFromConfig(new vd(e,null)).pipe((0,fr.b)(s=>this._cachedIconsByUrl.set(i,s)),(0,ct.U)(s=>tm(s)))}getNamedSvgIcon(e,i=""){const r=ub(i,e);let s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(i,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):Zp(kD(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?pt(tm(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,ct.U)(i=>tm(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?pt(r):$c(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(dc(d=>{const m=`Loading icon set URL: ${this._sanitizer.sanitize(o.q3G.RESOURCE_URL,c.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(m)),pt(null)})))).pipe((0,ct.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw kD(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const s=i[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(s),d=this._extractSvgIconFromSet(c,e,s.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,fr.b)(i=>e.svgText=i),(0,ct.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?pt(null):this._fetchIcon(e).pipe((0,fr.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const s=e.querySelector(`[id="${i}"]`);if(!s)return null;const c=s.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const d=this._svgElementFromString(em("<svg></svg>"));return d.appendChild(c),this._setSvgAttributes(d,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(em("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){const{name:c,value:d}=r[s];"id"!==c&&i.setAttribute(c,d)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[s].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw function Fk(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(o.q3G.RESOURCE_URL,i);if(!c)throw RD(i);const d=this._inProgressUrlFetches.get(c);if(d)return d;const f=this._httpClient.get(c,{responseType:"text",withCredentials:s}).pipe((0,ct.U)(m=>em(m)),wD(()=>this._inProgressUrlFetches.delete(c)),(0,Wp.B)());return this._inProgressUrlFetches.set(c,f),f}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(ub(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const s=this._resolvers[r](i,e);if(s)return FD(s)?new vd(s.url,null,s.options):new vd(s,null)}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Jp,8),o.LFG(ba),o.LFG(se,8),o.LFG(o.qLn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tm(n){return n.cloneNode(!0)}function ub(n,t){return n+":"+t}function FD(n){return!(!n.url||!n.options)}const ND=lu(class{constructor(n){this._elementRef=n}}),Lk=new o.OlP("mat-icon-location",{providedIn:"root",factory:function LD(){const n=(0,o.f3M)(se),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),VD=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vk=VD.map(n=>`[${n}]`).join(", "),Bk=/^url\(['"]?#(.*?)['"]?\)$/;let mu=(()=>{class n extends ND{constructor(e,i,r,s,c){super(e),this._iconRegistry=i,this._location=s,this._errorHandler=c,this._inline=!1,this._currentIconFetch=Jn.w0.EMPTY,r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=pn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();i!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),i&&e.classList.add(i),this._previousFontSetClass=i),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,s)=>{r.forEach(c=>{s.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Vk),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<i.length;s++)VD.forEach(c=>{const d=i[s],f=d.getAttribute(c),m=f?f.match(Bk):null;if(m){let v=r.get(d);v||(v=[],r.set(d,v)),v.push({name:c,value:m[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Xn(1)).subscribe(s=>this._setSvgElement(s),s=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${s.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(fc),o.$8M("aria-hidden"),o.Y36(Lk),o.Y36(o.qLn))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(o.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),o.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[o.qOj],ngContentSelectors:MD,decls:1,vars:0,template:function(e,i){1&e&&(o.F$t(),o.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Fn],Fn]}),n})();var BD=V(4408);const bd={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=bd;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(s=>{e=void 0,n(s)});return new Jn.w0(()=>null==e?void 0:e(r))},requestAnimationFrame(...n){const{delegate:t}=bd;return((null==t?void 0:t.requestAnimationFrame)||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=bd;return((null==t?void 0:t.cancelAnimationFrame)||cancelAnimationFrame)(...n)},delegate:void 0};var UD=V(7565);new class O_ extends UD.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Il extends BD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=bd.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(bd.cancelAnimationFrame(e),t._scheduled=void 0)}});let db,Uk=1;const wd={};function rm(n){return n in wd&&(delete wd[n],!0)}const $k={setImmediate(n){const t=Uk++;return wd[t]=!0,db||(db=Promise.resolve()),db.then(()=>rm(t)&&n()),t},clearImmediate(n){rm(n)}},{setImmediate:$D,clearImmediate:HD}=$k,ef={setImmediate(...n){const{delegate:t}=ef;return((null==t?void 0:t.setImmediate)||$D)(...n)},clearImmediate(n){const{delegate:t}=ef;return((null==t?void 0:t.clearImmediate)||HD)(n)},delegate:void 0},hb=new class Hk extends UD.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class jD extends BD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ef.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ef.clearImmediate(e),t._scheduled=void 0)}});var pb=V(3532);function P_(n=0,t,e=sd.P){let i=-1;return null!=t&&((0,pb.K)(t)?e=t:i=t),new Hi.y(r=>{let s=function GD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;s<0&&(s=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},s)})}function F_(n,t=sd.z){return function fb(n){return(0,Gi.e)((t,e)=>{let i=!1,r=null,s=null,c=!1;const d=()=>{if(null==s||s.unsubscribe(),s=null,i){i=!1;const m=r;r=null,e.next(m)}c&&e.complete()},f=()=>{s=null,c&&e.complete()};t.subscribe((0,Hn.x)(e,m=>{i=!0,r=m,s||(0,ao.Xf)(n(m)).subscribe(s=(0,Hn.x)(e,d,f))},()=>{c=!0,(!i||!s||s.closed)&&e.complete()}))})}(()=>P_(n,t))}let ZD=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Dt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Hi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(F_(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):pt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ui(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&i.push(s)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=ka(i),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>$p(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.R0b),o.LFG(bn),o.LFG(se,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N_=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Dt.x,this._changeListener=s=>{this._change.next(s)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(F_(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bn),o.LFG(o.R0b),o.LFG(se,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),Cd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[bp,yr],bp,yr]}),n})();class mb{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class gu extends mb{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class sm extends mb{constructor(t,e,i){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Yk extends mb{constructor(t){super(),this.element=t instanceof o.SBq?t.nativeElement:t}}class tf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof gu?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof sm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Yk?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class KD extends tf{constructor(t,e,i,r,s){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const d=c.element,f=this._document.createComment("dom-portal");d.parentNode.insertBefore(f,d),this.outletElement.appendChild(d),this._attachedPortal=c,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=s}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||o.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ed=(()=>{class n extends tf{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new o.vpe,this.attachDomPortal=s=>{const c=s.element,d=this._document.createComment("dom-portal");s.setAttachedHost(this),c.parentNode.insertBefore(d,c),this._getRootNode().appendChild(c),this._attachedPortal=s,super.setDisposeFn(()=>{d.parentNode&&d.parentNode.replaceChild(c,d)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,s=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),c=i.createComponent(s,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(c.hostView.rootNodes[0]),super.setDisposeFn(()=>c.destroy()),this._attachedPortal=e,this._attachedRef=c,this.attached.emit(c),c}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o._Vd),o.Y36(o.s_b),o.Y36(se))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[o.qOj]}),n})(),om=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();const XD=xA();class yb{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=zi(-this._previousScrollPosition.left),t.style.top=zi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,s=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),XD&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XD&&(i.scrollBehavior=s,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class tV{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class tI{enable(){}disable(){}attach(){}}function vb(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function bb(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class nI{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();vb(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Qk=(()=>{class n{constructor(e,i,r,s){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new tI,this.close=c=>new tV(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new yb(this._viewportRuler,this._document),this.reposition=c=>new nI(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(ZD),o.LFG(N_),o.LFG(o.R0b),o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Dd{constructor(t){if(this.scrollStrategy=new tI,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Xk{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let wb=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iI=(()=>{class n extends wb{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const s=this._attachedOverlays;for(let c=s.length-1;c>-1;c--)if(s[c]._keydownEvents.observers.length>0){const d=s[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>d.next(r)):d.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rI=(()=>{class n extends wb{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=rd(s)},this._clickListener=s=>{const c=rd(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const v=f[m];if(v._outsidePointerEvents.observers.length<1||!v.hasAttached())continue;if(v.overlayElement.contains(c)||v.overlayElement.contains(d))break;const E=v._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>E.next(s)):E.next(s)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se),o.LFG(bn),o.LFG(o.R0b,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),V_=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||cv()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const i=this._document.createElement("div");i.classList.add(e),cv()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(se),o.LFG(bn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tR{constructor(t,e,i,r,s,c,d,f,m){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=s,this._keyboardDispatcher=c,this._document=d,this._location=f,this._outsideClickDispatcher=m,this._backdropElement=null,this._backdropClick=new Dt.x,this._attachments=new Dt.x,this._detachments=new Dt.x,this._locationChanges=Jn.w0.EMPTY,this._backdropClickHandler=v=>this._backdropClick.next(v),this._backdropTransitionendHandler=v=>{this._disposeBackdrop(v.target)},this._keydownEvents=new Dt.x,this._outsidePointerEvents=new Dt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=zi(this._config.width),t.height=zi(this._config.height),t.minWidth=zi(this._config.minWidth),t.minHeight=zi(this._config.minHeight),t.maxWidth=zi(this._config.maxWidth),t.maxHeight=zi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;!t||(t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500)))}_toggleClasses(t,e,i){const r=$g(e||[]).filter(s=>!!s);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(gi((0,ms.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sI="cdk-overlay-connected-position-bounding-box",rV=/([A-Za-z%]+)$/;class Cb{constructor(t,e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Dt.x,this._resizeSubscription=Jn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(sI),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,s=[];let c;for(let d of this._preferredPositions){let f=this._getOriginPoint(t,r,d),m=this._getOverlayPoint(f,e,d),v=this._getOverlayFit(m,e,i,d);if(v.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(v,m,i)?s.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!c||c.overlayFit.visibleArea<v.visibleArea)&&(c={overlayFit:v,overlayPoint:m,originPoint:f,position:d,overlayRect:e})}if(s.length){let d=null,f=-1;for(const m of s){const v=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);v>f&&(f=v,d=m)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&nf(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sI),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,s;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==i.originX?c:d}return e.left<0&&(r-=e.left),s="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(t,e,i){let r,s;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+s}}_getOverlayFit(t,e,i,r){const s=iR(e);let{x:c,y:d}=t,f=this._getOffset(r,"x"),m=this._getOffset(r,"y");f&&(c+=f),m&&(d+=m);let A=0-d,M=d+s.height-i.height,P=this._subtractOverflows(s.width,0-c,c+s.width-i.width),B=this._subtractOverflows(s.height,A,M),J=P*B;return{visibleArea:J,isCompletelyWithinViewport:s.width*s.height===J,fitsInViewportVertically:B===s.height,fitsInViewportHorizontally:P==s.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,s=i.right-e.x,c=nR(this._overlayRef.getConfig().minHeight),d=nR(this._overlayRef.getConfig().minWidth),m=t.fitsInViewportHorizontally||null!=d&&d<=s;return(t.fitsInViewportVertically||null!=c&&c<=r)&&m}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iR(e),s=this._viewportRect,c=Math.max(t.x+r.width-s.width,0),d=Math.max(t.y+r.height-s.height,0),f=Math.max(s.top-i.top-t.y,0),m=Math.max(s.left-i.left-t.x,0);let v=0,E=0;return v=r.width<=s.width?m||-c:t.x<this._viewportMargin?s.left-i.left-t.x:0,E=r.height<=s.height?f||-d:t.y<this._viewportMargin?s.top-i.top-t.y:0,this._previousPushAmount={x:v,y:E},{x:t.x+v,y:t.y+E}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Xk(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let s,c,d,v,E,A;if("top"===e.overlayY)c=t.y,s=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)d=i.height-t.y+2*this._viewportMargin,s=i.height-d+this._viewportMargin;else{const M=Math.min(i.bottom-t.y+i.top,t.y),P=this._lastBoundingBoxSize.height;s=2*M,c=t.y-M,s>P&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-P/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)A=i.width-t.x+this._viewportMargin,v=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)E=t.x,v=i.right-t.x;else{const M=Math.min(i.right-t.x+i.left,t.x),P=this._lastBoundingBoxSize.width;v=2*M,E=t.x-M,v>P&&!this._isInitialRender&&!this._growAfterOpen&&(E=t.x-P/2)}return{top:c,left:E,bottom:d,right:A,width:v,height:s}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=zi(i.height),r.top=zi(i.top),r.bottom=zi(i.bottom),r.width=zi(i.width),r.left=zi(i.left),r.right=zi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=zi(s)),c&&(r.maxWidth=zi(c))}this._lastBoundingBoxSize=i,nf(this._boundingBox.style,r)}_resetBoundingBoxStyles(){nf(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){nf(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const v=this._viewportRuler.getViewportScrollPosition();nf(i,this._getExactOverlayY(e,t,v)),nf(i,this._getExactOverlayX(e,t,v))}else i.position="static";let d="",f=this._getOffset(e,"x"),m=this._getOffset(e,"y");f&&(d+=`translateX(${f}px) `),m&&(d+=`translateY(${m}px)`),i.transform=d.trim(),c.maxHeight&&(r?i.maxHeight=zi(c.maxHeight):s&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=zi(c.maxWidth):s&&(i.maxWidth="")),nf(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=zi(s.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=zi(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:bb(t,i),isOriginOutsideView:vb(t,i),isOverlayClipped:bb(e,i),isOverlayOutsideView:vb(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&$g(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof o.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function nf(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function nR(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(rV);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iR(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const rR="cdk-global-overlay-wrapper";class sV{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rR),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:c,maxHeight:d}=i,f=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),m=!("100%"!==s&&"100vh"!==s||d&&"100%"!==d&&"100vh"!==d);t.position=this._cssPosition,t.marginLeft=f?"0":this._leftOffset,t.marginTop=m?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,f?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=m?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(rR),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let oV=(()=>{class n{constructor(e,i,r,s){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=s}global(){return new sV}flexibleConnectedTo(e){return new Cb(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(N_),o.LFG(se),o.LFG(bn),o.LFG(V_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aV=0,Na=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v,E,A){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=c,this._injector=d,this._ngZone=f,this._document=m,this._directionality=v,this._location=E,this._outsideClickDispatcher=A}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),s=this._createPortalOutlet(r),c=new Dd(e);return c.direction=c.direction||this._directionality.value,new tR(s,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+aV++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(o.z2F)),new KD(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Qk),o.LFG(V_),o.LFG(o._Vd),o.LFG(oV),o.LFG(iI),o.LFG(o.zs3),o.LFG(o.R0b),o.LFG(se),o.LFG(Vs),o.LFG(ke),o.LFG(rI))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const B_=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],sR=new o.OlP("cdk-connected-overlay-scroll-strategy");let Eb=(()=>{class n{constructor(e){this.elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),n})(),U_=(()=>{class n{constructor(e,i,r,s,c){this._overlay=e,this._dir=c,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=Jn.w0.EMPTY,this._attachSubscription=Jn.w0.EMPTY,this._detachSubscription=Jn.w0.EMPTY,this._positionSubscription=Jn.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new o.vpe,this.positionChange=new o.vpe,this.attach=new o.vpe,this.detach=new o.vpe,this.overlayKeydown=new o.vpe,this.overlayOutsideClick=new o.vpe,this._templatePortal=new sm(i,r),this._scrollStrategyFactory=s,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(e){this._offsetX=e,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(e){this._offsetY=e,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=pn(e)}get lockPosition(){return this._lockPosition}set lockPosition(e){this._lockPosition=pn(e)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(e){this._flexibleDimensions=pn(e)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(e){this._growAfterOpen=pn(e)}get push(){return this._push}set push(e){this._push=pn(e)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(e){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),e.origin&&this.open&&this._position.apply()),e.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=B_);const e=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=e.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=e.detachments().subscribe(()=>this.detach.emit()),e.keydownEvents().subscribe(i=>{this.overlayKeydown.next(i),27===i.keyCode&&!this.disableClose&&!vl(i)&&(i.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(i=>{this.overlayOutsideClick.next(i)})}_buildConfig(){const e=this._position=this.positionStrategy||this._createPositionStrategy(),i=new Dd({direction:this._dir,positionStrategy:e,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(i.width=this.width),(this.height||0===this.height)&&(i.height=this.height),(this.minWidth||0===this.minWidth)&&(i.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(i.minHeight=this.minHeight),this.backdropClass&&(i.backdropClass=this.backdropClass),this.panelClass&&(i.panelClass=this.panelClass),i}_updatePositionStrategy(e){const i=this.positions.map(r=>({originX:r.originX,originY:r.originY,overlayX:r.overlayX,overlayY:r.overlayY,offsetX:r.offsetX||this.offsetX,offsetY:r.offsetY||this.offsetY,panelClass:r.panelClass||void 0}));return e.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(i).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const e=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(e),e}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Eb?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(e=>{this.backdropClick.emit(e)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function JD(n,t=!1){return(0,Gi.e)((e,i)=>{let r=0;e.subscribe((0,Hn.x)(i,s=>{const c=n(s,r++);(c||t)&&i.next(s),!c&&i.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(e=>{this.positionChange.emit(e),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Na),o.Y36(o.Rgc),o.Y36(o.s_b),o.Y36(sR),o.Y36(Vs,8))},n.\u0275dir=o.lG2({type:n,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[o.TTD]}),n})();const aI={provide:sR,deps:[Na],useFactory:function oI(n){return()=>n.scrollStrategies.reposition()}};let $_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Na,aI],imports:[[bp,om,Cd],Cd]}),n})();var cI=V(9672);function uI(...n){const t=(0,fn.yG)(n),e=(0,fn.jO)(n),{args:i,keys:r}=sl(n);if(0===i.length)return(0,kn.D)([],t);const s=new Hi.y(function dI(n,t,e=_p.y){return i=>{oR(t,()=>{const{length:r}=n,s=new Array(r);let c=r,d=r;for(let f=0;f<r;f++)oR(t,()=>{const m=(0,kn.D)(n[f],t);let v=!1;m.subscribe((0,Hn.x)(i,E=>{s[f]=E,v||(v=!0,d--),d||i.next(e(s.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Zu(r,c):_p.y));return e?s.pipe(fh(e)):s}function oR(n,t,e){n?(0,cI.f)(e,n,t):t()}const hI=new Set;let _u,aR=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):uV}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function cV(n){if(!hI.has(n))try{_u||(_u=document.createElement("style"),_u.setAttribute("type","text/css"),document.head.appendChild(_u)),_u.sheet&&(_u.sheet.insertRule(`@media ${n} {body{ }}`,0),hI.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(bn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uV(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let lR=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Dt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return fI($g(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=uI(fI($g(e)).map(c=>this._registerQuery(c).observable));return s=jp(s.pipe(Xn(1)),s.pipe(dx(1),Ph(0))),s.pipe((0,ct.U)(c=>{const d={matches:!1,breakpoints:{}};return c.forEach(({matches:f,query:m})=>{d.matches=d.matches||f,d.breakpoints[m]=f}),d}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),s={observable:new Hi.y(c=>{const d=f=>this._zone.run(()=>c.next(f));return i.addListener(d),()=>{i.removeListener(d)}}).pipe(Kr(i),(0,ct.U)(({matches:c})=>({query:e,matches:c})),gi(this._destroySubject)),mql:i};return this._queries.set(e,s),s}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(aR),o.LFG(o.R0b))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fI(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function uR(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",2)(1,"button",3),o.NdJ("click",function(){return o.CHM(e),o.oxw().action()}),o._uU(2),o.qZA()()}if(2&n){const e=o.oxw();o.xp6(2),o.Oqu(e.data.action)}}function dV(n,t){}const pI=new o.OlP("MatSnackBarData");class rf{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const dR=Math.pow(2,31)-1;class Do{constructor(t,e){this._overlayRef=e,this._afterDismissed=new Dt.x,this._afterOpened=new Dt.x,this._onAction=new Dt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,dR))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let hR=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Do),o.Y36(pI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"span",0),o._uU(1),o.qZA(),o.YNc(2,uR,3,1,"div",1)),2&e&&(o.xp6(1),o.Oqu(i.data.message),o.xp6(1),o.Q6J("ngIf",i.hasAction))},directives:[Yr,Kn],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}\n"],encapsulation:2,changeDetection:0}),n})();const Db={snackBarState:ru("state",[vo("void, hidden",zn({transform:"scale(0.8)",opacity:0})),vo("visible",zn({transform:"scale(1)",opacity:1})),Wr("* => visible",Zr("150ms cubic-bezier(0, 0, 0.2, 1)")),Wr("* => void, * => hidden",Zr("75ms cubic-bezier(0.4, 0.0, 1, 1)",zn({opacity:0})))])};let fR=(()=>{class n extends tf{constructor(e,i,r,s,c){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=s,this.snackBarConfig=c,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Dt.x,this._onExit=new Dt.x,this._onEnter=new Dt.x,this._animationState="void",this.attachDomPortal=d=>(this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachDomPortal(d)),this._live="assertive"!==c.politeness||c.announcementMessage?"off"===c.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(e)}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const s=this._onEnter;this._ngZone.run(()=>{s.next(),s.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Xn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_applySnackBarClasses(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),"center"===this.snackBarConfig.horizontalPosition&&e.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&e.classList.add("mat-snack-bar-top")}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.R0b),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(bn),o.Y36(rf))},n.\u0275cmp=o.Xpm({type:n,selectors:[["snack-bar-container"]],viewQuery:function(e,i){if(1&e&&o.Gf(Ed,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&o.WFA("@state.done",function(s){return i.onAnimationEnd(s)}),2&e&&o.d8E("@state",i._animationState)},features:[o.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.YNc(1,dV,0,0,"ng-template",1),o.qZA(),o._UZ(2,"div")),2&e&&(o.xp6(2),o.uIk("aria-live",i._live)("role",i._role))},directives:[Ed],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[Db.snackBarState]}}),n})(),mI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[$_,om,Qi,gd,Fn],Fn]}),n})();const H_=new o.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function gI(){return new rf}});let _I=(()=>{class n{constructor(e,i,r,s,c,d){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=s,this._parentSnackBar=c,this._defaultConfig=d,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const s={...this._defaultConfig,...r};return s.data={message:e,action:i},s.announcementMessage===e&&(s.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,s)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:rf,useValue:i}]}),c=new gu(this.snackBarContainerComponent,i.viewContainerRef,s),d=e.attach(c);return d.instance.snackBarConfig=i,d.instance}_attach(e,i){const r={...new rf,...this._defaultConfig,...i},s=this._createOverlay(r),c=this._attachSnackBarContainer(s,r),d=new Do(c,s);if(e instanceof o.Rgc){const f=new sm(e,null,{$implicit:r.data,snackBarRef:d});d.instance=c.attachTemplatePortal(f)}else{const f=this._createInjector(r,d),m=new gu(e,void 0,f),v=c.attachComponentPortal(m);d.instance=v.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(gi(s.detachments())).subscribe(f=>{s.overlayElement.classList.toggle(this.handsetCssClass,f.matches)}),r.announcementMessage&&c._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(d,r),this._openedSnackBarRef=d,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Dd;i.direction=e.direction;let r=this._overlay.position().global();const s="rtl"===e.direction,c="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!s||"end"===e.horizontalPosition&&s,d=!c&&"center"!==e.horizontalPosition;return c?r.left("0"):d?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return o.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Do,useValue:i},{provide:pI,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Na),o.LFG(Yg),o.LFG(o.zs3),o.LFG(lR),o.LFG(n,12),o.LFG(H_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),Ib=(()=>{class n extends _I{constructor(e,i,r,s,c,d){super(e,i,r,s,c,d),this.simpleSnackBarComponent=hR,this.snackBarContainerComponent=fR,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Na),o.LFG(Yg),o.LFG(o.zs3),o.LFG(lR),o.LFG(n,12),o.LFG(H_))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:mI}),n})();function _i(n,t){return(0,Gi.e)((e,i)=>{let r=null,s=0,c=!1;const d=()=>c&&!r&&i.complete();e.subscribe((0,Hn.x)(i,f=>{null==r||r.unsubscribe();let m=0;const v=s++;(0,ao.Xf)(n(f,v)).subscribe(r=(0,Hn.x)(i,E=>i.next(t?t(f,E,v,m++):E),()=>{r=null,d()}))},()=>{c=!0,d()}))})}function yI(n,t){return t?e=>jp(t.pipe(Xn(1),function pR(){return(0,Gi.e)((n,t)=>{n.subscribe((0,Hn.x)(t,SC.Z))})}()),e.pipe(yI(n))):(0,gr.z)((e,i)=>n(e,i).pipe(Xn(1),function mR(n){return(0,ct.U)(()=>n)}(e)))}function j_(n,t=sd.z){const e=P_(n,t);return yI(()=>e)}const am=["mat-menu-item",""];function vI(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",2),o._UZ(1,"polygon",3),o.qZA())}const Sb=["*"];function gR(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",0),o.NdJ("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)})("click",function(){return o.CHM(e),o.oxw().closed.emit("click")})("@transformMenu.start",function(r){return o.CHM(e),o.oxw()._onAnimationStart(r)})("@transformMenu.done",function(r){return o.CHM(e),o.oxw()._onAnimationDone(r)}),o.TgZ(1,"div",1),o.Hsn(2),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),o.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const Tb={transformMenu:ru("transformMenu",[vo("void",zn({opacity:0,transform:"scale(0.8)"})),Wr("void => enter",Zr("120ms cubic-bezier(0, 0, 0.2, 1)",zn({opacity:1,transform:"scale(1)"}))),Wr("* => void",Zr("100ms 25ms linear",zn({opacity:0})))]),fadeInItems:ru("fadeInItems",[vo("showing",zn({opacity:1})),Wr("void => *",[zn({opacity:0}),Zr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},_R=new o.OlP("MatMenuContent"),Ab=new o.OlP("MAT_MENU_PANEL"),bR=Np(Fp(class{}));let lm=(()=>{class n extends bR{constructor(e,i,r,s,c){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=s,this._changeDetectorRef=c,this.role="menuitem",this._hovered=new Dt.x,this._focused=new Dt.x,this._highlighted=!1,this._triggersSubmenu=!1,s?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(se),o.Y36(oc),o.Y36(Ab,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._checkDisabled(s)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(o.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),o.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[o.qOj],attrs:am,ngContentSelectors:Sb,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(o.F$t(),o.Hsn(0),o._UZ(1,"div",0),o.YNc(2,vI,2,0,"svg",1)),2&e&&(o.xp6(1),o.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),o.xp6(1),o.Q6J("ngIf",i._triggersSubmenu))},directives:[uu,Kn],encapsulation:2,changeDetection:0}),n})();const G_=new o.OlP("mat-menu-default-options",{providedIn:"root",factory:function xb(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let wI=0,cm=(()=>{class n{constructor(e,i,r,s){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=s,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new o.n_E,this._tabSubscription=Jn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Dt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new o.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+wI++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=pn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=pn(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new kC(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Kr(this._directDescendantItems),_i(e=>(0,ms.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),s=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[s]&&!r[s].disabled?i.setActiveItem(s):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Kr(this._directDescendantItems),_i(i=>(0,ms.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:vl(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,s=Object.keys(this._classList).find(c=>c.startsWith(this._elevationPrefix));(!s||s===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Kr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(G_),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,_R,5),o.Suo(r,lm,5),o.Suo(r,lm,4)),2&e){let s;o.iGM(s=o.CRH())&&(i.lazyContent=s.first),o.iGM(s=o.CRH())&&(i._allItems=s),o.iGM(s=o.CRH())&&(i.items=s)}},viewQuery:function(e,i){if(1&e&&o.Gf(o.Rgc,5),2&e){let r;o.iGM(r=o.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),CI=(()=>{class n extends cm{constructor(e,i,r,s){super(e,i,r,s),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(G_),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&o.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[o._Bn([{provide:Ab,useExisting:n}]),o.qOj],ngContentSelectors:Sb,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(o.F$t(),o.YNc(0,gR,3,6,"ng-template"))},directives:[yn],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::before{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[Tb.transformMenu,Tb.fadeInItems]},changeDetection:0}),n})();const Mb=new o.OlP("mat-menu-scroll-strategy"),CR={provide:Mb,deps:[Na],useFactory:function wR(n){return()=>n.scrollStrategies.reposition()}},DR=Xc({passive:!0});let EI=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=d,this._dir=f,this._focusMonitor=m,this._ngZone=v,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Jn.w0.EMPTY,this._hoverSubscription=Jn.w0.EMPTY,this._menuCloseSubscription=Jn.w0.EMPTY,this._handleTouchStart=E=>{Wg(E)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new o.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new o.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=s,this._parentMaterialMenu=c instanceof cm?c:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,DR),d&&(d._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,DR),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),i=e.getConfig(),r=i.positionStrategy;this._setPosition(r),i.hasBackdrop=this.menu.hasBackdrop??!this.triggersSubmenu(),e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof cm&&(this.menu._startAnimation(),this.menu._directDescendantItems.changes.pipe(gi(this.menu.close)).subscribe(()=>{r.withLockedPosition(!1).reapplyLastPosition(),r.withLockedPosition(!0)}))}closeMenu(){this.menu.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof cm?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ui(r=>"void"===r.toState),Xn(1),gi(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i.lazyContent&&i.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,i=this.menu.parentMenu;for(;i;)e++,i=i.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new Dd({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(i=>{const r="start"===i.connectionPair.overlayX?"after":"before",s="top"===i.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>this.menu.setPositionClasses(r,s)):this.menu.setPositionClasses(r,s)})}_setPosition(e){let[i,r]="before"===this.menu.xPosition?["end","start"]:["start","end"],[s,c]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[d,f]=[s,c],[m,v]=[i,r],E=0;this.triggersSubmenu()?(v=i="before"===this.menu.xPosition?"start":"end",r=m="end"===i?"start":"end",E="bottom"===s?8:-8):this.menu.overlapTrigger||(d="top"===s?"bottom":"top",f="top"===c?"bottom":"top"),e.withPositions([{originX:i,originY:d,overlayX:m,overlayY:s,offsetY:E},{originX:r,originY:d,overlayX:v,overlayY:s,offsetY:E},{originX:i,originY:f,overlayX:m,overlayY:c,offsetY:-E},{originX:r,originY:f,overlayX:v,overlayY:c,offsetY:-E}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:pt(),s=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ui(c=>c!==this._menuItemInstance),ui(()=>this._menuOpen)):pt();return(0,ms.T)(e,r,s,i)}_handleMousedown(e){vp(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ui(e=>e===this._menuItemInstance&&!e.disabled),j_(0,hb)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof cm&&this.menu._isAnimating?this.menu._animationDone.pipe(Xn(1),j_(0,hb),gi(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new sm(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Na),o.Y36(o.SBq),o.Y36(o.s_b),o.Y36(Mb),o.Y36(Ab,8),o.Y36(lm,10),o.Y36(Vs,8),o.Y36(oc),o.Y36(o.R0b))},n.\u0275dir=o.lG2({type:n,hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._handleClick(s)})("mousedown",function(s){return i._handleMousedown(s)})("keydown",function(s){return i._handleKeydown(s)}),2&e&&o.uIk("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),IR=(()=>{class n extends EI{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275dir=o.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[o.qOj]}),n})(),SR=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[CR],imports:[[Qi,Fn,Jh,$_],yr,Fn]}),n})();class _V{constructor(t=!1,e,i=!0){this._multiple=t,this._emitChanges=i,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new Dt.x,e&&e.length&&(t?e.forEach(r=>this._markSelected(r)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){}}function z_(n){return new Hi.y(t=>{(0,ao.Xf)(n()).subscribe(t)})}const DI=["trigger"],Id=["panel"];function II(n,t){if(1&n&&(o.TgZ(0,"span",8),o._uU(1),o.qZA()),2&n){const e=o.oxw();o.xp6(1),o.Oqu(e.placeholder)}}function Rb(n,t){if(1&n&&(o.TgZ(0,"span",12),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.xp6(1),o.Oqu(e.triggerValue)}}function Ob(n,t){1&n&&o.Hsn(0,0,["*ngSwitchCase","true"])}function TR(n,t){if(1&n&&(o.TgZ(0,"span",9),o.YNc(1,Rb,2,1,"span",10),o.YNc(2,Ob,1,0,"ng-content",11),o.qZA()),2&n){const e=o.oxw();o.Q6J("ngSwitch",!!e.customTrigger),o.xp6(2),o.Q6J("ngSwitchCase",!0)}}function Pb(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",13)(1,"div",14,15),o.NdJ("@transformPanel.done",function(r){return o.CHM(e),o.oxw()._panelDoneAnimatingStream.next(r.toState)})("keydown",function(r){return o.CHM(e),o.oxw()._handleKeydown(r)}),o.Hsn(3,1),o.qZA()()}if(2&n){const e=o.oxw();o.Q6J("@transformPanelWrap",void 0),o.xp6(1),o.Gre("mat-select-panel ",e._getPanelTheme(),""),o.Udp("transform-origin",e._transformOrigin)("font-size",e._triggerFontSize,"px"),o.Q6J("ngClass",e.panelClass)("@transformPanel",e.multiple?"showing-multiple":"showing"),o.uIk("id",e.id+"-panel")("aria-multiselectable",e.multiple)("aria-label",e.ariaLabel||null)("aria-labelledby",e._getPanelAriaLabelledby())}}const Fb=[[["mat-select-trigger"]],"*"],q_=["mat-select-trigger","*"],AR={transformPanelWrap:ru("transformPanelWrap",[Wr("* => void",Iv("@transformPanel",[Ra()],{optional:!0}))]),transformPanel:ru("transformPanel",[vo("void",zn({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),vo("showing",zn({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),vo("showing-multiple",zn({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),Wr("void => *",Zr("120ms cubic-bezier(0, 0, 0.2, 1)")),Wr("* => void",Zr("100ms 25ms linear",zn({opacity:0})))])};let Nb=0;const Vb=new o.OlP("mat-select-scroll-strategy"),RR=new o.OlP("MAT_SELECT_CONFIG"),SI={provide:Vb,deps:[Na],useFactory:function kR(n){return()=>n.scrollStrategies.reposition()}};class Bb{constructor(t,e){this.source=t,this.value=e}}const bV=Np(qv(Fp(Zv(class{constructor(n,t,e,i,r){this._elementRef=n,this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=i,this.ngControl=r}})))),TI=new o.OlP("MatSelectTrigger");let OR=(()=>{class n extends bV{constructor(e,i,r,s,c,d,f,m,v,E,A,M,P,B){super(c,s,f,m,E),this._viewportRuler=e,this._changeDetectorRef=i,this._ngZone=r,this._dir=d,this._parentFormField=v,this._liveAnnouncer=P,this._defaultOptions=B,this._panelOpen=!1,this._compareWith=(J,oe)=>J===oe,this._uid="mat-select-"+Nb++,this._triggerAriaLabelledBy=null,this._destroy=new Dt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+Nb++,this._panelDoneAnimatingStream=new Dt.x,this._overlayPanelClass=this._defaultOptions?.overlayPanelClass||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=this._defaultOptions?.disableOptionCentering??!1,this.ariaLabel="",this.optionSelectionChanges=z_(()=>{const J=this.options;return J?J.changes.pipe(Kr(J),_i(()=>(0,ms.T)(...J.map(oe=>oe.onSelectionChange)))):this._ngZone.onStable.pipe(Xn(1),_i(()=>this.optionSelectionChanges))}),this.openedChange=new o.vpe,this._openedStream=this.openedChange.pipe(ui(J=>J),(0,ct.U)(()=>{})),this._closedStream=this.openedChange.pipe(ui(J=>!J),(0,ct.U)(()=>{})),this.selectionChange=new o.vpe,this.valueChange=new o.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=B?.typeaheadDebounceInterval&&(this._typeaheadDebounceInterval=B.typeaheadDebounceInterval),this._scrollStrategyFactory=M,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(e){this._placeholder=e,this.stateChanges.next()}get required(){return this._required??this.ngControl?.control?.hasValidator(kt.required)??!1}set required(e){this._required=pn(e),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(e){this._multiple=pn(e)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(e){this._disableOptionCentering=pn(e)}get compareWith(){return this._compareWith}set compareWith(e){this._compareWith=e,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(e){this._assignValue(e)&&this._onChange(e)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(e){this._typeaheadDebounceInterval=qr(e)}get id(){return this._id}set id(e){this._id=e||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new _V(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(yv(),gi(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(gi(this._destroy)).subscribe(e=>{e.added.forEach(i=>i.select()),e.removed.forEach(i=>i.deselect())}),this.options.changes.pipe(Kr(null),gi(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const e=this._getTriggerAriaLabelledby(),i=this.ngControl;if(e!==this._triggerAriaLabelledBy){const r=this._elementRef.nativeElement;this._triggerAriaLabelledBy=e,e?r.setAttribute("aria-labelledby",e):r.removeAttribute("aria-labelledby")}i&&(this._previousControl!==i.control&&(void 0!==this._previousControl&&null!==i.disabled&&i.disabled!==this.disabled&&(this.disabled=i.disabled),this._previousControl=i.control),this.updateErrorState())}ngOnChanges(e){e.disabled&&this.stateChanges.next(),e.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(e){this._assignValue(e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel?.selected||[]:this._selectionModel?.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const e=this._selectionModel.selected.map(i=>i.viewValue);return this._isRtl()&&e.reverse(),e.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(e){this.disabled||(this.panelOpen?this._handleOpenKeydown(e):this._handleClosedKeydown(e))}_handleClosedKeydown(e){const i=e.keyCode,r=40===i||38===i||37===i||39===i,s=13===i||32===i,c=this._keyManager;if(!c.isTyping()&&s&&!vl(e)||(this.multiple||e.altKey)&&r)e.preventDefault(),this.open();else if(!this.multiple){const d=this.selected;c.onKeydown(e);const f=this.selected;f&&d!==f&&this._liveAnnouncer.announce(f.viewValue,1e4)}}_handleOpenKeydown(e){const i=this._keyManager,r=e.keyCode,s=40===r||38===r,c=i.isTyping();if(s&&e.altKey)e.preventDefault(),this.close();else if(c||13!==r&&32!==r||!i.activeItem||vl(e))if(!c&&this._multiple&&65===r&&e.ctrlKey){e.preventDefault();const d=this.options.some(f=>!f.disabled&&!f.selected);this.options.forEach(f=>{f.disabled||(d?f.select():f.deselect())})}else{const d=i.activeItemIndex;i.onKeydown(e),this._multiple&&s&&e.shiftKey&&i.activeItem&&i.activeItemIndex!==d&&i.activeItem._selectViaInteraction()}else e.preventDefault(),i.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe(Xn(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this.ngControl&&(this._value=this.ngControl.value),this._setSelectionByValue(this._value),this.stateChanges.next()})}_setSelectionByValue(e){if(this._selectionModel.selected.forEach(i=>i.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&e)Array.isArray(e),e.forEach(i=>this._selectOptionByValue(i)),this._sortValues();else{const i=this._selectOptionByValue(e);i?this._keyManager.updateActiveItem(i):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectOptionByValue(e){const i=this.options.find(r=>{if(this._selectionModel.isSelected(r))return!1;try{return null!=r.value&&this._compareWith(r.value,e)}catch{return!1}});return i&&this._selectionModel.select(i),i}_assignValue(e){return!!(e!==this._value||this._multiple&&Array.isArray(e))&&(this.options&&this._setSelectionByValue(e),this._value=e,!0)}_initKeyManager(){this._keyManager=new px(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(gi(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(gi(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const e=(0,ms.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(gi(e)).subscribe(i=>{this._onSelect(i.source,i.isUserInput),i.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,ms.T)(...this.options.map(i=>i._stateChanges)).pipe(gi(e)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(e,i){const r=this._selectionModel.isSelected(e);null!=e.value||this._multiple?(r!==e.selected&&(e.selected?this._selectionModel.select(e):this._selectionModel.deselect(e)),i&&this._keyManager.setActiveItem(e),this.multiple&&(this._sortValues(),i&&this.focus())):(e.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(e.value)),r!==this._selectionModel.isSelected(e)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const e=this.options.toArray();this._selectionModel.sort((i,r)=>this.sortComparator?this.sortComparator(i,r,e):e.indexOf(i)-e.indexOf(r)),this.stateChanges.next()}}_propagateChanges(e){let i=null;i=this.multiple?this.selected.map(r=>r.value):this.selected?this.selected.value:e,this._value=i,this.valueChange.emit(i),this._onChange(i),this.selectionChange.emit(this._getChangeEvent(i)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){return!this._panelOpen&&!this.disabled&&this.options?.length>0}focus(e){this._elementRef.nativeElement.focus(e)}_getPanelAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();return this.ariaLabelledby?(e?e+" ":"")+this.ariaLabelledby:e}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){if(this.ariaLabel)return null;const e=this._parentFormField?.getLabelId();let i=(e?e+" ":"")+this._valueId;return this.ariaLabelledby&&(i+=" "+this.ariaLabelledby),i}_panelDoneAnimating(e){this.openedChange.emit(e)}setDescribedByIds(e){this._ariaDescribedby=e.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(N_),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(Yv),o.Y36(o.SBq),o.Y36(Vs,8),o.Y36(go,8),o.Y36(ml,8),o.Y36(D_,8),o.Y36(er,10),o.$8M("tabindex"),o.Y36(Vb),o.Y36(Yg),o.Y36(RR,8))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&(o.Gf(DI,5),o.Gf(Id,5),o.Gf(U_,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.trigger=r.first),o.iGM(r=o.CRH())&&(i.panel=r.first),o.iGM(r=o.CRH())&&(i._overlayDir=r.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[o.qOj,o.TTD]}),n})(),PR=(()=>{class n extends OR{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(e,i,r){const s=this._getItemHeight();return Math.min(Math.max(0,s*e-i+s/2),r)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(gi(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(e){const i=tD(e,this.options,this.optionGroups),r=this._getItemHeight();this.panel.nativeElement.scrollTop=0===e&&1===i?0:function KM(n,t,e,i){return n<e?n:n+t>e+i?Math.max(0,n-i+t):e}((e+i)*r,r,this.panel.nativeElement.scrollTop,256)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(e){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(e)}_getChangeEvent(e){return new Bb(this,e)}_calculateOverlayOffsetX(){const e=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),i=this._viewportRuler.getViewportSize(),r=this._isRtl(),s=this.multiple?56:32;let c;if(this.multiple)c=40;else if(this.disableOptionCentering)c=16;else{let m=this._selectionModel.selected[0]||this.options.first;c=m&&m.group?32:16}r||(c*=-1);const d=0-(e.left+c-(r?s:0)),f=e.right+c-i.width+(r?0:s);d>0?c+=d+8:f>0&&(c-=f+8),this._overlayDir.offsetX=Math.round(c),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(e,i,r){const s=this._getItemHeight(),c=(s-this._triggerRect.height)/2,d=Math.floor(256/s);let f;return this.disableOptionCentering?0:(f=0===this._scrollTop?e*s:this._scrollTop===r?(e-(this._getItemCount()-d))*s+(s-(this._getItemCount()*s-256)%s):i-s/2,Math.round(-1*f-c))}_checkOverlayWithinViewport(e){const i=this._getItemHeight(),r=this._viewportRuler.getViewportSize(),s=this._triggerRect.top-8,c=r.height-this._triggerRect.bottom-8,d=Math.abs(this._offsetY),m=Math.min(this._getItemCount()*i,256)-d-this._triggerRect.height;m>c?this._adjustPanelUp(m,c):d>s?this._adjustPanelDown(d,s,e):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(e,i){const r=Math.round(e-i);this._scrollTop-=r,this._offsetY-=r,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(e,i,r){const s=Math.round(e-i);if(this._scrollTop+=s,this._offsetY+=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=r)return this._scrollTop=r,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const e=this._getItemHeight(),i=this._getItemCount(),r=Math.min(i*e,256),c=i*e-r;let d;d=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),d+=tD(d,this.options,this.optionGroups);const f=r/2;this._scrollTop=this._calculateOverlayScroll(d,f,c),this._offsetY=this._calculateOverlayOffsetY(d,f,c),this._checkOverlayWithinViewport(c)}_getOriginBasedOnOption(){const e=this._getItemHeight(),i=(e-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-i+e/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-select"]],contentQueries:function(e,i,r){if(1&e&&(o.Suo(r,TI,5),o.Suo(r,eD,5),o.Suo(r,WM,5)),2&e){let s;o.iGM(s=o.CRH())&&(i.customTrigger=s.first),o.iGM(s=o.CRH())&&(i.options=s),o.iGM(s=o.CRH())&&(i.optionGroups=s)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(e,i){1&e&&o.NdJ("keydown",function(s){return i._handleKeydown(s)})("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()}),2&e&&(o.uIk("id",i.id)("tabindex",i.tabIndex)("aria-controls",i.panelOpen?i.id+"-panel":null)("aria-expanded",i.panelOpen)("aria-label",i.ariaLabel||null)("aria-required",i.required.toString())("aria-disabled",i.disabled.toString())("aria-invalid",i.errorState)("aria-describedby",i._ariaDescribedby||null)("aria-activedescendant",i._getAriaActiveDescendant()),o.ekj("mat-select-disabled",i.disabled)("mat-select-invalid",i.errorState)("mat-select-required",i.required)("mat-select-empty",i.empty)("mat-select-multiple",i.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[o._Bn([{provide:C_,useExisting:n},{provide:QE,useExisting:n}]),o.qOj],ngContentSelectors:q_,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(e,i){if(1&e&&(o.F$t(Fb),o.TgZ(0,"div",0,1),o.NdJ("click",function(){return i.toggle()}),o.TgZ(3,"div",2),o.YNc(4,II,2,1,"span",3),o.YNc(5,TR,3,2,"span",4),o.qZA(),o.TgZ(6,"div",5),o._UZ(7,"div",6),o.qZA()(),o.YNc(8,Pb,4,14,"ng-template",7),o.NdJ("backdropClick",function(){return i.close()})("attach",function(){return i._onAttached()})("detach",function(){return i.close()})),2&e){const r=o.MAs(1);o.uIk("aria-owns",i.panelOpen?i.id+"-panel":null),o.xp6(3),o.Q6J("ngSwitch",i.empty),o.uIk("id",i._valueId),o.xp6(1),o.Q6J("ngSwitchCase",!0),o.xp6(1),o.Q6J("ngSwitchCase",!1),o.xp6(3),o.Q6J("cdkConnectedOverlayPanelClass",i._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",i._scrollStrategy)("cdkConnectedOverlayOrigin",r)("cdkConnectedOverlayOpen",i.panelOpen)("cdkConnectedOverlayPositions",i._positions)("cdkConnectedOverlayMinWidth",null==i._triggerRect?null:i._triggerRect.width)("cdkConnectedOverlayOffsetY",i._offsetY)}},directives:[Eb,Dr,cr,Vu,U_,yn],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;user-select:none;cursor:default}.mat-select-value{width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{height:16px;flex-shrink:0;display:inline-flex;align-items:center}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-form-field.mat-focused .mat-select-arrow{transform:translateX(0)}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;visibility:hidden}\n'],encapsulation:2,data:{animation:[AR.transformPanelWrap,AR.transformPanel]},changeDetection:0}),n})(),wV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[SI],imports:[[Qi,$_,Bp,Fn],yr,ib,Bp,Fn]}),n})();const CV=["mat-calendar-body",""];function FR(n,t){if(1&n&&(o.TgZ(0,"tr",2)(1,"td",3),o._uU(2),o.qZA()()),2&n){const e=o.oxw();o.xp6(1),o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e.numCols),o.xp6(1),o.hij(" ",e.label," ")}}function NR(n,t){if(1&n&&(o.TgZ(0,"td",3),o._uU(1),o.qZA()),2&n){const e=o.oxw(2);o.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),o.uIk("colspan",e._firstRowOffset),o.xp6(1),o.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function EV(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"td",7)(1,"button",8),o.NdJ("click",function(r){const c=o.CHM(e).$implicit;return o.oxw(2)._cellClicked(c,r)}),o.TgZ(2,"div",9),o._uU(3),o.qZA(),o._UZ(4,"div",10),o.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=o.oxw().index,s=o.oxw();o.Udp("width",s._cellWidth)("padding-top",s._cellPadding)("padding-bottom",s._cellPadding),o.uIk("data-mat-row",r)("data-mat-col",i),o.xp6(1),o.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",s._isActiveCell(r,i))("mat-calendar-body-range-start",s._isRangeStart(e.compareValue))("mat-calendar-body-range-end",s._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",s._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",s._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",s._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",s._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",s._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",s._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",s._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",s._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",s._isInPreview(e.compareValue)),o.Q6J("ngClass",e.cssClasses)("tabindex",s._isActiveCell(r,i)?0:-1),o.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",s._isSelected(e.compareValue))("aria-current",s.todayValue===e.compareValue?"date":null),o.xp6(1),o.ekj("mat-calendar-body-selected",s._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",s._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",s.todayValue===e.compareValue),o.xp6(1),o.hij(" ",e.displayValue," ")}}function DV(n,t){if(1&n&&(o.TgZ(0,"tr",4),o.YNc(1,NR,2,6,"td",5),o.YNc(2,EV,5,47,"td",6),o.qZA()),2&n){const e=t.$implicit,i=t.index,r=o.oxw();o.xp6(1),o.Q6J("ngIf",0===i&&r._firstRowOffset),o.xp6(1),o.Q6J("ngForOf",e)}}function IV(n,t){if(1&n&&(o.TgZ(0,"th",5)(1,"span",6),o._uU(2),o.qZA(),o.TgZ(3,"span",7),o._uU(4),o.qZA()()),2&n){const e=t.$implicit;o.xp6(2),o.Oqu(e.long),o.xp6(2),o.Oqu(e.narrow)}}const SV=["*"];function TV(n,t){}function LR(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-month-view",5),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("_userSelection",function(r){return o.CHM(e),o.oxw()._dateSelected(r)}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function AV(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-year-view",6),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("monthSelected",function(r){return o.CHM(e),o.oxw()._monthSelectedInYearView(r)})("selectedChange",function(r){return o.CHM(e),o.oxw()._goToDateInView(r,"month")}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function xV(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"mat-multi-year-view",7),o.NdJ("activeDateChange",function(r){return o.CHM(e),o.oxw().activeDate=r})("yearSelected",function(r){return o.CHM(e),o.oxw()._yearSelectedInMultiYearView(r)})("selectedChange",function(r){return o.CHM(e),o.oxw()._goToDateInView(r,"year")}),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function MV(n,t){}const kV=["button"];function a(n,t){1&n&&(o.O4$(),o.TgZ(0,"svg",3),o._UZ(1,"path",4),o.qZA())}const l=[[["","matDatepickerToggleIcon",""]]],u=["[matDatepickerToggleIcon]"];let C=(()=>{class n{constructor(){this.changes=new Dt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,i){return`${e} \u2013 ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class I{constructor(t,e,i,r,s={},c=t,d){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=s,this.compareValue=c,this.rawValue=d}}let x=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new o.vpe,this.previewChange=new o.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const s=this._getCellFromElement(r.target);s&&this._ngZone.run(()=>this.previewChange.emit({value:s.enabled?s:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:s}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?s-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/s+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/s+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_isRangeStart(e){return U(e,this.startValue,this.endValue)}_isRangeEnd(e){return K(e,this.startValue,this.endValue)}_isInRange(e){return ie(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return U(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let s=this.rows[i][r-1];if(!s){const c=this.rows[i-1];s=c&&c[c.length-1]}return s&&!this._isRangeEnd(s.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let s=this.rows[i][r+1];if(!s){const c=this.rows[i+1];s=c&&c[0]}return s&&!this._isRangeStart(s.compareValue)}_isComparisonEnd(e){return K(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return ie(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return U(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return K(e,this.previewStart,this.previewEnd)}_isInPreview(e){return ie(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(O(e)?i=e:O(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),s=i.getAttribute("data-mat-col");if(r&&s)return this.rows[parseInt(r)][parseInt(s)]}return null}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b))},n.\u0275cmp=o.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange"},exportAs:["matCalendarBody"],features:[o.TTD],attrs:CV,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(o.YNc(0,FR,3,6,"tr",0),o.YNc(1,DV,3,2,"tr",1)),2&e&&(o.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),o.xp6(1),o.Q6J("ngForOf",i.rows))},directives:[Kn,kr,yn],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content{outline:dotted 2px}.cdk-high-contrast-active .cdk-keyboard-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected,.cdk-high-contrast-active .cdk-program-focused .mat-calendar-body-active>.mat-calendar-body-cell-content.mat-calendar-body-selected{outline:solid 3px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}\n'],encapsulation:2,changeDetection:0}),n})();function O(n){return"TD"===n.nodeName}function U(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function K(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function ie(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class _e{constructor(t,e){this.start=t,this.end=e}}let Ge=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new Dt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),it=(()=>{class n extends Ge{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(mr))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const At={provide:Ge,deps:[[new o.FiY,new o.tp0,Ge],mr],useFactory:function Le(n,t){return n||new it(t)}},Qr=new o.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Z_=(()=>{class n{constructor(e,i,r,s,c){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rangeStrategy=c,this._rerenderSubscription=Jn.w0.EMPTY,this.selectedChange=new o.vpe,this._userSelection=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof _e?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Kr(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._dateAdapter.getYear(this.activeDate),s=this._dateAdapter.getMonth(this.activeDate),c=this._dateAdapter.createDate(r,s,i);let d,f;this._selected instanceof _e?(d=this._getDateInCurrentMonth(this._selected.start),f=this._getDateInCurrentMonth(this._selected.end)):d=f=this._getDateInCurrentMonth(this._selected),(d!==i||f!==i)&&this.selectedChange.emit(c),this._userSelection.emit({value:c,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!vl(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const s=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(s.start),this._previewEnd=this._getCellCompareValue(s.end),this._changeDetectorRef.detectChanges()}}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let s=this._dateAdapter.getDayOfWeekNames("long").map((c,d)=>({long:c,narrow:i[d]}));this._weekdays=s.slice(e).concat(s.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,s=this._firstWeekOffset;r<e;r++,s++){7==s&&(this._weeks.push([]),s=0);const c=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),d=this._shouldEnableDate(c),f=this._dateAdapter.format(c,this._dateFormats.display.dateA11yLabel),m=this.dateClass?this.dateClass(c,"month"):void 0;this._weeks[this._weeks.length-1].push(new I(r+1,i[r],f,d,m,this._getCellCompareValue(c),c))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),s=this._dateAdapter.getDate(e);return new Date(i,r,s).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof _e?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(cu,8),o.Y36(mr,8),o.Y36(Vs,8),o.Y36(Qr,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(x,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[o.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o.YNc(3,IV,5,2,"th",2),o.qZA(),o.TgZ(4,"tr"),o._UZ(5,"th",3),o.qZA()(),o.TgZ(6,"tbody",4),o.NdJ("selectedValueChange",function(s){return i._dateSelected(s)})("previewChange",function(s){return i._previewChanged(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(3),o.Q6J("ngForOf",i._weekdays),o.xp6(3),o.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},directives:[x,kr],encapsulation:2,changeDetection:0}),n})(),W_=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Jn.w0.EMPTY,this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),Y_(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof _e?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Kr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-Td(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,s=[];r<24;r++)s.push(i+r),4==s.length&&(this._years.push(s.map(c=>this._createCellForYear(c))),s=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value;this.yearSelected.emit(this._dateAdapter.createDate(i,0,1));let r=this._dateAdapter.getMonth(this.activeDate),s=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(i,r,1));this.selectedChange.emit(this._dateAdapter.createDate(i,r,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-Td(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-Td(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return Td(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),s=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new I(e,r,r,this._shouldEnableYear(e),s)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof _e){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(mr,8),o.Y36(Vs,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(x,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._yearSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},directives:[x],encapsulation:2,changeDetection:0}),n})();function Y_(n,t,e,i,r){const s=n.getYear(t),c=n.getYear(e),d=RV(n,i,r);return Math.floor((s-d)/24)===Math.floor((c-d)/24)}function Td(n,t,e,i){return function b5(n,t){return(n%t+t)%t}(n.getYear(t)-RV(n,e,i),24)}function RV(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let OV=(()=>{class n{constructor(e,i,r,s){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=s,this._rerenderSubscription=Jn.w0.EMPTY,this.selectedChange=new o.vpe,this.monthSelected=new o.vpe,this.activeDateChange=new o.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof _e?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Kr(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const s=this._dateAdapter.getNumDaysInMonth(r);this.selectedChange.emit(this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,Math.min(this._dateAdapter.getDate(this.activeDate),s)))}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCell(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),s=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),c=this.dateClass?this.dateClass(r,"year"):void 0;return new I(e,i.toLocaleUpperCase(),s,this._shouldEnableMonth(e),c)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let s=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(s)==e;s=this._dateAdapter.addCalendarDays(s,1))if(this.dateFilter(s))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),s=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>s}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),s=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<s}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof _e?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.sBO),o.Y36(cu,8),o.Y36(mr,8),o.Y36(Vs,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&o.Gf(x,5),2&e){let r;o.iGM(r=o.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","keyup","keydown"]],template:function(e,i){1&e&&(o.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),o._UZ(3,"th",2),o.qZA()(),o.TgZ(4,"tbody",3),o.NdJ("selectedValueChange",function(s){return i._monthSelected(s)})("keyup",function(s){return i._handleCalendarBodyKeyup(s)})("keydown",function(s){return i._handleCalendarBodyKeydown(s)}),o.qZA()()),2&e&&(o.xp6(4),o.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},directives:[x],encapsulation:2,changeDetection:0}),n})(),w5=0,C5=(()=>{class n{constructor(e,i,r,s,c){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=s,this._buttonDescriptionId="mat-calendar-button-"+w5++,this.calendar.stateChanges.subscribe(()=>c.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-Td(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,s=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),c=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(s,c)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):Y_(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(C),o.Y36((0,o.Gpc)(()=>VR)),o.Y36(mr,8),o.Y36(cu,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:SV,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(o.F$t(),o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.currentPeriodClicked()}),o.TgZ(3,"span"),o._uU(4),o.qZA(),o.O4$(),o.TgZ(5,"svg",3),o._UZ(6,"polygon",4),o.qZA()(),o.kcU(),o._UZ(7,"div",5),o.Hsn(8),o.TgZ(9,"button",6),o.NdJ("click",function(){return i.previousClicked()}),o.qZA(),o.TgZ(10,"button",7),o.NdJ("click",function(){return i.nextClicked()}),o.qZA()()()),2&e&&(o.xp6(2),o.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),o.xp6(1),o.uIk("id",i._buttonDescriptionId),o.xp6(1),o.Oqu(i.periodButtonText),o.xp6(1),o.ekj("mat-calendar-invert","month"!==i.calendar.currentView),o.xp6(4),o.Q6J("disabled",!i.previousEnabled()),o.uIk("aria-label",i.prevButtonLabel),o.xp6(1),o.Q6J("disabled",!i.nextEnabled()),o.uIk("aria-label",i.nextButtonLabel))},directives:[Yr],encapsulation:2,changeDetection:0}),n})(),VR=(()=>{class n{constructor(e,i,r,s){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=s,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new o.vpe,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this._userSelection=new o.vpe,this.stateChanges=new Dt.x,this._intlChanges=e.changes.subscribe(()=>{s.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof _e?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new gu(this.headerComponent||C5),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,s=i||r||e.dateFilter;if(s&&!s.firstChange){const c=this._getCurrentViewComponent();c&&(this._changeDetectorRef.detectChanges(),c._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof _e||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(C),o.Y36(mr,8),o.Y36(cu,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Z_,5),o.Gf(OV,5),o.Gf(W_,5)),2&e){let r;o.iGM(r=o.CRH())&&(i.monthView=r.first),o.iGM(r=o.CRH())&&(i.yearView=r.first),o.iGM(r=o.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[o._Bn([At]),o.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(o.YNc(0,TV,0,0,"ng-template",0),o.TgZ(1,"div",1),o.YNc(2,LR,1,8,"mat-month-view",2),o.YNc(3,AV,1,6,"mat-year-view",3),o.YNc(4,xV,1,6,"mat-multi-year-view",4),o.qZA()),2&e&&(o.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),o.xp6(1),o.Q6J("ngSwitch",i.currentView),o.xp6(1),o.Q6J("ngSwitchCase","month"),o.xp6(1),o.Q6J("ngSwitchCase","year"),o.xp6(1),o.Q6J("ngSwitchCase","multi-year"))},directives:[Z_,OV,W_,Ed,Ax,Dr,cr],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}\n'],encapsulation:2,changeDetection:0}),n})();const PV={transformPanel:ru("transformPanel",[Wr("void => enter-dropdown",Zr("120ms cubic-bezier(0, 0, 0.2, 1)",Ev([zn({opacity:0,transform:"scale(1, 0.8)"}),zn({opacity:1,transform:"scale(1, 1)"})]))),Wr("void => enter-dialog",Zr("150ms cubic-bezier(0, 0, 0.2, 1)",Ev([zn({opacity:0,transform:"scale(0.7)"}),zn({transform:"none",opacity:1})]))),Wr("* => void",Zr("100ms linear",zn({opacity:0})))]),fadeInCalendar:ru("fadeInCalendar",[vo("void",zn({opacity:0})),vo("enter",zn({opacity:1})),Wr("void => *",Zr("120ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)"))])};let E5=0;const FV=new o.OlP("mat-datepicker-scroll-strategy"),I5={provide:FV,deps:[Na],useFactory:function D5(n){return()=>n.scrollStrategies.reposition()}},S5=lu(class{constructor(n){this._elementRef=n}});let T5=(()=>{class n extends S5{constructor(e,i,r,s,c,d){super(e),this._changeDetectorRef=i,this._globalModel=r,this._dateAdapter=s,this._rangeSelectionStrategy=c,this._subscriptions=new Jn.w0,this._animationDone=new Dt.x,this._actionsPortal=null,this._closeButtonText=d.closeCalendarLabel}ngOnInit(){this._model=this._actionsPortal?this._globalModel.clone():this._globalModel,this._animationState=this.datepicker.touchUi?"enter-dialog":"enter-dropdown"}ngAfterViewInit(){this._subscriptions.add(this.datepicker.stateChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})),this._calendar.focusActiveCell()}ngOnDestroy(){this._subscriptions.unsubscribe(),this._animationDone.complete()}_handleUserSelection(e){const i=this._model.selection,r=e.value,s=i instanceof _e;if(s&&this._rangeSelectionStrategy){const c=this._rangeSelectionStrategy.selectionFinished(r,i,e.event);this._model.updateSelection(c,this)}else r&&(s||!this._dateAdapter.sameDate(r,i))&&this._model.add(r);(!this._model||this._model.isComplete())&&!this._actionsPortal&&this.datepicker.close()}_startExitAnimation(){this._animationState="void",this._changeDetectorRef.markForCheck()}_getSelected(){return this._model.selection}_applyPendingSelection(){this._model!==this._globalModel&&this._globalModel.updateSelection(this._model.selection,this)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(Ge),o.Y36(mr),o.Y36(Qr,8),o.Y36(C))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-content"]],viewQuery:function(e,i){if(1&e&&o.Gf(VR,5),2&e){let r;o.iGM(r=o.CRH())&&(i._calendar=r.first)}},hostAttrs:[1,"mat-datepicker-content"],hostVars:3,hostBindings:function(e,i){1&e&&o.WFA("@transformPanel.done",function(){return i._animationDone.next()}),2&e&&(o.d8E("@transformPanel",i._animationState),o.ekj("mat-datepicker-content-touch",i.datepicker.touchUi))},inputs:{color:"color"},exportAs:["matDatepickerContent"],features:[o.qOj],decls:5,vars:24,consts:[["cdkTrapFocus","","role","dialog",1,"mat-datepicker-content-container"],[3,"id","ngClass","startAt","startView","minDate","maxDate","dateFilter","headerComponent","selected","dateClass","comparisonStart","comparisonEnd","yearSelected","monthSelected","viewChanged","_userSelection"],[3,"cdkPortalOutlet"],["type","button","mat-raised-button","",1,"mat-datepicker-close-button",3,"color","focus","blur","click"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"mat-calendar",1),o.NdJ("yearSelected",function(s){return i.datepicker._selectYear(s)})("monthSelected",function(s){return i.datepicker._selectMonth(s)})("viewChanged",function(s){return i.datepicker._viewChanged(s)})("_userSelection",function(s){return i._handleUserSelection(s)}),o.qZA(),o.YNc(2,MV,0,0,"ng-template",2),o.TgZ(3,"button",3),o.NdJ("focus",function(){return i._closeButtonFocused=!0})("blur",function(){return i._closeButtonFocused=!1})("click",function(){return i.datepicker.close()}),o._uU(4),o.qZA()()),2&e){let r;o.ekj("mat-datepicker-content-container-with-custom-header",i.datepicker.calendarHeaderComponent)("mat-datepicker-content-container-with-actions",i._actionsPortal),o.uIk("aria-modal",!0)("aria-labelledby",null!==(r=i._dialogLabelId)&&void 0!==r?r:void 0),o.xp6(1),o.Q6J("id",i.datepicker.id)("ngClass",i.datepicker.panelClass)("startAt",i.datepicker.startAt)("startView",i.datepicker.startView)("minDate",i.datepicker._getMinDate())("maxDate",i.datepicker._getMaxDate())("dateFilter",i.datepicker._getDateFilter())("headerComponent",i.datepicker.calendarHeaderComponent)("selected",i._getSelected())("dateClass",i.datepicker.dateClass)("comparisonStart",i.comparisonStart)("comparisonEnd",i.comparisonEnd)("@fadeInCalendar","enter"),o.xp6(1),o.Q6J("cdkPortalOutlet",i._actionsPortal),o.xp6(1),o.ekj("cdk-visually-hidden",!i._closeButtonFocused),o.Q6J("color",i.color||"primary"),o.xp6(1),o.Oqu(i._closeButtonText)}},directives:[VR,Yr,vx,yn,Ed],styles:[".mat-datepicker-content{display:block;border-radius:4px}.mat-datepicker-content .mat-calendar{width:296px;height:354px}.mat-datepicker-content .mat-datepicker-content-container-with-custom-header .mat-calendar{height:auto}.mat-datepicker-content .mat-datepicker-close-button{position:absolute;top:100%;left:0;margin-top:8px}.ng-animating .mat-datepicker-content .mat-datepicker-close-button{display:none}.mat-datepicker-content-container{display:flex;flex-direction:column;justify-content:space-between}.mat-datepicker-content-touch{display:block;max-height:80vh;position:relative;overflow:visible}.mat-datepicker-content-touch .mat-datepicker-content-container{min-height:312px;max-height:788px;min-width:250px;max-width:750px}.mat-datepicker-content-touch .mat-calendar{width:100%;height:auto}@media all and (orientation: landscape){.mat-datepicker-content-touch .mat-datepicker-content-container{width:64vh;height:80vh}}@media all and (orientation: portrait){.mat-datepicker-content-touch .mat-datepicker-content-container{width:80vw;height:100vw}.mat-datepicker-content-touch .mat-datepicker-content-container-with-actions{height:115vw}}\n"],encapsulation:2,data:{animation:[PV.transformPanel,PV.fadeInCalendar]},changeDetection:0}),n})(),NV=(()=>{class n{constructor(e,i,r,s,c,d,f){this._overlay=e,this._ngZone=i,this._viewContainerRef=r,this._dateAdapter=c,this._dir=d,this._model=f,this._inputStateChanges=Jn.w0.EMPTY,this.startView="month",this._touchUi=!1,this.xPosition="start",this.yPosition="below",this._restoreFocus=!0,this.yearSelected=new o.vpe,this.monthSelected=new o.vpe,this.viewChanged=new o.vpe(!0),this.openedStream=new o.vpe,this.closedStream=new o.vpe,this._opened=!1,this.id="mat-datepicker-"+E5++,this._focusedElementBeforeOpen=null,this._backdropHarnessClass=`${this.id}-backdrop`,this.stateChanges=new Dt.x,this._scrollStrategy=s}get startAt(){return this._startAt||(this.datepickerInput?this.datepickerInput.getStartValue():null)}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get color(){return this._color||(this.datepickerInput?this.datepickerInput.getThemePalette():void 0)}set color(e){this._color=e}get touchUi(){return this._touchUi}set touchUi(e){this._touchUi=pn(e)}get disabled(){return void 0===this._disabled&&this.datepickerInput?this.datepickerInput.disabled:!!this._disabled}set disabled(e){const i=pn(e);i!==this._disabled&&(this._disabled=i,this.stateChanges.next(void 0))}get restoreFocus(){return this._restoreFocus}set restoreFocus(e){this._restoreFocus=pn(e)}get panelClass(){return this._panelClass}set panelClass(e){this._panelClass=function TC(n,t=/\s+/){const e=[];if(null!=n){const i=Array.isArray(n)?n:`${n}`.split(t);for(const r of i){const s=`${r}`.trim();s&&e.push(s)}}return e}(e)}get opened(){return this._opened}set opened(e){pn(e)?this.open():this.close()}_getMinDate(){return this.datepickerInput&&this.datepickerInput.min}_getMaxDate(){return this.datepickerInput&&this.datepickerInput.max}_getDateFilter(){return this.datepickerInput&&this.datepickerInput.dateFilter}ngOnChanges(e){const i=e.xPosition||e.yPosition;if(i&&!i.firstChange&&this._overlayRef){const r=this._overlayRef.getConfig().positionStrategy;r instanceof Cb&&(this._setConnectedPositions(r),this.opened&&this._overlayRef.updatePosition())}this.stateChanges.next(void 0)}ngOnDestroy(){this._destroyOverlay(),this.close(),this._inputStateChanges.unsubscribe(),this.stateChanges.complete()}select(e){this._model.add(e)}_selectYear(e){this.yearSelected.emit(e)}_selectMonth(e){this.monthSelected.emit(e)}_viewChanged(e){this.viewChanged.emit(e)}registerInput(e){return this._inputStateChanges.unsubscribe(),this.datepickerInput=e,this._inputStateChanges=e.stateChanges.subscribe(()=>this.stateChanges.next(void 0)),this._model}registerActions(e){this._actionsPortal=e}removeActions(e){e===this._actionsPortal&&(this._actionsPortal=null)}open(){this._opened||this.disabled||(this._focusedElementBeforeOpen=id(),this._openOverlay(),this._opened=!0,this.openedStream.emit())}close(){if(!this._opened)return;if(this._componentRef){const i=this._componentRef.instance;i._startExitAnimation(),i._animationDone.pipe(Xn(1)).subscribe(()=>this._destroyOverlay())}const e=()=>{this._opened&&(this._opened=!1,this.closedStream.emit(),this._focusedElementBeforeOpen=null)};this._restoreFocus&&this._focusedElementBeforeOpen&&"function"==typeof this._focusedElementBeforeOpen.focus?(this._focusedElementBeforeOpen.focus(),setTimeout(e)):e()}_applyPendingSelection(){this._componentRef?.instance?._applyPendingSelection()}_forwardContentValues(e){e.datepicker=this,e.color=this.color,e._actionsPortal=this._actionsPortal,e._dialogLabelId=this.datepickerInput.getOverlayLabelId()}_openOverlay(){this._destroyOverlay();const e=this.touchUi,i=new gu(T5,this._viewContainerRef),r=this._overlayRef=this._overlay.create(new Dd({positionStrategy:e?this._getDialogStrategy():this._getDropdownStrategy(),hasBackdrop:!0,backdropClass:[e?"cdk-overlay-dark-backdrop":"mat-overlay-transparent-backdrop",this._backdropHarnessClass],direction:this._dir,scrollStrategy:e?this._overlay.scrollStrategies.block():this._scrollStrategy(),panelClass:"mat-datepicker-"+(e?"dialog":"popup")}));this._getCloseStream(r).subscribe(s=>{s&&s.preventDefault(),this.close()}),r.keydownEvents().subscribe(s=>{const c=s.keyCode;(38===c||40===c||37===c||39===c||33===c||34===c)&&s.preventDefault()}),this._componentRef=r.attach(i),this._forwardContentValues(this._componentRef.instance),e||this._ngZone.onStable.pipe(Xn(1)).subscribe(()=>r.updatePosition())}_destroyOverlay(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=this._componentRef=null)}_getDialogStrategy(){return this._overlay.position().global().centerHorizontally().centerVertically()}_getDropdownStrategy(){const e=this._overlay.position().flexibleConnectedTo(this.datepickerInput.getConnectedOverlayOrigin()).withTransformOriginOn(".mat-datepicker-content").withFlexibleDimensions(!1).withViewportMargin(8).withLockedPosition();return this._setConnectedPositions(e)}_setConnectedPositions(e){const i="end"===this.xPosition?"end":"start",r="start"===i?"end":"start",s="above"===this.yPosition?"bottom":"top",c="top"===s?"bottom":"top";return e.withPositions([{originX:i,originY:c,overlayX:i,overlayY:s},{originX:i,originY:s,overlayX:i,overlayY:c},{originX:r,originY:c,overlayX:r,overlayY:s},{originX:r,originY:s,overlayX:r,overlayY:c}])}_getCloseStream(e){return(0,ms.T)(e.backdropClick(),e.detachments(),e.keydownEvents().pipe(ui(i=>27===i.keyCode&&!vl(i)||this.datepickerInput&&vl(i,"altKey")&&38===i.keyCode)))}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Na),o.Y36(o.R0b),o.Y36(o.s_b),o.Y36(FV),o.Y36(mr,8),o.Y36(Vs,8),o.Y36(Ge))},n.\u0275dir=o.lG2({type:n,inputs:{calendarHeaderComponent:"calendarHeaderComponent",startAt:"startAt",startView:"startView",color:"color",touchUi:"touchUi",disabled:"disabled",xPosition:"xPosition",yPosition:"yPosition",restoreFocus:"restoreFocus",dateClass:"dateClass",panelClass:"panelClass",opened:"opened"},outputs:{yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",openedStream:"opened",closedStream:"closed"},features:[o.TTD]}),n})(),A5=(()=>{class n extends NV{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker"]],exportAs:["matDatepicker"],features:[o._Bn([At,{provide:NV,useExisting:n}]),o.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2,changeDetection:0}),n})();class MI{constructor(t,e){this.target=t,this.targetElement=e,this.value=this.target.value}}let x5=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dateAdapter=i,this._dateFormats=r,this.dateChange=new o.vpe,this.dateInput=new o.vpe,this.stateChanges=new Dt.x,this._onTouched=()=>{},this._validatorOnChange=()=>{},this._cvaOnChange=()=>{},this._valueChangesSubscription=Jn.w0.EMPTY,this._localeSubscription=Jn.w0.EMPTY,this._parseValidator=()=>this._lastValueValid?null:{matDatepickerParse:{text:this._elementRef.nativeElement.value}},this._filterValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value));return!c||this._matchesFilter(c)?null:{matDatepickerFilter:!0}},this._minValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMinDate();return!d||!c||this._dateAdapter.compareDate(d,c)<=0?null:{matDatepickerMin:{min:d,actual:c}}},this._maxValidator=s=>{const c=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(s.value)),d=this._getMaxDate();return!d||!c||this._dateAdapter.compareDate(d,c)>=0?null:{matDatepickerMax:{max:d,actual:c}}},this._lastValueValid=!1,this._localeSubscription=i.localeChanges.subscribe(()=>{this._assignValueProgrammatically(this.value)})}get value(){return this._model?this._getValueFromModel(this._model.selection):this._pendingValue}set value(e){this._assignValueProgrammatically(e)}get disabled(){return!!this._disabled||this._parentDisabled()}set disabled(e){const i=pn(e),r=this._elementRef.nativeElement;this._disabled!==i&&(this._disabled=i,this.stateChanges.next(void 0)),i&&this._isInitialized&&r.blur&&r.blur()}_getValidators(){return[this._parseValidator,this._minValidator,this._maxValidator,this._filterValidator]}_registerModel(e){this._model=e,this._valueChangesSubscription.unsubscribe(),this._pendingValue&&this._assignValue(this._pendingValue),this._valueChangesSubscription=this._model.selectionChanged.subscribe(i=>{if(this._shouldHandleChangeEvent(i)){const r=this._getValueFromModel(i.selection);this._lastValueValid=this._isValidValue(r),this._cvaOnChange(r),this._onTouched(),this._formatValue(r),this.dateInput.emit(new MI(this,this._elementRef.nativeElement)),this.dateChange.emit(new MI(this,this._elementRef.nativeElement))}})}ngAfterViewInit(){this._isInitialized=!0}ngOnChanges(e){(function M5(n,t){const e=Object.keys(n);for(let i of e){const{previousValue:r,currentValue:s}=n[i];if(!t.isDateInstance(r)||!t.isDateInstance(s))return!0;if(!t.sameDate(r,s))return!0}return!1})(e,this._dateAdapter)&&this.stateChanges.next(void 0)}ngOnDestroy(){this._valueChangesSubscription.unsubscribe(),this._localeSubscription.unsubscribe(),this.stateChanges.complete()}registerOnValidatorChange(e){this._validatorOnChange=e}validate(e){return this._validator?this._validator(e):null}writeValue(e){this._assignValueProgrammatically(e)}registerOnChange(e){this._cvaOnChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_onKeydown(e){e.altKey&&40===e.keyCode&&!this._elementRef.nativeElement.readOnly&&(this._openPopup(),e.preventDefault())}_onInput(e){const i=this._lastValueValid;let r=this._dateAdapter.parse(e,this._dateFormats.parse.dateInput);this._lastValueValid=this._isValidValue(r),r=this._dateAdapter.getValidDateOrNull(r);const s=!this._dateAdapter.sameDate(r,this.value);!r||s?this._cvaOnChange(r):(e&&!this.value&&this._cvaOnChange(r),i!==this._lastValueValid&&this._validatorOnChange()),s&&(this._assignValue(r),this.dateInput.emit(new MI(this,this._elementRef.nativeElement)))}_onChange(){this.dateChange.emit(new MI(this,this._elementRef.nativeElement))}_onBlur(){this.value&&this._formatValue(this.value),this._onTouched()}_formatValue(e){this._elementRef.nativeElement.value=null!=e?this._dateAdapter.format(e,this._dateFormats.display.dateInput):""}_assignValue(e){this._model?(this._assignValueToModel(e),this._pendingValue=null):this._pendingValue=e}_isValidValue(e){return!e||this._dateAdapter.isValid(e)}_parentDisabled(){return!1}_assignValueProgrammatically(e){e=this._dateAdapter.deserialize(e),this._lastValueValid=this._isValidValue(e),e=this._dateAdapter.getValidDateOrNull(e),this._assignValue(e),this._formatValue(e)}_matchesFilter(e){const i=this._getDateFilter();return!i||i(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(mr,8),o.Y36(cu,8))},n.\u0275dir=o.lG2({type:n,inputs:{value:"value",disabled:"disabled"},outputs:{dateChange:"dateChange",dateInput:"dateInput"},features:[o.TTD]}),n})();const k5={provide:li,useExisting:(0,o.Gpc)(()=>BR),multi:!0},R5={provide:Qn,useExisting:(0,o.Gpc)(()=>BR),multi:!0};let BR=(()=>{class n extends x5{constructor(e,i,r,s){super(e,i,r),this._formField=s,this._closedSubscription=Jn.w0.EMPTY,this._validator=kt.compose(super._getValidators())}set matDatepicker(e){e&&(this._datepicker=e,this._closedSubscription=e.closedStream.subscribe(()=>this._onTouched()),this._registerModel(e.registerInput(this)))}get min(){return this._min}set min(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._min)||(this._min=i,this._validatorOnChange())}get max(){return this._max}set max(e){const i=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e));this._dateAdapter.sameDate(i,this._max)||(this._max=i,this._validatorOnChange())}get dateFilter(){return this._dateFilter}set dateFilter(e){const i=this._matchesFilter(this.value);this._dateFilter=e,this._matchesFilter(this.value)!==i&&this._validatorOnChange()}getConnectedOverlayOrigin(){return this._formField?this._formField.getConnectedOverlayOrigin():this._elementRef}getOverlayLabelId(){return this._formField?this._formField.getLabelId():this._elementRef.nativeElement.getAttribute("aria-labelledby")}getThemePalette(){return this._formField?this._formField.color:void 0}getStartValue(){return this.value}ngOnDestroy(){super.ngOnDestroy(),this._closedSubscription.unsubscribe()}_openPopup(){this._datepicker&&this._datepicker.open()}_getValueFromModel(e){return e}_assignValueToModel(e){this._model&&this._model.updateSelection(e,this)}_getMinDate(){return this._min}_getMaxDate(){return this._max}_getDateFilter(){return this._dateFilter}_shouldHandleChangeEvent(e){return e.source!==this}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(mr,8),o.Y36(cu,8),o.Y36(D_,8))},n.\u0275dir=o.lG2({type:n,selectors:[["input","matDatepicker",""]],hostAttrs:[1,"mat-datepicker-input"],hostVars:6,hostBindings:function(e,i){1&e&&o.NdJ("input",function(s){return i._onInput(s.target.value)})("change",function(){return i._onChange()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)}),2&e&&(o.Ikx("disabled",i.disabled),o.uIk("aria-haspopup",i._datepicker?"dialog":null)("aria-owns",(null==i._datepicker?null:i._datepicker.opened)&&i._datepicker.id||null)("min",i.min?i._dateAdapter.toIso8601(i.min):null)("max",i.max?i._dateAdapter.toIso8601(i.max):null)("data-mat-calendar",i._datepicker?i._datepicker.id:null))},inputs:{matDatepicker:"matDatepicker",min:"min",max:"max",dateFilter:["matDatepickerFilter","dateFilter"]},exportAs:["matDatepickerInput"],features:[o._Bn([k5,R5,{provide:_D,useExisting:n}]),o.qOj]}),n})(),O5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","matDatepickerToggleIcon",""]]}),n})(),P5=(()=>{class n{constructor(e,i,r){this._intl=e,this._changeDetectorRef=i,this._stateChanges=Jn.w0.EMPTY;const s=Number(r);this.tabIndex=s||0===s?s:null}get disabled(){return void 0===this._disabled&&this.datepicker?this.datepicker.disabled:!!this._disabled}set disabled(e){this._disabled=pn(e)}ngOnChanges(e){e.datepicker&&this._watchStateChanges()}ngOnDestroy(){this._stateChanges.unsubscribe()}ngAfterContentInit(){this._watchStateChanges()}_open(e){this.datepicker&&!this.disabled&&(this.datepicker.open(),e.stopPropagation())}_watchStateChanges(){const e=this.datepicker?this.datepicker.stateChanges:pt(),i=this.datepicker&&this.datepicker.datepickerInput?this.datepicker.datepickerInput.stateChanges:pt(),r=this.datepicker?(0,ms.T)(this.datepicker.openedStream,this.datepicker.closedStream):pt();this._stateChanges.unsubscribe(),this._stateChanges=(0,ms.T)(this._intl.changes,e,i,r).subscribe(()=>this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(C),o.Y36(o.sBO),o.$8M("tabindex"))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-datepicker-toggle"]],contentQueries:function(e,i,r){if(1&e&&o.Suo(r,O5,5),2&e){let s;o.iGM(s=o.CRH())&&(i._customIcon=s.first)}},viewQuery:function(e,i){if(1&e&&o.Gf(kV,5),2&e){let r;o.iGM(r=o.CRH())&&(i._button=r.first)}},hostAttrs:[1,"mat-datepicker-toggle"],hostVars:8,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i._open(s)}),2&e&&(o.uIk("tabindex",null)("data-mat-calendar",i.datepicker?i.datepicker.id:null),o.ekj("mat-datepicker-toggle-active",i.datepicker&&i.datepicker.opened)("mat-accent",i.datepicker&&"accent"===i.datepicker.color)("mat-warn",i.datepicker&&"warn"===i.datepicker.color))},inputs:{datepicker:["for","datepicker"],tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],disabled:"disabled",disableRipple:"disableRipple"},exportAs:["matDatepickerToggle"],features:[o.TTD],ngContentSelectors:u,decls:4,vars:6,consts:[["mat-icon-button","","type","button",3,"disabled","disableRipple"],["button",""],["class","mat-datepicker-toggle-default-icon","viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",4,"ngIf"],["viewBox","0 0 24 24","width","24px","height","24px","fill","currentColor","focusable","false",1,"mat-datepicker-toggle-default-icon"],["d","M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"]],template:function(e,i){1&e&&(o.F$t(l),o.TgZ(0,"button",0,1),o.YNc(2,a,2,0,"svg",2),o.Hsn(3),o.qZA()),2&e&&(o.Q6J("disabled",i.disabled)("disableRipple",i.disableRipple),o.uIk("aria-haspopup",i.datepicker?"dialog":null)("aria-label",i.ariaLabel||i._intl.openCalendarLabel)("tabindex",i.disabled?-1:i.tabIndex),o.xp6(2),o.Q6J("ngIf",!i._customIcon))},directives:[Yr,Kn],styles:[".mat-form-field-appearance-legacy .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:1em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-datepicker-toggle-default-icon{display:block;width:1.5em;height:1.5em}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-datepicker-toggle-default-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-datepicker-toggle-default-icon{margin:auto}.cdk-high-contrast-active .mat-datepicker-toggle-default-icon{color:CanvasText}\n"],encapsulation:2,changeDetection:0}),n})(),F5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[C,I5],imports:[[Qi,gd,$_,Mx,om,Fn],yr]}),n})();const N5=["input"],L5=function(n){return{enterDuration:n}},V5=["*"],B5=new o.OlP("mat-checkbox-default-options",{providedIn:"root",factory:LV});function LV(){return{color:"accent",clickAction:"check-indeterminate"}}let U5=0;const VV=LV(),$5={provide:li,useExisting:(0,o.Gpc)(()=>BV),multi:!0};class H5{}const j5=qv(lu(Np(Fp(class{constructor(n){this._elementRef=n}}))));let BV=(()=>{class n extends j5{constructor(e,i,r,s,c,d,f){super(e),this._changeDetectorRef=i,this._focusMonitor=r,this._ngZone=s,this._animationMode=d,this._options=f,this.ariaLabel="",this.ariaLabelledby=null,this._uniqueId="mat-checkbox-"+ ++U5,this.id=this._uniqueId,this.labelPosition="after",this.name=null,this.change=new o.vpe,this.indeterminateChange=new o.vpe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=0,this._controlValueAccessorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||VV,this.color=this.defaultColor=this._options.color||VV.color,this.tabIndex=parseInt(c)||0}get inputId(){return`${this.id||this._uniqueId}-input`}get required(){return this._required}set required(e){this._required=pn(e)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{e||Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}),this._syncIndeterminate(this._indeterminate)}ngAfterViewChecked(){}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}get checked(){return this._checked}set checked(e){const i=pn(e);i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(e){const i=pn(e);i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(e){const i=e!=this._indeterminate;this._indeterminate=pn(e),i&&(this._transitionCheckState(this._indeterminate?3:this.checked?1:2),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(e){this.checked=!!e}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_getAriaChecked(){return this.checked?"true":this.indeterminate?"mixed":"false"}_transitionCheckState(e){let i=this._currentCheckState,r=this._elementRef.nativeElement;if(i!==e&&(this._currentAnimationClass.length>0&&r.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(i,e),this._currentCheckState=e,this._currentAnimationClass.length>0)){r.classList.add(this._currentAnimationClass);const s=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{r.classList.remove(s)},1e3)})}}_emitChangeEvent(){const e=new H5;e.source=this,e.checked=this.checked,this._controlValueAccessorChangeFn(this.checked),this.change.emit(e),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_onInputClick(e){const i=this._options?.clickAction;e.stopPropagation(),this.disabled||"noop"===i?!this.disabled&&"noop"===i&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate):(this.indeterminate&&"check"!==i&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?1:2),this._emitChangeEvent())}focus(e,i){e?this._focusMonitor.focusVia(this._inputElement,e,i):this._inputElement.nativeElement.focus(i)}_onInteractionEvent(e){e.stopPropagation()}_getAnimationClassForCheckStateTransition(e,i){if("NoopAnimations"===this._animationMode)return"";let r="";switch(e){case 0:if(1===i)r="unchecked-checked";else{if(3!=i)return"";r="unchecked-indeterminate"}break;case 2:r=1===i?"unchecked-checked":"unchecked-indeterminate";break;case 1:r=2===i?"checked-unchecked":"checked-indeterminate";break;case 3:r=1===i?"indeterminate-checked":"indeterminate-unchecked"}return`mat-checkbox-anim-${r}`}_syncIndeterminate(e){const i=this._inputElement;i&&(i.nativeElement.indeterminate=e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(oc),o.Y36(o.R0b),o.$8M("tabindex"),o.Y36(uc,8),o.Y36(B5,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-checkbox"]],viewQuery:function(e,i){if(1&e&&(o.Gf(N5,5),o.Gf(uu,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._inputElement=r.first),o.iGM(r=o.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-checkbox"],hostVars:14,hostBindings:function(e,i){2&e&&(o.Ikx("id",i.id),o.uIk("tabindex",null)("aria-label",null)("aria-labelledby",null),o.ekj("mat-checkbox-indeterminate",i.indeterminate)("mat-checkbox-checked",i.checked)("mat-checkbox-disabled",i.disabled)("mat-checkbox-label-before","before"==i.labelPosition)("_mat-animation-noopable","NoopAnimations"===i._animationMode))},inputs:{disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],id:"id",required:"required",labelPosition:"labelPosition",name:"name",value:"value",checked:"checked",disabled:"disabled",indeterminate:"indeterminate"},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],features:[o._Bn([$5]),o.qOj],ngContentSelectors:V5,decls:17,vars:21,consts:[[1,"mat-checkbox-layout"],["label",""],[1,"mat-checkbox-inner-container"],["type","checkbox",1,"mat-checkbox-input","cdk-visually-hidden",3,"id","required","checked","disabled","tabIndex","change","click"],["input",""],["matRipple","",1,"mat-checkbox-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleRadius","matRippleCentered","matRippleAnimation"],[1,"mat-ripple-element","mat-checkbox-persistent-ripple"],[1,"mat-checkbox-frame"],[1,"mat-checkbox-background"],["version","1.1","focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mat-checkbox-checkmark"],["fill","none","stroke","white","d","M4.1,12.7 9,17.6 20.3,6.3",1,"mat-checkbox-checkmark-path"],[1,"mat-checkbox-mixedmark"],[1,"mat-checkbox-label",3,"cdkObserveContent"],["checkboxLabel",""],[2,"display","none"]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"label",0,1)(2,"span",2)(3,"input",3,4),o.NdJ("change",function(s){return i._onInteractionEvent(s)})("click",function(s){return i._onInputClick(s)}),o.qZA(),o.TgZ(5,"span",5),o._UZ(6,"span",6),o.qZA(),o._UZ(7,"span",7),o.TgZ(8,"span",8),o.O4$(),o.TgZ(9,"svg",9),o._UZ(10,"path",10),o.qZA(),o.kcU(),o._UZ(11,"span",11),o.qZA()(),o.TgZ(12,"span",12,13),o.NdJ("cdkObserveContent",function(){return i._onLabelTextChange()}),o.TgZ(14,"span",14),o._uU(15,"\xa0"),o.qZA(),o.Hsn(16),o.qZA()()),2&e){const r=o.MAs(1),s=o.MAs(13);o.uIk("for",i.inputId),o.xp6(2),o.ekj("mat-checkbox-inner-container-no-side-margin",!s.textContent||!s.textContent.trim()),o.xp6(1),o.Q6J("id",i.inputId)("required",i.required)("checked",i.checked)("disabled",i.disabled)("tabIndex",i.tabIndex),o.uIk("value",i.value)("name",i.name)("aria-label",i.ariaLabel||null)("aria-labelledby",i.ariaLabelledby)("aria-checked",i._getAriaChecked())("aria-describedby",i.ariaDescribedby),o.xp6(2),o.Q6J("matRippleTrigger",r)("matRippleDisabled",i._isRippleDisabled())("matRippleRadius",20)("matRippleCentered",!0)("matRippleAnimation",o.VKq(19,L5,"NoopAnimations"===i._animationMode?0:150))}},directives:[uu,sc],styles:["@keyframes mat-checkbox-fade-in-background{0%{opacity:0}50%{opacity:1}}@keyframes mat-checkbox-fade-out-background{0%,50%{opacity:1}100%{opacity:0}}@keyframes mat-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:22.910259}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1)}100%{stroke-dashoffset:0}}@keyframes mat-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mat-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);stroke-dashoffset:0}to{stroke-dashoffset:-22.910259}}@keyframes mat-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(45deg)}}@keyframes mat-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:0;transform:rotate(45deg)}to{opacity:1;transform:rotate(360deg)}}@keyframes mat-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 0.1);opacity:0;transform:rotate(-45deg)}to{opacity:1;transform:rotate(0deg)}}@keyframes mat-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);opacity:1;transform:rotate(0deg)}to{opacity:0;transform:rotate(315deg)}}@keyframes mat-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;opacity:1;transform:scaleX(1)}32.8%,100%{opacity:0;transform:scaleX(0)}}.mat-checkbox-background,.mat-checkbox-frame{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:2px;box-sizing:border-box;pointer-events:none}.mat-checkbox{display:inline-block;transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);cursor:pointer;-webkit-tap-highlight-color:transparent}._mat-animation-noopable.mat-checkbox{transition:none;animation:none}.mat-checkbox .mat-ripple-element:not(.mat-checkbox-persistent-ripple){opacity:.16}.mat-checkbox .mat-checkbox-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.cdk-high-contrast-active .mat-checkbox.cdk-keyboard-focused .mat-checkbox-ripple{outline:solid 3px}.mat-checkbox-layout{-webkit-user-select:none;user-select:none;cursor:inherit;align-items:baseline;vertical-align:middle;display:inline-flex;white-space:nowrap}.mat-checkbox-label{-webkit-user-select:auto;user-select:auto}.mat-checkbox-inner-container{display:inline-block;height:16px;line-height:0;margin:auto;margin-right:8px;order:0;position:relative;vertical-align:middle;white-space:nowrap;width:16px;flex-shrink:0}[dir=rtl] .mat-checkbox-inner-container{margin-left:8px;margin-right:auto}.mat-checkbox-inner-container-no-side-margin{margin-left:0;margin-right:0}.mat-checkbox-frame{background-color:transparent;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1);border-width:2px;border-style:solid}._mat-animation-noopable .mat-checkbox-frame{transition:none}.mat-checkbox-background{align-items:center;display:inline-flex;justify-content:center;transition:background-color 90ms cubic-bezier(0, 0, 0.2, 0.1),opacity 90ms cubic-bezier(0, 0, 0.2, 0.1);-webkit-print-color-adjust:exact;color-adjust:exact}._mat-animation-noopable .mat-checkbox-background{transition:none}.cdk-high-contrast-active .mat-checkbox .mat-checkbox-background{background:none}.mat-checkbox-persistent-ripple{display:block;width:100%;height:100%;transform:none}.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:.04}.mat-checkbox.cdk-keyboard-focused .mat-checkbox-persistent-ripple{opacity:.12}.mat-checkbox-persistent-ripple,.mat-checkbox.mat-checkbox-disabled .mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{opacity:0}@media(hover: none){.mat-checkbox-inner-container:hover .mat-checkbox-persistent-ripple{display:none}}.mat-checkbox-checkmark{top:0;left:0;right:0;bottom:0;position:absolute;width:100%}.mat-checkbox-checkmark-path{stroke-dashoffset:22.910259;stroke-dasharray:22.910259;stroke-width:2.1333333333px}.cdk-high-contrast-black-on-white .mat-checkbox-checkmark-path{stroke:#000 !important}.mat-checkbox-mixedmark{width:calc(100% - 6px);height:2px;opacity:0;transform:scaleX(0) rotate(0deg);border-radius:2px}.cdk-high-contrast-active .mat-checkbox-mixedmark{height:0;border-top:solid 2px;margin-top:2px}.mat-checkbox-label-before .mat-checkbox-inner-container{order:1;margin-left:8px;margin-right:auto}[dir=rtl] .mat-checkbox-label-before .mat-checkbox-inner-container{margin-left:auto;margin-right:8px}.mat-checkbox-checked .mat-checkbox-checkmark{opacity:1}.mat-checkbox-checked .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-checked .mat-checkbox-mixedmark{transform:scaleX(1) rotate(-45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark{opacity:0;transform:rotate(45deg)}.mat-checkbox-indeterminate .mat-checkbox-checkmark-path{stroke-dashoffset:0}.mat-checkbox-indeterminate .mat-checkbox-mixedmark{opacity:1;transform:scaleX(1) rotate(0deg)}.mat-checkbox-unchecked .mat-checkbox-background{background-color:transparent}.mat-checkbox-disabled{cursor:default}.cdk-high-contrast-active .mat-checkbox-disabled{opacity:.5}.mat-checkbox-anim-unchecked-checked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-checked .mat-checkbox-checkmark-path{animation:180ms linear 0ms mat-checkbox-unchecked-checked-checkmark-path}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-in-background}.mat-checkbox-anim-unchecked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-unchecked-indeterminate-mixedmark}.mat-checkbox-anim-checked-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-checked-unchecked .mat-checkbox-checkmark-path{animation:90ms linear 0ms mat-checkbox-checked-unchecked-checkmark-path}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-checkmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-checkmark}.mat-checkbox-anim-checked-indeterminate .mat-checkbox-mixedmark{animation:90ms linear 0ms mat-checkbox-checked-indeterminate-mixedmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-checkmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-checkmark}.mat-checkbox-anim-indeterminate-checked .mat-checkbox-mixedmark{animation:500ms linear 0ms mat-checkbox-indeterminate-checked-mixedmark}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-background{animation:180ms linear 0ms mat-checkbox-fade-out-background}.mat-checkbox-anim-indeterminate-unchecked .mat-checkbox-mixedmark{animation:300ms linear 0ms mat-checkbox-indeterminate-unchecked-mixedmark}.mat-checkbox-input{bottom:0;left:50%}\n"],encapsulation:2,changeDetection:0}),n})(),UV=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),q5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Jh,Fn,jg,UV],Fn,UV]}),n})();const Z5=["primaryValueBar"],W5=lu(class{constructor(n){this._elementRef=n}},"primary"),Y5=new o.OlP("mat-progress-bar-location",{providedIn:"root",factory:function K5(){const n=(0,o.f3M)(se),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Q5=new o.OlP("MAT_PROGRESS_BAR_DEFAULT_OPTIONS");let J5=0,X5=(()=>{class n extends W5{constructor(e,i,r,s,c,d){super(e),this._ngZone=i,this._animationMode=r,this._changeDetectorRef=d,this._isNoopAnimation=!1,this._value=0,this._bufferValue=0,this.animationEnd=new o.vpe,this._animationEndSubscription=Jn.w0.EMPTY,this.mode="determinate",this.progressbarId="mat-progress-bar-"+J5++;const f=s?s.getPathname().split("#")[0]:"";this._rectangleFillValue=`url('${f}#${this.progressbarId}')`,this._isNoopAnimation="NoopAnimations"===r,c&&(c.color&&(this.color=this.defaultColor=c.color),this.mode=c.mode||this.mode)}get value(){return this._value}set value(e){this._value=$V(qr(e)||0),this._changeDetectorRef?.markForCheck()}get bufferValue(){return this._bufferValue}set bufferValue(e){this._bufferValue=$V(e||0),this._changeDetectorRef?.markForCheck()}_primaryTransform(){return{transform:`scale3d(${this.value/100}, 1, 1)`}}_bufferTransform(){return"buffer"===this.mode?{transform:`scale3d(${this.bufferValue/100}, 1, 1)`}:null}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const e=this._primaryValueBar.nativeElement;this._animationEndSubscription=$p(e,"transitionend").pipe(ui(i=>i.target===e)).subscribe(()=>{0!==this.animationEnd.observers.length&&("determinate"===this.mode||"buffer"===this.mode)&&this._ngZone.run(()=>this.animationEnd.next({value:this.value}))})})}ngOnDestroy(){this._animationEndSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(uc,8),o.Y36(Y5,8),o.Y36(Q5,8),o.Y36(o.sBO))},n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-progress-bar"]],viewQuery:function(e,i){if(1&e&&o.Gf(Z5,5),2&e){let r;o.iGM(r=o.CRH())&&(i._primaryValueBar=r.first)}},hostAttrs:["role","progressbar","aria-valuemin","0","aria-valuemax","100","tabindex","-1",1,"mat-progress-bar"],hostVars:4,hostBindings:function(e,i){2&e&&(o.uIk("aria-valuenow","indeterminate"===i.mode||"query"===i.mode?null:i.value)("mode",i.mode),o.ekj("_mat-animation-noopable",i._isNoopAnimation))},inputs:{color:"color",value:"value",bufferValue:"bufferValue",mode:"mode"},outputs:{animationEnd:"animationEnd"},exportAs:["matProgressBar"],features:[o.qOj],decls:10,vars:4,consts:[["aria-hidden","true"],["width","100%","height","4","focusable","false",1,"mat-progress-bar-background","mat-progress-bar-element"],["x","4","y","0","width","8","height","4","patternUnits","userSpaceOnUse",3,"id"],["cx","2","cy","2","r","2"],["width","100%","height","100%"],[1,"mat-progress-bar-buffer","mat-progress-bar-element",3,"ngStyle"],[1,"mat-progress-bar-primary","mat-progress-bar-fill","mat-progress-bar-element",3,"ngStyle"],["primaryValueBar",""],[1,"mat-progress-bar-secondary","mat-progress-bar-fill","mat-progress-bar-element"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0),o.O4$(),o.TgZ(1,"svg",1)(2,"defs")(3,"pattern",2),o._UZ(4,"circle",3),o.qZA()(),o._UZ(5,"rect",4),o.qZA(),o.kcU(),o._UZ(6,"div",5)(7,"div",6,7)(9,"div",8),o.qZA()),2&e&&(o.xp6(3),o.Q6J("id",i.progressbarId),o.xp6(2),o.uIk("fill",i._rectangleFillValue),o.xp6(1),o.Q6J("ngStyle",i._bufferTransform()),o.xp6(1),o.Q6J("ngStyle",i._primaryTransform()))},directives:[Ac],styles:['.mat-progress-bar{display:block;height:4px;overflow:hidden;position:relative;transition:opacity 250ms linear;width:100%}._mat-animation-noopable.mat-progress-bar{transition:none;animation:none}.mat-progress-bar .mat-progress-bar-element,.mat-progress-bar .mat-progress-bar-fill::after{height:100%;position:absolute;width:100%}.mat-progress-bar .mat-progress-bar-background{width:calc(100% + 10px)}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-background{display:none}.mat-progress-bar .mat-progress-bar-buffer{transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-buffer{border-top:solid 5px;opacity:.5}.mat-progress-bar .mat-progress-bar-secondary{display:none}.mat-progress-bar .mat-progress-bar-fill{animation:none;transform-origin:top left;transition:transform 250ms ease}.cdk-high-contrast-active .mat-progress-bar .mat-progress-bar-fill{border-top:solid 4px}.mat-progress-bar .mat-progress-bar-fill::after{animation:none;content:"";display:inline-block;left:0}.mat-progress-bar[dir=rtl],[dir=rtl] .mat-progress-bar{transform:rotateY(180deg)}.mat-progress-bar[mode=query]{transform:rotateZ(180deg)}.mat-progress-bar[mode=query][dir=rtl],[dir=rtl] .mat-progress-bar[mode=query]{transform:rotateZ(180deg) rotateY(180deg)}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-fill,.mat-progress-bar[mode=query] .mat-progress-bar-fill{transition:none}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary,.mat-progress-bar[mode=query] .mat-progress-bar-primary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-translate 2000ms infinite linear;left:-145.166611%}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-primary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-primary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary,.mat-progress-bar[mode=query] .mat-progress-bar-secondary{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-translate 2000ms infinite linear;left:-54.888891%;display:block}.mat-progress-bar[mode=indeterminate] .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar[mode=query] .mat-progress-bar-secondary.mat-progress-bar-fill::after{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-secondary-indeterminate-scale 2000ms infinite linear}.mat-progress-bar[mode=buffer] .mat-progress-bar-background{-webkit-backface-visibility:hidden;backface-visibility:hidden;animation:mat-progress-bar-background-scroll 250ms infinite linear;display:block}.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-buffer,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-primary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-secondary.mat-progress-bar-fill::after,.mat-progress-bar._mat-animation-noopable .mat-progress-bar-background{animation:none;transition-duration:1ms}@keyframes mat-progress-bar-primary-indeterminate-translate{0%{transform:translateX(0)}20%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(0)}59.15%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(83.67142%)}100%{transform:translateX(200.611057%)}}@keyframes mat-progress-bar-primary-indeterminate-scale{0%{transform:scaleX(0.08)}36.65%{animation-timing-function:cubic-bezier(0.334731, 0.12482, 0.785844, 1);transform:scaleX(0.08)}69.15%{animation-timing-function:cubic-bezier(0.06, 0.11, 0.6, 1);transform:scaleX(0.661479)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-secondary-indeterminate-translate{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:translateX(0)}25%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:translateX(37.651913%)}48.35%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:translateX(84.386165%)}100%{transform:translateX(160.277782%)}}@keyframes mat-progress-bar-secondary-indeterminate-scale{0%{animation-timing-function:cubic-bezier(0.15, 0, 0.515058, 0.409685);transform:scaleX(0.08)}19.15%{animation-timing-function:cubic-bezier(0.31033, 0.284058, 0.8, 0.733712);transform:scaleX(0.457104)}44.15%{animation-timing-function:cubic-bezier(0.4, 0.627035, 0.6, 0.902026);transform:scaleX(0.72796)}100%{transform:scaleX(0.08)}}@keyframes mat-progress-bar-background-scroll{to{transform:translateX(-8px)}}\n'],encapsulation:2,changeDetection:0}),n})();function $V(n,t=0,e=100){return Math.max(t,Math.min(e,n))}let e4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,Fn],Fn]}),n})();function t4(n,t){}class UR{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0}}const n4={dialogContainer:ru("dialogContainer",[vo("void, exit",zn({opacity:0,transform:"scale(0.7)"})),vo("enter",zn({transform:"none"})),Wr("* => enter",Px([Zr("150ms cubic-bezier(0, 0, 0.2, 1)",zn({transform:"none",opacity:1})),Iv("@*",Ra(),{optional:!0})])),Wr("* => void, * => exit",Px([Zr("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",zn({opacity:0})),Iv("@*",Ra(),{optional:!0})]))])};let i4=(()=>{class n extends tf{constructor(e,i,r,s,c,d,f,m){super(),this._elementRef=e,this._focusTrapFactory=i,this._changeDetectorRef=r,this._config=c,this._interactivityChecker=d,this._ngZone=f,this._focusMonitor=m,this._animationStateChanged=new o.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=v=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(v)),this._ariaLabelledBy=c.ariaLabelledBy||null,this._document=s}_initializeWithAttachedContent(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=id())}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const i=id(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=id();return e===i||e.contains(i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq),o.Y36(LC),o.Y36(o.sBO),o.Y36(se,8),o.Y36(UR),o.Y36(qg),o.Y36(o.R0b),o.Y36(oc))},n.\u0275dir=o.lG2({type:n,viewQuery:function(e,i){if(1&e&&o.Gf(Ed,7),2&e){let r;o.iGM(r=o.CRH())&&(i._portalOutlet=r.first)}},features:[o.qOj]}),n})(),r4=(()=>{class n extends i4{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?(this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_initializeWithAttachedContent(){super._initializeWithAttachedContent(),this._config.delayFocusTrap||this._trapFocus()}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275cmp=o.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,i){1&e&&o.WFA("@dialogContainer.start",function(s){return i._onAnimationStart(s)})("@dialogContainer.done",function(s){return i._onAnimationDone(s)}),2&e&&(o.Ikx("id",i._id),o.uIk("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),o.d8E("@dialogContainer",i._state))},features:[o.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&o.YNc(0,t4,0,0,"ng-template",0)},directives:[Ed],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[n4.dialogContainer]}}),n})(),s4=0;class $R{constructor(t,e,i="mat-dialog-"+s4++){this._overlayRef=t,this._containerInstance=e,this.id=i,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new Dt.x,this._afterClosed=new Dt.x,this._beforeClosed=new Dt.x,this._state=0,e._id=i,e._animationStateChanged.pipe(ui(r=>"opened"===r.state),Xn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(ui(r=>"closed"===r.state),Xn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(ui(r=>27===r.keyCode&&!this.disableClose&&!vl(r))).subscribe(r=>{r.preventDefault(),HV(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():HV(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ui(e=>"closing"===e.state),Xn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function HV(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const jV=new o.OlP("MatDialogData"),o4=new o.OlP("mat-dialog-default-options"),GV=new o.OlP("mat-dialog-scroll-strategy"),l4={provide:GV,deps:[Na],useFactory:function a4(n){return()=>n.scrollStrategies.block()}};let c4=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v,E){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=s,this._overlayContainer=c,this._dialogRefConstructor=f,this._dialogContainerType=m,this._dialogDataToken=v,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Dt.x,this._afterOpenedAtThisLevel=new Dt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=z_(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kr(void 0))),this._scrollStrategy=d}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){i=function u4(n,t){return{...t,...n}}(i,this._defaultOptions||new UR),i.id&&this.getDialogById(i.id);const r=this._createOverlay(i),s=this._attachDialogContainer(r,i),c=this._attachDialogContent(e,s,r,i);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(c),c.afterClosed().subscribe(()=>this._removeOpenDialog(c)),this.afterOpened.next(c),s._initializeWithAttachedContent(),c}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const i=this._getOverlayConfig(e);return this._overlay.create(i)}_getOverlayConfig(e){const i=new Dd({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachDialogContainer(e,i){const s=o.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:UR,useValue:i}]}),c=new gu(this._dialogContainerType,i.viewContainerRef,s,i.componentFactoryResolver);return e.attach(c).instance}_attachDialogContent(e,i,r,s){const c=new this._dialogRefConstructor(r,i,s.id);if(e instanceof o.Rgc)i.attachTemplatePortal(new sm(e,null,{$implicit:s.data,dialogRef:c}));else{const d=this._createInjector(s,c,i),f=i.attachComponentPortal(new gu(e,s.viewContainerRef,d,s.componentFactoryResolver));c.componentInstance=f.instance}return c.updateSize(s.width,s.height).updatePosition(s.position),c}_createInjector(e,i,r){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:this._dialogContainerType,useValue:r},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:i}];return e.direction&&(!s||!s.get(Vs,null,o.XFs.Optional))&&c.push({provide:Vs,useValue:{value:e.direction,change:pt()}}),o.zs3.create({parent:s||this._injector,providers:c})}_removeOpenDialog(e){const i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,s)=>{r?s.setAttribute("aria-hidden",r):s.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){let s=i[r];s!==e&&"SCRIPT"!==s.nodeName&&"STYLE"!==s.nodeName&&!s.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(s,s.getAttribute("aria-hidden")),s.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275dir=o.lG2({type:n}),n})(),kI=(()=>{class n extends c4{constructor(e,i,r,s,c,d,f,m){super(e,i,s,d,f,c,$R,r4,jV,m)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Na),o.LFG(o.zs3),o.LFG(ke,8),o.LFG(o4,8),o.LFG(GV),o.LFG(n,12),o.LFG(V_),o.LFG(uc,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),d4=0,h4=(()=>{class n{constructor(e,i,r){this._dialogRef=e,this._elementRef=i,this._dialog=r,this.id="mat-dialog-title-"+d4++}ngOnInit(){this._dialogRef||(this._dialogRef=function m4(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36($R,8),o.Y36(o.SBq),o.Y36(kI))},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,i){2&e&&o.Ikx("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),f4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),p4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=o.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})(),g4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[kI,l4],imports:[[$_,om,Fn],Fn]}),n})();var Lr=V(2011),RI=V(5363),_4=V(6063);class zV extends Dt.x{constructor(t=1/0,e=1/0,i=_4.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:c}=this;e||(i.push(t),!r&&i.push(s.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let c=0;c<s.length&&!t.closed;c+=i?1:2)t.next(s[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*t;if(t<1/0&&s<i.length&&i.splice(0,i.length-s),!r){const c=e.now();let d=0;for(let f=1;f<i.length&&i[f]<=c;f+=2)d=f;d&&i.splice(0,d+1)}}}function qV(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,Wp.B)({connector:()=>new zV(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}const $b=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ZV(n){return(0,Gi.e)((t,e)=>{let i=!1;t.subscribe((0,Hn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function WV(n=v4){return(0,Gi.e)((t,e)=>{let i=!1;t.subscribe((0,Hn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function v4(){return new $b}function af(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ui((r,s)=>n(r,s,i)):_p.y,Xn(1),e?ZV(t):WV(()=>new $b))}function YV(n,t){return(0,Hs.m)(t)?_i(()=>n,t):_i(()=>n)}var HR=V(9468),Rn=V(5813);V(5867);var Ce=V(5861),Io=V(9681),pc=V(4859),L=V(2090),mc=V(1877);const QV=new Map,D4={activated:!1,tokenObservers:[]},I4={initialized:!1,enabled:!1};function Jr(n){return QV.get(n)||D4}function gc(n,t){QV.set(n,t)}function PI(){return I4}class M4{constructor(t,e,i,r,s){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Ce.Z)(function*(){e.stop();try{e.pending=new L.BH,yield function k4(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const So=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function XV(n){if(!Jr(n).activated)throw So.create("use-before-activation",{appName:n.name})}function qR(n,t){return ZR.apply(this,arguments)}function ZR(){return(ZR=(0,Ce.Z)(function*({url:n,body:t},e){var i,r;const s={"Content-Type":"application/json"},c=e.getImmediate({optional:!0});if(c){const M=yield c.getHeartbeatsHeader();M&&(s["X-Firebase-Client"]=M)}const d={method:"POST",body:JSON.stringify(t),headers:s};let f,m;try{f=yield fetch(n,d)}catch(M){throw So.create("fetch-network-error",{originalErrorMessage:null===(i=M)||void 0===i?void 0:i.message})}if(200!==f.status)throw So.create("fetch-status-error",{httpStatus:f.status});try{m=yield f.json()}catch(M){throw So.create("fetch-parse-error",{originalErrorMessage:null===(r=M)||void 0===r?void 0:r.message})}const v=m.ttl.match(/^([\d.]+)(s)$/);if(!v||!v[2]||isNaN(Number(v[1])))throw So.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const E=1e3*Number(v[1]),A=Date.now();return{token:m.token,expireTimeMillis:A+E,issuedAtTimeMillis:A}})).apply(this,arguments)}function F4(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Hb="firebase-app-check-store";let LI=null;function tB(){return LI||(LI=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var s;t(So.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Hb,{keyPath:"compositeKey"})}}catch(i){t(So.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),LI)}function WR(){return(WR=(0,Ce.Z)(function*(n,t){const i=(yield tB()).transaction(Hb,"readwrite"),s=i.objectStore(Hb).put({compositeKey:n,value:t});return new Promise((c,d)=>{s.onsuccess=f=>{c()},i.onerror=f=>{var m;d(So.create("storage-set",{originalErrorMessage:null===(m=f.target.error)||void 0===m?void 0:m.message}))}})})).apply(this,arguments)}const jb=new mc.Yd("@firebase/app-check");function sB(n,t){return(0,L.hl)()?function B4(n,t){return function nB(n,t){return WR.apply(this,arguments)}(function rB(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{jb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function oB(){return PI().enabled}function aB(){return JR.apply(this,arguments)}function JR(){return(JR=(0,Ce.Z)(function*(){const n=PI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const z4={error:"UNKNOWN_ERROR"};function q4(n){return L.US.encodeString(JSON.stringify(n),!1)}function VI(n){return XR.apply(this,arguments)}function XR(){return(XR=(0,Ce.Z)(function*(n,t=!1){const e=n.app;XV(e);const i=Jr(e);let s,r=i.token;if(!r){const f=yield i.cachedTokenPromise;f&&BI(f)&&(r=f)}if(!t&&r&&BI(r))return{token:r.token};let d,c=!1;if(oB()){i.exchangeTokenPromise||(i.exchangeTokenPromise=qR(F4(e,yield aB()),n.heartbeatServiceProvider).then(m=>(i.exchangeTokenPromise=void 0,m)),c=!0);const f=yield i.exchangeTokenPromise;return yield sB(e,f),gc(e,Object.assign(Object.assign({},i),{token:f})),{token:f.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(f=>(i.exchangeTokenPromise=void 0,f)),c=!0),r=yield i.exchangeTokenPromise}catch(f){"appCheck/throttled"===f.code?jb.warn(f.message):jb.error(f),s=f}return r?(d={token:r.token},gc(e,Object.assign(Object.assign({},i),{token:r})),yield sB(e,r)):d=W4(s),c&&cB(e,d),d})).apply(this,arguments)}function t1(n,t){const e=Jr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),gc(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function lB(n){const{app:t}=n,e=Jr(t);let i=e.tokenRefresher;i||(i=function Z4(n){const{app:t}=n;return new M4((0,Ce.Z)(function*(){let i;if(i=Jr(t).token?yield VI(n,!0):yield VI(n),i.error)throw i.error}),()=>!0,()=>{const e=Jr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),gc(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function cB(n,t){const e=Jr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function BI(n){return n.expireTimeMillis-Date.now()>0}function W4(n){return{token:q4(z4),error:n}}class Y4{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Jr(this.app);for(const e of t)t1(this.app,e.next);return Promise.resolve()}}const _B="app-check-internal";!function cZ(){(0,Io._registerComponent)(new pc.wA("app-check",n=>function K4(n,t){return new Y4(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(_B).initialize()})),(0,Io._registerComponent)(new pc.wA(_B,n=>function Q4(n){return{getToken:t=>VI(n,t),addTokenListener:t=>function e1(n,t,e,i){const{app:r}=n,s=Jr(r),c={next:e,error:i,type:t};if(gc(r,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,c]})),s.token&&BI(s.token)){const d=s.token;Promise.resolve().then(()=>{e({token:d.token}),lB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>lB(n))}(n,"INTERNAL",t),removeTokenListener:t=>t1(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Io.registerVersion)("@firebase/app-check","0.5.12")}();class Gb{constructor(){return(0,Rn.vb)("app-check")}}typeof window<"u"&&window;var $I=V(127);const a1=new o.OlP("angularfire2.auth.use-emulator"),l1=new o.OlP("angularfire2.auth.settings"),c1=new o.OlP("angularfire2.auth.tenant-id"),u1=new o.OlP("angularfire2.auth.langugage-code"),d1=new o.OlP("angularfire2.auth.use-device-language"),h1=new o.OlP("angularfire.auth.persistence"),f1=(n,t,e,i,r,s,c,d)=>(0,Lr.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const f=t.runOutsideAngular(()=>n.auth());if(e&&f.useEmulator(...e),i&&(f.tenantId=i),f.languageCode=r,s&&f.useDeviceLanguage(),c)for(const[m,v]of Object.entries(c))f.settings[m]=v;return d&&f.setPersistence(d),f},[e,i,r,s,c,d]);let zb=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v,E,A,M){const P=new Dt.x,B=pt(void 0).pipe((0,RI.Q)(c.outsideAngular),_i(()=>s.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,5881)))),(0,ct.U)(()=>(0,Lr.on)(e,s,i)),(0,ct.U)(J=>f1(J,s,d,m,v,E,f,A)),qV({bufferSize:1,refCount:!1}));if(ur(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{B.pipe(af()).subscribe();const oe=B.pipe(_i(Ie=>Ie.getRedirectResult().then(ze=>ze,()=>null)),Rn.iC,qV({bufferSize:1,refCount:!1})),Ve=B.pipe(_i(Ie=>new Hi.y(ze=>({unsubscribe:s.runOutsideAngular(()=>Ie.onAuthStateChanged(ut=>ze.next(ut),ut=>ze.error(ut),()=>ze.complete()))})))),xe=B.pipe(_i(Ie=>new Hi.y(ze=>({unsubscribe:s.runOutsideAngular(()=>Ie.onIdTokenChanged(ut=>ze.next(ut),ut=>ze.error(ut),()=>ze.complete()))}))));this.authState=oe.pipe(YV(Ve),(0,HR.R)(c.outsideAngular),(0,RI.Q)(c.insideAngular)),this.user=oe.pipe(YV(xe),(0,HR.R)(c.outsideAngular),(0,RI.Q)(c.insideAngular)),this.idToken=this.user.pipe(_i(Ie=>Ie?(0,kn.D)(Ie.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(_i(Ie=>Ie?(0,kn.D)(Ie.getIdTokenResult()):pt(null))),this.credential=(0,ms.T)(oe,P,this.authState.pipe(ui(Ie=>!Ie))).pipe((0,ct.U)(Ie=>(null==Ie?void 0:Ie.user)?Ie:null),(0,HR.R)(c.outsideAngular),(0,RI.Q)(c.insideAngular))}return(0,Lr.pX)(this,B,s,{spy:{apply:(J,oe,Ve)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Ve.then(xe=>P.next(xe))}}})}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lr.Dh),o.LFG(Lr.xv,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Rn.HU),o.LFG(a1,8),o.LFG(l1,8),o.LFG(c1,8),o.LFG(u1,8),o.LFG(d1,8),o.LFG(h1,8),o.LFG(Gb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mZ=(()=>{class n{constructor(){$I.Z.registerVersion("angularfire",Rn.q4.full,"auth-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[zb]}),n})();var p1=V(3942);const vB="firebasestorage.googleapis.com",bB="storageBucket";class nr extends L.ZR{constructor(t,e){super(m1(t),`Firebase Storage: ${e} (${m1(t)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,nr.prototype)}_codeEquals(t){return m1(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function m1(n){return"storage/"+n}function g1(){return new nr("unknown","An unknown error occurred, please check the error payload for server response.")}function wB(){return new nr("canceled","User canceled the upload/download.")}function CB(){return new nr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function K_(n){return new nr("invalid-argument",n)}function EB(){return new nr("app-deleted","The Firebase app was deleted.")}function DB(n){return new nr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function qb(n,t){return new nr("invalid-format","String does not match format '"+n+"': "+t)}function Zb(n){throw new nr("internal-error","Internal error: "+n)}class js{constructor(t,e){this.bucket=t,this.path_=e}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,e){let i;try{i=js.makeFromUrl(t,e)}catch{return new js(t,"")}if(""===i.path)return i;throw function IZ(n){return new nr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(t)}static makeFromUrl(t,e){let i=null;const r="([A-Za-z0-9.\\-_]+)",d=new RegExp("^gs://"+r+"(/(.*))?$","i");function m(Ie){Ie.path_=decodeURIComponent(Ie.path)}const E=e.replace(/[.]/g,"\\."),xe=[{regex:d,indices:{bucket:1,path:3},postModify:function s(Ie){"/"===Ie.path.charAt(Ie.path.length-1)&&(Ie.path_=Ie.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${E}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:m},{regex:new RegExp(`^https?://${e===vB?"(?:storage.googleapis.com|storage.cloud.google.com)":e}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:m}];for(let Ie=0;Ie<xe.length;Ie++){const ze=xe[Ie],ut=ze.regex.exec(t);if(ut){let Vn=ut[ze.indices.path];Vn||(Vn=""),i=new js(ut[ze.indices.bucket],Vn),ze.postModify(i);break}}if(null==i)throw function DZ(n){return new nr("invalid-url","Invalid URL '"+n+"'.")}(t);return i}}class xZ{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}function HI(n){return"string"==typeof n||n instanceof String}function IB(n){return _1()&&n instanceof Blob}function _1(){return typeof Blob<"u"}function y1(n,t,e,i){if(i<t)throw K_(`Invalid value for '${n}'. Expected ${t} or greater.`);if(i>e)throw K_(`Invalid value for '${n}'. Expected ${e} or less.`)}function Ad(n,t,e){let i=t;return null==e&&(i=`https://${t}`),`${e}://${i}/v0${n}`}function SB(n){const t=encodeURIComponent;let e="?";for(const i in n)n.hasOwnProperty(i)&&(e=e+(t(i)+"=")+t(n[i])+"&");return e=e.slice(0,-1),e}var lf=(()=>{return(n=lf||(lf={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",lf;var n})();class FZ{constructor(t,e,i,r,s,c,d,f,m,v,E){this.url_=t,this.method_=e,this.headers_=i,this.body_=r,this.successCodes_=s,this.additionalRetryCodes_=c,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=v,this.connectionFactory_=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,M)=>{this.resolve_=A,this.reject_=M,this.start_()})}start_(){const e=(i,r)=>{const s=this.resolve_,c=this.reject_,d=r.connection;if(r.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());!function RZ(n){return void 0!==n}(f)?s():s(f)}catch(f){c(f)}else if(null!==d){const f=g1();f.serverResponse=d.getErrorText(),c(this.errorCallback_?this.errorCallback_(d,f):f)}else c(r.canceled?this.appDelete_?EB():wB():function EZ(){return new nr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?e(0,new jI(!1,null,!0)):this.backoffId_=function MZ(n,t,e){let i=1,r=null,s=null,c=!1,d=0;function f(){return 2===d}let m=!1;function v(...J){m||(m=!0,t.apply(null,J))}function E(J){r=setTimeout(()=>{r=null,n(M,f())},J)}function A(){s&&clearTimeout(s)}function M(J,...oe){if(m)return void A();if(J)return A(),void v.call(null,J,...oe);if(f()||c)return A(),void v.call(null,J,...oe);let xe;i<64&&(i*=2),1===d?(d=2,xe=0):xe=1e3*(i+Math.random()),E(xe)}let P=!1;function B(J){P||(P=!0,A(),!m&&(null!==r?(J||(d=2),clearTimeout(r),E(0)):J||(d=1)))}return E(0),s=setTimeout(()=>{c=!0,B(!0)},e),B}((i,r)=>{if(r)return void i(!1,new jI(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const c=d=>{null!==this.progressCallback_&&this.progressCallback_(d.loaded,d.lengthComputable?d.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(c),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(c),this.pendingConnection_=null;const d=s.getErrorCode()===lf.NO_ERROR,f=s.getStatus();if(!d||this.isRetryStatusCode_(f)){const v=s.getErrorCode()===lf.ABORT;return void i(!1,new jI(!1,null,v))}const m=-1!==this.successCodes_.indexOf(f);i(!0,new jI(m,s))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function kZ(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(t){const e=t>=500&&t<600,r=-1!==[408,429].indexOf(t),s=-1!==this.additionalRetryCodes_.indexOf(t);return e||r||s}}class jI{constructor(t,e,i){this.wasSuccessCode=t,this.connection=e,this.canceled=!!i}}function HZ(...n){const t=function $Z(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==t){const e=new t;for(let i=0;i<n.length;i++)e.append(n[i]);return e.getBlob()}if(_1())return new Blob(n);throw new nr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const La={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class v1{constructor(t,e){this.data=t,this.contentType=e||null}}function b1(n,t){switch(n){case La.RAW:return new v1(TB(t));case La.BASE64:case La.BASE64URL:return new v1(AB(n,t));case La.DATA_URL:return new v1(function qZ(n){const t=new xB(n);return t.base64?AB(La.BASE64,t.rest):function zZ(n){let t;try{t=decodeURIComponent(n)}catch{throw qb(La.DATA_URL,"Malformed data URL.")}return TB(t)}(t.rest)}(t),function ZZ(n){return new xB(n).contentType}(t))}throw g1()}function TB(n){const t=[];for(let e=0;e<n.length;e++){let i=n.charCodeAt(e);i<=127?t.push(i):i<=2047?t.push(192|i>>6,128|63&i):55296==(64512&i)?e<n.length-1&&56320==(64512&n.charCodeAt(e+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++e),t.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):t.push(239,191,189):56320==(64512&i)?t.push(239,191,189):t.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(t)}function AB(n,t){switch(n){case La.BASE64:{const r=-1!==t.indexOf("-"),s=-1!==t.indexOf("_");if(r||s)throw qb(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case La.BASE64URL:{const r=-1!==t.indexOf("+"),s=-1!==t.indexOf("/");if(r||s)throw qb(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let e;try{e=function GZ(n){return atob(n)}(t)}catch{throw qb(n,"Invalid character found")}const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}class xB{constructor(t){this.base64=!1,this.contentType=null;const e=t.match(/^data:([^,]+)?,/);if(null===e)throw qb(La.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=e[1]||null;null!=i&&(this.base64=function WZ(n,t){return n.length>=t.length&&n.substring(n.length-t.length)===t}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=t.substring(t.indexOf(",")+1)}}class yu{constructor(t,e){let i=0,r="";IB(t)?(this.data_=t,i=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),i=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),i=t.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(t,e){if(IB(this.data_)){const r=function jZ(n,t,e){return n.webkitSlice?n.webkitSlice(t,e):n.mozSlice?n.mozSlice(t,e):n.slice?n.slice(t,e):null}(this.data_,t,e);return null===r?null:new yu(r)}{const i=new Uint8Array(this.data_.buffer,t,e-t);return new yu(i,!0)}}static getBlob(...t){if(_1()){const e=t.map(i=>i instanceof yu?i.data_:i);return new yu(HZ.apply(null,e))}{const e=t.map(c=>HI(c)?b1(La.RAW,c).data:c.data_);let i=0;e.forEach(c=>{i+=c.byteLength});const r=new Uint8Array(i);let s=0;return e.forEach(c=>{for(let d=0;d<c.length;d++)r[s++]=c[d]}),new yu(r,!0)}}uploadData(){return this.data_}}function w1(n){let t;try{t=JSON.parse(n)}catch{return null}return function PZ(n){return"object"==typeof n&&!Array.isArray(n)}(t)?t:null}function MB(n){const t=n.lastIndexOf("/",n.length-2);return-1===t?n:n.slice(t+1)}function QZ(n,t){return t}class To{constructor(t,e,i,r){this.server=t,this.local=e||t,this.writable=!!i,this.xform=r||QZ}}let GI=null;function Wb(){if(GI)return GI;const n=[];n.push(new To("bucket")),n.push(new To("generation")),n.push(new To("metageneration")),n.push(new To("name","fullPath",!0));const e=new To("name");e.xform=function t(s,c){return function JZ(n){return!HI(n)||n.length<2?n:MB(n)}(c)},n.push(e);const r=new To("size");return r.xform=function i(s,c){return void 0!==c?Number(c):c},n.push(r),n.push(new To("timeCreated")),n.push(new To("updated")),n.push(new To("md5Hash",null,!0)),n.push(new To("cacheControl",null,!0)),n.push(new To("contentDisposition",null,!0)),n.push(new To("contentEncoding",null,!0)),n.push(new To("contentLanguage",null,!0)),n.push(new To("contentType",null,!0)),n.push(new To("metadata","customMetadata",!0)),GI=n,GI}function kB(n,t,e){const i=w1(t);return null===i?null:function eW(n,t,e){const i={type:"file"},r=e.length;for(let s=0;s<r;s++){const c=e[s];i[c.local]=c.xform(i,t[c.server])}return function XZ(n,t){Object.defineProperty(n,"ref",{get:function e(){const s=new js(n.bucket,n.fullPath);return t._makeStorageReference(s)}})}(i,n),i}(n,i,e)}function C1(n,t){const e={},i=t.length;for(let r=0;r<i;r++){const s=t[r];s.writable&&(e[s.server]=n[s.local])}return JSON.stringify(e)}const RB="prefixes";class vu{constructor(t,e,i,r){this.url=t,this.method=e,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function bu(n){if(!n)throw g1()}function zI(n,t){return function e(i,r){const s=kB(n,r,t);return bu(null!==s),s}}function Q_(n){return function t(e,i){let r;return r=401===e.getStatus()?e.getErrorText().includes("Firebase App Check token is invalid")?function wZ(){return new nr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function bZ(){return new nr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===e.getStatus()?function vZ(n){return new nr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===e.getStatus()?function CZ(n){return new nr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):i,r.serverResponse=i.serverResponse,r}}function Yb(n){const t=Q_(n);return function e(i,r){let s=t(i,r);return 404===i.getStatus()&&(s=function yZ(n){return new nr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),s.serverResponse=r.serverResponse,s}}function PB(n,t,e){const r=Ad(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new vu(r,"GET",zI(n,e),c);return d.errorHandler=Yb(t),d}function oW(n,t,e,i,r){const s={};s.prefix=t.isRoot?"":t.path+"/",e&&e.length>0&&(s.delimiter=e),i&&(s.pageToken=i),r&&(s.maxResults=r);const d=Ad(t.bucketOnlyServerUrl(),n.host,n._protocol),m=n.maxOperationRetryTime,v=new vu(d,"GET",function rW(n,t){return function e(i,r){const s=function iW(n,t,e){const i=w1(e);return null===i?null:function nW(n,t,e){const i={prefixes:[],items:[],nextPageToken:e.nextPageToken};if(e[RB])for(const r of e[RB]){const s=r.replace(/\/$/,""),c=n._makeStorageReference(new js(t,s));i.prefixes.push(c)}if(e.items)for(const r of e.items){const s=n._makeStorageReference(new js(t,r.name));i.items.push(s)}return i}(n,t,i)}(n,t,r);return bu(null!==s),s}}(n,t.bucket),m);return v.urlParams=s,v.errorHandler=Q_(t),v}function NB(n,t,e){const i=Object.assign({},e);return i.fullPath=n.path,i.size=t.size(),i.contentType||(i.contentType=function uW(n,t){return n&&n.contentType||t&&t.type()||"application/octet-stream"}(null,t)),i}class qI{constructor(t,e,i,r){this.current=t,this.total=e,this.finalized=!!i,this.metadata=r||null}}function E1(n,t){let e=null;try{e=n.getResponseHeader("X-Goog-Upload-Status")}catch{bu(!1)}return bu(!!e&&-1!==(t||["active"]).indexOf(e)),e}const pW={STATE_CHANGED:"state_changed"},Ao={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function D1(n){switch(n){case"running":case"pausing":case"canceling":return Ao.RUNNING;case"paused":return Ao.PAUSED;case"success":return Ao.SUCCESS;case"canceled":return Ao.CANCELED;default:return Ao.ERROR}}class mW{constructor(t,e,i){if(function OZ(n){return"function"==typeof n}(t)||null!=e||null!=i)this.next=t,this.error=e??void 0,this.complete=i??void 0;else{const s=t;this.next=s.next,this.error=s.error,this.complete=s.complete}}}function J_(n){return(...t)=>{Promise.resolve().then(()=>n(...t))}}class _W extends class gW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=lf.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=lf.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=lf.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,e,i,r){if(this.sent_)throw Zb("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(const s in r)r.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,r[s].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Zb("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Zb("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Zb("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Zb("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)}}{initXhr(){this.xhr_.responseType="text"}}function _c(){return new _W}class UB{constructor(t,e,i=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=i,this._mappings=Wb(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=r=>{this._request=void 0,this._chunkMultiplier=1,r._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=r,this._transition("error"))},this._metadataErrorHandler=r=>{this._request=void 0,r._codeEquals("canceled")?this.completeTransitions_():(this._error=r,this._transition("error"))},this._promise=new Promise((r,s)=>{this._resolve=r,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const t=this._transferred;return e=>this._updateProgress(t+e)}_shouldDoResumable(t){return t.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(t){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([e,i])=>{switch(this._state){case"running":t(e,i);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((t,e)=>{const i=function dW(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c=NB(t,i,r),d={name:c.fullPath},f=Ad(s,n.host,n._protocol),v={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${i.size()}`,"X-Goog-Upload-Header-Content-Type":c.contentType,"Content-Type":"application/json; charset=utf-8"},E=C1(c,e),P=new vu(f,"POST",function M(B){let J;E1(B);try{J=B.getResponseHeader("X-Goog-Upload-URL")}catch{bu(!1)}return bu(HI(J)),J},n.maxUploadRetryTime);return P.urlParams=d,P.headers=v,P.body=E,P.errorHandler=Q_(t),P}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,_c,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const t=this._uploadUrl;this._resolveToken((e,i)=>{const r=function hW(n,t,e,i){const f=new vu(e,"POST",function s(m){const v=E1(m,["active","final"]);let E=null;try{E=m.getResponseHeader("X-Goog-Upload-Size-Received")}catch{bu(!1)}E||bu(!1);const A=Number(E);return bu(!isNaN(A)),new qI(A,i.size(),"final"===v)},n.maxUploadRetryTime);return f.headers={"X-Goog-Upload-Command":"query"},f.errorHandler=Q_(t),f}(this._ref.storage,this._ref._location,t,this._blob),s=this._ref.storage._makeRequest(r,_c,e,i);this._request=s,s.getPromise().then(c=>{this._request=void 0,this._updateProgress(c.current),this._needToFetchStatus=!1,c.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const t=262144*this._chunkMultiplier,e=new qI(this._transferred,this._blob.size()),i=this._uploadUrl;this._resolveToken((r,s)=>{let c;try{c=function fW(n,t,e,i,r,s,c,d){const f=new qI(0,0);if(c?(f.current=c.current,f.total=c.total):(f.current=0,f.total=i.size()),i.size()!==f.total)throw function TZ(){return new nr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const m=f.total-f.current;let v=m;r>0&&(v=Math.min(v,r));const E=f.current,P={"X-Goog-Upload-Command":v===m?"upload, finalize":"upload","X-Goog-Upload-Offset":`${f.current}`},B=i.slice(E,E+v);if(null===B)throw CB();const xe=new vu(e,"POST",function J(Ie,ze){const ut=E1(Ie,["active","final"]),Vt=f.current+v,Vn=i.size();let Br;return Br="final"===ut?zI(t,s)(Ie,ze):null,new qI(Vt,Vn,"final"===ut,Br)},t.maxUploadRetryTime);return xe.headers=P,xe.body=B.uploadData(),xe.progressCallback=d||null,xe.errorHandler=Q_(n),xe}(this._ref._location,this._ref.storage,i,this._blob,t,this._mappings,e,this._makeProgressCallback())}catch(f){return this._error=f,void this._transition("error")}const d=this._ref.storage._makeRequest(c,_c,r,s);this._request=d,d.getPromise().then(f=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(f.current),f.finalized?(this._metadata=f.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((t,e)=>{const i=PB(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(i,_c,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((t,e)=>{const i=function LB(n,t,e,i,r){const s=t.bucketOnlyServerUrl(),c={"X-Goog-Upload-Protocol":"multipart"},f=function d(){let xe="";for(let Ie=0;Ie<2;Ie++)xe+=Math.random().toString().slice(2);return xe}();c["Content-Type"]="multipart/related; boundary="+f;const m=NB(t,i,r),v=C1(m,e),M=yu.getBlob("--"+f+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+v+"\r\n--"+f+"\r\nContent-Type: "+m.contentType+"\r\n\r\n",i,"\r\n--"+f+"--");if(null===M)throw CB();const P={name:m.fullPath},B=Ad(s,n.host,n._protocol),oe=n.maxUploadRetryTime,Ve=new vu(B,"POST",zI(n,e),oe);return Ve.urlParams=P,Ve.headers=c,Ve.body=M.uploadData(),Ve.errorHandler=Q_(t),Ve}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(i,_c,t,e);this._request=r,r.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(t){const e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()}_transition(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":const e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=wB(),this._state=t,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const t=D1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}}on(t,e,i,r){const s=new mW(e||void 0,i||void 0,r||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(t,e){return this._promise.then(t,e)}catch(t){return this.then(null,t)}_addObserver(t){this._observers.push(t),this._notifyObserver(t)}_removeObserver(t){const e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let t=!0;switch(D1(this._state)){case Ao.SUCCESS:J_(this._resolve.bind(null,this.snapshot))();break;case Ao.CANCELED:case Ao.ERROR:J_(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(t){switch(D1(this._state)){case Ao.RUNNING:case Ao.PAUSED:t.next&&J_(t.next.bind(t,this.snapshot))();break;case Ao.SUCCESS:t.complete&&J_(t.complete.bind(t))();break;default:t.error&&J_(t.error.bind(t,this._error))()}}resume(){const t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t}pause(){const t="running"===this._state;return t&&this._transition("pausing"),t}cancel(){const t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t}}class pm{constructor(t,e){this._service=t,this._location=e instanceof js?e:js.makeFromUrl(e,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,e){return new pm(t,e)}get root(){const t=new js(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return MB(this._location.path)}get storage(){return this._service}get parent(){const t=function YZ(n){if(0===n.length)return null;const t=n.lastIndexOf("/");return-1===t?"":n.slice(0,t)}(this._location.path);if(null===t)return null;const e=new js(this._location.bucket,t);return new pm(this._service,e)}_throwIfRoot(t){if(""===this._location.path)throw DB(t)}}function HB(n,t,e){return I1.apply(this,arguments)}function I1(){return(I1=(0,Ce.Z)(function*(n,t,e){const r=yield jB(n,{pageToken:e});t.prefixes.push(...r.prefixes),t.items.push(...r.items),null!=r.nextPageToken&&(yield HB(n,t,r.nextPageToken))})).apply(this,arguments)}function jB(n,t){null!=t&&"number"==typeof t.maxResults&&y1("options.maxResults",1,1e3,t.maxResults);const e=t||{},i=oW(n.storage,n._location,"/",e.pageToken,e.maxResults);return n.storage.makeRequestWithTokens(i,_c)}function xW(n){n._throwIfRoot("getDownloadURL");const t=function aW(n,t,e){const r=Ad(t.fullServerUrl(),n.host,n._protocol),c=n.maxOperationRetryTime,d=new vu(r,"GET",function sW(n,t){return function e(i,r){const s=kB(n,r,t);return bu(null!==s),function tW(n,t,e,i){const r=w1(t);if(null===r||!HI(r.downloadTokens))return null;const s=r.downloadTokens;if(0===s.length)return null;const c=encodeURIComponent;return s.split(",").map(m=>{const E=n.fullPath;return Ad("/b/"+c(n.bucket)+"/o/"+c(E),e,i)+SB({alt:"media",token:m})})[0]}(s,r,n.host,n._protocol)}}(n,e),c);return d.errorHandler=Yb(t),d}(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(t,_c).then(e=>{if(null===e)throw function AZ(){return new nr("no-download-url","The given file does not have any download URLs.")}();return e})}function GB(n,t){const e=function KZ(n,t){const e=t.split("/").filter(i=>i.length>0).join("/");return 0===n.length?e:n+"/"+e}(n._location.path,t),i=new js(n._location.bucket,e);return new pm(n.storage,i)}function zB(n,t){if(n instanceof S1){const e=n;if(null==e._bucket)throw function SZ(){return new nr("no-default-bucket","No default bucket found. Did you set the '"+bB+"' property when initializing the app?")}();const i=new pm(e,e._bucket);return null!=t?zB(i,t):i}return void 0!==t?GB(n,t):n}function OW(n,t){if(t&&function kW(n){return/^[A-Za-z]+:\/\//.test(n)}(t)){if(n instanceof S1)return function RW(n,t){return new pm(n,t)}(n,t);throw K_("To use ref(service, url), the first argument must be a Storage instance.")}return zB(n,t)}function qB(n,t){const e=null==t?void 0:t[bB];return null==e?null:js.makeFromBucketSpec(e,n)}class S1{constructor(t,e,i,r,s){this.app=t,this._authProvider=e,this._appCheckProvider=i,this._url=r,this._firebaseVersion=s,this._bucket=null,this._host=vB,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?js.makeFromBucketSpec(r,this._host):qB(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._bucket=null!=this._url?js.makeFromBucketSpec(this._url,t):qB(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){y1("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){y1("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}_getAuthToken(){var t=this;return(0,Ce.Z)(function*(){if(t._overrideAuthToken)return t._overrideAuthToken;const e=t._authProvider.getImmediate({optional:!0});if(e){const i=yield e.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var t=this;return(0,Ce.Z)(function*(){const e=t._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new pm(this,t)}_makeRequest(t,e,i,r){if(this._deleted)return new xZ(EB());{const s=function UZ(n,t,e,i,r,s){const c=SB(n.urlParams),d=n.url+c,f=Object.assign({},n.headers);return function VZ(n,t){t&&(n["X-Firebase-GMPID"]=t)}(f,t),function NZ(n,t){null!==t&&t.length>0&&(n.Authorization="Firebase "+t)}(f,e),function LZ(n,t){n["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}(f,s),function BZ(n,t){null!==t&&(n["X-Firebase-AppCheck"]=t)}(f,i),new FZ(d,n.method,f,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r)}(t,this._appId,i,r,e,this._firebaseVersion);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(t,e){var i=this;return(0,Ce.Z)(function*(){const[r,s]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(t,e,r,s).getPromise()})()}}const ZB="@firebase/storage";function KB(n,t){return OW(n=(0,L.m9)(n),t)}function GW(n,{instanceIdentifier:t}){const e=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new S1(e,i,r,t,Io.SDK_VERSION)}!function zW(){(0,Io._registerComponent)(new pc.wA("storage",GW,"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)(ZB,"0.9.9",""),(0,Io.registerVersion)(ZB,"0.9.9","esm2017")}();class ZI{constructor(t,e,i){this._delegate=t,this.task=e,this.ref=i}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class QB{constructor(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new ZI(this._delegate.snapshot,this,this._ref)}then(t,e){return this._delegate.then(i=>{if(t)return t(new ZI(i,this,this._ref))},e)}on(t,e,i,r){let s;return e&&(s="function"==typeof e?c=>e(new ZI(c,this,this._ref)):{next:e.next?c=>e.next(new ZI(c,this,this._ref)):void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,s,i||void 0,r||void 0)}}class JB{constructor(t,e){this._delegate=t,this._service=e}get prefixes(){return this._delegate.prefixes.map(t=>new xd(t,this._service))}get items(){return this._delegate.items.map(t=>new xd(t,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class xd{constructor(t,e){this._delegate=t,this.storage=e}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(t){const e=function HW(n,t){return GB(n,t)}(this._delegate,t);return new xd(e,this.storage)}get root(){return new xd(this._delegate.root,this.storage)}get parent(){const t=this._delegate.parent;return null==t?null:new xd(t,this.storage)}put(t,e){return this._throwIfRoot("put"),new QB(function FW(n,t,e){return function DW(n,t,e){return n._throwIfRoot("uploadBytesResumable"),new UB(n,new yu(t),e)}(n=(0,L.m9)(n),t,e)}(this._delegate,t,e),this)}putString(t,e=La.RAW,i){this._throwIfRoot("putString");const r=b1(e,t),s=Object.assign({},i);return null==s.contentType&&null!=r.contentType&&(s.contentType=r.contentType),new QB(new UB(this._delegate,new yu(r.data,!0),s),this)}listAll(){return function BW(n){return function SW(n){const t={prefixes:[],items:[]};return HB(n,t).then(()=>t)}(n=(0,L.m9)(n))}(this._delegate).then(t=>new JB(t,this.storage))}list(t){return function VW(n,t){return jB(n=(0,L.m9)(n),t)}(this._delegate,t||void 0).then(e=>new JB(e,this.storage))}getMetadata(){return function NW(n){return function TW(n){n._throwIfRoot("getMetadata");const t=PB(n.storage,n._location,Wb());return n.storage.makeRequestWithTokens(t,_c)}(n=(0,L.m9)(n))}(this._delegate)}updateMetadata(t){return function LW(n,t){return function AW(n,t){n._throwIfRoot("updateMetadata");const e=function lW(n,t,e,i){const s=Ad(t.fullServerUrl(),n.host,n._protocol),d=C1(e,i),m=n.maxOperationRetryTime,v=new vu(s,"PATCH",zI(n,i),m);return v.headers={"Content-Type":"application/json; charset=utf-8"},v.body=d,v.errorHandler=Yb(t),v}(n.storage,n._location,t,Wb());return n.storage.makeRequestWithTokens(e,_c)}(n=(0,L.m9)(n),t)}(this._delegate,t)}getDownloadURL(){return function UW(n){return xW(n=(0,L.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function $W(n){return function MW(n){n._throwIfRoot("deleteObject");const t=function cW(n,t){const i=Ad(t.fullServerUrl(),n.host,n._protocol),d=new vu(i,"DELETE",function c(f,m){},n.maxOperationRetryTime);return d.successCodes=[200,204],d.errorHandler=Yb(t),d}(n.storage,n._location);return n.storage.makeRequestWithTokens(t,_c)}(n=(0,L.m9)(n))}(this._delegate)}_throwIfRoot(t){if(""===this._delegate._location.path)throw DB(t)}}class XB{constructor(t,e){this.app=t,this._delegate=e}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(t){if(eU(t))throw K_("ref() expected a child path but got a URL, use refFromURL instead.");return new xd(KB(this._delegate,t),this)}refFromURL(t){if(!eU(t))throw K_("refFromURL() expected a full URL but got a child path, use ref() instead.");try{js.makeFromUrl(t,this._delegate.host)}catch{throw K_("refFromUrl() expected a valid full URL but got an invalid one.")}return new xd(KB(this._delegate,t),this)}setMaxUploadRetryTime(t){this._delegate.maxUploadRetryTime=t}setMaxOperationRetryTime(t){this._delegate.maxOperationRetryTime=t}useEmulator(t,e,i={}){!function jW(n,t,e,i={}){!function PW(n,t,e,i={}){n.host=`${t}:${e}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:(0,L.Sg)(r,n.app.options.projectId))}(n,t,e,i)}(this._delegate,t,e,i)}}function eU(n){return/^[A-Za-z]+:\/\//.test(n)}function YW(n,{instanceIdentifier:t}){const e=n.getProvider("app-compat").getImmediate(),i=n.getProvider("storage").getImmediate({identifier:t});return new XB(e,i)}function tU(n){const t=function QW(n){return new Hi.y(t=>{const e=c=>t.next(c);e(n.snapshot);const s=n.on("state_changed",e);return n.then(c=>{e(c),t.complete()},c=>{e(n.snapshot),(c=>{t.error(c)})(c)}),function(){s()}}).pipe(Ph(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,ct.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function WI(n){return{getDownloadURL:()=>pt(void 0).pipe(Rn.fc,_i(()=>n.getDownloadURL()),Rn.iC),getMetadata:()=>pt(void 0).pipe(Rn.fc,_i(()=>n.getMetadata()),Rn.iC),delete:()=>(0,kn.D)(n.delete()),child:t=>WI(n.child(t)),updateMetadata:t=>(0,kn.D)(n.updateMetadata(t)),put:(t,e)=>tU(n.put(t,e)),putString:(t,e,i)=>tU(n.putString(t,e,i)),list:t=>(0,kn.D)(n.list(t)),listAll:()=>(0,kn.D)(n.listAll())}}!function KW(n){const t={TaskState:Ao,TaskEvent:pW,StringFormat:La,Storage:XB,Reference:xd};n.INTERNAL.registerComponent(new pc.wA("storage-compat",YW,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.17")}(p1.Z);const JW=new o.OlP("angularfire2.storageBucket"),XW=new o.OlP("angularfire2.storage.maxUploadRetryTime"),eY=new o.OlP("angularfire2.storage.maxOperationRetryTime"),tY=new o.OlP("angularfire2.storage.use-emulator");let nY=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v,E){const A=(0,Lr.on)(e,c,i);this.storage=(0,Lr.cc)(`${A.name}.storage.${r}`,"AngularFireStorage",A.name,()=>{const M=c.runOutsideAngular(()=>A.storage(r||void 0)),P=v;return P&&M.useEmulator(...P),f&&M.setMaxUploadRetryTime(f),m&&M.setMaxOperationRetryTime(m),M},[f,m])}ref(e){return WI(this.storage.ref(e))}refFromURL(e){return WI(this.storage.refFromURL(e))}upload(e,i,r){return WI(this.storage.ref(e)).put(i,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lr.Dh),o.LFG(Lr.xv,8),o.LFG(JW,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Rn.HU),o.LFG(XW,8),o.LFG(eY,8),o.LFG(tY,8),o.LFG(Gb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})(),rY=(()=>{class n{constructor(){$I.Z.registerVersion("angularfire",Rn.q4.full,"gcs-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[nY],imports:[iY]}),n})();function T1(){return(0,Gi.e)((n,t)=>{let e,i=!1;n.subscribe((0,Hn.x)(t,r=>{const s=e;e=r,i&&t.next([s,r]),i=!0}))})}function sY(n,t,e,i,r){return(s,c)=>{let d=e,f=t,m=0;s.subscribe((0,Hn.x)(c,v=>{const E=m++;f=d?n(f,v,E):(d=!0,v),i&&c.next(f)},r&&(()=>{d&&c.next(f),c.complete()})))}}function mm(n,t){return(0,Gi.e)(sY(n,t,arguments.length>=2,!0))}V(5881);var Tt,oY=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Md={},A1=A1||{},Ht=oY||self;function YI(){}function KI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function Kb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var x1="closure_uid_"+(1e9*Math.random()>>>0),lY=0;function cY(n,t,e){return n.call.apply(n.bind,arguments)}function uY(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Gs(n,t,e){return(Gs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?cY:uY).apply(null,arguments)}function QI(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function _s(n,t){function e(){}e.prototype=t.prototype,n.X=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,s){for(var c=Array(arguments.length-2),d=2;d<arguments.length;d++)c[d-2]=arguments[d];return t.prototype[r].apply(i,c)}}function cf(){this.s=this.s,this.o=this.o}var hY={};cf.prototype.s=!1,cf.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function aY(n){return Object.prototype.hasOwnProperty.call(n,x1)&&n[x1]||(n[x1]=++lY)}(this);delete hY[n]}},cf.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nU=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function M1(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function iU(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(KI(i)){const r=n.length||0,s=i.length||0;n.length=r+s;for(let c=0;c<s;c++)n[r+c]=i[c]}else n.push(i)}}function zs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}zs.prototype.h=function(){this.defaultPrevented=!0};var fY=function(){if(!Ht.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ht.addEventListener("test",YI,t),Ht.removeEventListener("test",YI,t)}catch{}return n}();function JI(n){return/^[\s\xa0]*$/.test(n)}var rU=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function k1(n,t){return n<t?-1:n>t?1:0}function XI(){var n=Ht.navigator;return n&&(n=n.userAgent)?n:""}function wu(n){return-1!=XI().indexOf(n)}function R1(n){return R1[" "](n),n}R1[" "]=YI;var eS,n,mY=wu("Opera"),X_=wu("Trident")||wu("MSIE"),sU=wu("Edge"),O1=sU||X_,oU=wu("Gecko")&&!(-1!=XI().toLowerCase().indexOf("webkit")&&!wu("Edge"))&&!(wu("Trident")||wu("MSIE"))&&!wu("Edge"),gY=-1!=XI().toLowerCase().indexOf("webkit")&&!wu("Edge");function aU(){var n=Ht.document;return n?n.documentMode:void 0}e:{var P1="",F1=(n=XI(),oU?/rv:([^\);]+)(\)|;)/.exec(n):sU?/Edge\/([\d\.]+)/.exec(n):X_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):gY?/WebKit\/(\S+)/.exec(n):mY?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(F1&&(P1=F1?F1[1]:""),X_){var N1=aU();if(null!=N1&&N1>parseFloat(P1)){eS=String(N1);break e}}eS=P1}var _Y={};var vY=Ht.document&&X_&&(aU()||parseInt(eS,10))||void 0;function Qb(n,t){if(zs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(oU){e:{try{R1(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:bY[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qb.X.h.call(this)}}_s(Qb,zs);var bY={2:"touch",3:"pen",4:"mouse"};Qb.prototype.h=function(){Qb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Jb="closure_listenable_"+(1e6*Math.random()|0),wY=0;function CY(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ha=r,this.key=++wY,this.ba=this.ea=!1}function tS(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function V1(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function cU(n){const t={};for(const e in n)t[e]=n[e];return t}const uU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dU(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let s=0;s<uU.length;s++)e=uU[s],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function nS(n){this.src=n,this.g={},this.h=0}function B1(n,t){var e=t.type;if(e in n.g){var s,i=n.g[e],r=nU(i,t);(s=0<=r)&&Array.prototype.splice.call(i,r,1),s&&(tS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function U1(n,t,e,i){for(var r=0;r<n.length;++r){var s=n[r];if(!s.ba&&s.listener==t&&s.capture==!!e&&s.ha==i)return r}return-1}nS.prototype.add=function(n,t,e,i,r){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var c=U1(n,t,i,r);return-1<c?(t=n[c],e||(t.ea=!1)):((t=new CY(t,this.src,s,!!i,r)).ea=e,n.push(t)),t};var $1="closure_lm_"+(1e6*Math.random()|0),H1={};function hU(n,t,e,i,r){if(i&&i.once)return pU(n,t,e,i,r);if(Array.isArray(t)){for(var s=0;s<t.length;s++)hU(n,t[s],e,i,r);return null}return e=q1(e),n&&n[Jb]?n.N(t,e,Kb(i)?!!i.capture:!!i,r):fU(n,t,e,!1,i,r)}function fU(n,t,e,i,r,s){if(!t)throw Error("Invalid event type");var c=Kb(r)?!!r.capture:!!r,d=G1(n);if(d||(n[$1]=d=new nS(n)),(e=d.add(t,e,i,c,s)).proxy)return e;if(i=function EY(){const t=DY;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)fY||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(gU(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function pU(n,t,e,i,r){if(Array.isArray(t)){for(var s=0;s<t.length;s++)pU(n,t[s],e,i,r);return null}return e=q1(e),n&&n[Jb]?n.O(t,e,Kb(i)?!!i.capture:!!i,r):fU(n,t,e,!0,i,r)}function mU(n,t,e,i,r){if(Array.isArray(t))for(var s=0;s<t.length;s++)mU(n,t[s],e,i,r);else i=Kb(i)?!!i.capture:!!i,e=q1(e),n&&n[Jb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=U1(s=n.g[t],e,i,r))&&(tS(s[e]),Array.prototype.splice.call(s,e,1),0==s.length&&(delete n.g[t],n.h--))):n&&(n=G1(n))&&(t=n.g[t.toString()],n=-1,t&&(n=U1(t,e,i,r)),(e=-1<n?t[n]:null)&&j1(e))}function j1(n){if("number"!=typeof n&&n&&!n.ba){var t=n.src;if(t&&t[Jb])B1(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(gU(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=G1(t))?(B1(e,n),0==e.h&&(e.src=null,t[$1]=null)):tS(n)}}}function gU(n){return n in H1?H1[n]:H1[n]="on"+n}function DY(n,t){if(n.ba)n=!0;else{t=new Qb(t,this);var e=n.listener,i=n.ha||n.src;n.ea&&j1(n),n=e.call(i,t)}return n}function G1(n){return(n=n[$1])instanceof nS?n:null}var z1="__closure_events_fn_"+(1e9*Math.random()>>>0);function q1(n){return"function"==typeof n?n:(n[z1]||(n[z1]=function(t){return n.handleEvent(t)}),n[z1])}function Xr(){cf.call(this),this.i=new nS(this),this.P=this,this.I=null}function ys(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new zs(t,n);else if(t instanceof zs)t.target=t.target||n;else{var r=t;dU(t=new zs(i,n),r)}if(r=!0,e)for(var s=e.length-1;0<=s;s--){var c=t.g=e[s];r=iS(c,i,!0,t)&&r}if(r=iS(c=t.g=n,i,!0,t)&&r,r=iS(c,i,!1,t)&&r,e)for(s=0;s<e.length;s++)r=iS(c=t.g=e[s],i,!1,t)&&r}function iS(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,s=0;s<t.length;++s){var c=t[s];if(c&&!c.ba&&c.capture==e){var d=c.listener,f=c.ha||c.src;c.ea&&B1(n.i,c),r=!1!==d.call(f,i)&&r}}return r&&!i.defaultPrevented}_s(Xr,cf),Xr.prototype[Jb]=!0,Xr.prototype.removeEventListener=function(n,t,e,i){mU(this,n,t,e,i)},Xr.prototype.M=function(){if(Xr.X.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)tS(e[i]);delete n.g[t],n.h--}}this.I=null},Xr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Xr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Z1=Ht.JSON.stringify;function IY(){var n=vU;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var W1,_U=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new TY,n=>n.reset());class TY{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function AY(n){Ht.setTimeout(()=>{throw n},0)}function yU(n,t){W1||function xY(){var n=Ht.Promise.resolve(void 0);W1=function(){n.then(MY)}}(),Y1||(W1(),Y1=!0),vU.add(n,t)}var Y1=!1,vU=new class SY{constructor(){this.h=this.g=null}add(t,e){const i=_U.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function MY(){for(var n;n=IY();){try{n.h.call(n.g)}catch(e){AY(e)}var t=_U;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Y1=!1}function rS(n,t){Xr.call(this),this.h=n||1,this.g=t||Ht,this.j=Gs(this.kb,this),this.l=Date.now()}function K1(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function Q1(n,t,e){if("function"==typeof n)e&&(n=Gs(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Gs(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ht.setTimeout(n,t||0)}function bU(n){n.g=Q1(()=>{n.g=null,n.i&&(n.i=!1,bU(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}_s(rS,Xr),(Tt=rS.prototype).ca=!1,Tt.R=null,Tt.kb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ys(this,"tick"),this.ca&&(K1(this),this.start()))}},Tt.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tt.M=function(){rS.X.M.call(this),K1(this),delete this.g};class kY extends cf{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:bU(this)}M(){super.M(),this.g&&(Ht.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xb(n){cf.call(this),this.h=n,this.g={}}_s(Xb,cf);var wU=[];function CU(n,t,e,i){Array.isArray(e)||(e&&(wU[0]=e.toString()),e=wU);for(var r=0;r<e.length;r++){var s=hU(t,e[r],i||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function EU(n){V1(n.g,function(t,e){this.g.hasOwnProperty(e)&&j1(t)},n),n.g={}}function sS(){this.g=!0}function ey(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function FY(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var s=r[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var c=1;c<r.length;c++)r[c]=""}}}return Z1(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Xb.prototype.M=function(){Xb.X.M.call(this),EU(this)},Xb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sS.prototype.Aa=function(){this.g=!1},sS.prototype.info=function(){};var gm={},DU=null;function oS(){return DU=DU||new Xr}function IU(n){zs.call(this,gm.Oa,n)}function e0(n){const t=oS();ys(t,new IU(t,n))}function SU(n,t){zs.call(this,gm.STAT_EVENT,n),this.stat=t}function xo(n){const t=oS();ys(t,new SU(t,n))}function TU(n,t){zs.call(this,gm.Pa,n),this.size=t}function t0(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ht.setTimeout(function(){n()},t)}gm.Oa="serverreachability",_s(IU,zs),gm.STAT_EVENT="statevent",_s(SU,zs),gm.Pa="timingevent",_s(TU,zs);var aS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,La:7,TIMEOUT:8,Cb:9},AU={qb:"complete",Mb:"success",Ma:"error",La:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function J1(){}function MU(){}J1.prototype.h=null;var tO,n0={OPEN:"a",pb:"b",Ma:"c",Bb:"d"};function X1(){zs.call(this,"d")}function eO(){zs.call(this,"c")}function lS(){}function r0(n,t,e,i){this.l=n,this.j=t,this.m=e,this.U=i||1,this.S=new Xb(this),this.O=NY,this.T=new rS(n=O1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new kU}function kU(){this.i=null,this.g="",this.h=!1}_s(X1,zs),_s(eO,zs),_s(lS,J1),lS.prototype.g=function(){return new XMLHttpRequest},lS.prototype.i=function(){return{}},tO=new lS;var NY=45e3,nO={},cS={};function iO(n,t,e){n.K=1,n.v=fS(kd(t)),n.s=e,n.P=!0,RU(n,null)}function RU(n,t){n.F=Date.now(),s0(n),n.A=kd(n.v);var e=n.A,i=n.U;Array.isArray(i)||(i=[String(i)]),HU(e.i,"t",i),n.C=0,e=n.l.H,n.h=new kU,n.g=h$(n.l,e?t:null,!n.s),0<n.N&&(n.L=new kY(Gs(n.Ka,n,n.g),n.N)),CU(n.S,n.g,"readystatechange",n.hb),t=n.H?cU(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,t)):(n.u="GET",n.g.da(n.A,n.u,null,t)),e0(1),function RY(n,t,e,i,r,s){n.info(function(){if(n.g)if(s)for(var c="",d=s.split("&"),f=0;f<d.length;f++){var m=d[f].split("=");if(1<m.length){var v=m[0];m=m[1];var E=v.split("_");c=2<=E.length&&"type"==E[1]?c+(v+"=")+m+"&":c+(v+"=redacted&")}}else c=null;else c=s;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function OU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function PU(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=LY(n,e),r==cS){4==t&&(n.o=4,xo(14),i=!1),ey(n.j,n.m,null,"[Incomplete Response]");break}if(r==nO){n.o=4,xo(15),ey(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}ey(n.j,n.m,r,null),rO(n,r)}OU(n)&&r!=cS&&r!=nO&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,xo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.$&&(n.$=!0,(t=n.l).g==n&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),hO(t),t.K=!0,xo(11))):(ey(n.j,n.m,e,"[Invalid Chunked Response]"),_m(n),o0(n))}function LY(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?cS:(e=Number(t.substring(e,i)),isNaN(e)?nO:(i+=1)+e>t.length?cS:(t=t.substr(i,e),n.C=i+e,t))}function s0(n){n.V=Date.now()+n.O,FU(n,n.O)}function FU(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=t0(Gs(n.fb,n),t)}function uS(n){n.B&&(Ht.clearTimeout(n.B),n.B=null)}function o0(n){0==n.l.G||n.I||l$(n.l,n)}function _m(n){uS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,K1(n.T),EU(n.S),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function rO(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||sO(e.h,n)))if(!n.J&&sO(e.h,n)&&3==e.G){try{var i=e.Fa.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0])e:if(e.u)e.Ba=r[1],0<e.Ba-e.T&&37500>r[2]&&e.L&&0==e.A&&!e.v&&(e.v=t0(Gs(e.bb,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;vS(e),_S(e)}dO(e),xo(18)}if(1>=zU(e.h)&&e.ja){try{e.ja()}catch{}e.ja=void 0}}else vm(e,11)}else if((n.J||e.g==n)&&vS(e),!JI(t))for(r=e.Fa.g.parse(t),t=0;t<r.length;t++){let m=r[t];if(e.T=m[0],m=m[1],2==e.G)if("c"==m[0]){e.I=m[1],e.ka=m[2];const v=m[3];null!=v&&(e.ma=v,e.j.info("VER="+e.ma));const E=m[4];null!=E&&(e.Ca=E,e.j.info("SVER="+e.Ca));const A=m[5];null!=A&&"number"==typeof A&&0<A&&(e.J=i=1.5*A,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const M=n.g;if(M){const P=M.g?M.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(P){var s=i.h;s.g||-1==P.indexOf("spdy")&&-1==P.indexOf("quic")&&-1==P.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(oO(s,s.h),s.h=null))}if(i.D){const B=M.g?M.g.getResponseHeader("X-HTTP-Session-Id"):null;B&&(i.za=B,ki(i.F,i.D,B))}}e.G=3,e.l&&e.l.xa(),e.$&&(e.P=Date.now()-n.F,e.j.info("Handshake RTT: "+e.P+"ms"));var c=n;if((i=e).sa=d$(i,i.H?i.ka:null,i.V),c.J){qU(i.h,c);var d=c,f=i.J;f&&d.setTimeout(f),d.B&&(uS(d),s0(d)),i.g=c}else o$(i);0<e.i.length&&yS(e)}else"stop"!=m[0]&&"close"!=m[0]||vm(e,7);else 3==e.G&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?vm(e,7):uO(e):"noop"!=m[0]&&e.l&&e.l.wa(m),e.A=0)}e0(4)}catch{}}function NU(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(KI(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function BY(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(KI(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function VY(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(KI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,s=0;s<r;s++)t.call(void 0,i[s],e&&e[s],n)}(Tt=r0.prototype).setTimeout=function(n){this.O=n},Tt.hb=function(n){n=n.target;const t=this.L;t&&3==Rd(n)?t.l():this.Ka(n)},Tt.Ka=function(n){try{if(n==this.g)e:{const v=Rd(this.g);var t=this.g.Ea();const E=this.g.aa();if(!(3>v)&&(3!=v||O1||this.g&&(this.h.h||this.g.fa()||e$(this.g)))){this.I||4!=v||7==t||e0(8==t||0>=E?3:2),uS(this);var e=this.g.aa();this.Y=e;t:if(OU(this)){var i=e$(this.g);n="";var r=i.length,s=4==Rd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){_m(this),o0(this);var c="";break t}this.h.i=new Ht.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:s&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==e,function OY(n,t,e,i,r,s,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+s+" "+c})}(this.j,this.u,this.A,this.m,this.U,v,e),this.i){if(this.Z&&!this.J){t:{if(this.g){var d,f=this.g;if((d=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!JI(d)){var m=d;break t}}m=null}if(!(e=m)){this.i=!1,this.o=3,xo(12),_m(this),o0(this);break e}ey(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rO(this,e)}this.P?(PU(this,v,c),O1&&this.i&&3==v&&(CU(this.S,this.T,"tick",this.gb),this.T.start())):(ey(this.j,this.m,c,null),rO(this,c)),4==v&&_m(this),this.i&&!this.I&&(4==v?l$(this.l,this):(this.i=!1,s0(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,xo(12)):(this.o=0,xo(13)),_m(this),o0(this)}}}catch{}},Tt.gb=function(){if(this.g){var n=Rd(this.g),t=this.g.fa();this.C<t.length&&(uS(this),PU(this,n,t),this.i&&4!=n&&s0(this))}},Tt.cancel=function(){this.I=!0,_m(this)},Tt.fb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function PY(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(e0(3),xo(17)),_m(this),this.o=2,o0(this)):FU(this,this.V-n)};var LU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ym(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof ym){this.h=void 0!==t?t:n.h,dS(this,n.j),this.s=n.s,this.g=n.g,hS(this,n.m),this.l=n.l,t=n.i;var e=new c0;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),VU(this,e),this.o=n.o}else n&&(e=String(n).match(LU))?(this.h=!!t,dS(this,e[1]||"",!0),this.s=a0(e[2]||""),this.g=a0(e[3]||"",!0),hS(this,e[4]),this.l=a0(e[5]||"",!0),VU(this,e[6]||"",!0),this.o=a0(e[7]||"")):(this.h=!!t,this.i=new c0(null,this.h))}function kd(n){return new ym(n)}function dS(n,t,e){n.j=e?a0(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function hS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function VU(n,t,e){t instanceof c0?(n.i=t,function qY(n,t){t&&!n.j&&(uf(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(UU(this,i),HU(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=l0(t,GY)),n.i=new c0(t,n.h))}function ki(n,t,e){n.i.set(t,e)}function fS(n){return ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function a0(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function l0(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,$Y),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function $Y(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ym.prototype.toString=function(){var n=[],t=this.j;t&&n.push(l0(t,BU,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(l0(t,BU,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(l0(e,"/"==e.charAt(0)?jY:HY,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",l0(e,zY)),n.join("")};var BU=/[#\/\?@]/g,HY=/[#\?:]/g,jY=/[#\?]/g,GY=/[#\?@]/g,zY=/#/g;function c0(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function uf(n){n.g||(n.g=new Map,n.h=0,n.i&&function UY(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var s=n[e].substring(0,i);r=n[e].substring(i+1)}else s=n[e];t(s,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function UU(n,t){uf(n),t=ty(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function $U(n,t){return uf(n),t=ty(n,t),n.g.has(t)}function HU(n,t,e){UU(n,t),0<e.length&&(n.i=null,n.g.set(ty(n,t),M1(e)),n.h+=e.length)}function ty(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function jU(n){this.l=n||WY,n=Ht.PerformanceNavigationTiming?0<(n=Ht.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ht.g&&Ht.g.Ga&&Ht.g.Ga()&&Ht.g.Ga().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Tt=c0.prototype).add=function(n,t){uf(this),this.i=null,n=ty(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Tt.forEach=function(n,t){uf(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},Tt.oa=function(){uf(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let s=0;s<r.length;s++)e.push(t[i])}return e},Tt.W=function(n){uf(this);let t=[];if("string"==typeof n)$U(this,n)&&(t=t.concat(this.g.get(ty(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},Tt.set=function(n,t){return uf(this),this.i=null,$U(this,n=ty(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Tt.get=function(n,t){return n&&0<(n=this.W(n)).length?String(n[0]):t},Tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const s=encodeURIComponent(String(i)),c=this.W(i);for(i=0;i<c.length;i++){var r=s;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var WY=10;function GU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function zU(n){return n.h?1:n.g?n.g.size:0}function sO(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function oO(n,t){n.g?n.g.add(t):n.h=t}function qU(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function ZU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return M1(n.i)}function aO(){}function YY(){this.g=new aO}function KY(n,t,e){const i=e||"";try{NU(n,function(r,s){let c=r;Kb(r)&&(c=Z1(r)),t.push(i+s+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function pS(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function u0(n){this.l=n.$b||null,this.j=n.ib||!1}function mS(n,t){Xr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=lO,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}jU.prototype.cancel=function(){if(this.i=ZU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},aO.prototype.stringify=function(n){return Ht.JSON.stringify(n,void 0)},aO.prototype.parse=function(n){return Ht.JSON.parse(n,void 0)},_s(u0,J1),u0.prototype.g=function(){return new mS(this.l,this.j)},u0.prototype.i=function(n){return function(){return n}}({}),_s(mS,Xr);var lO=0;function WU(n){n.j.read().then(n.Sa.bind(n)).catch(n.ga.bind(n))}function d0(n){n.readyState=4,n.l=null,n.j=null,n.A=null,h0(n)}function h0(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Tt=mS.prototype).open=function(n,t){if(this.readyState!=lO)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,h0(this)},Tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ht).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ga.bind(this))},Tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,d0(this)),this.readyState=lO},Tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,h0(this)),this.g&&(this.readyState=3,h0(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ga.bind(this));else if(typeof Ht.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WU(this)}else n.text().then(this.Ua.bind(this),this.ga.bind(this))},Tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?d0(this):h0(this),3==this.readyState&&WU(this)}},Tt.Ua=function(n){this.g&&(this.response=this.responseText=n,d0(this))},Tt.Ta=function(n){this.g&&(this.response=n,d0(this))},Tt.ga=function(){this.g&&d0(this)},Tt.setRequestHeader=function(n,t){this.v.append(n,t)},Tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(mS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var JY=Ht.JSON.parse;function Ar(n){Xr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=YU,this.K=this.L=!1}_s(Ar,Xr);var YU="",XY=/^https?$/i,e8=["POST","PUT"];function KU(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,QU(n),gS(n)}function QU(n){n.D||(n.D=!0,ys(n,"complete"),ys(n,"error"))}function JU(n){if(n.h&&typeof A1<"u"&&(!n.C[1]||4!=Rd(n)||2!=n.aa()))if(n.v&&4==Rd(n))Q1(n.Ha,0,n);else if(ys(n,"readystatechange"),4==Rd(n)){n.h=!1;try{const d=n.aa();e:switch(d){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===d){var r=String(n.H).match(LU)[1]||null;if(!r&&Ht.self&&Ht.self.location){var s=Ht.self.location.protocol;r=s.substr(0,s.length-1)}i=!XY.test(r?r.toLowerCase():"")}e=i}if(e)ys(n,"complete"),ys(n,"success");else{n.m=6;try{var c=2<Rd(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",QU(n)}}finally{gS(n)}}}function gS(n,t){if(n.g){XU(n);const e=n.g,i=n.C[0]?YI:null;n.g=null,n.C=null,t||ys(n,"ready");try{e.onreadystatechange=i}catch{}}}function XU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ht.clearTimeout(n.A),n.A=null)}function Rd(n){return n.g?n.g.readyState:0}function e$(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case YU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function t$(n){let t="";return V1(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function cO(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=t$(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ki(n,t,e))}function f0(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function n$(n){this.Ca=0,this.i=[],this.j=new sS,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.$a=this.U=0,this.Ya=f0("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Wa=f0("baseRetryDelayMs",5e3,n),this.ab=f0("retryDelaySeedMs",1e4,n),this.Za=f0("forwardChannelMaxRetries",2,n),this.ta=f0("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Yb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new jU(n&&n.concurrentRequestLimit),this.Fa=new YY,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Xa=n&&n.Wb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function uO(n){if(i$(n),3==n.G){var t=n.U++,e=kd(n.F);ki(e,"SID",n.I),ki(e,"RID",t),ki(e,"TYPE","terminate"),p0(n,e),(t=new r0(n,n.j,t,void 0)).K=2,t.v=fS(kd(e)),e=!1,Ht.navigator&&Ht.navigator.sendBeacon&&(e=Ht.navigator.sendBeacon(t.v.toString(),"")),!e&&Ht.Image&&((new Image).src=t.v,e=!0),e||(t.g=h$(t.l,null),t.g.da(t.v)),t.F=Date.now(),s0(t)}u$(n)}function _S(n){n.g&&(hO(n),n.g.cancel(),n.g=null)}function i$(n){_S(n),n.u&&(Ht.clearTimeout(n.u),n.u=null),vS(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ht.clearTimeout(n.m),n.m=null)}function yS(n){GU(n.h)||n.m||(n.m=!0,yU(n.Ja,n),n.C=0)}function r$(n,t){var e;e=t?t.m:n.U++;const i=kd(n.F);ki(i,"SID",n.I),ki(i,"RID",e),ki(i,"AID",n.T),p0(n,i),n.o&&n.s&&cO(i,n.o,n.s),e=new r0(n,n.j,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.i=t.D.concat(n.i)),t=s$(n,e,1e3),e.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),oO(n.h,e),iO(e,i,t)}function p0(n,t){n.ia&&V1(n.ia,function(e,i){ki(t,i,e)}),n.l&&NU({},function(e,i){ki(t,i,e)})}function s$(n,t,e){e=Math.min(n.i.length,e);var i=n.l?Gs(n.l.Qa,n.l,n):null;e:{var r=n.i;let s=-1;for(;;){const c=["count="+e];-1==s?0<e?(s=r[0].h,c.push("ofs="+s)):s=0:c.push("ofs="+s);let d=!0;for(let f=0;f<e;f++){let m=r[f].h;const v=r[f].g;if(m-=s,0>m)s=Math.max(0,r[f].h-100),d=!1;else try{KY(v,c,"req"+m+"_")}catch{i&&i(v)}}if(d){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.D=n,i}function o$(n){n.g||n.u||(n.Z=1,yU(n.Ia,n),n.A=0)}function dO(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=t0(Gs(n.Ia,n),c$(n,n.A)),n.A++,0))}function hO(n){null!=n.B&&(Ht.clearTimeout(n.B),n.B=null)}function a$(n){n.g=new r0(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var t=kd(n.sa);ki(t,"RID","rpc"),ki(t,"SID",n.I),ki(t,"CI",n.L?"0":"1"),ki(t,"AID",n.T),ki(t,"TYPE","xmlhttp"),p0(n,t),n.o&&n.s&&cO(t,n.o,n.s),n.J&&n.g.setTimeout(n.J);var e=n.g;n=n.ka,e.K=1,e.v=fS(kd(t)),e.s=null,e.P=!0,RU(e,n)}function vS(n){null!=n.v&&(Ht.clearTimeout(n.v),n.v=null)}function l$(n,t){var e=null;if(n.g==t){vS(n),hO(n),n.g=null;var i=2}else{if(!sO(n.h,t))return;e=t.D,qU(n.h,t),i=1}if(0!=n.G)if(n.pa=t.Y,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ys(i=oS(),new TU(i,e,t,r)),yS(n)}else o$(n);else if(3==(r=t.o)||0==r&&0<n.pa||!(1==i&&function n8(n,t){return!(zU(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Ya?0:n.Za)||(n.m=t0(Gs(n.Ja,n,t),c$(n,n.C)),n.C++,0)))}(n,t)||2==i&&dO(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:vm(n,5);break;case 4:vm(n,10);break;case 3:vm(n,6);break;default:vm(n,2)}}function c$(n,t){let e=n.Wa+Math.floor(Math.random()*n.ab);return n.l||(e*=2),e*t}function vm(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=Gs(n.jb,n);e||(e=new ym("//www.google.com/images/cleardot.gif"),Ht.location&&"http"==Ht.location.protocol||dS(e,"https"),fS(e)),function QY(n,t){const e=new sS;if(Ht.Image){const i=new Image;i.onload=QI(pS,e,i,"TestLoadImage: loaded",!0,t),i.onerror=QI(pS,e,i,"TestLoadImage: error",!1,t),i.onabort=QI(pS,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=QI(pS,e,i,"TestLoadImage: timeout",!1,t),Ht.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else xo(2);n.G=0,n.l&&n.l.va(t),u$(n),i$(n)}function u$(n){if(n.G=0,n.la=[],n.l){const t=ZU(n.h);(0!=t.length||0!=n.i.length)&&(iU(n.la,t),iU(n.la,n.i),n.h.i.length=0,M1(n.i),n.i.length=0),n.l.ua()}}function d$(n,t,e){var i=e instanceof ym?kd(e):new ym(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),hS(i,i.m);else{var r=Ht.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var s=new ym(null,void 0);i&&dS(s,i),t&&(s.g=t),r&&hS(s,r),e&&(s.l=e),i=s}return t=n.za,(e=n.D)&&t&&ki(i,e,t),ki(i,"VER",n.ma),p0(n,i),i}function h$(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Ar(e&&n.Da&&!n.ra?new u0({ib:!0}):n.ra)).L=n.H,t}function f$(){}function bS(){if(X_&&!(10<=Number(vY)))throw Error("Environmental error: no available transport.")}function Va(n,t){Xr.call(this),this.g=new n$(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.S=n,(n=t&&t.Xb)&&!JI(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!JI(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ny(this)}function p$(n){X1.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function m$(){eO.call(this),this.status=1}function ny(n){this.g=n}(Tt=Ar.prototype).da=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():tO.g(),this.C=function xU(n){return n.h||(n.h=n.i())}(this.u?this.u:tO),this.g.onreadystatechange=Gs(this.Ha,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(s){return void KU(this,s)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const s of i.keys())e.set(s,i.get(s))}i=Array.from(e.keys()).find(s=>"content-type"==s.toLowerCase()),r=Ht.FormData&&n instanceof Ht.FormData,!(0<=nU(e8,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,c]of e)this.g.setRequestHeader(s,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{XU(this),0<this.B&&((this.K=function t8(n){return X_&&function yY(){return function pY(n){var t=_Y;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=rU(String(eS)).split("."),e=rU("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",s=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==r[0].length&&0==s[0].length)break;n=k1(0==r[1].length?0:parseInt(r[1],10),0==s[1].length?0:parseInt(s[1],10))||k1(0==r[2].length,0==s[2].length)||k1(r[2],s[2]),r=r[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gs(this.qa,this)):this.A=Q1(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){KU(this,s)}},Tt.qa=function(){typeof A1<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ys(this,"timeout"),this.abort(8))},Tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ys(this,"complete"),ys(this,"abort"),gS(this))},Tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gS(this,!0)),Ar.X.M.call(this)},Tt.Ha=function(){this.s||(this.F||this.v||this.l?JU(this):this.eb())},Tt.eb=function(){JU(this)},Tt.aa=function(){try{return 2<Rd(this)?this.g.status:-1}catch{return-1}},Tt.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Tt.Ra=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),JY(t)}},Tt.Ea=function(){return this.m},Tt.Na=function(){return"string"==typeof this.j?this.j:String(this.j)},(Tt=n$.prototype).ma=8,Tt.G=1,Tt.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const r=new r0(this,this.j,n,void 0);let s=this.s;if(this.S&&(s?(s=cU(s),dU(s,this.S)):s=this.S),null!==this.o||this.N||(r.H=s,s=null),this.O)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=s$(this,r,t),ki(e=kd(this.F),"RID",n),ki(e,"CVER",22),this.D&&ki(e,"X-HTTP-Session-Id",this.D),p0(this,e),s&&(this.N?t="headers="+encodeURIComponent(String(t$(s)))+"&"+t:this.o&&cO(e,this.o,s)),oO(this.h,r),this.Xa&&ki(e,"TYPE","init"),this.O?(ki(e,"$req",t),ki(e,"SID","null"),r.Z=!0,iO(r,e,null)):iO(r,e,t),this.G=2}}else 3==this.G&&(n?r$(this,n):0==this.i.length||GU(this.h)||r$(this))},Tt.Ia=function(){if(this.u=null,a$(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=t0(Gs(this.cb,this),n)}},Tt.cb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,xo(10),_S(this),a$(this))},Tt.bb=function(){null!=this.v&&(this.v=null,_S(this),dO(this),xo(19))},Tt.jb=function(n){n?(this.j.info("Successfully pinged google.com"),xo(2)):(this.j.info("Failed to ping google.com"),xo(1))},(Tt=f$.prototype).xa=function(){},Tt.wa=function(){},Tt.va=function(){},Tt.ua=function(){},Tt.Qa=function(){},bS.prototype.g=function(n,t){return new Va(n,t)},_s(Va,Xr),Va.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;xo(0),n.V=t,n.ia=e||{},n.L=n.Y,n.F=d$(n,null,n.V),yS(n)},Va.prototype.close=function(){uO(this.g)},Va.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Z1(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.$a++,n)),3==t.G&&yS(t)},Va.prototype.M=function(){this.g.l=null,delete this.j,uO(this.g),delete this.g,Va.X.M.call(this)},_s(p$,X1),_s(m$,eO),_s(ny,f$),ny.prototype.xa=function(){ys(this.g,"a")},ny.prototype.wa=function(n){ys(this.g,new p$(n))},ny.prototype.va=function(n){ys(this.g,new m$(n))},ny.prototype.ua=function(){ys(this.g,"b")},bS.prototype.createWebChannel=bS.prototype.g,Va.prototype.send=Va.prototype.u,Va.prototype.open=Va.prototype.m,Va.prototype.close=Va.prototype.close,aS.NO_ERROR=0,aS.TIMEOUT=8,aS.HTTP_ERROR=6,AU.COMPLETE="complete",MU.EventType=n0,n0.OPEN="a",n0.CLOSE="b",n0.ERROR="c",n0.MESSAGE="d",Xr.prototype.listen=Xr.prototype.N,Ar.prototype.listenOnce=Ar.prototype.O,Ar.prototype.getLastError=Ar.prototype.Na,Ar.prototype.getLastErrorCode=Ar.prototype.Ea,Ar.prototype.getStatus=Ar.prototype.aa,Ar.prototype.getResponseJson=Ar.prototype.Ra,Ar.prototype.getResponseText=Ar.prototype.fa,Ar.prototype.send=Ar.prototype.da;var r8=Md.createWebChannelTransport=function(){return new bS},s8=Md.getStatEventTarget=function(){return oS()},fO=Md.ErrorCode=aS,o8=Md.EventType=AU,a8=Md.Event=gm,g$=Md.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},l8=Md.FetchXmlHttpFactory=u0,wS=Md.WebChannel=MU,c8=Md.XhrIo=Ar;const _$="@firebase/firestore";class es{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}es.UNAUTHENTICATED=new es(null),es.GOOGLE_CREDENTIALS=new es("google-credentials-uid"),es.FIRST_PARTY=new es("first-party-uid"),es.MOCK_USER=new es("mock-user");let iy="9.10.0";const df=new mc.Yd("@firebase/firestore");function pO(){return df.logLevel}function qe(n,...t){if(df.logLevel<=mc.in.DEBUG){const e=t.map(mO);df.debug(`Firestore (${iy}): ${n}`,...e)}}function vr(n,...t){if(df.logLevel<=mc.in.ERROR){const e=t.map(mO);df.error(`Firestore (${iy}): ${n}`,...e)}}function bm(n,...t){if(df.logLevel<=mc.in.WARN){const e=t.map(mO);df.warn(`Firestore (${iy}): ${n}`,...e)}}function mO(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const t=`FIRESTORE (${iy}) INTERNAL ASSERTION FAILED: `+n;throw vr(t),new Error(t)}function Ut(n,t){n||gt()}function at(n,t){return n}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends L.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ts{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class y${constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class h8{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(es.UNAUTHENTICATED))}shutdown(){}}class f8{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class p8{constructor(t){this.t=t,this.currentUser=es.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const s=m=>this.i!==r?(r=this.i,e(m)):Promise.resolve();let c=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ts,t.enqueueRetryable(()=>s(this.currentUser))};const d=()=>{const m=c;t.enqueueRetryable((0,Ce.Z)(function*(){yield m.promise,yield s(i.currentUser)}))},f=m=>{qe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),d()};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(qe("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ts)}},0),d()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(qe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ut("string"==typeof i.accessToken),new y$(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ut(null===t||"string"==typeof t),new es(t)}}class m8{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r,this.type="FirstParty",this.user=es.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class g8{constructor(t,e,i,r){this.h=t,this.l=e,this.m=i,this.g=r}getToken(){return Promise.resolve(new m8(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable(()=>e(es.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class v${constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _8{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const i=s=>{null!=s.error&&qe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const c=s.token!==this.A;return this.A=s.token,qe("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>i(s))};const r=s=>{qe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.T.getImmediate({optional:!0});s?r(s):qe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ut("string"==typeof e.token),this.A=e.token,new v$(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function y8(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class b${static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=y8(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<e&&(i+=t.charAt(r[s]%t.length))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function ry(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function w$(n){return n+"\0"}class Ri{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new $e(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new $e(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new $e(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new $e(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ri.fromMillis(Date.now())}static fromDate(t){return Ri.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ri(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Lt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Lt(t)}static min(){return new Lt(new Ri(0,0))}static max(){return new Lt(new Ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class m0{constructor(t,e,i){void 0===e?e=0:e>t.length&&gt(),void 0===i?i=t.length-e:i>t.length-e&&gt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===m0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof m0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const s=t.get(r),c=e.get(r);if(s<c)return-1;if(s>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Tn extends m0{construct(t,e,i){return new Tn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new $e(be.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Tn(e)}static emptyPath(){return new Tn([])}}const v8=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends m0{construct(t,e,i){return new ir(t,e,i)}static isValidIdentifier(t){return v8.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ir(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const s=()=>{if(0===i.length)throw new $e(be.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const d=t[r];if("\\"===d){if(r+1===t.length)throw new $e(be.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[r+1];if("\\"!==f&&"."!==f&&"`"!==f)throw new $e(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,r+=2}else"`"===d?(c=!c,r++):"."!==d||c?(i+=d,r++):(s(),r++)}if(s(),c)throw new $e(be.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ir(e)}static emptyPath(){return new ir([])}}class rt{constructor(t){this.path=t}static fromPath(t){return new rt(Tn.fromString(t))}static fromName(t){return new rt(Tn.fromString(t).popFirst(5))}static empty(){return new rt(Tn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Tn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Tn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new rt(new Tn(t.slice()))}}class CS{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function gO(n){return n.fields.find(t=>2===t.kind)}function wm(n){return n.fields.filter(t=>2!==t.kind)}CS.UNKNOWN_ID=-1;class ES{constructor(t,e){this.fieldPath=t,this.kind=e}}class g0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new g0(0,Ba.min())}}function C$(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Lt.fromTimestamp(1e9===i?new Ri(e+1,0):new Ri(e,i));return new Ba(r,rt.empty(),t)}function E$(n){return new Ba(n.readTime,n.key,-1)}class Ba{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ba(Lt.min(),rt.empty(),-1)}static max(){return new Ba(Lt.max(),rt.empty(),-1)}}function _O(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=rt.comparator(n.documentKey,t.documentKey),0!==e?e:jt(n.largestBatchId,t.largestBatchId))}const D$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class I${constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function hf(n){return yO.apply(this,arguments)}function yO(){return yO=(0,Ce.Z)(function*(n){if(n.code!==be.FAILED_PRECONDITION||n.message!==D$)throw n;qe("LocalStore","Unexpectedly lost primary lease")}),yO.apply(this,arguments)}class ge{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ge((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ge?e:ge.resolve(e)}catch(e){return ge.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ge.reject(e)}static resolve(t){return new ge((e,i)=>{e(t)})}static reject(t){return new ge((e,i)=>{i(t)})}static waitFor(t){return new ge((e,i)=>{let r=0,s=0,c=!1;t.forEach(d=>{++r,d.next(()=>{++s,c&&s===r&&e()},f=>i(f))}),c=!0,s===r&&e()})}static or(t){let e=ge.resolve(!1);for(const i of t)e=e.next(r=>r?ge.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,s)=>{i.push(e.call(this,r,s))}),this.waitFor(i)}static mapArray(t,e){return new ge((i,r)=>{const s=t.length,c=new Array(s);let d=0;for(let f=0;f<s;f++){const m=f;e(t[m]).next(v=>{c[m]=v,++d,d===s&&i(c)},v=>r(v))}})}static doWhile(t,e){return new ge((i,r)=>{const s=()=>{!0===t()?e().next(()=>{s()},r):i()};s()})}}class DS{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.P=new ts,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{e.error?this.P.reject(new _0(t,e.error)):this.P.resolve()},this.transaction.onerror=i=>{const r=vO(i.target.error);this.P.reject(new _0(t,r))}}static open(t,e,i,r){try{return new DS(e,t.transaction(r,i))}catch(s){throw new _0(e,s)}}get v(){return this.P.promise}abort(t){t&&this.P.reject(t),this.aborted||(qe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new E8(e)}}class yc{constructor(t,e,i){this.name=t,this.version=e,this.S=i,12.2===yc.D((0,L.z$)())&&vr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return qe("SimpleDb","Removing database:",t),Cm(window.indexedDB.deleteDatabase(t)).toPromise()}static C(){if(!(0,L.hl)())return!1;if(yc.N())return!0;const t=(0,L.z$)(),e=yc.D(t),i=0<e&&e<10,r=yc.k(t),s=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||s)}static N(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.M)}static O(t,e){return t.store(e)}static D(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static k(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}F(t){var e=this;return(0,Ce.Z)(function*(){return e.db||(qe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const s=indexedDB.open(e.name,e.version);s.onsuccess=c=>{i(c.target.result)},s.onblocked=()=>{r(new _0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=c=>{const d=c.target.error;r("VersionError"===d.name?new $e(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===d.name?new $e(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+d):new _0(t,d))},s.onupgradeneeded=c=>{qe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.S.$(c.target.result,s.transaction,c.oldVersion,e.version).next(()=>{qe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.B&&(e.db.onversionchange=i=>e.B(i)),e.db})()}L(t){this.B=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var s=this;return(0,Ce.Z)(function*(){const c="readonly"===e;let d=0;for(;;){++d;try{s.db=yield s.F(t);const f=DS.open(s.db,t,c?"readonly":"readwrite",i),m=r(f).next(v=>(f.V(),v)).catch(v=>(f.abort(v),ge.reject(v))).toPromise();return m.catch(()=>{}),yield f.v,m}catch(f){const m=f,v="FirebaseError"!==m.name&&d<3;if(qe("SimpleDb","Transaction failed with error:",m.message,"Retrying:",v),s.close(),!v)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class C8{constructor(t){this.U=t,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(t){this.U=t}done(){this.q=!0}j(t){this.K=t}delete(){return Cm(this.U.delete())}}class _0 extends $e{constructor(t,e){super(be.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ff(n){return"IndexedDbTransactionError"===n.name}class E8{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(qe("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(qe("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),Cm(i)}add(t){return qe("SimpleDb","ADD",this.store.name,t,t),Cm(this.store.add(t))}get(t){return Cm(this.store.get(t)).next(e=>(void 0===e&&(e=null),qe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return qe("SimpleDb","DELETE",this.store.name,t),Cm(this.store.delete(t))}count(){return qe("SimpleDb","COUNT",this.store.name),Cm(this.store.count())}W(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),s=[];return this.H(r,(c,d)=>{s.push(d)}).next(()=>s)}{const r=this.store.getAll(i.range);return new ge((s,c)=>{r.onerror=d=>{c(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}}J(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ge((r,s)=>{i.onerror=c=>{s(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}Y(t,e){qe("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.X=!1;const r=this.cursor(i);return this.H(r,(s,c,d)=>d.delete())}Z(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.H(r,e)}tt(t){const e=this.cursor({});return new ge((i,r)=>{e.onerror=s=>{const c=vO(s.target.error);r(c)},e.onsuccess=s=>{const c=s.target.result;c?t(c.primaryKey,c.value).next(d=>{d?c.continue():i()}):i()}})}H(t,e){const i=[];return new ge((r,s)=>{t.onerror=c=>{s(c.target.error)},t.onsuccess=c=>{const d=c.target.result;if(!d)return void r();const f=new C8(d),m=e(d.primaryKey,d.value,f);if(m instanceof ge){const v=m.catch(E=>(f.done(),ge.reject(E)));i.push(v)}f.isDone?r():null===f.G?d.continue():d.continue(f.G)}}).next(()=>ge.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.X?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Cm(n){return new ge((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=vO(i.target.error);e(r)}})}let S$=!1;function vO(n){const t=yc.D((0,L.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new $e("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return S$||(S$=!0,setTimeout(()=>{throw i},0)),i}}return n}class D8{constructor(t,e){this.asyncQueue=t,this.et=e,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(t){var e=this;qe("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,Ce.Z)(function*(){e.task=null;try{qe("IndexBackiller",`Documents written: ${yield e.et.st()}`)}catch(i){ff(i)?qe("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield hf(i)}yield e.nt(6e4)}))}}class I8{constructor(t,e){this.localStore=t,this.persistence=e}st(t=50){var e=this;return(0,Ce.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.it(i,t))})()}it(t,e){const i=new Set;let r=e,s=!0;return ge.doWhile(()=>!0===s&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return qe("IndexBackiller",`Processing collection: ${c}`),this.rt(t,c,r).next(d=>{r-=d,i.add(c)});s=!1})).next(()=>e-r)}rt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(s=>{const c=s.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.ot(r,s)).next(d=>(qe("IndexBackiller",`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(t,e,d))).next(()=>c.size)}))}ot(t,e){let i=t;return e.changes.forEach((r,s)=>{const c=E$(s);_O(c,i)>0&&(i=c)}),new Ba(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class sa{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>e.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function T$(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Em(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function A$(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}sa.at=-1;class rr{constructor(t,e){this.comparator=t,this.root=e||vs.EMPTY}insert(t,e){return new rr(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,vs.BLACK,null,null))}remove(t){return new rr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,vs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new IS(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new IS(this.root,t,this.comparator,!1)}getReverseIterator(){return new IS(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new IS(this.root,t,this.comparator,!0)}}class IS{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?i(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(0===s){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class vs{constructor(t,e,i,r,s){this.key=t,this.value=e,this.color=i??vs.RED,this.left=r??vs.EMPTY,this.right=s??vs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,s){return new vs(t??this.key,e??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const s=i(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===s?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return vs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return vs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,vs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,vs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const t=this.left.check();if(t!==this.right.check())throw gt();return t+(this.isRed()?0:1)}}vs.EMPTY=null,vs.RED=!0,vs.BLACK=!1,vs.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new vs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ei{constructor(t){this.comparator=t,this.data=new rr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new x$(this.data.getIterator())}getIteratorFrom(t){return new x$(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ei)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(0!==this.comparator(r,s))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ei(this.comparator);return e.data=t,e}}class x${constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function sy(n){return n.hasNext()?n.getNext():void 0}class Ua{constructor(t){this.fields=t,t.sort(ir.comparator)}static empty(){return new Ua([])}unionWith(t){let e=new ei(ir.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ua(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ry(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class Vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Vr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let s=0;s<i.length;++s)r+=String.fromCharCode(i[s]);return r}(t);return new Vr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Vr.EMPTY_BYTE_STRING=new Vr("");const T8=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pf(n){if(Ut(!!n),"string"==typeof n){let t=0;const e=T8.exec(n);if(Ut(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:sr(n.seconds),nanos:sr(n.nanos)}}function sr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Dm(n){return"string"==typeof n?Vr.fromBase64String(n):Vr.fromUint8Array(n)}function bO(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function M$(n){const t=n.mapValue.fields.__previous_value__;return bO(t)?M$(t):t}function y0(n){const t=pf(n.mapValue.fields.__local_write_time__.timestampValue);return new Ri(t.seconds,t.nanos)}class A8{constructor(t,e,i,r,s,c,d,f){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.useFetchStreams=f}}class mf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new mf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof mf&&t.projectId===this.projectId&&t.database===this.database}}function v0(n){return null==n}function b0(n){return 0===n&&1/n==-1/0}function k$(n){return"number"==typeof n&&Number.isInteger(n)&&!b0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const gf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},SS={nullValue:"NULL_VALUE"};function Im(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?bO(n)?4:F$(n)?9007199254740991:10:gt()}function Cu(n,t){if(n===t)return!0;const e=Im(n);if(e!==Im(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return y0(n).isEqual(y0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const s=pf(i.timestampValue),c=pf(r.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Dm(n.bytesValue).isEqual(Dm(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return sr(i.geoPointValue.latitude)===sr(r.geoPointValue.latitude)&&sr(i.geoPointValue.longitude)===sr(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return sr(i.integerValue)===sr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const s=sr(i.doubleValue),c=sr(r.doubleValue);return s===c?b0(s)===b0(c):isNaN(s)&&isNaN(c)}return!1}(n,t);case 9:return ry(n.arrayValue.values||[],t.arrayValue.values||[],Cu);case 10:return function(i,r){const s=i.mapValue.fields||{},c=r.mapValue.fields||{};if(T$(s)!==T$(c))return!1;for(const d in s)if(s.hasOwnProperty(d)&&(void 0===c[d]||!Cu(s[d],c[d])))return!1;return!0}(n,t);default:return gt()}var r}function w0(n,t){return void 0!==(n.values||[]).find(e=>Cu(e,t))}function _f(n,t){if(n===t)return 0;const e=Im(n),i=Im(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return function(r,s){const c=sr(r.integerValue||r.doubleValue),d=sr(s.integerValue||s.doubleValue);return c<d?-1:c>d?1:c===d?0:isNaN(c)?isNaN(d)?0:-1:1}(n,t);case 3:return R$(n.timestampValue,t.timestampValue);case 4:return R$(y0(n),y0(t));case 5:return jt(n.stringValue,t.stringValue);case 6:return function(r,s){const c=Dm(r),d=Dm(s);return c.compareTo(d)}(n.bytesValue,t.bytesValue);case 7:return function(r,s){const c=r.split("/"),d=s.split("/");for(let f=0;f<c.length&&f<d.length;f++){const m=jt(c[f],d[f]);if(0!==m)return m}return jt(c.length,d.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,s){const c=jt(sr(r.latitude),sr(s.latitude));return 0!==c?c:jt(sr(r.longitude),sr(s.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,s){const c=r.values||[],d=s.values||[];for(let f=0;f<c.length&&f<d.length;++f){const m=_f(c[f],d[f]);if(m)return m}return jt(c.length,d.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,s){if(r===gf.mapValue&&s===gf.mapValue)return 0;if(r===gf.mapValue)return 1;if(s===gf.mapValue)return-1;const c=r.fields||{},d=Object.keys(c),f=s.fields||{},m=Object.keys(f);d.sort(),m.sort();for(let v=0;v<d.length&&v<m.length;++v){const E=jt(d[v],m[v]);if(0!==E)return E;const A=_f(c[d[v]],f[m[v]]);if(0!==A)return A}return jt(d.length,m.length)}(n.mapValue,t.mapValue);default:throw gt()}}function R$(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return jt(n,t);const e=pf(n),i=pf(t),r=jt(e.seconds,i.seconds);return 0!==r?r:jt(e.nanos,i.nanos)}function oy(n){return wO(n)}function wO(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=pf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Dm(n.bytesValue).toBase64():"referenceValue"in n?rt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",s=!0;for(const c of i.values||[])s?s=!1:r+=",",r+=wO(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let s="{",c=!0;for(const d of r)c?c=!1:s+=",",s+=`${d}:${wO(i.fields[d])}`;return s+"}"}(n.mapValue):gt();var t}function Sm(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function CO(n){return!!n&&"integerValue"in n}function C0(n){return!!n&&"arrayValue"in n}function O$(n){return!!n&&"nullValue"in n}function P$(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function TS(n){return!!n&&"mapValue"in n}function E0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Em(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=E0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=E0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function F$(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function x8(n){return"nullValue"in n?SS:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Sm(mf.empty(),rt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function M8(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Sm(mf.empty(),rt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?gf:gt()}function N$(n,t){const e=_f(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function L$(n,t){const e=_f(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class bs{constructor(t){this.value=t}static empty(){return new bs({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!TS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=E0(e)}setAll(t){let e=ir.emptyPath(),i={},r=[];t.forEach((c,d)=>{if(!e.isImmediateParentOf(d)){const f=this.getFieldsMap(e);this.applyChanges(f,i,r),i={},r=[],e=d.popLast()}c?i[d.lastSegment()]=E0(c):r.push(d.lastSegment())});const s=this.getFieldsMap(e);this.applyChanges(s,i,r)}delete(t){const e=this.field(t.popLast());TS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Cu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];TS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Em(e,(r,s)=>t[r]=s);for(const r of i)delete t[r]}clone(){return new bs(E0(this.value))}}function V$(n){const t=[];return Em(n.fields,(e,i)=>{const r=new ir([e]);if(TS(i)){const s=V$(i.mapValue).fields;if(0===s.length)t.push(r);else for(const c of s)t.push(r.child(c))}else t.push(r)}),new Ua(t)}class di{constructor(t,e,i,r,s,c){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=s,this.documentState=c}static newInvalidDocument(t){return new di(t,0,Lt.min(),Lt.min(),bs.empty(),0)}static newFoundDocument(t,e,i){return new di(t,1,e,Lt.min(),i,0)}static newNoDocument(t,e){return new di(t,2,e,Lt.min(),bs.empty(),0)}static newUnknownDocument(t,e){return new di(t,3,e,Lt.min(),bs.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=bs.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=bs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Lt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof di&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class k8{constructor(t,e=null,i=[],r=[],s=null,c=null,d=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=c,this.endAt=d,this.ht=null}}function B$(n,t=null,e=[],i=[],r=null,s=null,c=null){return new k8(n,t,e,i,r,s,c)}function Tm(n){const t=at(n);if(null===t.ht){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+oy(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),v0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oy(i)).join(",")),t.ht=e}return t.ht}function D0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!U8(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Cu(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!G$(n.startAt,t.startAt)&&G$(n.endAt,t.endAt)}function AS(n){return rt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function xS(n,t){return n.filters.filter(e=>e instanceof ws&&e.field.isEqual(t))}function U$(n,t,e){let i=SS,r=!0;for(const s of xS(n,t)){let c=SS,d=!0;switch(s.op){case"<":case"<=":c=x8(s.value);break;case"==":case"in":case">=":c=s.value;break;case">":c=s.value,d=!1;break;case"!=":case"not-in":c=SS}N$({value:i,inclusive:r},{value:c,inclusive:d})<0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];N$({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function $$(n,t,e){let i=gf,r=!0;for(const s of xS(n,t)){let c=gf,d=!0;switch(s.op){case">=":case">":c=M8(s.value),d=!1;break;case"==":case"in":case"<=":c=s.value;break;case"<":c=s.value,d=!1;break;case"!=":case"not-in":c=gf}L$({value:i,inclusive:r},{value:c,inclusive:d})>0&&(i=c,r=d)}if(null!==e)for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(t)){const c=e.position[s];L$({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class ws extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,i):new O8(t,e,i):"array-contains"===e?new N8(t,i):"in"===e?new L8(t,i):"not-in"===e?new V8(t,i):"array-contains-any"===e?new B8(t,i):new ws(t,e,i)}static lt(t,e,i){return"in"===e?new P8(t,i):new F8(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(_f(e,this.value)):null!==e&&Im(this.value)===Im(e)&&this.ft(_f(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return gt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class O8 extends ws{constructor(t,e,i){super(t,e,i),this.key=rt.fromName(i.referenceValue)}matches(t){const e=rt.comparator(t.key,this.key);return this.ft(e)}}class P8 extends ws{constructor(t,e){super(t,"in",e),this.keys=H$(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class F8 extends ws{constructor(t,e){super(t,"not-in",e),this.keys=H$(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function H$(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>rt.fromName(i.referenceValue))}class N8 extends ws{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return C0(e)&&w0(e.arrayValue,this.value)}}class L8 extends ws{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&w0(this.value.arrayValue,e)}}class V8 extends ws{constructor(t,e){super(t,"not-in",e)}matches(t){if(w0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!w0(this.value.arrayValue,e)}}class B8 extends ws{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!C0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>w0(this.value.arrayValue,i))}}class yf{constructor(t,e){this.position=t,this.inclusive=e}}class ay{constructor(t,e="asc"){this.field=t,this.dir=e}}function U8(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function j$(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const s=t[r],c=n.position[r];if(i=s.field.isKeyField()?rt.comparator(rt.fromName(c.referenceValue),e.key):_f(c,e.data.field(s.field)),"desc"===s.dir&&(i*=-1),0!==i)break}return i}function G$(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Cu(n.position[e],t.position[e]))return!1;return!0}class Od{constructor(t,e=null,i=[],r=[],s=null,c="F",d=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=c,this.startAt=d,this.endAt=f,this._t=null,this.wt=null}}function z$(n,t,e,i,r,s,c,d){return new Od(n,t,e,i,r,s,c,d)}function ly(n){return new Od(n)}function q$(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function EO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function DO(n){for(const t of n.filters)if(t.dt())return t.field;return null}function IO(n){return null!==n.collectionGroup}function cy(n){const t=at(n);if(null===t._t){t._t=[];const e=DO(t),i=EO(t);if(null!==e&&null===i)e.isKeyField()||t._t.push(new ay(e)),t._t.push(new ay(ir.keyField(),"asc"));else{let r=!1;for(const s of t.explicitOrderBy)t._t.push(s),s.field.isKeyField()&&(r=!0);if(!r){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t._t.push(new ay(ir.keyField(),s))}}}return t._t}function oa(n){const t=at(n);if(!t.wt)if("F"===t.limitType)t.wt=B$(t.path,t.collectionGroup,cy(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const s of cy(t))e.push(new ay(s.field,"desc"===s.dir?"asc":"desc"));const i=t.endAt?new yf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new yf(t.startAt.position,t.startAt.inclusive):null;t.wt=B$(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.wt}function MS(n,t,e){return new Od(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function I0(n,t){return D0(oa(n),oa(t))&&n.limitType===t.limitType}function Z$(n){return`${Tm(oa(n))}|lt:${n.limitType}`}function SO(n){return`Query(target=${function R8(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${oy(i.value)}`;var i}).join(", ")}]`),v0(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>oy(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>oy(e)).join(",")),`Target(${t})`}(oa(n))}; limitType=${n.limitType})`}function TO(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):rt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,s,c){const d=j$(r,s,c);return r.inclusive?d<=0:d<0}(e.startAt,cy(e),i)||e.endAt&&!function(r,s,c){const d=j$(r,s,c);return r.inclusive?d>=0:d>0}(e.endAt,cy(e),i)));var e,i}function W$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Y$(n){return(t,e)=>{let i=!1;for(const r of cy(n)){const s=$8(r,t,e);if(0!==s)return s;i=i||r.field.isKeyField()}return 0}}function $8(n,t,e){const i=n.field.isKeyField()?rt.comparator(t.key,e.key):function(r,s,c){const d=s.data.field(r),f=c.data.field(r);return null!==d&&null!==f?_f(d,f):gt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return gt()}}function K$(n,t){if(n.gt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b0(t)?"-0":t}}function Q$(n){return{integerValue:""+n}}function J$(n,t){return k$(t)?Q$(t):K$(n,t)}class kS{constructor(){this._=void 0}}function H8(n,t,e){return n instanceof uy?function(i,r){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(s.fields.__previous_value__=r),{mapValue:s}}(e,t):n instanceof Am?eH(n,t):n instanceof xm?tH(n,t):function(i,r){const s=X$(i,r),c=nH(s)+nH(i.yt);return CO(s)&&CO(i.yt)?Q$(c):K$(i.It,c)}(n,t)}function j8(n,t,e){return n instanceof Am?eH(n,t):n instanceof xm?tH(n,t):e}function X$(n,t){return n instanceof dy?CO(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class uy extends kS{}class Am extends kS{constructor(t){super(),this.elements=t}}function eH(n,t){const e=iH(t);for(const i of n.elements)e.some(r=>Cu(r,i))||e.push(i);return{arrayValue:{values:e}}}class xm extends kS{constructor(t){super(),this.elements=t}}function tH(n,t){let e=iH(t);for(const i of n.elements)e=e.filter(r=>!Cu(r,i));return{arrayValue:{values:e}}}class dy extends kS{constructor(t,e){super(),this.It=t,this.yt=e}}function nH(n){return sr(n.integerValue||n.doubleValue)}function iH(n){return C0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class S0{constructor(t,e){this.field=t,this.transform=e}}class z8{constructor(t,e){this.version=t,this.transformResults=e}}class Oi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Oi}static exists(t){return new Oi(void 0,t)}static updateTime(t){return new Oi(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function RS(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class OS{}function rH(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new fy(n.key,Oi.none()):new hy(n.key,n.data,Oi.none());{const e=n.data,i=bs.empty();let r=new ei(ir.comparator);for(let s of t.fields)if(!r.has(s)){let c=e.field(s);null===c&&s.length>1&&(s=s.popLast(),c=e.field(s)),null===c?i.delete(s):i.set(s,c),r=r.add(s)}return new Pd(n.key,i,new Ua(r.toArray()),Oi.none())}}function q8(n,t,e){n instanceof hy?function(i,r,s){const c=i.value.clone(),d=aH(i.fieldTransforms,r,s.transformResults);c.setAll(d),r.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,t,e):n instanceof Pd?function(i,r,s){if(!RS(i.precondition,r))return void r.convertToUnknownDocument(s.version);const c=aH(i.fieldTransforms,r,s.transformResults),d=r.data;d.setAll(oH(i)),d.setAll(c),r.convertToFoundDocument(s.version,d).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function T0(n,t,e,i){return n instanceof hy?function(r,s,c,d){if(!RS(r.precondition,s))return c;const f=r.value.clone(),m=lH(r.fieldTransforms,d,s);return f.setAll(m),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),null}(n,t,e,i):n instanceof Pd?function(r,s,c,d){if(!RS(r.precondition,s))return c;const f=lH(r.fieldTransforms,d,s),m=s.data;return m.setAll(oH(r)),m.setAll(f),s.convertToFoundDocument(s.version,m).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(v=>v.field))}(n,t,e,i):(c=e,RS(n.precondition,s=t)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c);var s,c}function Z8(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),s=X$(i.transform,r||null);null!=s&&(null===e&&(e=bs.empty()),e.set(i.field,s))}return e||null}function sH(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&ry(e,i,(r,s)=>function G8(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Am&&i instanceof Am||e instanceof xm&&i instanceof xm?ry(e.elements,i.elements,Cu):e instanceof dy&&i instanceof dy?Cu(e.yt,i.yt):e instanceof uy&&i instanceof uy);var e,i}(r,s))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class hy extends OS{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pd extends OS{constructor(t,e,i,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function oH(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function aH(n,t,e){const i=new Map;Ut(n.length===e.length);for(let r=0;r<e.length;r++){const s=n[r],c=s.transform,d=t.data.field(s.field);i.set(s.field,j8(c,d,e[r]))}return i}function lH(n,t,e){const i=new Map;for(const r of n){const s=r.transform,c=e.data.field(r.field);i.set(r.field,H8(s,c,t))}return i}class fy extends OS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AO extends OS{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class W8{constructor(t){this.count=t}}var xr,An;function cH(n){switch(n){default:return gt();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0}}function uH(n){if(void 0===n)return vr("GRPC error has no .code"),be.UNKNOWN;switch(n){case xr.OK:return be.OK;case xr.CANCELLED:return be.CANCELLED;case xr.UNKNOWN:return be.UNKNOWN;case xr.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case xr.INTERNAL:return be.INTERNAL;case xr.UNAVAILABLE:return be.UNAVAILABLE;case xr.UNAUTHENTICATED:return be.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case xr.NOT_FOUND:return be.NOT_FOUND;case xr.ALREADY_EXISTS:return be.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return be.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case xr.ABORTED:return be.ABORTED;case xr.OUT_OF_RANGE:return be.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return be.UNIMPLEMENTED;case xr.DATA_LOSS:return be.DATA_LOSS;default:return gt()}}(An=xr||(xr={}))[An.OK=0]="OK",An[An.CANCELLED=1]="CANCELLED",An[An.UNKNOWN=2]="UNKNOWN",An[An.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",An[An.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",An[An.NOT_FOUND=5]="NOT_FOUND",An[An.ALREADY_EXISTS=6]="ALREADY_EXISTS",An[An.PERMISSION_DENIED=7]="PERMISSION_DENIED",An[An.UNAUTHENTICATED=16]="UNAUTHENTICATED",An[An.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",An[An.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",An[An.ABORTED=10]="ABORTED",An[An.OUT_OF_RANGE=11]="OUT_OF_RANGE",An[An.UNIMPLEMENTED=12]="UNIMPLEMENTED",An[An.INTERNAL=13]="INTERNAL",An[An.UNAVAILABLE=14]="UNAVAILABLE",An[An.DATA_LOSS=15]="DATA_LOSS";class vf{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,s]of i)if(this.equalsFn(r,t))return s}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Em(this.inner,(e,i)=>{for(const[r,s]of i)t(r,s)})}isEmpty(){return A$(this.inner)}size(){return this.innerSize}}const Y8=new rr(rt.comparator);function aa(){return Y8}const dH=new rr(rt.comparator);function A0(...n){let t=dH;for(const e of n)t=t.insert(e.key,e);return t}function hH(n){let t=dH;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Eu(){return x0()}function fH(){return x0()}function x0(){return new vf(n=>n.toString(),(n,t)=>n.isEqual(t))}const K8=new rr(rt.comparator),Q8=new ei(rt.comparator);function tn(...n){let t=Q8;for(const e of n)t=t.add(e);return t}const J8=new ei(jt);function PS(){return J8}class M0{constructor(t,e,i,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,k0.createSynthesizedTargetChangeForCurrentChange(t,e)),new M0(Lt.min(),i,PS(),aa(),tn())}}class k0{constructor(t,e,i,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e){return new k0(Vr.EMPTY_BYTE_STRING,e,tn(),tn(),tn())}}class FS{constructor(t,e,i,r){this.Tt=t,this.removedTargetIds=e,this.key=i,this.Et=r}}class pH{constructor(t,e){this.targetId=t,this.At=e}}class mH{constructor(t,e,i=Vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class gH{constructor(){this.Rt=0,this.bt=yH(),this.Pt=Vr.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=tn(),e=tn(),i=tn();return this.bt.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:gt()}}),new k0(this.Pt,this.vt,t,e,i)}Nt(){this.Vt=!1,this.bt=yH()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Mt(t){this.Vt=!0,this.bt=this.bt.remove(t)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class X8{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=aa(),this.qt=_H(),this.Kt=new ei(jt)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,e=>{const i=this.zt(e);switch(t.state){case 0:this.Ht(e)&&i.Ct(t.resumeToken);break;case 1:i.Ft(),i.St||i.Nt(),i.Ct(t.resumeToken);break;case 2:i.Ft(),i.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(i.$t(),i.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),i.Ct(t.resumeToken));break;default:gt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach((i,r)=>{this.Ht(r)&&e(r)})}Yt(t){const e=t.targetId,i=t.At.count,r=this.Xt(e);if(r){const s=r.target;if(AS(s))if(0===i){const c=new rt(s.path);this.jt(e,c,di.newNoDocument(c,Lt.min()))}else Ut(1===i);else this.Zt(e)!==i&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach((s,c)=>{const d=this.Xt(c);if(d){if(s.current&&AS(d.target)){const f=new rt(d.target.path);null!==this.Ut.get(f)||this.ee(c,f)||this.jt(c,f,di.newNoDocument(f,t))}s.Dt&&(e.set(c,s.xt()),s.Nt())}});let i=tn();this.qt.forEach((s,c)=>{let d=!0;c.forEachWhile(f=>{const m=this.Xt(f);return!m||2===m.purpose||(d=!1,!1)}),d&&(i=i.add(s))}),this.Ut.forEach((s,c)=>c.setReadTime(t));const r=new M0(t,e,this.Kt,this.Ut,i);return this.Ut=aa(),this.qt=_H(),this.Kt=new ei(jt),r}Qt(t,e){if(!this.Ht(t))return;const i=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,i),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,i){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Mt(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),i&&(this.Ut=this.Ut.insert(e,i))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ot(t){this.zt(t).Ot()}zt(t){let e=this.Lt.get(t);return e||(e=new gH,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new ei(jt),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||qe("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new gH),this.Bt.getRemoteKeysForTarget(t).forEach(e=>{this.jt(t,e,null)})}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function _H(){return new rr(rt.comparator)}function yH(){return new rr(rt.comparator)}const eK={asc:"ASCENDING",desc:"DESCENDING"},tK={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class nK{constructor(t,e){this.databaseId=t,this.gt=e}}function R0(n,t){return n.gt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function vH(n,t){return n.gt?t.toBase64():t.toUint8Array()}function iK(n,t){return R0(n,t.toTimestamp())}function ns(n){return Ut(!!n),Lt.fromTimestamp(function(t){const e=pf(t);return new Ri(e.seconds,e.nanos)}(n))}function xO(n,t){return(e=n,new Tn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function bH(n){const t=Tn.fromString(n);return Ut(xH(t)),t}function O0(n,t){return xO(n.databaseId,t.path)}function Du(n,t){const e=bH(t);if(e.get(1)!==n.databaseId.projectId)throw new $e(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new $e(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new rt(CH(e))}function MO(n,t){return xO(n.databaseId,t)}function wH(n){const t=bH(n);return 4===t.length?Tn.emptyPath():CH(t)}function P0(n){return new Tn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function CH(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function EH(n,t,e){return{name:O0(n,t),fields:e.value.mapValue.fields}}function DH(n,t,e){const i=Du(n,t.name),r=ns(t.updateTime),s=new bs({mapValue:{fields:t.fields}}),c=di.newFoundDocument(i,r,s);return e&&c.setHasCommittedMutations(),e?c.setHasCommittedMutations():c}function F0(n,t){let e;if(t instanceof hy)e={update:EH(n,t.key,t.value)};else if(t instanceof fy)e={delete:O0(n,t.key)};else if(t instanceof Pd)e={update:EH(n,t.key,t.data),updateMask:hK(t.fieldMask)};else{if(!(t instanceof AO))return gt();e={verify:O0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,s){const c=s.transform;if(c instanceof uy)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Am)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof xm)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof dy)return{fieldPath:s.field.canonicalString(),increment:c.yt};throw gt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:iK(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:gt()),e;var r}function kO(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Oi.updateTime(ns(r.updateTime)):void 0!==r.exists?Oi.exists(r.exists):Oi.none():Oi.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(s,c){let d=null;"setToServerValue"in c?(Ut("REQUEST_TIME"===c.setToServerValue),d=new uy):"appendMissingElements"in c?d=new Am(c.appendMissingElements.values||[]):"removeAllFromArray"in c?d=new xm(c.removeAllFromArray.values||[]):"increment"in c?d=new dy(s,c.increment):gt();const f=ir.fromServerFormat(c.fieldPath);return new S0(f,d)}(n,r)):[];var r;if(t.update){const r=Du(n,t.update.name),s=new bs({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Ua((t.updateMask.fieldPaths||[]).map(m=>ir.fromServerFormat(m)));return new Pd(r,s,c,e,i)}return new hy(r,s,e,i)}if(t.delete){const r=Du(n,t.delete);return new fy(r,e)}if(t.verify){const r=Du(n,t.verify);return new AO(r,e)}return gt()}function IH(n,t){return{documents:[MO(n,t.path)]}}function SH(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=MO(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=MO(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(f){if(0===f.length)return;const m=f.map(v=>function(E){if("=="===E.op){if(P$(E.value))return{unaryFilter:{field:py(E.field),op:"IS_NAN"}};if(O$(E.value))return{unaryFilter:{field:py(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(P$(E.value))return{unaryFilter:{field:py(E.field),op:"IS_NOT_NAN"}};if(O$(E.value))return{unaryFilter:{field:py(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:py(E.field),op:cK(E.op),value:E.value}}}(v));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);r&&(e.structuredQuery.where=r);const s=function(f){if(0!==f.length)return f.map(m=>{return{field:py((v=m).field),direction:lK(v.dir)};var v})}(t.orderBy);s&&(e.structuredQuery.orderBy=s);const c=(m=t.limit,n.gt||v0(m)?m:{value:m});var m,d,f;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(d=t.startAt).inclusive,values:d.position}),t.endAt&&(e.structuredQuery.endAt={before:!(f=t.endAt).inclusive,values:f.position}),e}function TH(n){let t=wH(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Ut(1===i);const v=e.from[0];v.allDescendants?r=v.collectionId:t=t.child(v.collectionId)}let s=[];e.where&&(s=AH(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(v=>{return new ay(my((E=v).field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction));var E}));let d=null;e.limit&&(d=function(v){let E;return E="object"==typeof v?v.value:v,v0(E)?null:E}(e.limit));let f=null;var v;e.startAt&&(f=new yf((v=e.startAt).values||[],!!v.before));let m=null;return e.endAt&&(m=function(v){return new yf(v.values||[],!v.before)}(e.endAt)),z$(t,r,c,s,d,"F",f,m)}function AH(n){return n?void 0!==n.unaryFilter?[dK(n)]:void 0!==n.fieldFilter?[uK(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>AH(t)).reduce((t,e)=>t.concat(e)):gt():[]}function lK(n){return eK[n]}function cK(n){return tK[n]}function py(n){return{fieldPath:n.canonicalString()}}function my(n){return ir.fromServerFormat(n.fieldPath)}function uK(n){return ws.create(my(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function dK(n){switch(n.unaryFilter.op){case"IS_NAN":const t=my(n.unaryFilter.field);return ws.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=my(n.unaryFilter.field);return ws.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=my(n.unaryFilter.field);return ws.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=my(n.unaryFilter.field);return ws.create(r,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}function hK(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function xH(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Mo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=MH(t)),t=fK(n.get(e),t);return MH(t)}function fK(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const s=n.charAt(r);switch(s){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=s}}return e}function MH(n){return n+"\x01\x01"}function Iu(n){const t=n.length;if(Ut(t>=2),2===t)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Tn.emptyPath();const e=t-2,i=[];let r="";for(let s=0;s<t;){const c=n.indexOf("\x01",s);switch((c<0||c>e)&&gt(),n.charAt(c+1)){case"\x01":const d=n.substring(s,c);let f;0===r.length?f=d:(r+=d,f=r,r=""),i.push(f);break;case"\x10":r+=n.substring(s,c),r+="\0";break;case"\x11":r+=n.substring(s,c+1);break;default:gt()}s=c+2}return new Tn(i)}const kH=["userId","batchId"];function NS(n,t){return[n,Mo(t)]}function RH(n,t,e){return[n,Mo(t),e]}const pK={},mK=["prefixPath","collectionGroup","readTime","documentId"],gK=["prefixPath","collectionGroup","documentId"],_K=["collectionGroup","readTime","prefixPath","documentId"],yK=["canonicalId","targetId"],vK=["targetId","path"],bK=["path","targetId"],wK=["collectionId","parent"],CK=["indexId","uid"],EK=["uid","sequenceNumber"],DK=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],IK=["indexId","uid","orderedDocumentKey"],SK=["userId","collectionPath","documentId"],TK=["userId","collectionPath","largestBatchId"],AK=["userId","collectionGroup","largestBatchId"],OH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],xK=[...OH,"documentOverlays"],PH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],FH=PH,MK=[...FH,"indexConfiguration","indexState","indexEntries"];class RO extends I${constructor(t,e){super(),this.ie=t,this.currentSequenceNumber=e}}function is(n,t){const e=at(n);return yc.O(e.ie,t)}class OO{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(t.key)&&q8(s,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=T0(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=T0(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=fH();return this.mutations.forEach(r=>{const s=t.get(r.key),c=s.overlayedDocument;let d=this.applyToLocalView(c,s.mutatedFields);d=e.has(r.key)?null:d;const f=rH(c,d);null!==f&&i.set(r.key,f),c.isValidDocument()||c.convertToNoDocument(Lt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),tn())}isEqual(t){return this.batchId===t.batchId&&ry(this.mutations,t.mutations,(e,i)=>sH(e,i))&&ry(this.baseMutations,t.baseMutations,(e,i)=>sH(e,i))}}class PO{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Ut(t.mutations.length===i.length);let r=K8;const s=t.mutations;for(let c=0;c<s.length;c++)r=r.insert(s[c].key,i[c].version);return new PO(t,e,i,r)}}class FO{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class bf{constructor(t,e,i,r,s=Lt.min(),c=Lt.min(),d=Vr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d}withSequenceNumber(t){return new bf(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new bf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class NH{constructor(t){this.re=t}}function LH(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:LS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:O0(r=n.re,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:R0(r,s.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:Mm(t.version)};else{if(!t.isUnknownDocument())return gt();i.unknownDocument={path:e.path.toArray(),version:Mm(t.version)}}var r,s;return i}function LS(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Mm(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function km(n){const t=new Ri(n.seconds,n.nanoseconds);return Lt.fromTimestamp(t)}function Rm(n,t){const e=(t.baseMutations||[]).map(s=>kO(n.re,s));for(let s=0;s<t.mutations.length-1;++s){const c=t.mutations[s];s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform&&(c.updateTransforms=t.mutations[s+1].transform.fieldTransforms,t.mutations.splice(s+1,1),++s)}const i=t.mutations.map(s=>kO(n.re,s)),r=Ri.fromMillis(t.localWriteTimeMs);return new OO(t.batchId,r,e,i)}function N0(n){const t=km(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?km(n.lastLimboFreeSnapshotVersion):Lt.min();let i;var r;return void 0!==n.query.documents?(Ut(1===(r=n.query).documents.length),i=oa(ly(wH(r.documents[0])))):i=oa(TH(n.query)),new bf(i,n.targetId,0,n.lastListenSequenceNumber,t,e,Vr.fromBase64String(n.resumeToken))}function VH(n,t){const e=Mm(t.snapshotVersion),i=Mm(t.lastLimboFreeSnapshotVersion);let r;r=AS(t.target)?IH(n.re,t.target):SH(n.re,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Tm(t.target),readTime:e,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function NO(n){const t=TH({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?MS(t,t.limit,"L"):t}function LO(n,t){return new FO(t.largestBatchId,kO(n.re,t.overlayMutation))}function BH(n,t){const e=t.path.lastSegment();return[n,Mo(t.path.popLast()),e]}function UH(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:Mm(i.readTime),documentKey:Mo(i.documentKey.path),largestBatchId:i.largestBatchId}}class RK{getBundleMetadata(t,e){return $H(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:km(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return $H(t).put({bundleId:(i=e).id,createTime:Mm(ns(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return HH(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:NO(r.bundledQuery),readTime:km(r.readTime)};var r})}saveNamedQuery(t,e){return HH(t).put({name:(i=e).name,readTime:Mm(ns(i.readTime)),bundledQuery:i.bundledQuery});var i}}function $H(n){return is(n,"bundles")}function HH(n){return is(n,"namedQueries")}class VS{constructor(t,e){this.It=t,this.userId=e}static oe(t,e){return new VS(t,e.uid||"")}getOverlay(t,e){return L0(t).get(BH(this.userId,e)).next(i=>i?LO(this.It,i):null)}getOverlays(t,e){const i=Eu();return ge.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((s,c)=>{const d=new FO(e,c);r.push(this.ue(t,d))}),ge.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Mo(c.getCollectionPath())));const s=[];return r.forEach(c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);s.push(L0(t).Y("collectionPathOverlayIndex",d))}),ge.waitFor(s)}getOverlaysForCollection(t,e,i){const r=Eu(),s=Mo(e),c=IDBKeyRange.bound([this.userId,s,i],[this.userId,s,Number.POSITIVE_INFINITY],!0);return L0(t).W("collectionPathOverlayIndex",c).next(d=>{for(const f of d){const m=LO(this.It,f);r.set(m.getKey(),m)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const s=Eu();let c;const d=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return L0(t).Z({index:"collectionGroupOverlayIndex",range:d},(f,m,v)=>{const E=LO(this.It,m);s.size()<r||E.largestBatchId===c?(s.set(E.getKey(),E),c=E.largestBatchId):v.done()}).next(()=>s)}ue(t,e){return L0(t).put(function(i,r,s){const[c,d,f]=BH(r,s.mutation.key);return{userId:r,collectionPath:d,documentId:f,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:F0(i.re,s.mutation)}}(this.It,this.userId,e))}}function L0(n){return is(n,"documentOverlays")}class Om{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(sr(t.integerValue));else if("doubleValue"in t){const i=sr(t.doubleValue);isNaN(i)?this.le(e,13):(this.le(e,15),b0(i)?e.fe(0):e.fe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.le(e,20),"string"==typeof i?e.de(i):(e.de(`${i.seconds||""}`),e.fe(i.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Dm(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.le(e,45),e.fe(i.latitude||0),e.fe(i.longitude||0)}else"mapValue"in t?F$(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):gt()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const i=t.fields||{};this.le(e,55);for(const r of Object.keys(i))this._e(r,e),this.ae(i[r],e)}pe(t,e){const i=t.values||[];this.le(e,50);for(const r of i)this.ae(r,e)}ge(t,e){this.le(e,37),rt.fromName(t).path.forEach(i=>{this.le(e,60),this.Ie(i,e)})}le(t,e){t.fe(e)}we(t){t.fe(2)}}function OK(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function jH(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const s=OK(255&e[r]);if(i+=s,8!==s)break}return i}(n);return Math.ceil(t/8)}Om.Te=new Om;class PK{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Pe(i.value),i=e.next();this.ve()}Ve(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}Se(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Pe(i);else if(i<2048)this.Pe(960|i>>>6),this.Pe(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Pe(480|i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i);else{const r=e.codePointAt(0);this.Pe(240|r>>>18),this.Pe(128|63&r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r)}}this.ve()}De(t){const e=this.Ce(t),i=jH(e);this.xe(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Ne(t){const e=this.Ce(t),i=jH(e);this.xe(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(t){this.xe(t.length),this.buffer.set(t,this.position),this.position+=t.length}$e(){return this.buffer.slice(0,this.position)}Ce(t){const e=function(r){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,r,!1),new Uint8Array(s.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ae(t){const e=255&t;0===e?(this.Me(0),this.Me(255)):255===e?(this.Me(255),this.Me(0)):this.Me(e)}Pe(t){const e=255&t;0===e?(this.Fe(0),this.Fe(255)):255===e?(this.Fe(255),this.Fe(0)):this.Fe(t)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(t){this.xe(1),this.buffer[this.position++]=t}Fe(t){this.xe(1),this.buffer[this.position++]=~t}xe(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class FK{constructor(t){this.Be=t}me(t){this.Be.Ee(t)}de(t){this.Be.Ve(t)}fe(t){this.Be.De(t)}he(){this.Be.ke()}}class NK{constructor(t){this.Be=t}me(t){this.Be.be(t)}de(t){this.Be.Se(t)}fe(t){this.Be.Ne(t)}he(){this.Be.Oe()}}class V0{constructor(){this.Be=new PK,this.Le=new FK(this.Be),this.Ue=new NK(this.Be)}seed(t){this.Be.seed(t)}qe(t){return 0===t?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class Pm{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Ke(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Pm(this.indexId,this.documentKey,this.arrayValue,i)}}function Fm(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=GH(n.arrayValue,t.arrayValue),0!==e?e:(e=GH(n.directionalValue,t.directionalValue),0!==e?e:rt.comparator(n.documentKey,t.documentKey)))}function GH(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class LK{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ge=t.orderBy,this.Qe=[];for(const e of t.filters){const i=e;i.dt()?this.je=i:this.Qe.push(i)}}We(t){const e=gO(t);if(void 0!==e&&!this.ze(e))return!1;const i=wm(t);let r=0,s=0;for(;r<i.length&&this.ze(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.je){const c=i[r];if(!this.He(this.je,c)||!this.Je(this.Ge[s++],c))return!1;++r}for(;r<i.length;++r){const c=i[r];if(s>=this.Ge.length||!this.Je(this.Ge[s++],c))return!1}return!0}ze(t){for(const e of this.Qe)if(this.He(e,t))return!0;return!1}He(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}Je(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class VK{constructor(){this.Ye=new VO}addToCollectionParentIndex(t,e){return this.Ye.add(e),ge.resolve()}getCollectionParents(t,e){return ge.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return ge.resolve()}deleteFieldIndex(t,e){return ge.resolve()}getDocumentsMatchingTarget(t,e){return ge.resolve(null)}getIndexType(t,e){return ge.resolve(0)}getFieldIndexes(t,e){return ge.resolve([])}getNextCollectionGroupToUpdate(t){return ge.resolve(null)}getMinOffset(t,e){return ge.resolve(Ba.min())}getMinOffsetFromCollectionGroup(t,e){return ge.resolve(Ba.min())}updateCollectionGroup(t,e,i){return ge.resolve()}updateIndexEntries(t,e){return ge.resolve()}}class VO{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ei(Tn.comparator),s=!r.has(i);return this.index[e]=r.add(i),s}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ei(Tn.comparator)).toArray()}}const BS=new Uint8Array(0);class BK{constructor(t,e){this.user=t,this.databaseId=e,this.Xe=new VO,this.Ze=new vf(i=>Tm(i),(i,r)=>D0(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.Xe.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.Xe.add(e)});const s={collectionId:i,parent:Mo(r)};return zH(t).put(s)}return ge.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[w$(e),""],!1,!0);return zH(t).W(r).next(s=>{for(const c of s){if(c.collectionId!==e)break;i.push(Iu(c.parent))}return i})}addFieldIndex(t,e){const i=US(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var c;delete r.indexId;const s=i.add(r);if(e.indexState){const c=U0(t);return s.next(d=>{c.put(UH(d,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return s.next()}deleteFieldIndex(t,e){const i=US(t),r=U0(t),s=B0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=B0(t);let r=!0;const s=new Map;return ge.forEach(this.tn(e),c=>this.en(t,c).next(d=>{r&&(r=!!d),s.set(c,d)})).next(()=>{if(r){let c=tn();const d=[];return ge.forEach(s,(f,m)=>{var v;qe("IndexedDbIndexManager",`Using index ${v=f,`id=${v.indexId}|cg=${v.collectionGroup}|f=${v.fields.map(xe=>`${xe.fieldPath}:${xe.kind}`).join(",")}`} to execute ${Tm(e)}`);const E=function(xe,Ie){const ze=gO(Ie);if(void 0===ze)return null;for(const ut of xS(xe,ze.fieldPath))switch(ut.op){case"array-contains-any":return ut.value.arrayValue.values||[];case"array-contains":return[ut.value]}return null}(m,f),A=function(xe,Ie){const ze=new Map;for(const ut of wm(Ie))for(const Vt of xS(xe,ut.fieldPath))switch(Vt.op){case"==":case"in":ze.set(ut.fieldPath.canonicalString(),Vt.value);break;case"not-in":case"!=":return ze.set(ut.fieldPath.canonicalString(),Vt.value),Array.from(ze.values())}return null}(m,f),M=function(xe,Ie){const ze=[];let ut=!0;for(const Vt of wm(Ie)){const Vn=0===Vt.kind?U$(xe,Vt.fieldPath,xe.startAt):$$(xe,Vt.fieldPath,xe.startAt);ze.push(Vn.value),ut&&(ut=Vn.inclusive)}return new yf(ze,ut)}(m,f),P=function(xe,Ie){const ze=[];let ut=!0;for(const Vt of wm(Ie)){const Vn=0===Vt.kind?$$(xe,Vt.fieldPath,xe.endAt):U$(xe,Vt.fieldPath,xe.endAt);ze.push(Vn.value),ut&&(ut=Vn.inclusive)}return new yf(ze,ut)}(m,f),B=this.nn(f,m,M),J=this.nn(f,m,P),oe=this.sn(f,m,A),Ve=this.rn(f.indexId,E,B,M.inclusive,J,P.inclusive,oe);return ge.forEach(Ve,xe=>i.J(xe,e.limit).next(Ie=>{Ie.forEach(ze=>{const ut=rt.fromSegments(ze.documentKey);c.has(ut)||(c=c.add(ut),d.push(ut))})}))}).next(()=>d)}return ge.resolve(null)})}tn(t){let e=this.Ze.get(t);return e||(e=[t],this.Ze.set(t,e),e)}rn(t,e,i,r,s,c,d){const f=(null!=e?e.length:1)*Math.max(i.length,s.length),m=f/(null!=e?e.length:1),v=[];for(let E=0;E<f;++E){const A=e?this.on(e[E/m]):BS,M=this.un(t,A,i[E%m],r),P=this.cn(t,A,s[E%m],c),B=d.map(J=>this.un(t,A,J,!0));v.push(...this.createRange(M,P,B))}return v}un(t,e,i,r){const s=new Pm(t,rt.empty(),e,i);return r?s:s.Ke()}cn(t,e,i,r){const s=new Pm(t,rt.empty(),e,i);return r?s.Ke():s}en(t,e){const i=new LK(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(s=>{let c=null;for(const d of s)i.We(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c})}getIndexType(t,e){let i=2;return ge.forEach(this.tn(e),r=>this.en(t,r).next(s=>{s?0!==i&&s.fields.length<function(c){let d=new ei(ir.comparator),f=!1;for(const m of c.filters){const v=m;v.field.isKeyField()||("array-contains"===v.op||"array-contains-any"===v.op?f=!0:d=d.add(v.field))}for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(f?1:0)}(r)&&(i=1):i=0})).next(()=>i)}an(t,e){const i=new V0;for(const r of wm(t)){const s=e.data.field(r.fieldPath);if(null==s)return null;const c=i.qe(r.kind);Om.Te.ce(s,c)}return i.$e()}on(t){const e=new V0;return Om.Te.ce(t,e.qe(0)),e.$e()}hn(t,e){const i=new V0;return Om.Te.ce(Sm(this.databaseId,e),i.qe(function(r){const s=wm(r);return 0===s.length?0:s[s.length-1].kind}(t))),i.$e()}sn(t,e,i){if(null===i)return[];let r=[];r.push(new V0);let s=0;for(const c of wm(t)){const d=i[s++];for(const f of r)if(this.ln(e,c.fieldPath)&&C0(d))r=this.fn(r,c,d);else{const m=f.qe(c.kind);Om.Te.ce(d,m)}}return this.dn(r)}nn(t,e,i){return this.sn(t,e,i.position)}dn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].$e();return e}fn(t,e,i){const r=[...t],s=[];for(const c of i.arrayValue.values||[])for(const d of r){const f=new V0;f.seed(d.$e()),Om.Te.ce(c,f.qe(e.kind)),s.push(f)}return s}ln(t,e){return!!t.filters.find(i=>i instanceof ws&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=US(t),r=U0(t);return(e?i.W("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.W()).next(s=>{const c=[];return ge.forEach(s,d=>r.get([d.indexId,this.uid]).next(f=>{c.push(function(m,v){const E=v?new g0(v.sequenceNumber,new Ba(km(v.readTime),new rt(Iu(v.documentKey)),v.largestBatchId)):g0.empty(),A=m.fields.map(([M,P])=>new ES(ir.fromServerFormat(M),P));return new CS(m.indexId,m.collectionGroup,A,E)}(d,f))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const s=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==s?s:jt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=US(t),s=U0(t);return this._n(t).next(c=>r.W("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(d=>ge.forEach(d,f=>s.put(UH(f.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ge.forEach(e,(r,s)=>{const c=i.get(r.collectionGroup);return(c?ge.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(d=>(i.set(r.collectionGroup,d),ge.forEach(d,f=>this.wn(t,r,f).next(m=>{const v=this.mn(s,f);return m.isEqual(v)?ge.resolve():this.gn(t,s,f,m,v)}))))})}yn(t,e,i,r){return B0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.hn(i,e.key),documentKey:e.key.path.toArray()})}pn(t,e,i,r){return B0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.hn(i,e.key),e.key.path.toArray()])}wn(t,e,i){const r=B0(t);let s=new ei(Fm);return r.Z({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.hn(i,e)])},(c,d)=>{s=s.add(new Pm(i.indexId,e,d.arrayValue,d.directionalValue))}).next(()=>s)}mn(t,e){let i=new ei(Fm);const r=this.an(e,t);if(null==r)return i;const s=gO(e);if(null!=s){const c=t.data.field(s.fieldPath);if(C0(c))for(const d of c.arrayValue.values||[])i=i.add(new Pm(e.indexId,t.key,this.on(d),r))}else i=i.add(new Pm(e.indexId,t.key,BS,r));return i}gn(t,e,i,r,s){qe("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(d,f,m,v,E){const A=d.getIterator(),M=f.getIterator();let P=sy(A),B=sy(M);for(;P||B;){let J=!1,oe=!1;if(P&&B){const Ve=m(P,B);Ve<0?oe=!0:Ve>0&&(J=!0)}else null!=P?oe=!0:J=!0;J?(v(B),B=sy(M)):oe?(E(P),P=sy(A)):(P=sy(A),B=sy(M))}}(r,s,Fm,d=>{c.push(this.yn(t,e,i,d))},d=>{c.push(this.pn(t,e,i,d))}),ge.waitFor(c)}_n(t){let e=1;return U0(t).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,s)=>{s.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,d)=>Fm(c,d)).filter((c,d,f)=>!d||0!==Fm(c,f[d-1]));const r=[];r.push(t);for(const c of i){const d=Fm(c,t),f=Fm(c,e);if(0===d)r[0]=t.Ke();else if(d>0&&f<0)r.push(c),r.push(c.Ke());else if(f>0)break}r.push(e);const s=[];for(let c=0;c<r.length;c+=2)s.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,BS,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,BS,[]]));return s}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(qH)}getMinOffset(t,e){return ge.mapArray(this.tn(e),i=>this.en(t,i).next(r=>r||gt())).next(qH)}}function zH(n){return is(n,"collectionParents")}function B0(n){return is(n,"indexEntries")}function US(n){return is(n,"indexConfiguration")}function U0(n){return is(n,"indexState")}function qH(n){Ut(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;_O(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ba(t.readTime,t.documentKey,e)}const ZH={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class la{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new la(t,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function WH(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),s=[],c=IDBKeyRange.only(e.batchId);let d=0;const f=i.Z({range:c},(v,E,A)=>(d++,A.delete()));s.push(f.next(()=>{Ut(1===d)}));const m=[];for(const v of e.mutations){const E=RH(t,v.key.path,e.batchId);s.push(r.delete(E)),m.push(v.key)}return ge.waitFor(s).next(()=>m)}function $S(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw gt();t=n.noDocument}return JSON.stringify(t).length}la.DEFAULT_COLLECTION_PERCENTILE=10,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,la.DEFAULT=new la(41943040,la.DEFAULT_COLLECTION_PERCENTILE,la.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),la.DISABLED=new la(-1,0,0);class HS{constructor(t,e,i,r){this.userId=t,this.It=e,this.indexManager=i,this.referenceDelegate=r,this.In={}}static oe(t,e,i,r){Ut(""!==t.uid);const s=t.isAuthenticated()?t.uid:"";return new HS(s,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return wf(t).Z({index:"userMutationsIndex",range:i},(r,s,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const s=gy(t),c=wf(t);return c.add({}).next(d=>{Ut("number"==typeof d);const f=new OO(d,e,i,r),m=function(A,M,P){const B=P.baseMutations.map(oe=>F0(A.re,oe)),J=P.mutations.map(oe=>F0(A.re,oe));return{userId:M,batchId:P.batchId,localWriteTimeMs:P.localWriteTime.toMillis(),baseMutations:B,mutations:J}}(this.It,this.userId,f),v=[];let E=new ei((A,M)=>jt(A.canonicalString(),M.canonicalString()));for(const A of r){const M=RH(this.userId,A.key.path,d);E=E.add(A.key.path.popLast()),v.push(c.put(m)),v.push(s.put(M,pK))}return E.forEach(A=>{v.push(this.indexManager.addToCollectionParentIndex(t,A))}),t.addOnCommittedListener(()=>{this.In[d]=f.keys()}),ge.waitFor(v).next(()=>f)})}lookupMutationBatch(t,e){return wf(t).get(e).next(i=>i?(Ut(i.userId===this.userId),Rm(this.It,i)):null)}Tn(t,e){return this.In[e]?ge.resolve(this.In[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.In[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let s=null;return wf(t).Z({index:"userMutationsIndex",range:r},(c,d,f)=>{d.userId===this.userId&&(Ut(d.batchId>=i),s=Rm(this.It,d)),f.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return wf(t).Z({index:"userMutationsIndex",range:e,reverse:!0},(r,s,c)=>{i=s.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return wf(t).W("userMutationsIndex",e).next(i=>i.map(r=>Rm(this.It,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=NS(this.userId,e.path),r=IDBKeyRange.lowerBound(i),s=[];return gy(t).Z({range:r},(c,d,f)=>{const[m,v,E]=c,A=Iu(v);if(m===this.userId&&e.path.isEqual(A))return wf(t).get(E).next(M=>{if(!M)throw gt();Ut(M.userId===this.userId),s.push(Rm(this.It,M))});f.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ei(jt);const r=[];return e.forEach(s=>{const c=NS(this.userId,s.path),d=IDBKeyRange.lowerBound(c),f=gy(t).Z({range:d},(m,v,E)=>{const[A,M,P]=m,B=Iu(M);A===this.userId&&s.path.isEqual(B)?i=i.add(P):E.done()});r.push(f)}),ge.waitFor(r).next(()=>this.En(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,s=NS(this.userId,i),c=IDBKeyRange.lowerBound(s);let d=new ei(jt);return gy(t).Z({range:c},(f,m,v)=>{const[E,A,M]=f,P=Iu(A);E===this.userId&&i.isPrefixOf(P)?P.length===r&&(d=d.add(M)):v.done()}).next(()=>this.En(t,d))}En(t,e){const i=[],r=[];return e.forEach(s=>{r.push(wf(t).get(s).next(c=>{if(null===c)throw gt();Ut(c.userId===this.userId),i.push(Rm(this.It,c))}))}),ge.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return WH(t.ie,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.An(e.batchId)}),ge.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}An(t){delete this.In[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ge.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return gy(t).Z({range:i},(s,c,d)=>{if(s[0]===this.userId){const f=Iu(s[1]);r.push(f)}else d.done()}).next(()=>{Ut(0===r.length)})})}containsKey(t,e){return YH(t,this.userId,e)}Rn(t){return KH(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function YH(n,t,e){const i=NS(t,e.path),r=i[1],s=IDBKeyRange.lowerBound(i);let c=!1;return gy(n).Z({range:s,X:!0},(d,f,m)=>{const[v,E,A]=d;v===t&&E===r&&(c=!0),m.done()}).next(()=>c)}function wf(n){return is(n,"mutations")}function gy(n){return is(n,"documentMutations")}function KH(n){return is(n,"mutationQueues")}class Nm{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Nm(0)}static vn(){return new Nm(-1)}}class UK{constructor(t,e){this.referenceDelegate=t,this.It=e}allocateTargetId(t){return this.Vn(t).next(e=>{const i=new Nm(e.highestTargetId);return e.highestTargetId=i.next(),this.Sn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.Vn(t).next(e=>Lt.fromTimestamp(new Ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.Vn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.Vn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Sn(t,r)))}addTargetData(t,e){return this.Dn(t,e).next(()=>this.Vn(t).next(i=>(i.targetCount+=1,this.Cn(e,i),this.Sn(t,i))))}updateTargetData(t,e){return this.Dn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>_y(t).delete(e.targetId)).next(()=>this.Vn(t)).next(i=>(Ut(i.targetCount>0),i.targetCount-=1,this.Sn(t,i)))}removeTargets(t,e,i){let r=0;const s=[];return _y(t).Z((c,d)=>{const f=N0(d);f.sequenceNumber<=e&&null===i.get(f.targetId)&&(r++,s.push(this.removeTargetData(t,f)))}).next(()=>ge.waitFor(s)).next(()=>r)}forEachTarget(t,e){return _y(t).Z((i,r)=>{const s=N0(r);e(s)})}Vn(t){return QH(t).get("targetGlobalKey").next(e=>(Ut(null!==e),e))}Sn(t,e){return QH(t).put("targetGlobalKey",e)}Dn(t,e){return _y(t).put(VH(this.It,e))}Cn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.Vn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Tm(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let s=null;return _y(t).Z({range:r,index:"queryTargetsIndex"},(c,d,f)=>{const m=N0(d);D0(e,m.target)&&(s=m,f.done())}).next(()=>s)}addMatchingKeys(t,e,i){const r=[],s=Cf(t);return e.forEach(c=>{const d=Mo(c.path);r.push(s.put({targetId:i,path:d})),r.push(this.referenceDelegate.addReference(t,i,c))}),ge.waitFor(r)}removeMatchingKeys(t,e,i){const r=Cf(t);return ge.forEach(e,s=>{const c=Mo(s.path);return ge.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,s)])})}removeMatchingKeysForTargetId(t,e){const i=Cf(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=Cf(t);let s=tn();return r.Z({range:i,X:!0},(c,d,f)=>{const m=Iu(c[1]),v=new rt(m);s=s.add(v)}).next(()=>s)}containsKey(t,e){const i=Mo(e.path),r=IDBKeyRange.bound([i],[w$(i)],!1,!0);let s=0;return Cf(t).Z({index:"documentTargetsIndex",X:!0,range:r},([c,d],f,m)=>{0!==c&&(s++,m.done())}).next(()=>s>0)}se(t,e){return _y(t).get(e).next(i=>i?N0(i):null)}}function _y(n){return is(n,"targets")}function QH(n){return is(n,"targetGlobal")}function Cf(n){return is(n,"targetDocuments")}function JH([n,t],[e,i]){const r=jt(n,e);return 0===r?jt(t,i):r}class $K{constructor(t){this.xn=t,this.buffer=new ei(JH),this.Nn=0}kn(){return++this.Nn}Mn(t){const e=[t,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();JH(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class HK{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(t){var e=this;qe("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,Ce.Z)(function*(){e.On=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){ff(i)?qe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield hf(i)}yield e.Fn(3e5)}))}}class jK{constructor(t,e){this.$n=t,this.params=e}calculateTargetCount(t,e){return this.$n.Bn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ge.resolve(sa.at);const i=new $K(e);return this.$n.forEachTarget(t,r=>i.Mn(r.sequenceNumber)).next(()=>this.$n.Ln(t,r=>i.Mn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.$n.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.$n.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector","Garbage collection skipped; disabled"),ge.resolve(ZH)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(qe("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZH):this.Un(t,e))}getCacheSize(t){return this.$n.getCacheSize(t)}Un(t,e){let i,r,s,c,d,f,m;const v=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(qe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),r=this.params.maximumSequenceNumbersToCollect):r=E,c=Date.now(),this.nthSequenceNumber(t,r))).next(E=>(i=E,d=Date.now(),this.removeTargets(t,i,e))).next(E=>(s=E,f=Date.now(),this.removeOrphanedDocuments(t,i))).next(E=>(m=Date.now(),pO()<=mc.in.DEBUG&&qe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-v}ms\n\tDetermined least recently used ${r} in `+(d-c)+`ms\n\tRemoved ${s} targets in `+(f-d)+`ms\n\tRemoved ${E} documents in `+(m-f)+`ms\nTotal Duration: ${m-v}ms`),ge.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:E})))}}class GK{constructor(t,e){this.db=t,this.garbageCollector=new jK(this,e)}Bn(t){const e=this.qn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}qn(t){let e=0;return this.Ln(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Ln(t,e){return this.Kn(t,(i,r)=>e(r))}addReference(t,e,i){return jS(t,i)}removeReference(t,e,i){return jS(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return jS(t,e)}Gn(t,e){return function(i,r){let s=!1;return KH(i).tt(c=>YH(i,c,r).next(d=>(d&&(s=!0),ge.resolve(!d)))).next(()=>s)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let s=0;return this.Kn(t,(c,d)=>{if(d<=e){const f=this.Gn(t,c).next(m=>{if(!m)return s++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Lt.min()),Cf(t).delete([0,Mo(c.path)])))});r.push(f)}}).next(()=>ge.waitFor(r)).next(()=>i.apply(t)).next(()=>s)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return jS(t,e)}Kn(t,e){const i=Cf(t);let r,s=sa.at;return i.Z({index:"documentTargetsIndex"},([c,d],{path:f,sequenceNumber:m})=>{0===c?(s!==sa.at&&e(new rt(Iu(r)),s),s=m,r=f):s=sa.at}).next(()=>{s!==sa.at&&e(new rt(Iu(r)),s)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function jS(n,t){return Cf(n).put((i=n.currentSequenceNumber,{targetId:0,path:Mo(t.path),sequenceNumber:i}));var i}class XH{constructor(){this.changes=new vf(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,di.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ge.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zK{constructor(t){this.It=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Lm(t).put(i)}removeEntry(t,e,i){return Lm(t).delete(function(r,s){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],LS(s),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Qn(t,i)))}getEntry(t,e){let i=di.newInvalidDocument(e);return Lm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only($0(e))},(r,s)=>{i=this.jn(e,s)}).next(()=>i)}Wn(t,e){let i={size:0,document:di.newInvalidDocument(e)};return Lm(t).Z({index:"documentKeyIndex",range:IDBKeyRange.only($0(e))},(r,s)=>{i={document:this.jn(e,s),size:$S(s)}}).next(()=>i)}getEntries(t,e){let i=aa();return this.zn(t,e,(r,s)=>{const c=this.jn(r,s);i=i.insert(r,c)}).next(()=>i)}Hn(t,e){let i=aa(),r=new rr(rt.comparator);return this.zn(t,e,(s,c)=>{const d=this.jn(s,c);i=i.insert(s,d),r=r.insert(s,$S(c))}).next(()=>({documents:i,Jn:r}))}zn(t,e,i){if(e.isEmpty())return ge.resolve();let r=new ei(i3);e.forEach(f=>r=r.add(f));const s=IDBKeyRange.bound($0(r.first()),$0(r.last())),c=r.getIterator();let d=c.getNext();return Lm(t).Z({index:"documentKeyIndex",range:s},(f,m,v)=>{const E=rt.fromSegments([...m.prefixPath,m.collectionGroup,m.documentId]);for(;d&&i3(d,E)<0;)i(d,null),d=c.getNext();d&&d.isEqual(E)&&(i(d,m),d=c.hasNext()?c.getNext():null),d?v.j($0(d)):v.done()}).next(()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),LS(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],s=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Lm(t).W(IDBKeyRange.bound(r,s,!0)).next(c=>{let d=aa();for(const f of c){const m=this.jn(rt.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);d=d.insert(m.key,m)}return d})}getAllFromCollectionGroup(t,e,i,r){let s=aa();const c=n3(e,i),d=n3(e,Ba.max());return Lm(t).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,d,!0)},(f,m,v)=>{const E=this.jn(rt.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);s=s.insert(E.key,E),s.size===r&&v.done()}).next(()=>s)}newChangeBuffer(t){return new qK(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return t3(t).get("remoteDocumentGlobalKey").next(e=>(Ut(!!e),e))}Qn(t,e){return t3(t).put("remoteDocumentGlobalKey",e)}jn(t,e){if(e){const i=function kK(n,t){let e;if(t.document)e=DH(n.re,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=rt.fromSegments(t.noDocument.path),r=km(t.noDocument.readTime);e=di.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return gt();{const i=rt.fromSegments(t.unknownDocument.path),r=km(t.unknownDocument.version);e=di.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ri(i[0],i[1]);return Lt.fromTimestamp(r)}(t.readTime)),e}(this.It,e);if(!i.isNoDocument()||!i.version.isEqual(Lt.min()))return i}return di.newInvalidDocument(t)}}function e3(n){return new zK(n)}class qK extends XH{constructor(t,e){super(),this.Yn=t,this.trackRemovals=e,this.Xn=new vf(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ei((s,c)=>jt(s.canonicalString(),c.canonicalString()));return this.changes.forEach((s,c)=>{const d=this.Xn.get(s);if(e.push(this.Yn.removeEntry(t,s,d.readTime)),c.isValidDocument()){const f=LH(this.Yn.It,c);r=r.add(s.path.popLast()),i+=$S(f)-d.size,e.push(this.Yn.addEntry(t,s,f))}else if(i-=d.size,this.trackRemovals){const f=LH(this.Yn.It,c.convertToNoDocument(Lt.min()));e.push(this.Yn.addEntry(t,s,f))}}),r.forEach(s=>{e.push(this.Yn.indexManager.addToCollectionParentIndex(t,s))}),e.push(this.Yn.updateMetadata(t,i)),ge.waitFor(e)}getFromCache(t,e){return this.Yn.Wn(t,e).next(i=>(this.Xn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.Yn.Hn(t,e).next(({documents:i,Jn:r})=>(r.forEach((s,c)=>{this.Xn.set(s,{size:c,readTime:i.get(s).readTime})}),i))}}function t3(n){return is(n,"remoteDocumentGlobal")}function Lm(n){return is(n,"remoteDocumentsV14")}function $0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function n3(n,t){const e=t.documentKey.path.toArray();return[n,LS(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function i3(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let s=0;s<e.length-2&&s<i.length-2;++s)if(r=jt(e[s],i[s]),r)return r;return r=jt(e.length,i.length),r||(r=jt(e[e.length-2],i[i.length-2]),r||jt(e[e.length-1],i[i.length-1]))}class ZK{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class r3{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&T0(i.mutation,r,Ua.empty(),Ri.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,tn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=tn()){const r=Eu();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(s=>{let c=A0();return s.forEach((d,f)=>{c=c.insert(d,f.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=Eu();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,tn()))}populateOverlays(t,e,i){const r=[];return i.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((c,d)=>{e.set(c,d)})})}computeViews(t,e,i,r){let s=aa();const c=x0(),d=x0();return e.forEach((f,m)=>{const v=i.get(m.key);r.has(m.key)&&(void 0===v||v.mutation instanceof Pd)?s=s.insert(m.key,m):void 0!==v&&(c.set(m.key,v.mutation.getFieldMask()),T0(v.mutation,m,v.mutation.getFieldMask(),Ri.now()))}),this.recalculateAndSaveOverlays(t,s).next(f=>(f.forEach((m,v)=>c.set(m,v)),e.forEach((m,v)=>{var E;return d.set(m,new ZK(v,null!==(E=c.get(m))&&void 0!==E?E:null))}),d))}recalculateAndSaveOverlays(t,e){const i=x0();let r=new rr((c,d)=>c-d),s=tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const d of c)d.keys().forEach(f=>{const m=e.get(f);if(null===m)return;let v=i.get(f)||Ua.empty();v=d.applyToLocalView(m,v),i.set(f,v);const E=(r.get(d.batchId)||tn()).add(f);r=r.insert(d.batchId,E)})}).next(()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,v=f.value,E=fH();v.forEach(A=>{if(!s.has(A)){const M=rH(e.get(A),i.get(A));null!==M&&E.set(A,M),s=s.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(t,m,E))}return ge.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return rt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):IO(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(s=>{const c=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-s.size):ge.resolve(Eu());let d=-1,f=s;return c.next(m=>ge.forEach(m,(v,E)=>(d<E.largestBatchId&&(d=E.largestBatchId),s.get(v)?ge.resolve():this.getBaseDocument(t,v,E).next(A=>{f=f.insert(v,A)}))).next(()=>this.populateOverlays(t,m,s)).next(()=>this.computeViews(t,f,m,tn())).next(v=>({batchId:d,changes:hH(v)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new rt(e)).next(i=>{let r=A0();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let s=A0();return this.indexManager.getCollectionParents(t,r).next(c=>ge.forEach(c,d=>{const f=(m=e,v=d.child(r),new Od(v,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt));var m,v;return this.getDocumentsMatchingCollectionQuery(t,f,i).next(m=>{m.forEach((v,E)=>{s=s.insert(v,E)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(s=>(r=s,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(s=>{s.forEach((d,f)=>{const m=f.getKey();null===r.get(m)&&(r=r.insert(m,di.newInvalidDocument(m)))});let c=A0();return r.forEach((d,f)=>{const m=s.get(d);void 0!==m&&T0(m.mutation,f,Ua.empty(),Ri.now()),TO(e,f)&&(c=c.insert(d,f))}),c})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):ge.resolve(di.newInvalidDocument(e))}}class WK{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return ge.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var i;return this.Zn.set(e.id,{id:(i=e).id,version:i.version,createTime:ns(i.createTime)}),ge.resolve()}getNamedQuery(t,e){return ge.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,{name:(i=e).name,query:NO(i.bundledQuery),readTime:ns(i.readTime)}),ge.resolve();var i}}class YK{constructor(){this.overlays=new rr(rt.comparator),this.es=new Map}getOverlay(t,e){return ge.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Eu();return ge.forEach(e,r=>this.getOverlay(t,r).next(s=>{null!==s&&i.set(r,s)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,s)=>{this.ue(t,e,s)}),ge.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.es.get(i);return void 0!==r&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.es.delete(i)),ge.resolve()}getOverlaysForCollection(t,e,i){const r=Eu(),s=e.length+1,c=new rt(e.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===s&&f.largestBatchId>i&&r.set(f.getKey(),f)}return ge.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let s=new rr((m,v)=>m-v);const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let v=s.get(m.largestBatchId);null===v&&(v=Eu(),s=s.insert(m.largestBatchId,v)),v.set(m.getKey(),m)}}const d=Eu(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,v)=>d.set(m,v)),!(d.size()>=r)););return ge.resolve(d)}ue(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.es.get(r.largestBatchId).delete(i.key);this.es.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new FO(e,i));let s=this.es.get(e);void 0===s&&(s=tn(),this.es.set(e,s)),this.es.set(e,s.add(i.key))}}class BO{constructor(){this.ns=new ei(rs.ss),this.rs=new ei(rs.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const i=new rs(t,e);this.ns=this.ns.add(i),this.rs=this.rs.add(i)}us(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.cs(new rs(t,e))}hs(t,e){t.forEach(i=>this.removeReference(i,e))}ls(t){const e=new rt(new Tn([])),i=new rs(e,t),r=new rs(e,t+1),s=[];return this.rs.forEachInRange([i,r],c=>{this.cs(c),s.push(c.key)}),s}fs(){this.ns.forEach(t=>this.cs(t))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new rt(new Tn([])),i=new rs(e,t),r=new rs(e,t+1);let s=tn();return this.rs.forEachInRange([i,r],c=>{s=s.add(c.key)}),s}containsKey(t){const e=new rs(t,0),i=this.ns.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class rs{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return rt.comparator(t.key,e.key)||jt(t._s,e._s)}static os(t,e){return jt(t._s,e._s)||rt.comparator(t.key,e.key)}}class KK{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new ei(rs.ss)}checkEmpty(t){return ge.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const s=this.ws;this.ws++;const c=new OO(s,e,i,r);this.mutationQueue.push(c);for(const d of r)this.gs=this.gs.add(new rs(d.key,s)),this.indexManager.addToCollectionParentIndex(t,d.key.path.popLast());return ge.resolve(c)}lookupMutationBatch(t,e){return ge.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ps(e+1),s=r<0?0:r;return ge.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new rs(e,0),r=new rs(e,Number.POSITIVE_INFINITY),s=[];return this.gs.forEachInRange([i,r],c=>{const d=this.ys(c._s);s.push(d)}),ge.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ei(jt);return e.forEach(r=>{const s=new rs(r,0),c=new rs(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([s,c],d=>{i=i.add(d._s)})}),ge.resolve(this.Is(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let s=i;rt.isDocumentKey(s)||(s=s.child(""));const c=new rs(new rt(s),0);let d=new ei(jt);return this.gs.forEachWhile(f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===r&&(d=d.add(f._s)),!0)},c),ge.resolve(this.Is(d))}Is(t){const e=[];return t.forEach(i=>{const r=this.ys(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Ut(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let i=this.gs;return ge.forEach(e.mutations,r=>{const s=new rs(r.key,e.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.gs=i})}An(t){}containsKey(t,e){const i=new rs(e,0),r=this.gs.firstAfterOrEqual(i);return ge.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ge.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class QK{constructor(t){this.Es=t,this.docs=new rr(rt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),s=r?r.size:0,c=this.Es(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-s,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ge.resolve(i?i.document.mutableCopy():di.newInvalidDocument(e))}getEntries(t,e){let i=aa();return e.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():di.newInvalidDocument(r))}),ge.resolve(i)}getAllFromCollection(t,e,i){let r=aa();const s=new rt(e.child("")),c=this.docs.getIteratorFrom(s);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!e.isPrefixOf(d.path))break;d.path.length>e.length+1||_O(E$(f),i)<=0||(r=r.insert(f.key,f.mutableCopy()))}return ge.resolve(r)}getAllFromCollectionGroup(t,e,i,r){gt()}As(t,e){return ge.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new JK(this)}getSize(t){return ge.resolve(this.size)}}class JK extends XH{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(i)}),ge.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class XK{constructor(t){this.persistence=t,this.Rs=new vf(e=>Tm(e),D0),this.lastRemoteSnapshotVersion=Lt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new BO,this.targetCount=0,this.vs=Nm.Pn()}forEachTarget(t,e){return this.Rs.forEach((i,r)=>e(r)),ge.resolve()}getLastRemoteSnapshotVersion(t){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ge.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.bs&&(this.bs=e),ge.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Nm(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,ge.resolve()}updateTargetData(t,e){return this.Dn(e),ge.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,ge.resolve()}removeTargets(t,e,i){let r=0;const s=[];return this.Rs.forEach((c,d)=>{d.sequenceNumber<=e&&null===i.get(d.targetId)&&(this.Rs.delete(c),s.push(this.removeMatchingKeysForTargetId(t,d.targetId)),r++)}),ge.waitFor(s).next(()=>r)}getTargetCount(t){return ge.resolve(this.targetCount)}getTargetData(t,e){const i=this.Rs.get(e)||null;return ge.resolve(i)}addMatchingKeys(t,e,i){return this.Ps.us(e,i),ge.resolve()}removeMatchingKeys(t,e,i){this.Ps.hs(e,i);const r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(c=>{s.push(r.markPotentiallyOrphaned(t,c))}),ge.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),ge.resolve()}getMatchingKeysForTargetId(t,e){const i=this.Ps.ds(e);return ge.resolve(i)}containsKey(t,e){return ge.resolve(this.Ps.containsKey(e))}}class s3{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new sa(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new XK(this),this.indexManager=new VK,this.remoteDocumentCache=new QK(i=>this.referenceDelegate.xs(i)),this.It=new NH(e),this.Ns=new WK(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new YK,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.Vs[t.toKey()];return i||(i=new KK(e,this.referenceDelegate),this.Vs[t.toKey()]=i),i}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,i){qe("MemoryPersistence","Starting transaction:",t);const r=new e7(this.Ss.next());return this.referenceDelegate.ks(),i(r).next(s=>this.referenceDelegate.Ms(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Os(t,e){return ge.or(Object.values(this.Vs).map(i=>()=>i.containsKey(t,e)))}}class e7 extends I${constructor(t){super(),this.currentSequenceNumber=t}}class GS{constructor(t){this.persistence=t,this.Fs=new BO,this.$s=null}static Bs(t){return new GS(t)}get Ls(){if(this.$s)return this.$s;throw gt()}addReference(t,e,i){return this.Fs.addReference(i,e),this.Ls.delete(i.toString()),ge.resolve()}removeReference(t,e,i){return this.Fs.removeReference(i,e),this.Ls.add(i.toString()),ge.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),ge.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach(r=>this.Ls.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Ls.add(s.toString()))}).next(()=>i.removeTargetData(t,e))}ks(){this.$s=new Set}Ms(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,i=>{const r=rt.fromPath(i);return this.Us(t,r).next(s=>{s||e.removeEntry(r,Lt.min())})}).next(()=>(this.$s=null,e.apply(t)))}updateLimboDocument(t,e){return this.Us(t,e).next(i=>{i?this.Ls.delete(e.toString()):this.Ls.add(e.toString())})}xs(t){return 0}Us(t,e){return ge.or([()=>ge.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Os(t,e)])}}class t7{constructor(t){this.It=t}$(t,e,i,r){const s=new DS("createOrUpgrade",e);var d;i<1&&r>=1&&(t.createObjectStore("owner"),(d=t).createObjectStore("mutationQueues",{keyPath:"userId"}),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kH,{unique:!0}),d.createObjectStore("documentMutations"),o3(t),function(d){d.createObjectStore("remoteDocuments")}(t));let c=ge.resolve();return i<3&&r>=3&&(0!==i&&(function(d){d.deleteObjectStore("targetDocuments"),d.deleteObjectStore("targets"),d.deleteObjectStore("targetGlobal")}(t),o3(t)),c=c.next(()=>function(d){const f=d.store("targetGlobal"),m={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Lt.min().toTimestamp(),targetCount:0};return f.put("targetGlobalKey",m)}(s))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(d,f){return f.store("mutations").W().next(m=>{d.deleteObjectStore("mutations"),d.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kH,{unique:!0});const v=f.store("mutations"),E=m.map(A=>v.put(A));return ge.waitFor(E)})}(t,s))),c=c.next(()=>{!function(d){d.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.qs(s))),i<6&&r>=6&&(c=c.next(()=>(function(d){d.createObjectStore("remoteDocumentGlobal")}(t),this.Ks(s)))),i<7&&r>=7&&(c=c.next(()=>this.Gs(s))),i<8&&r>=8&&(c=c.next(()=>this.Qs(t,s))),i<9&&r>=9&&(c=c.next(()=>{!function(d){d.objectStoreNames.contains("remoteDocumentChanges")&&d.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.js(s))),i<11&&r>=11&&(c=c.next(()=>{(function(d){d.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(d){d.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(d){const f=d.createObjectStore("documentOverlays",{keyPath:SK});f.createIndex("collectionPathOverlayIndex",TK,{unique:!1}),f.createIndex("collectionGroupOverlayIndex",AK,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(d){const f=d.createObjectStore("remoteDocumentsV14",{keyPath:mK});f.createIndex("documentKeyIndex",gK),f.createIndex("collectionGroupIndex",_K)}(t)).next(()=>this.Ws(t,s)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.zs(t,s))),i<15&&r>=15&&(c=c.next(()=>function(d){d.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),d.createObjectStore("indexState",{keyPath:CK}).createIndex("sequenceNumberIndex",EK,{unique:!1}),d.createObjectStore("indexEntries",{keyPath:DK}).createIndex("documentKeyIndex",IK,{unique:!1})}(t))),c}Ks(t){let e=0;return t.store("remoteDocuments").Z((i,r)=>{e+=$S(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}qs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.W().next(r=>ge.forEach(r,s=>{const c=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return i.W("userMutationsIndex",c).next(d=>ge.forEach(d,f=>{Ut(f.userId===s.userId);const m=Rm(this.It,f);return WH(t,s.userId,m).next(()=>{})}))}))}Gs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const s=[];return i.Z((c,d)=>{const f=new Tn(c),m=[0,Mo(f)];s.push(e.get(m).next(v=>v?ge.resolve():e.put({targetId:0,path:Mo(f),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ge.waitFor(s))})}Qs(t,e){t.createObjectStore("collectionParents",{keyPath:wK});const i=e.store("collectionParents"),r=new VO,s=c=>{if(r.add(c)){const d=c.lastSegment(),f=c.popLast();return i.put({collectionId:d,parent:Mo(f)})}};return e.store("remoteDocuments").Z({X:!0},(c,d)=>{const f=new Tn(c);return s(f.popLast())}).next(()=>e.store("documentMutations").Z({X:!0},([c,d,f],m)=>{const v=Iu(d);return s(v.popLast())}))}js(t){const e=t.store("targets");return e.Z((i,r)=>{const s=N0(r),c=VH(this.It,s);return e.put(c)})}Ws(t,e){const i=e.store("remoteDocuments"),r=[];return i.Z((s,c)=>{const d=e.store("remoteDocumentsV14"),f=(m=c,m.document?new rt(Tn.fromString(m.document.name).popFirst(5)):m.noDocument?rt.fromSegments(m.noDocument.path):m.unknownDocument?rt.fromSegments(m.unknownDocument.path):gt()).path.toArray();var m;const v={prefixPath:f.slice(0,f.length-2),collectionGroup:f[f.length-2],documentId:f[f.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(d.put(v))}).next(()=>ge.waitFor(r))}zs(t,e){const i=e.store("mutations"),r=e3(this.It),s=new s3(GS.Bs,this.It.re);return i.W().next(c=>{const d=new Map;return c.forEach(f=>{var m;let v=null!==(m=d.get(f.userId))&&void 0!==m?m:tn();Rm(this.It,f).keys().forEach(E=>v=v.add(E)),d.set(f.userId,v)}),ge.forEach(d,(f,m)=>{const v=new es(m),E=VS.oe(this.It,v),A=s.getIndexManager(v),M=HS.oe(v,this.It,A,s.referenceDelegate);return new r3(r,M,E,A).recalculateAndSaveOverlaysForDocumentKeys(new RO(e,sa.at),f).next()})})}}function o3(n){n.createObjectStore("targetDocuments",{keyPath:vK}).createIndex("documentTargetsIndex",bK,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yK,{unique:!0}),n.createObjectStore("targetGlobal")}const UO="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class $O{constructor(t,e,i,r,s,c,d,f,m,v,E=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.Hs=s,this.window=c,this.document=d,this.Js=m,this.Ys=v,this.Xs=E,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=A=>Promise.resolve(),!$O.C())throw new $e(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GK(this,r),this.ii=e+"main",this.It=new NH(f),this.ri=new yc(this.ii,this.Xs,new t7(this.It)),this.Cs=new UK(this.referenceDelegate,this.It),this.remoteDocumentCache=e3(this.It),this.Ns=new RK,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===v&&vr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new $e(be.FAILED_PRECONDITION,UO);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Cs.getHighestSequenceNumber(t))}).then(t=>{this.Ss=new sa(t,this.Js)}).then(()=>{this.Ds=!0}).catch(t=>(this.ri&&this.ri.close(),Promise.reject(t)))}li(t){var e=this;return this.si=function(){var i=(0,Ce.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ri.L(function(){var e=(0,Ce.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Hs.enqueueAndForget((0,Ce.Z)(function*(){e.started&&(yield e.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>zS(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(t).next(e=>{e||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(t)).next(e=>this.isPrimary&&!e?this._i(t).next(()=>!1):!!e&&this.wi(t).next(()=>!0))).catch(t=>{if(ff(t))return qe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return qe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Hs.enqueueRetryable(()=>this.si(t)),this.isPrimary=t})}fi(t){return H0(t).get("owner").next(e=>ge.resolve(this.mi(e)))}gi(t){return zS(t).delete(this.clientId)}yi(){var t=this;return(0,Ce.Z)(function*(){if(t.isPrimary&&!t.pi(t.ni,18e5)){t.ni=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=is(i,"clientMetadata");return r.W().next(s=>{const c=t.Ii(s,18e5),d=s.filter(f=>-1===c.indexOf(f));return ge.forEach(d,f=>r.delete(f.clientId)).next(()=>d)})}).catch(()=>[]);if(t.oi)for(const i of e)t.oi.removeItem(t.Ti(i.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(t){return!!t&&t.ownerId===this.clientId}di(t){return this.Ys?ge.resolve(!0):H0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)){if(this.mi(e)&&this.networkEnabled)return!0;if(!this.mi(e)){if(!e.allowTabSynchronization)throw new $e(be.FAILED_PRECONDITION,UO);return!1}}return!(!this.networkEnabled||!this.inForeground)||zS(t).W().next(i=>void 0===this.Ii(i,5e3).find(r=>{if(this.clientId!==r.clientId){const c=!this.inForeground&&r.inForeground,d=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||c&&d)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&qe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,Ce.Z)(function*(){t.Ds=!1,t.Ai(),t.ei&&(t.ei.cancel(),t.ei=null),t.Ri(),t.bi(),yield t.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new RO(e,sa.at);return t._i(i).next(()=>t.gi(i))}),t.ri.close(),t.Pi()})()}Ii(t,e){return t.filter(i=>this.pi(i.updateTimeMs,e)&&!this.Ei(i.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",t=>zS(t).W().next(e=>this.Ii(e,18e5).map(i=>i.clientId)))}get started(){return this.Ds}getMutationQueue(t,e){return HS.oe(t,this.It,e,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new BK(t,this.It.re.databaseId)}getDocumentOverlayCache(t){return VS.oe(this.It,t)}getBundleCache(){return this.Ns}runTransaction(t,e,i){qe("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",s=15===(c=this.Xs)?MK:14===c?FH:13===c?PH:12===c?xK:11===c?OH:void gt();var c;let d;return this.ri.runTransaction(t,r,s,f=>(d=new RO(f,this.Ss?this.Ss.next():sa.at),"readwrite-primary"===e?this.fi(d).next(m=>!!m||this.di(d)).next(m=>{if(!m)throw vr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new $e(be.FAILED_PRECONDITION,D$);return i(d)}).next(m=>this.wi(d).next(()=>m)):this.Vi(d).next(()=>i(d)))).then(f=>(d.raiseOnCommittedEvent(),f))}Vi(t){return H0(t).get("owner").next(e=>{if(null!==e&&this.pi(e.leaseTimestampMs,5e3)&&!this.Ei(e.ownerId)&&!this.mi(e)&&!(this.Ys||this.allowTabSynchronization&&e.allowTabSynchronization))throw new $e(be.FAILED_PRECONDITION,UO)})}wi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return H0(t).put("owner",e)}static C(){return yc.C()}_i(t){const e=H0(t);return e.get("owner").next(i=>this.mi(i)?(qe("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ge.resolve())}pi(t,e){const i=Date.now();return!(t<i-e||t>i&&(vr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,L.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(t){var e;try{const i=null!==(null===(e=this.oi)||void 0===e?void 0:e.getItem(this.Ti(t)));return qe("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return vr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(t){vr("Failed to set zombie client id.",t)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function H0(n){return is(n,"owner")}function zS(n){return is(n,"clientMetadata")}function HO(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class jO{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Si=i,this.Di=r}static Ci(t,e){let i=tn(),r=tn();for(const s of e.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new jO(t,e.fromCache,i,r)}}class a3{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.ki(t,e).next(s=>s||this.Mi(t,e,r,i)).next(s=>s||this.Oi(t,e))}ki(t,e){if(q$(e))return ge.resolve(null);let i=oa(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=MS(e,null,"F"),i=oa(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(s=>{const c=tn(...s);return this.Ni.getDocuments(t,c).next(d=>this.indexManager.getMinOffset(t,i).next(f=>{const m=this.Fi(e,d);return this.$i(e,m,c,f.readTime)?this.ki(t,MS(e,null,"F")):this.Bi(t,m,e,f)}))})))}Mi(t,e,i,r){return q$(e)||r.isEqual(Lt.min())?this.Oi(t,e):this.Ni.getDocuments(t,i).next(s=>{const c=this.Fi(e,s);return this.$i(e,c,i,r)?this.Oi(t,e):(pO()<=mc.in.DEBUG&&qe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),SO(e)),this.Bi(t,c,e,C$(r,-1)))})}Fi(t,e){let i=new ei(Y$(t));return e.forEach((r,s)=>{TO(t,s)&&(i=i.add(s))}),i}$i(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const s="F"===t.limitType?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Oi(t,e){return pO()<=mc.in.DEBUG&&qe("QueryEngine","Using full collection scan to execute query:",SO(e)),this.Ni.getDocumentsMatchingQuery(t,e,Ba.min())}Bi(t,e,i,r){return this.Ni.getDocumentsMatchingQuery(t,i,r).next(s=>(e.forEach(c=>{s=s.insert(c.key,c)}),s))}}class n7{constructor(t,e,i,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new rr(jt),this.qi=new vf(s=>Tm(s),D0),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(i)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new r3(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ui))}}function l3(n,t,e,i){return new n7(n,t,e,i)}function c3(n,t){return GO.apply(this,arguments)}function GO(){return GO=(0,Ce.Z)(function*(n,t){const e=at(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,e.Qi(t),e.mutationQueue.getAllMutationBatches(i))).next(s=>{const c=[],d=[];let f=tn();for(const m of r){c.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}for(const m of s){d.push(m.batchId);for(const v of m.mutations)f=f.add(v.key)}return e.localDocuments.getDocuments(i,f).next(m=>({ji:m,removedBatchIds:c,addedBatchIds:d}))})})}),GO.apply(this,arguments)}function i7(n,t){const e=at(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),s=e.Gi.newChangeBuffer({trackRemovals:!0});return function(c,d,f,m){const v=f.batch,E=v.keys();let A=ge.resolve();return E.forEach(M=>{A=A.next(()=>m.getEntry(d,M)).next(P=>{const B=f.docVersions.get(M);Ut(null!==B),P.version.compareTo(B)<0&&(v.applyToRemoteDocument(P,f),P.isValidDocument()&&(P.setReadTime(f.commitVersion),m.addEntry(P)))})}),A.next(()=>c.mutationQueue.removeMutationBatch(d,v))}(e,i,t,s).next(()=>s.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let d=tn();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(d=d.add(c.batch.mutations[f].key));return d}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function u3(n){const t=at(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Cs.getLastRemoteSnapshotVersion(e))}function r7(n,t){const e=at(n),i=t.snapshotVersion;let r=e.Ui;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const c=e.Gi.newChangeBuffer({trackRemovals:!0});r=e.Ui;const d=[];t.targetChanges.forEach((v,E)=>{const A=r.get(E);if(!A)return;d.push(e.Cs.removeMatchingKeys(s,v.removedDocuments,E).next(()=>e.Cs.addMatchingKeys(s,v.addedDocuments,E)));let M=A.withSequenceNumber(s.currentSequenceNumber);var P,B,J;t.targetMismatches.has(E)?M=M.withResumeToken(Vr.EMPTY_BYTE_STRING,Lt.min()).withLastLimboFreeSnapshotVersion(Lt.min()):v.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(v.resumeToken,i)),r=r.insert(E,M),B=M,J=v,(0===(P=A).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-P.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&d.push(e.Cs.updateTargetData(s,M))});let f=aa(),m=tn();if(t.documentUpdates.forEach(v=>{t.resolvedLimboDocuments.has(v)&&d.push(e.persistence.referenceDelegate.updateLimboDocument(s,v))}),d.push(d3(s,c,t.documentUpdates).next(v=>{f=v.Wi,m=v.zi})),!i.isEqual(Lt.min())){const v=e.Cs.getLastRemoteSnapshotVersion(s).next(E=>e.Cs.setTargetsMetadata(s,s.currentSequenceNumber,i));d.push(v)}return ge.waitFor(d).next(()=>c.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,f,m)).next(()=>f)}).then(s=>(e.Ui=r,s))}function d3(n,t,e){let i=tn(),r=tn();return e.forEach(s=>i=i.add(s)),t.getEntries(n,i).next(s=>{let c=aa();return e.forEach((d,f)=>{const m=s.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(r=r.add(d)),f.isNoDocument()&&f.version.isEqual(Lt.min())?(t.removeEntry(d,f.readTime),c=c.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||0===f.version.compareTo(m.version)&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(d,f)):qe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{Wi:c,zi:r}})}function s7(n,t){const e=at(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function yy(n,t){const e=at(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Cs.getTargetData(i,t).next(s=>s?(r=s,ge.resolve(r)):e.Cs.allocateTargetId(i).next(c=>(r=new bf(t,c,0,i.currentSequenceNumber),e.Cs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ui.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ui=e.Ui.insert(i.targetId,i),e.qi.set(t,i.targetId)),i})}function vy(n,t,e){return zO.apply(this,arguments)}function zO(){return zO=(0,Ce.Z)(function*(n,t,e){const i=at(n),r=i.Ui.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",s,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!ff(c))throw c;qe("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ui=i.Ui.remove(t),i.qi.delete(r.target)}),zO.apply(this,arguments)}function qS(n,t,e){const i=at(n);let r=Lt.min(),s=tn();return i.persistence.runTransaction("Execute query","readonly",c=>function(d,f,m){const v=at(d),E=v.qi.get(m);return void 0!==E?ge.resolve(v.Ui.get(E)):v.Cs.getTargetData(f,m)}(i,c,oa(t)).next(d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,i.Cs.getMatchingKeysForTargetId(c,d.targetId).next(f=>{s=f})}).next(()=>i.Li.getDocumentsMatchingQuery(c,t,e?r:Lt.min(),e?s:tn())).next(d=>(p3(i,W$(t),d),{documents:d,Hi:s})))}function h3(n,t){const e=at(n),i=at(e.Cs),r=e.Ui.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",s=>i.se(s,t).next(c=>c?c.target:null))}function f3(n,t){const e=at(n),i=e.Ki.get(t)||Lt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Gi.getAllFromCollectionGroup(r,t,C$(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(p3(e,t,r),r))}function p3(n,t,e){let i=Lt.min();e.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),n.Ki.set(t,i)}function qO(){return qO=(0,Ce.Z)(function*(n,t,e,i){const r=at(n);let s=tn(),c=aa();for(const m of e){const v=t.Ji(m.metadata.name);m.document&&(s=s.add(v));const E=t.Yi(m);E.setReadTime(t.Xi(m.metadata.readTime)),c=c.insert(v,E)}const d=r.Gi.newChangeBuffer({trackRemovals:!0}),f=yield yy(r,(m=i,oa(ly(Tn.fromString(`__bundle__/docs/${m}`)))));var m;return r.persistence.runTransaction("Apply bundle documents","readwrite",m=>d3(m,d,c).next(v=>(d.apply(m),v)).next(v=>r.Cs.removeMatchingKeysForTargetId(m,f.targetId).next(()=>r.Cs.addMatchingKeys(m,s,f.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(m,v.Wi,v.zi)).next(()=>v.Wi)))}),qO.apply(this,arguments)}function a7(n,t){return ZO.apply(this,arguments)}function ZO(){return ZO=(0,Ce.Z)(function*(n,t,e=tn()){const i=yield yy(n,oa(NO(t.bundledQuery))),r=at(n);return r.persistence.runTransaction("Save named query","readwrite",s=>{const c=ns(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.Ns.saveNamedQuery(s,t);const d=i.withResumeToken(Vr.EMPTY_BYTE_STRING,c);return r.Ui=r.Ui.insert(d.targetId,d),r.Cs.updateTargetData(s,d).next(()=>r.Cs.removeMatchingKeysForTargetId(s,i.targetId)).next(()=>r.Cs.addMatchingKeys(s,e,i.targetId)).next(()=>r.Ns.saveNamedQuery(s,t))})}),ZO.apply(this,arguments)}function m3(n,t){return`firestore_clients_${n}_${t}`}function g3(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function WO(n,t){return`firestore_targets_${n}_${t}`}class ZS{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Zi(t,e,i){const r=JSON.parse(i);let s,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(s=new $e(r.error.code,r.error.message))),c?new ZS(t,e,r.state,s):(vr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class j0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Zi(t,e){const i=JSON.parse(e);let r,s="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code,s&&(r=new $e(i.error.code,i.error.message))),s?new j0(t,i.state,r):(vr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}tr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class WS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Zi(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,s=PS();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=k$(i.activeTargetIds[c]),s=s.add(i.activeTargetIds[c]);return r?new WS(t,s):(vr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class YO{constructor(t,e){this.clientId=t,this.onlineState=e}static Zi(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new YO(e.clientId,e.onlineState):(vr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class KO{constructor(){this.activeTargetIds=PS()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QO{constructor(t,e,i,r,s){this.window=t,this.Hs=e,this.persistenceKey=i,this.sr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new rr(jt),this.started=!1,this.cr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ar=m3(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new KO),this.lr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(d){return`firestore_bundle_loaded_v2_${d}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.syncEngine.vi();for(const r of e){if(r===t.sr)continue;const s=t.getItem(m3(t.persistenceKey,r));if(s){const c=WS.Zi(r,s);c&&(t.ur=t.ur.insert(c.clientId,c))}}t.gr();const i=t.storage.getItem(t.wr);if(i){const r=t.yr(i);r&&t.pr(r)}for(const r of t.cr)t.rr(r);t.cr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.hr,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(t){let e=!1;return this.ur.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Tr(t,"pending")}updateMutationState(t,e,i){this.Tr(t,e,i),this.Er(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(WO(this.persistenceKey,t));if(i){const r=j0.Zi(t,i);r&&(e=r.state)}}return this.Ar.er(t),this.gr(),e}removeLocalQueryTarget(t){this.Ar.nr(t),this.gr()}isLocalQueryTarget(t){return this.Ar.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(WO(this.persistenceKey,t))}updateQueryState(t,e,i){this.Rr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Er(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.br(t)}notifyBundleLoaded(t){this.Pr(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return qe("SharedClientState","READ",t,e),e}setItem(t,e){qe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){qe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}rr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(qe("SharedClientState","EVENT",i.key,i.newValue),i.key===this.ar)return void vr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,Ce.Z)(function*(){if(e.started){if(null!==i.key)if(e.lr.test(i.key)){if(null==i.newValue){const r=e.vr(i.key);return e.Vr(r,null)}{const r=e.Sr(i.key,i.newValue);if(r)return e.Vr(r.clientId,r)}}else if(e.dr.test(i.key)){if(null!==i.newValue){const r=e.Dr(i.key,i.newValue);if(r)return e.Cr(r)}}else if(e._r.test(i.key)){if(null!==i.newValue){const r=e.Nr(i.key,i.newValue);if(r)return e.kr(r)}}else if(i.key===e.wr){if(null!==i.newValue){const r=e.yr(i.newValue);if(r)return e.pr(r)}}else if(i.key===e.hr){const r=function(s){let c=sa.at;if(null!=s)try{const d=JSON.parse(s);Ut("number"==typeof d),c=d}catch(d){vr("SharedClientState","Failed to read sequence number from WebStorage",d)}return c}(i.newValue);r!==sa.at&&e.sequenceNumberHandler(r)}else if(i.key===e.mr){const r=e.Mr(i.newValue);yield Promise.all(r.map(s=>e.syncEngine.Or(s)))}}else e.cr.push(i)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(t,e,i){const r=new ZS(this.currentUser,t,e,i),s=g3(this.persistenceKey,this.currentUser,t);this.setItem(s,r.tr())}Er(t){const e=g3(this.persistenceKey,this.currentUser,t);this.removeItem(e)}br(t){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:t}))}Rr(t,e,i){const r=WO(this.persistenceKey,t),s=new j0(t,e,i);this.setItem(r,s.tr())}Pr(t){const e=JSON.stringify(Array.from(t));this.setItem(this.mr,e)}vr(t){const e=this.lr.exec(t);return e?e[1]:null}Sr(t,e){const i=this.vr(t);return WS.Zi(i,e)}Dr(t,e){const i=this.dr.exec(t),r=Number(i[1]);return ZS.Zi(new es(void 0!==i[2]?i[2]:null),r,e)}Nr(t,e){const i=this._r.exec(t),r=Number(i[1]);return j0.Zi(r,e)}yr(t){return YO.Zi(t)}Mr(t){return JSON.parse(t)}Cr(t){var e=this;return(0,Ce.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.Fr(t.batchId,t.state,t.error);qe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}kr(t){return this.syncEngine.$r(t.targetId,t.state,t.error)}Vr(t,e){const i=e?this.ur.insert(t,e):this.ur.remove(t),r=this.Ir(this.ur),s=this.Ir(i),c=[],d=[];return s.forEach(f=>{r.has(f)||c.push(f)}),r.forEach(f=>{s.has(f)||d.push(f)}),this.syncEngine.Br(c,d).then(()=>{this.ur=i})}pr(t){this.ur.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Ir(t){let e=PS();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class _3{constructor(){this.Lr=new KO,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,i){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new KO,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class l7{qr(t){}shutdown(){}}class y3{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){qe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){qe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const c7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class u7{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class d7 extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.oo=(t.ssl?"https":"http")+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(t,e,i,r,s){const c=this.ao(t,e);qe("RestConnection","Sending: ",c,i);const d={};return this.ho(d,r,s),this.lo(t,c,d,i).then(f=>(qe("RestConnection","Received: ",f),f),f=>{throw bm("RestConnection",`${t} failed with error: `,f,"url: ",c,"request:",i),f})}fo(t,e,i,r,s,c){return this.co(t,e,i,r,s)}ho(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+iy,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,s)=>t[s]=r),i&&i.headers.forEach((r,s)=>t[s]=r)}ao(t,e){return`${this.oo}/v1/${e}:${c7[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}lo(t,e,i,r){return new Promise((s,c)=>{const d=new c8;d.listenOnce(o8.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case fO.NO_ERROR:const m=d.getResponseJson();qe("Connection","XHR received:",JSON.stringify(m)),s(m);break;case fO.TIMEOUT:qe("Connection",'RPC "'+t+'" timed out'),c(new $e(be.DEADLINE_EXCEEDED,"Request time out"));break;case fO.HTTP_ERROR:const v=d.getStatus();if(qe("Connection",'RPC "'+t+'" failed with status:',v,"response text:",d.getResponseText()),v>0){const E=d.getResponseJson().error;if(E&&E.status&&E.message){const A=function(M){const P=M.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf(P)>=0?P:be.UNKNOWN}(E.status);c(new $e(A,E.message))}else c(new $e(be.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new $e(be.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{qe("Connection",'RPC "'+t+'" completed.')}});const f=JSON.stringify(r);d.send(e,"POST",f,i,15)})}_o(t,e,i){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=r8(),c=s8(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new l8({})),this.ho(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const f=r.join("");qe("Connection","Creating WebChannel: "+f,d);const m=s.createWebChannel(f,d);let v=!1,E=!1;const A=new u7({Hr:P=>{E?qe("Connection","Not sending because WebChannel is closed:",P):(v||(qe("Connection","Opening WebChannel transport."),m.open(),v=!0),qe("Connection","WebChannel sending:",P),m.send(P))},Jr:()=>m.close()}),M=(P,B,J)=>{P.listen(B,oe=>{try{J(oe)}catch(Ve){setTimeout(()=>{throw Ve},0)}})};return M(m,wS.EventType.OPEN,()=>{E||qe("Connection","WebChannel transport opened.")}),M(m,wS.EventType.CLOSE,()=>{E||(E=!0,qe("Connection","WebChannel transport closed"),A.io())}),M(m,wS.EventType.ERROR,P=>{E||(E=!0,bm("Connection","WebChannel transport errored:",P),A.io(new $e(be.UNAVAILABLE,"The operation could not be completed")))}),M(m,wS.EventType.MESSAGE,P=>{var B;if(!E){const J=P.data[0];Ut(!!J);const oe=J,Ve=oe.error||(null===(B=oe[0])||void 0===B?void 0:B.error);if(Ve){qe("Connection","WebChannel received error:",Ve);const xe=Ve.status;let Ie=function(ut){const Vt=xr[ut];if(void 0!==Vt)return uH(Vt)}(xe),ze=Ve.message;void 0===Ie&&(Ie=be.INTERNAL,ze="Unknown error status: "+xe+" with message "+Ve.message),E=!0,A.io(new $e(Ie,ze)),m.close()}else qe("Connection","WebChannel received:",J),A.ro(J)}}),M(c,a8.STAT_EVENT,P=>{P.stat===g$.PROXY?qe("Connection","Detected buffering proxy"):P.stat===g$.NOPROXY&&qe("Connection","Detected no buffering proxy")}),setTimeout(()=>{A.so()},0),A}}function v3(){return typeof window<"u"?window:null}function YS(){return typeof document<"u"?document:null}function G0(n){return new nK(n,!0)}class JO{constructor(t,e,i=1e3,r=1.5,s=6e4){this.Hs=t,this.timerId=e,this.wo=i,this.mo=r,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(t){this.cancel();const e=Math.floor(this.po+this.Ro()),i=Math.max(0,Date.now()-this.To),r=Math.max(0,e-i);r>0&&qe("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.po} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.To=Date.now(),t())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class b3{constructor(t,e,i,r,s,c,d,f){this.Hs=t,this.Po=i,this.vo=r,this.Vo=s,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new JO(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var t=this;return(0,Ce.Z)(function*(){t.No()&&(yield t.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(t){this.Lo(),this.stream.send(t)}$o(){var t=this;return(0,Ce.Z)(function*(){if(t.ko())return t.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(t,e){var i=this;return(0,Ce.Z)(function*(){i.Lo(),i.Uo(),i.xo.cancel(),i.So++,4!==t?i.xo.reset():e&&e.code===be.RESOURCE_EXHAUSTED?(vr(e.toString()),vr("Using maximum backoff delay to prevent overloading the backend."),i.xo.Eo()):e&&e.code===be.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.qo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Zr(e)})()}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.So===e&&this.Go(i,r)},i=>{t(()=>{const r=new $e(be.UNKNOWN,"Fetching auth token failed: "+i.message);return this.Qo(r)})})}Go(t,e){const i=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr(()=>{i(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{i(()=>this.Qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Mo(){var t=this;this.state=5,this.xo.Ao((0,Ce.Z)(function*(){t.state=0,t.start()}))}Qo(t){return qe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget(()=>this.So===t?e():(qe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class h7 extends b3{constructor(t,e,i,r,s,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.It=s}jo(t,e){return this.Vo._o("Listen",t,e)}onMessage(t){this.xo.reset();const e=function sK(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(f=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===f?1:"REMOVE"===f?2:"CURRENT"===f?3:"RESET"===f?4:gt(),r=t.targetChange.targetIds||[],s=function(f,m){return f.gt?(Ut(void 0===m||"string"==typeof m),Vr.fromBase64String(m||"")):(Ut(void 0===m||m instanceof Uint8Array),Vr.fromUint8Array(m||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,d=c&&function(f){const m=void 0===f.code?be.UNKNOWN:uH(f.code);return new $e(m,f.message||"")}(c);e=new mH(i,r,s,d||null)}else if("documentChange"in t){const i=t.documentChange,r=Du(n,i.document.name),s=ns(i.document.updateTime),c=new bs({mapValue:{fields:i.document.fields}}),d=di.newFoundDocument(r,s,c);e=new FS(i.targetIds||[],i.removedTargetIds||[],d.key,d)}else if("documentDelete"in t){const i=t.documentDelete,r=Du(n,i.document),s=i.readTime?ns(i.readTime):Lt.min(),c=di.newNoDocument(r,s);e=new FS([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Du(n,i.document);e=new FS([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return gt();{const i=t.filter,s=new W8(i.count||0);e=new pH(i.targetId,s)}}var f;return e}(this.It,t),i=function(r){if(!("targetChange"in r))return Lt.min();const s=r.targetChange;return s.targetIds&&s.targetIds.length?Lt.min():s.readTime?ns(s.readTime):Lt.min()}(t);return this.listener.Wo(e,i)}zo(t){const e={};e.database=P0(this.It),e.addTarget=function(r,s){let c;const d=s.target;return c=AS(d)?{documents:IH(r,d)}:{query:SH(r,d)},c.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?c.resumeToken=vH(r,s.resumeToken):s.snapshotVersion.compareTo(Lt.min())>0&&(c.readTime=R0(r,s.snapshotVersion.toTimestamp())),c}(this.It,t);const i=function aK(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Bo(e)}Ho(t){const e={};e.database=P0(this.It),e.removeTarget=t,this.Bo(e)}}class f7 extends b3{constructor(t,e,i,r,s,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.It=s,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.Vo._o("Write",t,e)}onMessage(t){if(Ut(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function oK(n,t){return n&&n.length>0?(Ut(void 0!==t),n.map(e=>function(i,r){let s=ns(i.updateTime?i.updateTime:r);return s.isEqual(Lt.min())&&(s=ns(r)),new z8(s,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ns(t.commitTime);return this.listener.Zo(i,e)}return Ut(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=P0(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>F0(this.It,i))};this.Bo(e)}}class p7 extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.Vo=i,this.It=r,this.nu=!1}su(){if(this.nu)throw new $e(be.FAILED_PRECONDITION,"The client has already been terminated.")}co(t,e,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,s])=>this.Vo.co(t,e,i,r,s)).catch(r=>{throw"FirebaseError"===r.name?(r.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new $e(be.UNKNOWN,r.toString())})}fo(t,e,i,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.Vo.fo(t,e,i,s,c,r)).catch(s=>{throw"FirebaseError"===s.name?(s.code===be.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $e(be.UNKNOWN,s.toString())})}terminate(){this.nu=!0}}class m7{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(vr(e),this.ou=!1):qe("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class g7{constructor(t,e,i,r,s){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=s,this.mu.qr(d=>{i.enqueueAndForget((0,Ce.Z)(function*(){var f;Ef(c)&&(qe("RemoteStore","Restarting streams for network reachability change."),yield(f=(0,Ce.Z)(function*(m){const v=at(m);v._u.add(4),yield by(v),v.gu.set("Unknown"),v._u.delete(4),yield z0(v)}),function(m){return f.apply(this,arguments)})(c))}))}),this.gu=new m7(i,r)}}function z0(n){return XO.apply(this,arguments)}function XO(){return XO=(0,Ce.Z)(function*(n){if(Ef(n))for(const t of n.wu)yield t(!0)}),XO.apply(this,arguments)}function by(n){return eP.apply(this,arguments)}function eP(){return eP=(0,Ce.Z)(function*(n){for(const t of n.wu)yield t(!1)}),eP.apply(this,arguments)}function KS(n,t){const e=at(n);e.du.has(t.targetId)||(e.du.set(t.targetId,t),iP(e)?nP(e):Cy(e).ko()&&tP(e,t))}function q0(n,t){const e=at(n),i=Cy(e);e.du.delete(t),i.ko()&&w3(e,t),0===e.du.size&&(i.ko()?i.Fo():Ef(e)&&e.gu.set("Unknown"))}function tP(n,t){n.yu.Ot(t.targetId),Cy(n).zo(t)}function w3(n,t){n.yu.Ot(t),Cy(n).Ho(t)}function nP(n){n.yu=new X8({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),se:t=>n.du.get(t)||null}),Cy(n).start(),n.gu.uu()}function iP(n){return Ef(n)&&!Cy(n).No()&&n.du.size>0}function Ef(n){return 0===at(n)._u.size}function C3(n){n.yu=void 0}function _7(n){return rP.apply(this,arguments)}function rP(){return rP=(0,Ce.Z)(function*(n){n.du.forEach((t,e)=>{tP(n,t)})}),rP.apply(this,arguments)}function y7(n,t){return sP.apply(this,arguments)}function sP(){return sP=(0,Ce.Z)(function*(n,t){C3(n),iP(n)?(n.gu.hu(t),nP(n)):n.gu.set("Unknown")}),sP.apply(this,arguments)}function v7(n,t,e){return oP.apply(this,arguments)}function oP(){return oP=(0,Ce.Z)(function*(n,t,e){if(n.gu.set("Online"),t instanceof mH&&2===t.state&&t.cause)try{yield(i=(0,Ce.Z)(function*(r,s){const c=s.cause;for(const d of s.targetIds)r.du.has(d)&&(yield r.remoteSyncer.rejectListen(d,c),r.du.delete(d),r.yu.removeTarget(d))}),function(r,s){return i.apply(this,arguments)})(n,t)}catch(i){qe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield QS(n,i)}else if(t instanceof FS?n.yu.Gt(t):t instanceof pH?n.yu.Yt(t):n.yu.Wt(t),!e.isEqual(Lt.min()))try{const i=yield u3(n.localStore);e.compareTo(i)>=0&&(yield function(r,s){const c=r.yu.te(s);return c.targetChanges.forEach((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const m=r.du.get(f);m&&r.du.set(f,m.withResumeToken(d.resumeToken,s))}}),c.targetMismatches.forEach(d=>{const f=r.du.get(d);if(!f)return;r.du.set(d,f.withResumeToken(Vr.EMPTY_BYTE_STRING,f.snapshotVersion)),w3(r,d);const m=new bf(f.target,d,1,f.sequenceNumber);tP(r,m)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){qe("RemoteStore","Failed to raise snapshot:",i),yield QS(n,i)}var i}),oP.apply(this,arguments)}function QS(n,t,e){return aP.apply(this,arguments)}function aP(){return aP=(0,Ce.Z)(function*(n,t,e){if(!ff(t))throw t;n._u.add(1),yield by(n),n.gu.set("Offline"),e||(e=()=>u3(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){qe("RemoteStore","Retrying IndexedDB access"),yield e(),n._u.delete(1),yield z0(n)}))}),aP.apply(this,arguments)}function E3(n,t){return t().catch(e=>QS(n,e,t))}function wy(n){return lP.apply(this,arguments)}function lP(){return lP=(0,Ce.Z)(function*(n){const t=at(n),e=Df(t);let i=t.fu.length>0?t.fu[t.fu.length-1].batchId:-1;for(;b7(t);)try{const r=yield s7(t.localStore,i);if(null===r){0===t.fu.length&&e.Fo();break}i=r.batchId,w7(t,r)}catch(r){yield QS(t,r)}D3(t)&&I3(t)}),lP.apply(this,arguments)}function b7(n){return Ef(n)&&n.fu.length<10}function w7(n,t){n.fu.push(t);const e=Df(n);e.ko()&&e.Yo&&e.Xo(t.mutations)}function D3(n){return Ef(n)&&!Df(n).No()&&n.fu.length>0}function I3(n){Df(n).start()}function C7(n){return cP.apply(this,arguments)}function cP(){return cP=(0,Ce.Z)(function*(n){Df(n).eu()}),cP.apply(this,arguments)}function E7(n){return uP.apply(this,arguments)}function uP(){return uP=(0,Ce.Z)(function*(n){const t=Df(n);for(const e of n.fu)t.Xo(e.mutations)}),uP.apply(this,arguments)}function D7(n,t,e){return dP.apply(this,arguments)}function dP(){return dP=(0,Ce.Z)(function*(n,t,e){const i=n.fu.shift(),r=PO.from(i,t,e);yield E3(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield wy(n)}),dP.apply(this,arguments)}function I7(n,t){return hP.apply(this,arguments)}function hP(){return hP=(0,Ce.Z)(function*(n,t){var e;t&&Df(n).Yo&&(yield(e=(0,Ce.Z)(function*(i,r){if(cH(s=r.code)&&s!==be.ABORTED){const c=i.fu.shift();Df(i).Oo(),yield E3(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield wy(i)}var s}),function(i,r){return e.apply(this,arguments)})(n,t)),D3(n)&&I3(n)}),hP.apply(this,arguments)}function S3(n,t){return fP.apply(this,arguments)}function fP(){return fP=(0,Ce.Z)(function*(n,t){const e=at(n);e.asyncQueue.verifyOperationInProgress(),qe("RemoteStore","RemoteStore received new credentials");const i=Ef(e);e._u.add(3),yield by(e),i&&e.gu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e._u.delete(3),yield z0(e)}),fP.apply(this,arguments)}function pP(n,t){return mP.apply(this,arguments)}function mP(){return mP=(0,Ce.Z)(function*(n,t){const e=at(n);t?(e._u.delete(2),yield z0(e)):t||(e._u.add(2),yield by(e),e.gu.set("Unknown"))}),mP.apply(this,arguments)}function Cy(n){return n.pu||(n.pu=function(t,e,i){const r=at(t);return r.su(),new h7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:_7.bind(null,n),Zr:y7.bind(null,n),Wo:v7.bind(null,n)}),n.wu.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.pu.Oo(),iP(n)?nP(n):n.gu.set("Unknown")):(yield n.pu.stop(),C3(n))});return function(e){return t.apply(this,arguments)}}())),n.pu}function Df(n){return n.Iu||(n.Iu=function(t,e,i){const r=at(t);return r.su(),new f7(e,r.Vo,r.authCredentials,r.appCheckCredentials,r.It,i)}(n.datastore,n.asyncQueue,{Yr:C7.bind(null,n),Zr:I7.bind(null,n),tu:E7.bind(null,n),Zo:D7.bind(null,n)}),n.wu.push(function(){var t=(0,Ce.Z)(function*(e){e?(n.Iu.Oo(),yield wy(n)):(yield n.Iu.stop(),n.fu.length>0&&(qe("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Iu}class gP{constructor(t,e,i,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,s){const c=Date.now()+i,d=new gP(t,e,c,r,s);return d.start(i),d}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new $e(be.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ey(n,t){if(vr("AsyncQueue",`${t}: ${n}`),ff(n))return new $e(be.UNAVAILABLE,`${t}: ${n}`);throw n}class Dy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||rt.comparator(e.key,i.key):(e,i)=>rt.comparator(e.key,i.key),this.keyedMap=A0(),this.sortedSet=new rr(this.comparator)}static emptySet(t){return new Dy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Dy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Dy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class T3{constructor(){this.Tu=new rr(rt.comparator)}track(t){const e=t.doc.key,i=this.Tu.get(e);i?0!==t.type&&3===i.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==i.type?this.Tu=this.Tu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Tu=this.Tu.remove(e):1===t.type&&2===i.type?this.Tu=this.Tu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):gt():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Iy{constructor(t,e,i,r,s,c,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=f}static fromInitialDocuments(t,e,i,r){const s=[];return e.forEach(c=>{s.push({type:0,doc:c})}),new Iy(t,e,Dy.emptySet(e),s,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&I0(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class S7{constructor(){this.Au=void 0,this.listeners=[]}}class T7{constructor(){this.queries=new vf(t=>Z$(t),I0),this.onlineState="Unknown",this.Ru=new Set}}function _P(n,t){return yP.apply(this,arguments)}function yP(){return yP=(0,Ce.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1,s=e.queries.get(i);if(s||(r=!0,s=new S7),r)try{s.Au=yield e.onListen(i)}catch(c){const d=Ey(c,`Initialization of query '${SO(t.query)}' failed`);return void t.onError(d)}e.queries.set(i,s),s.listeners.push(t),t.bu(e.onlineState),s.Au&&t.Pu(s.Au)&&wP(e)}),yP.apply(this,arguments)}function vP(n,t){return bP.apply(this,arguments)}function bP(){return bP=(0,Ce.Z)(function*(n,t){const e=at(n),i=t.query;let r=!1;const s=e.queries.get(i);if(s){const c=s.listeners.indexOf(t);c>=0&&(s.listeners.splice(c,1),r=0===s.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),bP.apply(this,arguments)}function A7(n,t){const e=at(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const d of c.listeners)d.Pu(r)&&(i=!0);c.Au=r}}i&&wP(e)}function x7(n,t,e){const i=at(n),r=i.queries.get(t);if(r)for(const s of r.listeners)s.onError(e);i.queries.delete(t)}function wP(n){n.Ru.forEach(t=>{t.next()})}class CP{constructor(t,e,i){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=i||{}}Pu(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Iy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){return!t.fromCache||!(this.options.Nu&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}Du(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(t){t=Iy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Vu=!0,this.vu.next(t)}}class M7{constructor(t,e){this.payload=t,this.byteLength=e}ku(){return"metadata"in this.payload}}class A3{constructor(t){this.It=t}Ji(t){return Du(this.It,t)}Yi(t){return t.metadata.exists?DH(this.It,t.document,!1):di.newNoDocument(this.Ji(t.metadata.name),this.Xi(t.metadata.readTime))}Xi(t){return ns(t)}}class k7{constructor(t,e,i){this.Mu=t,this.localStore=e,this.It=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=x3(t)}Ou(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Tn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Fu(t){const e=new Map,i=new A3(this.It);for(const r of t)if(r.metadata.queries){const s=i.Ji(r.metadata.name);for(const c of r.metadata.queries){const d=(e.get(c)||tn()).add(s);e.set(c,d)}}return e}complete(){var t=this;return(0,Ce.Z)(function*(){const e=yield function o7(n,t,e,i){return qO.apply(this,arguments)}(t.localStore,new A3(t.It),t.documents,t.Mu.id),i=t.Fu(t.documents);for(const r of t.queries)yield a7(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,$u:t.collectionGroups,Bu:e}})()}}function x3(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class M3{constructor(t){this.key=t}}class k3{constructor(t){this.key=t}}class R3{constructor(t,e){this.query=t,this.Lu=e,this.Uu=null,this.current=!1,this.qu=tn(),this.mutatedKeys=tn(),this.Ku=Y$(t),this.Gu=new Dy(this.Ku)}get Qu(){return this.Lu}ju(t,e){const i=e?e.Wu:new T3,r=e?e.Gu:this.Gu;let s=e?e.mutatedKeys:this.mutatedKeys,c=r,d=!1;const f="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,m="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((v,E)=>{const A=r.get(v),M=TO(this.query,E)?E:null,P=!!A&&this.mutatedKeys.has(A.key),B=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let J=!1;A&&M?A.data.isEqual(M.data)?P!==B&&(i.track({type:3,doc:M}),J=!0):this.zu(A,M)||(i.track({type:2,doc:M}),J=!0,(f&&this.Ku(M,f)>0||m&&this.Ku(M,m)<0)&&(d=!0)):!A&&M?(i.track({type:0,doc:M}),J=!0):A&&!M&&(i.track({type:1,doc:A}),J=!0,(f||m)&&(d=!0)),J&&(M?(c=c.add(M),s=B?s.add(v):s.delete(v)):(c=c.delete(v),s=s.delete(v)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const v="F"===this.query.limitType?c.last():c.first();c=c.delete(v.key),s=s.delete(v.key),i.track({type:1,doc:v})}return{Gu:c,Wu:i,$i:d,mutatedKeys:s}}zu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Gu;this.Gu=t.Gu,this.mutatedKeys=t.mutatedKeys;const s=t.Wu.Eu();s.sort((m,v)=>function(E,A){const M=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return M(E)-M(A)}(m.type,v.type)||this.Ku(m.doc,v.doc)),this.Hu(i);const c=e?this.Ju():[],d=0===this.qu.size&&this.current?1:0,f=d!==this.Uu;return this.Uu=d,0!==s.length||f?{snapshot:new Iy(this.query,t.Gu,r,s,t.mutatedKeys,0===d,f,!1),Yu:c}:{Yu:c}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new T3,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(t){return!this.Lu.has(t)&&!!this.Gu.has(t)&&!this.Gu.get(t).hasLocalMutations}Hu(t){t&&(t.addedDocuments.forEach(e=>this.Lu=this.Lu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Lu=this.Lu.delete(e)),this.current=t.current)}Ju(){if(!this.current)return[];const t=this.qu;this.qu=tn(),this.Gu.forEach(i=>{this.Xu(i.key)&&(this.qu=this.qu.add(i.key))});const e=[];return t.forEach(i=>{this.qu.has(i)||e.push(new k3(i))}),this.qu.forEach(i=>{t.has(i)||e.push(new M3(i))}),e}Zu(t){this.Lu=t.Hi,this.qu=tn();const e=this.ju(t.documents);return this.applyChanges(e,!0)}tc(){return Iy.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class R7{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class O7{constructor(t){this.key=t,this.ec=!1}}class P7{constructor(t,e,i,r,s,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=c,this.nc={},this.sc=new vf(d=>Z$(d),I0),this.ic=new Map,this.rc=new Set,this.oc=new rr(rt.comparator),this.uc=new Map,this.cc=new BO,this.ac={},this.hc=new Map,this.lc=Nm.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function F7(n,t){return EP.apply(this,arguments)}function EP(){return EP=(0,Ce.Z)(function*(n,t){const e=qP(n);let i,r;const s=e.sc.get(t);if(s)i=s.targetId,e.sharedClientState.addLocalQueryTarget(i),r=s.view.tc();else{const c=yield yy(e.localStore,oa(t));e.isPrimaryClient&&KS(e.remoteStore,c);const d=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield DP(e,t,i,"current"===d)}return r}),EP.apply(this,arguments)}function DP(n,t,e,i){return IP.apply(this,arguments)}function IP(){return IP=(0,Ce.Z)(function*(n,t,e,i){n.dc=(v,E,A)=>{return(M=(0,Ce.Z)(function*(P,B,J,oe){let Ve=B.view.ju(J);Ve.$i&&(Ve=yield qS(P.localStore,B.query,!1).then(({documents:ze})=>B.view.ju(ze,Ve)));const xe=oe&&oe.targetChanges.get(B.targetId),Ie=B.view.applyChanges(Ve,P.isPrimaryClient,xe);return FP(P,B.targetId,Ie.Yu),Ie.snapshot}),function(P,B,J,oe){return M.apply(this,arguments)})(n,v,E,A);var M};const r=yield qS(n.localStore,t,!0),s=new R3(t,r.Hi),c=s.ju(r.documents),d=k0.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),f=s.applyChanges(c,n.isPrimaryClient,d);FP(n,e,f.Yu);const m=new R7(t,e,s);return n.sc.set(t,m),n.ic.has(e)?n.ic.get(e).push(t):n.ic.set(e,[t]),f.snapshot}),IP.apply(this,arguments)}function N7(n,t){return SP.apply(this,arguments)}function SP(){return SP=(0,Ce.Z)(function*(n,t){const e=at(n),i=e.sc.get(t),r=e.ic.get(i.targetId);if(r.length>1)return e.ic.set(i.targetId,r.filter(s=>!I0(s,t))),void e.sc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),q0(e.remoteStore,i.targetId),Sy(e,i.targetId)}).catch(hf))):(Sy(e,i.targetId),yield vy(e.localStore,i.targetId,!0))}),SP.apply(this,arguments)}function TP(){return TP=(0,Ce.Z)(function*(n,t,e){const i=ZP(n);try{const r=yield function(s,c){const d=at(s),f=Ri.now(),m=c.reduce((A,M)=>A.add(M.key),tn());let v,E;return d.persistence.runTransaction("Locally write mutations","readwrite",A=>{let M=aa(),P=tn();return d.Gi.getEntries(A,m).next(B=>{M=B,M.forEach((J,oe)=>{oe.isValidDocument()||(P=P.add(J))})}).next(()=>d.localDocuments.getOverlayedDocuments(A,M)).next(B=>{v=B;const J=[];for(const oe of c){const Ve=Z8(oe,v.get(oe.key).overlayedDocument);null!=Ve&&J.push(new Pd(oe.key,Ve,V$(Ve.value.mapValue),Oi.exists(!0)))}return d.mutationQueue.addMutationBatch(A,f,J,c)}).next(B=>{E=B;const J=B.applyToLocalDocumentSet(v,P);return d.documentOverlayCache.saveOverlays(A,B.batchId,J)})}).then(()=>({batchId:E.batchId,changes:hH(v)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(s,c,d){let f=s.ac[s.currentUser.toKey()];f||(f=new rr(jt)),f=f.insert(c,d),s.ac[s.currentUser.toKey()]=f}(i,r.batchId,e),yield Fd(i,r.changes),yield wy(i.remoteStore)}catch(r){const s=Ey(r,"Failed to persist write");e.reject(s)}}),TP.apply(this,arguments)}function O3(n,t){return AP.apply(this,arguments)}function AP(){return AP=(0,Ce.Z)(function*(n,t){const e=at(n);try{const i=yield r7(e.localStore,t);t.targetChanges.forEach((r,s)=>{const c=e.uc.get(s);c&&(Ut(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.ec=!0:r.modifiedDocuments.size>0?Ut(c.ec):r.removedDocuments.size>0&&(Ut(c.ec),c.ec=!1))}),yield Fd(e,i,t)}catch(i){yield hf(i)}}),AP.apply(this,arguments)}function P3(n,t,e){const i=at(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.sc.forEach((s,c)=>{const d=c.view.bu(t);d.snapshot&&r.push(d.snapshot)}),function(s,c){const d=at(s);d.onlineState=c;let f=!1;d.queries.forEach((m,v)=>{for(const E of v.listeners)E.bu(c)&&(f=!0)}),f&&wP(d)}(i.eventManager,t),r.length&&i.nc.Wo(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function V7(n,t,e){return xP.apply(this,arguments)}function xP(){return xP=(0,Ce.Z)(function*(n,t,e){const i=at(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.uc.get(t),s=r&&r.key;if(s){let c=new rr(rt.comparator);c=c.insert(s,di.newNoDocument(s,Lt.min()));const d=tn().add(s),f=new M0(Lt.min(),new Map,new ei(jt),c,d);yield O3(i,f),i.oc=i.oc.remove(s),i.uc.delete(t),NP(i)}else yield vy(i.localStore,t,!1).then(()=>Sy(i,t,e)).catch(hf)}),xP.apply(this,arguments)}function B7(n,t){return MP.apply(this,arguments)}function MP(){return MP=(0,Ce.Z)(function*(n,t){const e=at(n),i=t.batch.batchId;try{const r=yield i7(e.localStore,t);PP(e,i,null),OP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Fd(e,r)}catch(r){yield hf(r)}}),MP.apply(this,arguments)}function U7(n,t,e){return kP.apply(this,arguments)}function kP(){return kP=(0,Ce.Z)(function*(n,t,e){const i=at(n);try{const r=yield function(s,c){const d=at(s);return d.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let m;return d.mutationQueue.lookupMutationBatch(f,c).next(v=>(Ut(null!==v),m=v.keys(),d.mutationQueue.removeMutationBatch(f,v))).next(()=>d.mutationQueue.performConsistencyCheck(f)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(f,m,c)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,m)).next(()=>d.localDocuments.getDocuments(f,m))})}(i.localStore,t);PP(i,t,e),OP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Fd(i,r)}catch(r){yield hf(r)}}),kP.apply(this,arguments)}function RP(){return RP=(0,Ce.Z)(function*(n,t){const e=at(n);Ef(e.remoteStore)||qe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(s){const c=at(s);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",d=>c.mutationQueue.getHighestUnacknowledgedBatchId(d))}(e.localStore);if(-1===i)return void t.resolve();const r=e.hc.get(i)||[];r.push(t),e.hc.set(i,r)}catch(i){const r=Ey(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),RP.apply(this,arguments)}function OP(n,t){(n.hc.get(t)||[]).forEach(e=>{e.resolve()}),n.hc.delete(t)}function PP(n,t,e){const i=at(n);let r=i.ac[i.currentUser.toKey()];if(r){const s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),i.ac[i.currentUser.toKey()]=r}}function Sy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ic.get(t))n.sc.delete(i),e&&n.nc._c(i,e);n.ic.delete(t),n.isPrimaryClient&&n.cc.ls(t).forEach(i=>{n.cc.containsKey(i)||F3(n,i)})}function F3(n,t){n.rc.delete(t.path.canonicalString());const e=n.oc.get(t);null!==e&&(q0(n.remoteStore,e),n.oc=n.oc.remove(t),n.uc.delete(e),NP(n))}function FP(n,t,e){for(const i of e)i instanceof M3?(n.cc.addReference(i.key,t),H7(n,i)):i instanceof k3?(qe("SyncEngine","Document no longer in limbo: "+i.key),n.cc.removeReference(i.key,t),n.cc.containsKey(i.key)||F3(n,i.key)):gt()}function H7(n,t){const e=t.key,i=e.path.canonicalString();n.oc.get(e)||n.rc.has(i)||(qe("SyncEngine","New document in limbo: "+e),n.rc.add(i),NP(n))}function NP(n){for(;n.rc.size>0&&n.oc.size<n.maxConcurrentLimboResolutions;){const t=n.rc.values().next().value;n.rc.delete(t);const e=new rt(Tn.fromString(t)),i=n.lc.next();n.uc.set(i,new O7(e)),n.oc=n.oc.insert(e,i),KS(n.remoteStore,new bf(oa(ly(e.path)),i,2,sa.at))}}function Fd(n,t,e){return LP.apply(this,arguments)}function LP(){return LP=(0,Ce.Z)(function*(n,t,e){const i=at(n),r=[],s=[],c=[];var d;i.sc.isEmpty()||(i.sc.forEach((d,f)=>{c.push(i.dc(f,t,e).then(m=>{if(m){i.isPrimaryClient&&i.sharedClientState.updateQueryState(f.targetId,m.fromCache?"not-current":"current"),r.push(m);const v=jO.Ci(f.targetId,m);s.push(v)}}))}),yield Promise.all(c),i.nc.Wo(r),yield(d=(0,Ce.Z)(function*(f,m){const v=at(f);try{yield v.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>ge.forEach(m,A=>ge.forEach(A.Si,M=>v.persistence.referenceDelegate.addReference(E,A.targetId,M)).next(()=>ge.forEach(A.Di,M=>v.persistence.referenceDelegate.removeReference(E,A.targetId,M)))))}catch(E){if(!ff(E))throw E;qe("LocalStore","Failed to update sequence numbers: "+E)}for(const E of m){const A=E.targetId;if(!E.fromCache){const M=v.Ui.get(A),B=M.withLastLimboFreeSnapshotVersion(M.snapshotVersion);v.Ui=v.Ui.insert(A,B)}}}),function(f,m){return d.apply(this,arguments)})(i.localStore,s))}),LP.apply(this,arguments)}function j7(n,t){return VP.apply(this,arguments)}function VP(){return VP=(0,Ce.Z)(function*(n,t){const e=at(n);if(!e.currentUser.isEqual(t)){qe("SyncEngine","User change. New user:",t.toKey());const i=yield c3(e.localStore,t);e.currentUser=t,(r=e).hc.forEach(c=>{c.forEach(d=>{d.reject(new $e(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.hc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Fd(e,i.ji)}var r}),VP.apply(this,arguments)}function G7(n,t){const e=at(n),i=e.uc.get(t);if(i&&i.ec)return tn().add(i.key);{let r=tn();const s=e.ic.get(t);if(!s)return r;for(const c of s){const d=e.sc.get(c);r=r.unionWith(d.view.Qu)}return r}}function z7(n,t){return BP.apply(this,arguments)}function BP(){return BP=(0,Ce.Z)(function*(n,t){const e=at(n),i=yield qS(e.localStore,t.query,!0),r=t.view.Zu(i);return e.isPrimaryClient&&FP(e,t.targetId,r.Yu),r}),BP.apply(this,arguments)}function q7(n,t){return UP.apply(this,arguments)}function UP(){return UP=(0,Ce.Z)(function*(n,t){const e=at(n);return f3(e.localStore,t).then(i=>Fd(e,i))}),UP.apply(this,arguments)}function Z7(n,t,e,i){return $P.apply(this,arguments)}function $P(){return $P=(0,Ce.Z)(function*(n,t,e,i){const r=at(n),s=yield function(c,d){const f=at(c),m=at(f.mutationQueue);return f.persistence.runTransaction("Lookup mutation documents","readonly",v=>m.Tn(v,d).next(E=>E?f.localDocuments.getDocuments(v,E):ge.resolve(null)))}(r.localStore,t);var d;null!==s?("pending"===e?yield wy(r.remoteStore):"acknowledged"===e||"rejected"===e?(PP(r,t,i||null),OP(r,t),d=t,at(at(r.localStore).mutationQueue).An(d)):gt(),yield Fd(r,s)):qe("SyncEngine","Cannot apply mutation batch with id: "+t)}),$P.apply(this,arguments)}function HP(){return HP=(0,Ce.Z)(function*(n,t){const e=at(n);if(qP(e),ZP(e),!0===t&&!0!==e.fc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield N3(e,i.toArray());e.fc=!0,yield pP(e.remoteStore,!0);for(const s of r)KS(e.remoteStore,s)}else if(!1===t&&!1!==e.fc){const i=[];let r=Promise.resolve();e.ic.forEach((s,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(Sy(e,c),vy(e.localStore,c,!0))),q0(e.remoteStore,c)}),yield r,yield N3(e,i),function(s){const c=at(s);c.uc.forEach((d,f)=>{q0(c.remoteStore,f)}),c.cc.fs(),c.uc=new Map,c.oc=new rr(rt.comparator)}(e),e.fc=!1,yield pP(e.remoteStore,!1)}}),HP.apply(this,arguments)}function N3(n,t,e){return jP.apply(this,arguments)}function jP(){return jP=(0,Ce.Z)(function*(n,t,e){const i=at(n),r=[],s=[];for(const c of t){let d;const f=i.ic.get(c);if(f&&0!==f.length){d=yield yy(i.localStore,oa(f[0]));for(const m of f){const v=i.sc.get(m),E=yield z7(i,v);E.snapshot&&s.push(E.snapshot)}}else{const m=yield h3(i.localStore,c);d=yield yy(i.localStore,m),yield DP(i,L3(m),c,!1)}r.push(d)}return i.nc.Wo(s),r}),jP.apply(this,arguments)}function L3(n){return z$(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function Y7(n){const t=at(n);return at(at(t.localStore).persistence).vi()}function K7(n,t,e,i){return GP.apply(this,arguments)}function GP(){return GP=(0,Ce.Z)(function*(n,t,e,i){const r=at(n);if(r.fc)return void qe("SyncEngine","Ignoring unexpected query state notification.");const s=r.ic.get(t);if(s&&s.length>0)switch(e){case"current":case"not-current":{const c=yield f3(r.localStore,W$(s[0])),d=M0.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Fd(r,c,d);break}case"rejected":yield vy(r.localStore,t,!0),Sy(r,t,i);break;default:gt()}}),GP.apply(this,arguments)}function Q7(n,t,e){return zP.apply(this,arguments)}function zP(){return zP=(0,Ce.Z)(function*(n,t,e){const i=qP(n);if(i.fc){for(const r of t){if(i.ic.has(r)){qe("SyncEngine","Adding an already active target "+r);continue}const s=yield h3(i.localStore,r),c=yield yy(i.localStore,s);yield DP(i,L3(s),c.targetId,!1),KS(i.remoteStore,c)}for(const r of e)i.ic.has(r)&&(yield vy(i.localStore,r,!1).then(()=>{q0(i.remoteStore,r),Sy(i,r)}).catch(hf))}}),zP.apply(this,arguments)}function qP(n){const t=at(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=O3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G7.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=V7.bind(null,t),t.nc.Wo=A7.bind(null,t.eventManager),t.nc._c=x7.bind(null,t.eventManager),t}function ZP(n){const t=at(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=B7.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=U7.bind(null,t),t}class V3{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,Ce.Z)(function*(){e.It=G0(t.databaseInfo.databaseId),e.sharedClientState=e.mc(t),e.persistence=e.gc(t),yield e.persistence.start(),e.localStore=e.yc(t),e.gcScheduler=e.Ic(t,e.localStore),e.indexBackfillerScheduler=e.Tc(t,e.localStore)})()}Ic(t,e){return null}Tc(t,e){return null}yc(t){return l3(this.persistence,new a3,t.initialUser,this.It)}gc(t){return new s3(GS.Bs,this.It)}mc(t){return new _3}terminate(){var t=this;return(0,Ce.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class B3 extends V3{constructor(t,e,i){super(),this.Ec=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t),yield i.Ec.initialize(i,t),yield ZP(i.Ec.syncEngine),yield wy(i.Ec.remoteStore),yield i.persistence.li(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(t){return l3(this.persistence,new a3,t.initialUser,this.It)}Ic(t,e){return new HK(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}Tc(t,e){const i=new I8(e,this.persistence);return new D8(t.asyncQueue,i)}gc(t){const e=HO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?la.withCacheSize(this.cacheSizeBytes):la.DEFAULT;return new $O(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,v3(),YS(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(t){return new _3}}class X7 extends B3{constructor(t,e){super(t,e,!1),this.Ec=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,Ce.Z)(function*(){yield e().call(i,t);const r=i.Ec.syncEngine;i.sharedClientState instanceof QO&&(i.sharedClientState.syncEngine={Fr:Z7.bind(null,r),$r:K7.bind(null,r),Br:Q7.bind(null,r),vi:Y7.bind(null,r),Or:q7.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.li(function(){var s=(0,Ce.Z)(function*(c){yield function W7(n,t){return HP.apply(this,arguments)}(i.Ec.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return s.apply(this,arguments)}}())})()}mc(t){const e=v3();if(!QO.C(e))throw new $e(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=HO(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new QO(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class WP{initialize(t,e){var i=this;return(0,Ce.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>P3(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=j7.bind(null,i.syncEngine),yield pP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new T7}createDatastore(t){const e=G0(t.databaseInfo.databaseId),i=new d7(t.databaseInfo);return new p7(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,s=d=>P3(this.syncEngine,d,0),c=y3.C()?new y3:new l7,new g7(e,i,r,s,c);var e,i,r,s,c}createSyncEngine(t,e){return function(i,r,s,c,d,f,m){const v=new P7(i,r,s,c,d,f);return m&&(v.fc=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,Ce.Z)(function*(e){const i=at(e);qe("RemoteStore","RemoteStore shutting down."),i._u.add(5),yield by(i),i.mu.shutdown(),i.gu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function U3(n,t=10240){let e=0;return{read:()=>(0,Ce.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class JS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ac(this.observer.next,t)}error(t){this.observer.error?this.Ac(this.observer.error,t):vr("Uncaught Error in snapshot listener:",t)}Rc(){this.muted=!0}Ac(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class e9{constructor(t,e){this.bc=t,this.It=e,this.metadata=new ts,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(i=>{i&&i.ku()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==i?void 0:i.payload)}`))},i=>this.metadata.reject(i))}close(){return this.bc.cancel()}getMetadata(){var t=this;return(0,Ce.Z)(function*(){return t.metadata.promise})()}wc(){var t=this;return(0,Ce.Z)(function*(){return yield t.getMetadata(),t.vc()})()}vc(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.Vc();if(null===e)return null;const i=t.Pc.decode(e),r=Number(i);isNaN(r)&&t.Sc(`length string (${i}) is not valid number`);const s=yield t.Dc(r);return new M7(JSON.parse(s),e.length+r)})()}Cc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}Vc(){var t=this;return(0,Ce.Z)(function*(){for(;t.Cc()<0&&!(yield t.xc()););if(0===t.buffer.length)return null;const e=t.Cc();e<0&&t.Sc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}Dc(t){var e=this;return(0,Ce.Z)(function*(){for(;e.buffer.length<t;)(yield e.xc())&&e.Sc("Reached the end of bundle when more is expected.");const i=e.Pc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Sc(t){throw this.bc.cancel(),new Error(`Invalid bundle format: ${t}`)}xc(){var t=this;return(0,Ce.Z)(function*(){const e=yield t.bc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class t9{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,Ce.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new $e(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,Ce.Z)(function*(s,c){const d=at(s),f=P0(d.It)+"/documents",m={documents:c.map(M=>O0(d.It,M))},v=yield d.fo("BatchGetDocuments",f,m,c.length),E=new Map;v.forEach(M=>{const P=function rK(n,t){return"found"in t?function(e,i){Ut(!!i.found);const r=Du(e,i.found.name),s=ns(i.found.updateTime),c=new bs({mapValue:{fields:i.found.fields}});return di.newFoundDocument(r,s,c)}(n,t):"missing"in t?function(e,i){Ut(!!i.missing),Ut(!!i.readTime);const r=Du(e,i.missing),s=ns(i.readTime);return di.newNoDocument(r,s)}(n,t):gt()}(d.It,M);E.set(P.key.toString(),P)});const A=[];return c.forEach(M=>{const P=E.get(M.toString());Ut(!!P),A.push(P)}),A}),function(s,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new fy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,Ce.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const s=rt.fromPath(r);t.mutations.push(new AO(s,t.precondition(s)))}),yield(i=(0,Ce.Z)(function*(r,s){const c=at(r),d=P0(c.It)+"/documents",f={writes:s.map(m=>F0(c.It,m))};yield c.co("Commit",d,f)}),function(r,s){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw gt();e=Lt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new $e(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Lt.min())?Oi.exists(!1):Oi.updateTime(e):Oi.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Lt.min()))throw new $e(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Oi.updateTime(e)}return Oi.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class n9{constructor(t,e,i,r,s){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=s,this.Nc=i.maxAttempts,this.xo=new JO(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var t=this;this.xo.Ao((0,Ce.Z)(function*(){const e=new t9(t.datastore),i=t.Mc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(s=>{t.Oc(s)}))}).catch(r=>{t.Oc(r)})}))}Mc(t){try{const e=this.updateFunction(t);return!v0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Oc(t){this.Nc>0&&this.Fc(t)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(t)}Fc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!cH(e)}return!1}}class i9{constructor(t,e,i,r){var s=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=es.UNAUTHENTICATED,this.clientId=b$.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,Ce.Z)(function*(d){qe("FirestoreClient","Received user=",d.uid),yield s.authCredentialListener(d),s.user=d});return function(d){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(qe("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,Ce.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=Ey(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function $3(n,t){return YP.apply(this,arguments)}function YP(){return YP=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),qe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,Ce.Z)(function*(s){i.isEqual(s)||(yield c3(t.localStore,s),i=s)});return function(s){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),YP.apply(this,arguments)}function H3(n,t){return KP.apply(this,arguments)}function KP(){return KP=(0,Ce.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield QP(n);qe("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>S3(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>S3(t.remoteStore,s)),n.onlineComponents=t}),KP.apply(this,arguments)}function QP(n){return JP.apply(this,arguments)}function JP(){return JP=(0,Ce.Z)(function*(n){return n.offlineComponents||(qe("FirestoreClient","Using default OfflineComponentProvider"),yield $3(n,new V3)),n.offlineComponents}),JP.apply(this,arguments)}function XS(n){return XP.apply(this,arguments)}function XP(){return XP=(0,Ce.Z)(function*(n){return n.onlineComponents||(qe("FirestoreClient","Using default OnlineComponentProvider"),yield H3(n,new WP)),n.onlineComponents}),XP.apply(this,arguments)}function j3(n){return QP(n).then(t=>t.persistence)}function eT(n){return QP(n).then(t=>t.localStore)}function G3(n){return XS(n).then(t=>t.remoteStore)}function eF(n){return XS(n).then(t=>t.syncEngine)}function Ty(n){return tF.apply(this,arguments)}function tF(){return tF=(0,Ce.Z)(function*(n){const t=yield XS(n),e=t.eventManager;return e.onListen=F7.bind(null,t.syncEngine),e.onUnlisten=N7.bind(null,t.syncEngine),e}),tF.apply(this,arguments)}function z3(n,t,e={}){const i=new ts;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,c,d,f){const m=new JS({next:E=>{s.enqueueAndForget(()=>vP(r,v));const A=E.docs.has(c);!A&&E.fromCache?f.reject(new $e(be.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&E.fromCache&&d&&"server"===d.source?f.reject(new $e(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(E)},error:E=>f.reject(E)}),v=new CP(ly(c.path),m,{includeMetadataChanges:!0,Nu:!0});return _P(r,v)}(yield Ty(n),n.asyncQueue,t,e,i)})),i.promise}function q3(n,t,e={}){const i=new ts;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(r,s,c,d,f){const m=new JS({next:E=>{s.enqueueAndForget(()=>vP(r,v)),E.fromCache&&"server"===d.source?f.reject(new $e(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(E)},error:E=>f.reject(E)}),v=new CP(c,m,{includeMetadataChanges:!0,Nu:!0});return _P(r,v)}(yield Ty(n),n.asyncQueue,t,e,i)})),i.promise}const Z3=new Map;function nF(n,t,e){if(!e)throw new $e(be.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function W3(n,t,e,i){if(!0===t&&!0===i)throw new $e(be.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Y3(n){if(!rt.isDocumentKey(n))throw new $e(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function K3(n){if(rt.isDocumentKey(n))throw new $e(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function tT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":gt()}function Cn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new $e(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=tT(n);throw new $e(be.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Q3(n,t){if(t<=0)throw new $e(be.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class J3{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new $e(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new $e(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,W3("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Z0{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new J3({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new $e(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new J3(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new h8;switch(e.type){case"gapi":return new g8(e.client,e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new $e(be.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Z3.get(t);e&&(qe("ComponentProvider","Removing Datastore"),Z3.delete(t),e.terminate())}(this),Promise.resolve()}}class yi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Su(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new yi(this.firestore,t,this._key)}}class qs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new qs(this.firestore,t,this._query)}}class Su extends qs{constructor(t,e,i){super(t,e,ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new yi(this.firestore,null,new rt(t))}withConverter(t){return new Su(this.firestore,t,this._path)}}function X3(n,t,...e){if(n=(0,L.m9)(n),nF("collection","path",t),n instanceof Z0){const i=Tn.fromString(t,...e);return K3(i),new Su(n,null,i)}{if(!(n instanceof yi||n instanceof Su))throw new $e(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return K3(i),new Su(n.firestore,null,i)}}function nT(n,t,...e){if(n=(0,L.m9)(n),1===arguments.length&&(t=b$.R()),nF("doc","path",t),n instanceof Z0){const i=Tn.fromString(t,...e);return Y3(i),new yi(n,null,new rt(i))}{if(!(n instanceof yi||n instanceof Su))throw new $e(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Tn.fromString(t,...e));return Y3(i),new yi(n.firestore,n instanceof Su?n.converter:null,new rt(i))}}function ej(n,t){return n=(0,L.m9)(n),t=(0,L.m9)(t),(n instanceof yi||n instanceof Su)&&(t instanceof yi||t instanceof Su)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function tj(n,t){return n=(0,L.m9)(n),t=(0,L.m9)(t),n instanceof qs&&t instanceof qs&&n.firestore===t.firestore&&I0(n._query,t._query)&&n.converter===t.converter}class p9{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new JO(this,"async_queue_retry"),this.jc=()=>{const e=YS();e&&qe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.xo.bo()};const t=YS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Wc(),this.zc(t)}enterRestrictedMode(t){if(!this.Lc){this.Lc=!0,this.Gc=t||!1;const e=YS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.jc)}}enqueue(t){if(this.Wc(),this.Lc)return new Promise(()=>{});const e=new ts;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Bc.push(t),this.Hc()))}Hc(){var t=this;return(0,Ce.Z)(function*(){if(0!==t.Bc.length){try{yield t.Bc[0](),t.Bc.shift(),t.xo.reset()}catch(e){if(!ff(e))throw e;qe("AsyncQueue","Operation failed with retryable error: "+e)}t.Bc.length>0&&t.xo.Ao(()=>t.Hc())}})()}zc(t){const e=this.$c.then(()=>(this.Kc=!0,t().catch(i=>{throw this.qc=i,this.Kc=!1,vr("INTERNAL UNHANDLED ERROR: ",function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),c}(i)),i}).then(i=>(this.Kc=!1,i))));return this.$c=e,e}enqueueAfterDelay(t,e,i){this.Wc(),this.Qc.indexOf(t)>-1&&(e=0);const r=gP.createAndSchedule(this,t,e,i,s=>this.Jc(s));return this.Uc.push(r),r}Wc(){this.qc&&gt()}verifyOperationInProgress(){}Yc(){var t=this;return(0,Ce.Z)(function*(){let e;do{e=t.$c,yield e}while(e!==t.$c)})()}Xc(t){for(const e of this.Uc)if(e.timerId===t)return!0;return!1}Zc(t){return this.Yc().then(()=>{this.Uc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.Uc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Yc()})}ta(t){this.Qc.push(t)}Jc(t){const e=this.Uc.indexOf(t);this.Uc.splice(e,1)}}function iF(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class m9{constructor(){this._progressObserver={},this._taskCompletionResolver=new ts,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Pi extends Z0{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new p9,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||nj(this),this._firestoreClient.terminate()}}function Mr(n){return n._firestoreClient||nj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function nj(n){var t;const e=n._freezeSettings(),i=(s=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new A8(n._databaseId,s,n._persistenceKey,(d=e).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,d.useFetchStreams));var s,d;n._firestoreClient=new i9(n._authCredentials,n._appCheckCredentials,n._queue,i)}function ij(n,t,e){const i=new ts;return n.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield $3(n,e),yield H3(n,t),i.resolve()}catch(r){const s=r;if(!("FirebaseError"===(c=s).name?c.code===be.FAILED_PRECONDITION||c.code===be.UNIMPLEMENTED:!(typeof DOMException<"u"&&c instanceof DOMException)||22===c.code||20===c.code||11===c.code))throw s;bm("Error enabling offline persistence. Falling back to persistence disabled: "+s),i.reject(s)}var c})).then(()=>i.promise)}function rj(n){if(n._initialized||n._terminated)throw new $e(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Nd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new $e(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Tu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tu(Vr.fromBase64String(t))}catch(e){throw new $e(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Tu(Vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Vm{constructor(t){this._methodName=t}}class iT{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new $e(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new $e(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}}const I9=/^__.*__$/;class S9{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Pd(t,this.data,this.fieldMask,e,this.fieldTransforms):new hy(t,this.data,e,this.fieldTransforms)}}class sj{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Pd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function oj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class rT{constructor(t,e,i,r,s,c){this.settings=t,this.databaseId=e,this.It=i,this.ignoreUndefinedProperties=r,void 0===s&&this.ea(),this.fieldTransforms=s||[],this.fieldMask=c||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(t){return new rT(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.oa(t),r}ua(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.sa({path:i,ra:!1});return r.ea(),r}ca(t){return this.sa({path:void 0,ra:!0})}aa(t){return aT(t,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ea(){if(this.path)for(let t=0;t<this.path.length;t++)this.oa(this.path.get(t))}oa(t){if(0===t.length)throw this.aa("Document fields must not be empty");if(oj(this.na)&&I9.test(t))throw this.aa('Document fields cannot begin and end with "__"')}}class T9{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=i||G0(t)}fa(t,e,i,r=!1){return new rT({na:t,methodName:e,la:i,path:ir.emptyPath(),ra:!1,ha:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Bm(n){const t=n._freezeSettings(),e=G0(n._databaseId);return new T9(n._databaseId,!!t.ignoreUndefinedProperties,e)}function sT(n,t,e,i,r,s={}){const c=n.fa(s.merge||s.mergeFields?2:0,t,e,r);aF("Data must be an object, but it was:",c,i);const d=cj(i,c);let f,m;if(s.merge)f=new Ua(c.fieldMask),m=c.fieldTransforms;else if(s.mergeFields){const v=[];for(const E of s.mergeFields){const A=lF(t,E,e);if(!c.contains(A))throw new $e(be.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);dj(v,A)||v.push(A)}f=new Ua(v),m=c.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,m=c.fieldTransforms;return new S9(new bs(d),f,m)}class W0 extends Vm{_toFieldTransform(t){if(2!==t.na)throw t.aa(1===t.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof W0}}function aj(n,t,e){return new rT({na:3,la:t.settings.la,methodName:n._methodName,ra:e},t.databaseId,t.It,t.ignoreUndefinedProperties)}class rF extends Vm{_toFieldTransform(t){return new S0(t.path,new uy)}isEqual(t){return t instanceof rF}}class A9 extends Vm{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=aj(this,t,!0),i=this.da.map(s=>Um(s,e)),r=new Am(i);return new S0(t.path,r)}isEqual(t){return this===t}}class x9 extends Vm{constructor(t,e){super(t),this.da=e}_toFieldTransform(t){const e=aj(this,t,!0),i=this.da.map(s=>Um(s,e)),r=new xm(i);return new S0(t.path,r)}isEqual(t){return this===t}}class M9 extends Vm{constructor(t,e){super(t),this._a=e}_toFieldTransform(t){const e=new dy(t.It,J$(t.It,this._a));return new S0(t.path,e)}isEqual(t){return this===t}}function sF(n,t,e,i){const r=n.fa(1,t,e);aF("Data must be an object, but it was:",r,i);const s=[],c=bs.empty();Em(i,(f,m)=>{const v=oT(t,f,e);m=(0,L.m9)(m);const E=r.ua(v);if(m instanceof W0)s.push(v);else{const A=Um(m,E);null!=A&&(s.push(v),c.set(v,A))}});const d=new Ua(s);return new sj(c,d,r.fieldTransforms)}function oF(n,t,e,i,r,s){const c=n.fa(1,t,e),d=[lF(t,i,e)],f=[r];if(s.length%2!=0)throw new $e(be.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<s.length;A+=2)d.push(lF(t,s[A])),f.push(s[A+1]);const m=[],v=bs.empty();for(let A=d.length-1;A>=0;--A)if(!dj(m,d[A])){const M=d[A];let P=f[A];P=(0,L.m9)(P);const B=c.ua(M);if(P instanceof W0)m.push(M);else{const J=Um(P,B);null!=J&&(m.push(M),v.set(M,J))}}const E=new Ua(m);return new sj(v,E,c.fieldTransforms)}function lj(n,t,e,i=!1){return Um(e,n.fa(i?4:3,t))}function Um(n,t){if(uj(n=(0,L.m9)(n)))return aF("Unsupported field value:",t,n),cj(n,t);if(n instanceof Vm)return function(e,i){if(!oj(i.na))throw i.aa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.aa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.ra&&4!==t.na)throw t.aa("Nested arrays are not supported");return function(e,i){const r=[];let s=0;for(const c of e){let d=Um(c,i.ca(s));null==d&&(d={nullValue:"NULL_VALUE"}),r.push(d),s++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,L.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return J$(i.It,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ri.fromDate(e);return{timestampValue:R0(i.It,r)}}if(e instanceof Ri){const r=new Ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:R0(i.It,r)}}if(e instanceof iT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Tu)return{bytesValue:vH(i.It,e._byteString)};if(e instanceof yi){const r=i.databaseId,s=e.firestore._databaseId;if(!s.isEqual(r))throw i.aa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:xO(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.aa(`Unsupported field value: ${tT(e)}`)}(n,t)}function cj(n,t){const e={};return A$(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Em(n,(i,r)=>{const s=Um(r,t.ia(i));null!=s&&(e[i]=s)}),{mapValue:{fields:e}}}function uj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ri||n instanceof iT||n instanceof Tu||n instanceof yi||n instanceof Vm)}function aF(n,t,e){if(!uj(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=tT(e);throw t.aa("an object"===i?n+" a custom object":n+" "+i)}var i}function lF(n,t,e){if((t=(0,L.m9)(t))instanceof Nd)return t._internalPath;if("string"==typeof t)return oT(n,t);throw aT("Field path arguments must be of type string or ",n,!1,void 0,e)}const k9=new RegExp("[~\\*/\\[\\]]");function oT(n,t,e){if(t.search(k9)>=0)throw aT(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Nd(...t.split("."))._internalPath}catch{throw aT(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function aT(n,t,e,i,r){const s=i&&!i.isEmpty(),c=void 0!==r;let d=`Function ${t}() called with invalid data`;e&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(s||c)&&(f+=" (found",s&&(f+=` in field ${i}`),c&&(f+=` in document ${r}`),f+=")"),new $e(be.INVALID_ARGUMENT,d+n+f)}function dj(n,t){return n.some(e=>e.isEqual(t))}class Y0{constructor(t,e,i,r,s){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new yi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new R9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(lT("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class R9 extends Y0{data(){return super.data()}}function lT(n,t){return"string"==typeof t?oT(n,t):t instanceof Nd?t._internalPath:t._delegate._internalPath}class $m{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ld extends Y0{constructor(t,e,i,r,s,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new K0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(lT("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class K0 extends Ld{data(t={}){return super.data(t)}}class If{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new $m(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new K0(this._firestore,this._userDataWriter,i.key,i,new $m(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new $e(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new K0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $m(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const d=new K0(i._firestore,i._userDataWriter,c.doc.key,c.doc,new $m(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let f=-1,m=-1;return 0!==c.type&&(f=s.indexOf(c.doc.key),s=s.delete(c.doc.key)),1!==c.type&&(s=s.add(c.doc),m=s.indexOf(c.doc.key)),{type:O9(c.type),doc:d,oldIndex:f,newIndex:m}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function O9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function hj(n,t){return n instanceof Ld&&t instanceof Ld?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof If&&t instanceof If&&n._firestore===t._firestore&&tj(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function fj(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new $e(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q0{}function Sf(n,...t){for(const e of t)n=e._apply(n);return n}class P9 extends Q0{constructor(t,e,i){super(),this.wa=t,this.ma=e,this.ga=i,this.type="where"}_apply(t){const e=Bm(t.firestore),i=function(r,s,c,d,f,m,v){let E;if(f.isKeyField()){if("array-contains"===m||"array-contains-any"===m)throw new $e(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if("in"===m||"not-in"===m){vj(v,m);const M=[];for(const P of v)M.push(yj(d,r,P));E={arrayValue:{values:M}}}else E=yj(d,r,v)}else"in"!==m&&"not-in"!==m&&"array-contains-any"!==m||vj(v,m),E=lj(c,"where",v,"in"===m||"not-in"===m);const A=ws.create(f,m,E);return function(M,P){if(P.dt()){const J=DO(M);if(null!==J&&!J.isEqual(P.field))throw new $e(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${J.toString()}' and '${P.field.toString()}'`);const oe=EO(M);null!==oe&&bj(0,P.field,oe)}const B=function(J,oe){for(const Ve of J.filters)if(oe.indexOf(Ve.op)>=0)return Ve.op;return null}(M,function(J){switch(J){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(P.op));if(null!==B)throw new $e(be.INVALID_ARGUMENT,B===P.op?`Invalid query. You cannot use more than one '${P.op.toString()}' filter.`:`Invalid query. You cannot use '${P.op.toString()}' filters with '${B.toString()}' filters.`)}(r,A),A}(t._query,0,e,t.firestore._databaseId,this.wa,this.ma,this.ga);return new qs(t.firestore,t.converter,function(r,s){const c=r.filters.concat([s]);return new Od(r.path,r.collectionGroup,r.explicitOrderBy.slice(),c,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class N9 extends Q0{constructor(t,e){super(),this.wa=t,this.ya=e,this.type="orderBy"}_apply(t){const e=function(i,r,s){if(null!==i.startAt)throw new $e(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new $e(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new ay(r,s);return function(d,f){if(null===EO(d)){const m=DO(d);null!==m&&bj(0,m,f.field)}}(i,c),c}(t._query,this.wa,this.ya);return new qs(t.firestore,t.converter,function(i,r){const s=i.explicitOrderBy.concat([r]);return new Od(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class pj extends Q0{constructor(t,e,i){super(),this.type=t,this.pa=e,this.Ia=i}_apply(t){return new qs(t.firestore,t.converter,MS(t._query,this.pa,this.Ia))}}class mj extends Q0{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=_j(t,this.type,this.Ta,this.Ea);return new qs(t.firestore,t.converter,(r=e,new Od((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class gj extends Q0{constructor(t,e,i){super(),this.type=t,this.Ta=e,this.Ea=i}_apply(t){const e=_j(t,this.type,this.Ta,this.Ea);return new qs(t.firestore,t.converter,(r=e,new Od((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function _j(n,t,e,i){if(e[0]=(0,L.m9)(e[0]),e[0]instanceof Y0)return function(r,s,c,d,f){if(!d)throw new $e(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const m=[];for(const v of cy(r))if(v.field.isKeyField())m.push(Sm(s,d.key));else{const E=d.data.field(v.field);if(bO(E))throw new $e(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+v.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===E){const A=v.field.canonicalString();throw new $e(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${A}' (used as the orderBy) does not exist.`)}m.push(E)}return new yf(m,f)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Bm(n.firestore);return function(s,c,d,f,m,v){const E=s.explicitOrderBy;if(m.length>E.length)throw new $e(be.INVALID_ARGUMENT,`Too many arguments provided to ${f}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const A=[];for(let M=0;M<m.length;M++){const P=m[M];if(E[M].field.isKeyField()){if("string"!=typeof P)throw new $e(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${f}(), but got a ${typeof P}`);if(!IO(s)&&-1!==P.indexOf("/"))throw new $e(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${f}() must be a plain document ID, but '${P}' contains a slash.`);const B=s.path.child(Tn.fromString(P));if(!rt.isDocumentKey(B))throw new $e(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${f}() must result in a valid document path, but '${B}' is not because it contains an odd number of segments.`);const J=new rt(B);A.push(Sm(c,J))}else{const B=lj(d,f,P);A.push(B)}}return new yf(A,v)}(n._query,n.firestore._databaseId,r,t,e,i)}}function yj(n,t,e){if("string"==typeof(e=(0,L.m9)(e))){if(""===e)throw new $e(be.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!IO(t)&&-1!==e.indexOf("/"))throw new $e(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Tn.fromString(e));if(!rt.isDocumentKey(i))throw new $e(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Sm(n,new rt(i))}if(e instanceof yi)return Sm(n,e._key);throw new $e(be.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tT(e)}.`)}function vj(n,t){if(!Array.isArray(n)||0===n.length)throw new $e(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new $e(be.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function bj(n,t,e){if(!e.isEqual(t))throw new $e(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const G9={maxAttempts:5};class cF{convertValue(t,e="none"){switch(Im(t)){case 0:return null;case 1:return t.booleanValue;case 2:return sr(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Dm(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw gt()}}convertObject(t,e){const i={};return Em(t.fields,(r,s)=>{i[r]=this.convertValue(s,e)}),i}convertGeoPoint(t){return new iT(sr(t.latitude),sr(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=M$(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(y0(t));default:return null}}convertTimestamp(t){const e=pf(t);return new Ri(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Tn.fromString(t);Ut(xH(i));const r=new mf(i.get(1),i.get(3)),s=new rt(i.popFirst(5));return r.isEqual(e)||vr(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}}function cT(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class z9 extends cF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}class wj{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Bm(t)}set(t,e,i){this._verifyNotCommitted();const r=Tf(t,this._firestore),s=cT(r.converter,e,i),c=sT(this._dataReader,"WriteBatch.set",r._key,s,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Oi.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const s=Tf(t,this._firestore);let c;return c="string"==typeof(e=(0,L.m9)(e))||e instanceof Nd?oF(this._dataReader,"WriteBatch.update",s._key,e,i,r):sF(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(c.toMutation(s._key,Oi.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Tf(t,this._firestore);return this._mutations=this._mutations.concat(new fy(e._key,Oi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new $e(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tf(n,t){if((n=(0,L.m9)(n)).firestore!==t)throw new $e(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Hm extends cF{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new yi(this.firestore,null,e)}}function Cj(n,t,e){n=Cn(n,yi);const i=Cn(n.firestore,Pi),r=cT(n.converter,t,e);return Ay(i,[sT(Bm(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Oi.none())])}function Ej(n,t,e,...i){n=Cn(n,yi);const r=Cn(n.firestore,Pi),s=Bm(r);let c;return c="string"==typeof(t=(0,L.m9)(t))||t instanceof Nd?oF(s,"updateDoc",n._key,t,e,i):sF(s,"updateDoc",n._key,t),Ay(r,[c.toMutation(n._key,Oi.exists(!0))])}function Dj(n,...t){var e,i,r;n=(0,L.m9)(n);let s={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||iF(t[c])||(s=t[c],c++);const d={includeMetadataChanges:s.includeMetadataChanges};if(iF(t[c])){const E=t[c];t[c]=null===(e=E.next)||void 0===e?void 0:e.bind(E),t[c+1]=null===(i=E.error)||void 0===i?void 0:i.bind(E),t[c+2]=null===(r=E.complete)||void 0===r?void 0:r.bind(E)}let f,m,v;if(n instanceof yi)m=Cn(n.firestore,Pi),v=ly(n._key.path),f={next:E=>{t[c]&&t[c](uF(m,n,E))},error:t[c+1],complete:t[c+2]};else{const E=Cn(n,qs);m=Cn(E.firestore,Pi),v=E._query;const A=new Hm(m);f={next:M=>{t[c]&&t[c](new If(m,A,E,M))},error:t[c+1],complete:t[c+2]},fj(n._query)}return function(E,A,M,P){const B=new JS(P),J=new CP(A,B,M);return E.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return _P(yield Ty(E),J)})),()=>{B.Rc(),E.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return vP(yield Ty(E),J)}))}}(Mr(m),v,d,f)}function Ay(n,t){return function(e,i){const r=new ts;return e.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function L7(n,t,e){return TP.apply(this,arguments)}(yield eF(e),i,r)})),r.promise}(Mr(n),t)}function uF(n,t,e){const i=e.docs.get(t._key),r=new Hm(n);return new Ld(n,r,t._key,i,new $m(e.hasPendingWrites,e.fromCache),t.converter)}class tQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Bm(t)}get(t){const e=Tf(t,this._firestore),i=new z9(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return gt();const s=r[0];if(s.isFoundDocument())return new Y0(this._firestore,i,s.key,s,e.converter);if(s.isNoDocument())return new Y0(this._firestore,i,e._key,null,e.converter);throw gt()})}set(t,e,i){const r=Tf(t,this._firestore),s=cT(r.converter,e,i),c=sT(this._dataReader,"Transaction.set",r._key,s,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const s=Tf(t,this._firestore);let c;return c="string"==typeof(e=(0,L.m9)(e))||e instanceof Nd?oF(this._dataReader,"Transaction.update",s._key,e,i,r):sF(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,c),this}delete(t){const e=Tf(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Tf(t,this._firestore),i=new Hm(this._firestore);return super.get(t).then(r=>new Ld(this._firestore,i,e._key,r._document,new $m(!1,!1),e.converter))}}function dF(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new $e("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function Sj(){if(typeof Uint8Array>"u")throw new $e("unimplemented","Uint8Arrays are not available in this environment.")}function Tj(){if(!function S8(){return typeof atob<"u"}())throw new $e("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){iy=Io.SDK_VERSION,(0,Io._registerComponent)(new pc.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const s=e.getProvider("app").getImmediate(),c=new Pi(new p8(e.getProvider("auth-internal")),new _8(e.getProvider("app-check-internal")),function(d,f){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new $e(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mf(d.options.projectId,f)}(s,i),s);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)(_$,"3.5.0",n),(0,Io.registerVersion)(_$,"3.5.0","esm2017")}();class J0{constructor(t){this._delegate=t}static fromBase64String(t){return Tj(),new J0(Tu.fromBase64String(t))}static fromUint8Array(t){return Sj(),new J0(Tu.fromUint8Array(t))}toBase64(){return Tj(),this._delegate.toBase64()}toUint8Array(){return Sj(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function hF(n){return function uQ(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class dQ{enableIndexedDbPersistence(t,e){return function _9(n,t){rj(n=Cn(n,Pi));const e=Mr(n),i=n._freezeSettings(),r=new WP;return ij(e,r,new B3(r,i.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function y9(n){rj(n=Cn(n,Pi));const t=Mr(n),e=n._freezeSettings(),i=new WP;return ij(t,i,new X7(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function v9(n){if(n._initialized&&!n._terminated)throw new $e(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ts;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(e=(0,Ce.Z)(function*(i){if(!yc.C())return Promise.resolve();const r=i+"main";yield yc.delete(r)}),function(i){return e.apply(this,arguments)})(HO(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class Aj{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof mf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&bm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function h9(n,t,e,i={}){var r;const s=(n=Cn(n,Z0))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&bm("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,d;if("string"==typeof i.mockUserToken)c=i.mockUserToken,d=es.MOCK_USER;else{c=(0,L.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const f=i.mockUserToken.sub||i.mockUserToken.user_id;if(!f)throw new $e(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");d=new es(f)}n._authCredentials=new f8(new y$(c,d))}}(this._delegate,t,e,i)}enableNetwork(){return function w9(n){return function r9(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield j3(n),e=yield G3(n);return t.setNetworkEnabled(!0),function(i){const r=at(i);return r._u.delete(0),z0(r)}(e)}))}(Mr(n=Cn(n,Pi)))}(this._delegate)}disableNetwork(){return function C9(n){return function s9(n){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){const t=yield j3(n),e=yield G3(n);return t.setNetworkEnabled(!1),(i=(0,Ce.Z)(function*(r){const s=at(r);s._u.add(0),yield by(s),s.gu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(Mr(n=Cn(n,Pi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,W3("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function b9(n){return function(t){const e=new ts;return t.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function $7(n,t){return RP.apply(this,arguments)}(yield eF(t),e)})),e.promise}(Mr(n=Cn(n,Pi)))}(this._delegate)}onSnapshotsInSync(t){return function eQ(n,t){return function l9(n,t){const e=new JS(t);return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Ty(n),r=e,at(i).Ru.add(r),void r.next();var i,r})),()=>{e.Rc(),n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return i=yield Ty(n),r=e,void at(i).Ru.delete(r);var i,r}))}}(Mr(n=Cn(n,Pi)),iF(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new $e("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new xy(this,X3(this._delegate,t))}catch(e){throw ko(e,"collection()","Firestore.collection()")}}doc(t){try{return new Sl(this,nT(this._delegate,t))}catch(e){throw ko(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ro(this,function f9(n,t){if(n=Cn(n,Z0),nF("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new $e(be.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new qs(n,null,(e=t,new Od(Tn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ko(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function nQ(n,t,e){n=Cn(n,Pi);const i=Object.assign(Object.assign({},G9),e);return function(r){if(r.maxAttempts<1)throw new $e(be.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function c9(n,t,e){const i=new ts;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const r=yield(s=n,XS(s).then(c=>c.datastore));var s;new n9(n.asyncQueue,r,e,t,i).run()})),i.promise}(Mr(n),r=>t(new tQ(n,r)),i)}(this._delegate,e=>t(new xj(this,e)))}batch(){return Mr(this._delegate),new Mj(new wj(this._delegate,t=>Ay(this._delegate,t)))}loadBundle(t){return function E9(n,t){const e=Mr(n=Cn(n,Pi)),i=new m9;return function u9(n,t,e,i){const r=function(s,c){let d;return d="string"==typeof s?(new TextEncoder).encode(s):s,f=function(f,m){if(f instanceof Uint8Array)return U3(f,m);if(f instanceof ArrayBuffer)return U3(new Uint8Array(f),m);if(f instanceof ReadableStream)return f.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(d),new e9(f,c);var f}(e,G0(t));n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function J7(n,t,e){const i=at(n);var r;(r=(0,Ce.Z)(function*(s,c,d){try{const f=yield c.getMetadata();if(yield function(A,M){const P=at(A),B=ns(M.createTime);return P.persistence.runTransaction("hasNewerBundle","readonly",J=>P.Ns.getBundleMetadata(J,M.id)).then(J=>!!J&&J.createTime.compareTo(B)>=0)}(s.localStore,f))return yield c.close(),d._completeWith({taskState:"Success",documentsLoaded:(A=f).totalDocuments,bytesLoaded:A.totalBytes,totalDocuments:A.totalDocuments,totalBytes:A.totalBytes}),Promise.resolve(new Set);d._updateProgress(x3(f));const m=new k7(f,s.localStore,c.It);let v=yield c.wc();for(;v;){const A=yield m.Ou(v);A&&d._updateProgress(A),v=yield c.wc()}const E=yield m.complete();return yield Fd(s,E.Bu,void 0),yield function(A,M){const P=at(A);return P.persistence.runTransaction("Save bundle","readwrite",B=>P.Ns.saveBundleMetadata(B,M))}(s.localStore,f),d._completeWith(E.progress),Promise.resolve(E.$u)}catch(f){return bm("SyncEngine",`Loading bundle failed with ${f}`),d._failWith(f),Promise.resolve(new Set)}var A}),function(s,c,d){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield eF(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function D9(n,t){return function d9(n,t){return n.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(e,i){const r=at(e);return r.persistence.runTransaction("Get named query","readonly",s=>r.Ns.getNamedQuery(s,i))}(yield eT(n),t)}))}(Mr(n=Cn(n,Pi)),t).then(e=>e?new qs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ro(this,e):null)}}class uT extends cF{constructor(t){super(),this.firestore=t}convertBytes(t){return new J0(new Tu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Sl.forKey(e,this.firestore,null)}}class xj{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new uT(t)}get(t){const e=Gm(t);return this._delegate.get(e).then(i=>new X0(this._firestore,new Ld(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Gm(t);return i?(dF("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Gm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Gm(t);return this._delegate.delete(e),this}}class Mj{constructor(t){this._delegate=t}set(t,e,i){const r=Gm(t);return i?(dF("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const s=Gm(t);return 2===arguments.length?this._delegate.update(s,e):this._delegate.update(s,e,i,...r),this}delete(t){const e=Gm(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class jm{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new K0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new ew(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=jm.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let s=r.get(e);return s||(s=new jm(t,new uT(t),e),r.set(e,s)),s}}jm.INSTANCES=new WeakMap;class Sl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new uT(t)}static forPath(t,e,i){if(t.length%2!=0)throw new $e("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Sl(e,new yi(e._delegate,i,new rt(t)))}static forKey(t,e,i){return new Sl(e,new yi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new xy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new xy(this.firestore,X3(this._delegate,t))}catch(e){throw ko(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,L.m9)(t))instanceof yi&&ej(this._delegate,t)}set(t,e){e=dF("DocumentReference.set",e);try{return e?Cj(this._delegate,t,e):Cj(this._delegate,t)}catch(i){throw ko(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?Ej(this._delegate,t):Ej(this._delegate,t,e,...i)}catch(r){throw ko(r,"updateDoc()","DocumentReference.update()")}}delete(){return function J9(n){return Ay(Cn(n.firestore,Pi),[new fy(n._key,Oi.none())])}(this._delegate)}onSnapshot(...t){const e=kj(t),i=Rj(t,r=>new X0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return Dj(this._delegate,e,i)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function Z9(n){n=Cn(n,yi);const t=Cn(n.firestore,Pi),e=Mr(t),i=new Hm(t);return function o9(n,t){const e=new ts;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,c){try{const d=yield function(f,m){const v=at(f);return v.persistence.runTransaction("read document","readonly",E=>v.localDocuments.getDocument(E,m))}(r,s);d.isFoundDocument()?c.resolve(d):d.isNoDocument()?c.resolve(null):c.reject(new $e(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(d){const f=Ey(d,`Failed to get document '${s} from cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield eT(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ld(t,i,n._key,r,new $m(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function W9(n){n=Cn(n,yi);const t=Cn(n.firestore,Pi);return z3(Mr(t),n._key,{source:"server"}).then(e=>uF(t,n,e))}(this._delegate):function q9(n){n=Cn(n,yi);const t=Cn(n.firestore,Pi);return z3(Mr(t),n._key).then(e=>uF(t,n,e))}(this._delegate),e.then(i=>new X0(this.firestore,new Ld(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Sl(this.firestore,this._delegate.withConverter(t?jm.getInstance(this.firestore,t):null))}}function ko(n,t,e){return n.message=n.message.replace(t,e),n}function kj(n){for(const t of n)if("object"==typeof t&&!hF(t))return t;return{}}function Rj(n,t){var e,i;let r;return r=hF(n[0])?n[0]:hF(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:s=>{r.next&&r.next(t(s))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class X0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Sl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return hj(this._delegate,t._delegate)}}class ew extends X0{data(t){const e=this._delegate.data(t);return function d8(n,t){n||gt()}(void 0!==e),e}}class Ro{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new uT(t)}where(t,e,i){try{return new Ro(this.firestore,Sf(this._delegate,function F9(n,t,e){const i=t,r=lT("where",n);return new P9(r,i,e)}(t,e,i)))}catch(r){throw ko(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ro(this.firestore,Sf(this._delegate,function L9(n,t="asc"){const e=t,i=lT("orderBy",n);return new N9(i,e)}(t,e)))}catch(i){throw ko(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ro(this.firestore,Sf(this._delegate,function V9(n){return Q3("limit",n),new pj("limit",n,"F")}(t)))}catch(e){throw ko(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ro(this.firestore,Sf(this._delegate,function B9(n){return Q3("limitToLast",n),new pj("limitToLast",n,"L")}(t)))}catch(e){throw ko(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ro(this.firestore,Sf(this._delegate,function U9(...n){return new mj("startAt",n,!0)}(...t)))}catch(e){throw ko(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ro(this.firestore,Sf(this._delegate,function $9(...n){return new mj("startAfter",n,!1)}(...t)))}catch(e){throw ko(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ro(this.firestore,Sf(this._delegate,function H9(...n){return new gj("endBefore",n,!1)}(...t)))}catch(e){throw ko(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ro(this.firestore,Sf(this._delegate,function j9(...n){return new gj("endAt",n,!0)}(...t)))}catch(e){throw ko(e,"endAt()","Query.endAt()")}}isEqual(t){return tj(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function K9(n){n=Cn(n,qs);const t=Cn(n.firestore,Pi),e=Mr(t),i=new Hm(t);return function a9(n,t){const e=new ts;return n.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(i=(0,Ce.Z)(function*(r,s,c){try{const d=yield qS(r,s,!0),f=new R3(s,d.Hi),m=f.ju(d.documents),v=f.applyChanges(m,!1);c.resolve(v.snapshot)}catch(d){const f=Ey(d,`Failed to execute query '${s} against cache`);c.reject(f)}}),function(r,s,c){return i.apply(this,arguments)})(yield eT(n),t,e);var i})),e.promise}(e,n._query).then(r=>new If(t,i,n,r))}(this._delegate):"server"===(null==t?void 0:t.source)?function Q9(n){n=Cn(n,qs);const t=Cn(n.firestore,Pi),e=Mr(t),i=new Hm(t);return q3(e,n._query,{source:"server"}).then(r=>new If(t,i,n,r))}(this._delegate):function Y9(n){n=Cn(n,qs);const t=Cn(n.firestore,Pi),e=Mr(t),i=new Hm(t);return fj(n._query),q3(e,n._query).then(r=>new If(t,i,n,r))}(this._delegate),e.then(i=>new fF(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=kj(t),i=Rj(t,r=>new fF(this.firestore,new If(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return Dj(this._delegate,e,i)}withConverter(t){return new Ro(this.firestore,this._delegate.withConverter(t?jm.getInstance(this.firestore,t):null))}}class fQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new ew(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fF{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ro(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new ew(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new fQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new ew(this._firestore,i))})}isEqual(t){return hj(this._delegate,t._delegate)}}class xy extends Ro{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Sl(this.firestore,t):null}doc(t){try{return new Sl(this.firestore,void 0===t?nT(this._delegate):nT(this._delegate,t))}catch(e){throw ko(e,"doc()","CollectionReference.doc()")}}add(t){return function X9(n,t){const e=Cn(n.firestore,Pi),i=nT(n),r=cT(n.converter,t);return Ay(e,[sT(Bm(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Oi.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Sl(this.firestore,e))}isEqual(t){return ej(this._delegate,t._delegate)}withConverter(t){return new xy(this.firestore,this._delegate.withConverter(t?jm.getInstance(this.firestore,t):null))}}function Gm(n){return Cn(n,yi)}class pF{constructor(...t){this._delegate=new Nd(...t)}static documentId(){return new pF(ir.keyField().canonicalString())}isEqual(t){return(t=(0,L.m9)(t))instanceof Nd&&this._delegate._internalPath.isEqual(t._internalPath)}}class zm{constructor(t){this._delegate=t}static serverTimestamp(){const t=function rQ(){return new rF("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new zm(t)}static delete(){const t=function iQ(){return new W0("deleteField")}();return t._methodName="FieldValue.delete",new zm(t)}static arrayUnion(...t){const e=function sQ(...n){return new A9("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new zm(e)}static arrayRemove(...t){const e=function oQ(...n){return new x9("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new zm(e)}static increment(t){const e=function aQ(n){return new M9("increment",n)}(t);return e._methodName="FieldValue.increment",new zm(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const pQ={Firestore:Aj,GeoPoint:iT,Timestamp:Ri,Blob:J0,Transaction:xj,WriteBatch:Mj,DocumentReference:Sl,DocumentSnapshot:X0,Query:Ro,QueryDocumentSnapshot:ew,QuerySnapshot:fF,CollectionReference:xy,FieldPath:pF,FieldValue:zm,setLogLevel:function hQ(n){!function u8(n){df.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Oj(n,t){return function _Q(n,t=sd.z){return new Hi.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=i&&i()}})}(n,t)}function mF(n,t){return Oj(n,t).pipe((0,ct.U)(e=>({payload:e,type:"query"})))}function dT(n,t){return mF(n,t).pipe(Kr(void 0),T1(),(0,ct.U)(([e,i])=>{const r=i.payload.docChanges(),s=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,d)=>{const f=r.find(v=>v.doc.ref.isEqual(c.ref)),m=null==e?void 0:e.payload.docs.find(v=>v.ref.isEqual(c.ref));f&&JSON.stringify(f.doc.metadata)===JSON.stringify(c.metadata)||!f&&m&&JSON.stringify(m.metadata)===JSON.stringify(c.metadata)||s.push({type:"modified",payload:{oldIndex:d,newIndex:d,type:"modified",doc:c}})}),s}))}function Pj(n,t,e){return dT(n,e).pipe(mm((i,r)=>function vQ(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function bQ(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return gF(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return gF(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return gF(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(s=>s.payload),t),[]),yv(),(0,ct.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function gF(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function Fj(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function gQ(n){(function mQ(n,t){n.INTERNAL.registerComponent(new pc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},pQ)))})(n,(t,e)=>new Aj(t,e,new dQ)),n.registerVersion("@firebase/firestore-compat","0.1.25")}(p1.Z);class Nj{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=dT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,ct.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Kr(void 0),T1(),ui(([i,r])=>r.length>0||!i),(0,ct.U)(([i,r])=>r),Rn.iC)}auditTrail(t){return this.stateChanges(t).pipe(mm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Fj(t);return Pj(this.query,e,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(t={}){return mF(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Rn.iC)}get(t){return(0,kn.D)(this.query.get(t)).pipe(Rn.iC)}add(t){return this.ref.add(t)}doc(t){return new Lj(this.ref.doc(t),this.afs)}}class Lj{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:s}=Uj(i,e);return new Nj(r,s,this.afs)}snapshotChanges(){return function yQ(n,t){return Oj(n,t).pipe(Kr(void 0),T1(),(0,ct.U)(([e,i])=>i.exists?(null==e?void 0:e.exists)?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,kn.D)(this.ref.get(t)).pipe(Rn.iC)}}class wQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?dT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ui(e=>e.length>0),Rn.iC):dT(this.query,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}auditTrail(t){return this.stateChanges(t).pipe(mm((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=Fj(t);return Pj(this.query,e,this.afs.schedulers.outsideAngular).pipe(Rn.iC)}valueChanges(t={}){return mF(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Rn.iC)}get(t){return(0,kn.D)(this.query.get(t)).pipe(Rn.iC)}}const Vj=new o.OlP("angularfire2.enableFirestorePersistence"),Bj=new o.OlP("angularfire2.firestore.persistenceSettings"),CQ=new o.OlP("angularfire2.firestore.settings"),EQ=new o.OlP("angularfire2.firestore.use-emulator");function Uj(n,t=(e=>e)){return{query:t(n),ref:n}}let _F=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v,E,A,M,P,B,J,oe,Ve){this.schedulers=f;const xe=(0,Lr.on)(e,d,i),Ie=v;E&&f1(xe,d,A,P,B,J,M,oe),[this.firestore,this.persistenceEnabled$]=(0,Lr.cc)(`${xe.name}.firestore`,"AngularFirestore",xe.name,()=>{const ze=d.runOutsideAngular(()=>xe.firestore());if(s&&ze.settings(s),Ie&&ze.useEmulator(...Ie),r&&!ur(c)){const ut=()=>{try{return(0,kn.D)(ze.enablePersistence(m||void 0).then(()=>!0,()=>!1))}catch(Vt){return typeof console<"u"&&console.warn(Vt),pt(!1)}};return[ze,d.runOutsideAngular(ut)]}return[ze,pt(!1)]},[s,Ie,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:s,query:c}=Uj(r,i),d=this.schedulers.ngZone.run(()=>s);return new Nj(d,c,this)}collectionGroup(e,i){const r=i||(c=>c),s=this.firestore.collectionGroup(e);return new wQ(r(s),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new Lj(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lr.Dh),o.LFG(Lr.xv,8),o.LFG(Vj,8),o.LFG(CQ,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Rn.HU),o.LFG(Bj,8),o.LFG(EQ,8),o.LFG(zb,8),o.LFG(a1,8),o.LFG(l1,8),o.LFG(c1,8),o.LFG(u1,8),o.LFG(d1,8),o.LFG(h1,8),o.LFG(Gb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),DQ=(()=>{class n{constructor(){$I.Z.registerVersion("angularfire",Rn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:Vj,useValue:!0},{provide:Bj,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[_F]}),n})();const $j="@firebase/database";let yF="";function jj(n){yF=n}class TQ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class AQ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Gj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new TQ(t)}}catch{}return new AQ},qm=Gj("localStorage"),vF=Gj("sessionStorage"),My=new mc.Yd("@firebase/database"),zj=function(){let n=1;return function(){return n++}}(),qj=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const i=e.digest();return L.US.encodeByteArray(i)},tw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=tw.apply(null,i):t+="object"==typeof i?(0,L.Pz)(i):i,t+=" "}return t};let Zm=null,Zj=!0;const Wj=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(My.logLevel=mc.in.VERBOSE,Zm=My.log.bind(My),t&&vF.set("logging_enabled",!0)):"function"==typeof n?Zm=n:(Zm=null,vF.remove("logging_enabled"))},ss=function(...n){if(!0===Zj&&(Zj=!1,null===Zm&&!0===vF.get("logging_enabled")&&Wj(!0)),Zm){const t=tw.apply(null,n);Zm(t)}},nw=function(n){return function(...t){ss(n,...t)}},bF=function(...n){const t="FIREBASE INTERNAL ERROR: "+tw(...n);My.error(t)},Au=function(...n){const t=`FIREBASE FATAL ERROR: ${tw(...n)}`;throw My.error(t),new Error(t)},Zs=function(...n){const t="FIREBASE WARNING: "+tw(...n);My.warn(t)},hT=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Vd="[MIN_NAME]",xu="[MAX_NAME]",Wm=function(n,t){if(n===t)return 0;if(n===Vd||t===xu)return-1;if(t===Vd||n===xu)return 1;{const e=fT(n),i=fT(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},kQ=function(n,t){return n===t?0:n<t?-1:1},iw=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(t))},wF=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,L.Pz)(t[i]),e+=":",e+=wF(n[t[i]]);return e+="}",e},Yj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function os(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Kj=function(n){(0,L.hu)(!hT(n),"Invalid JSON number");const i=1023;let r,s,c,d,f;0===n?(s=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(d=Math.min(Math.floor(Math.log(n)/Math.LN2),i),s=d+i,c=Math.round(n*Math.pow(2,52-d)-Math.pow(2,52))):(s=0,c=Math.round(n/Math.pow(2,-1074))));const m=[];for(f=52;f;f-=1)m.push(c%2?1:0),c=Math.floor(c/2);for(f=11;f;f-=1)m.push(s%2?1:0),s=Math.floor(s/2);m.push(r?1:0),m.reverse();const v=m.join("");let E="";for(f=0;f<64;f+=8){let A=parseInt(v.substr(f,8),2).toString(16);1===A.length&&(A="0"+A),E+=A}return E.toLowerCase()},FQ=new RegExp("^-?(0*)\\d{1,10}$"),Qj=-2147483648,CF=2147483647,fT=function(n){if(FQ.test(n)){const t=Number(n);if(t>=Qj&&t<=CF)return t}return null},ky=function(n){try{n()}catch(t){setTimeout(()=>{throw Zs("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},rw=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class LQ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Zs(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class VQ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ss("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Zs(t)}}let sw=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const nG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,sG="websocket",oG="long_polling";class DF{constructor(t,e,i,r,s=!1,c="",d=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=c,this.includeNamespaceInQueryParams=d,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qm.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&qm.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function aG(n,t,e){let i;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===sG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==oG)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function BQ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return os(e,(s,c)=>{r.push(s+"="+c)}),i+r.join("&")}class UQ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const IF={},SF={};function TF(n){const t=n.toString();return IF[t]||(IF[t]=new UQ),IF[t]}class HQ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ky(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Af{constructor(t,e,i,r,s,c,d){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=c,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nw(t),this.stats_=TF(e),this.urlFn=f=>(this.appCheckToken&&(f.ac=this.appCheckToken),aG(e,oG,f))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new HQ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new AF((...s)=>{const[c,d,f,m,v]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=d,this.password=f;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[c,d]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(c,d)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&nG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Af.forceAllow_=!0}static forceDisallow(){Af.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!Af.forceAllow_&&(Af.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,L.h$)(e),r=Yj(i,1840);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class AF{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=zj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=AF.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(d){ss("frame writing exception"),d.stack&&ss(d.stack),ss(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ss("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{ss("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let mT=null;typeof MozWebSocket<"u"?mT=MozWebSocket:typeof WebSocket<"u"&&(mT=WebSocket);let Ry=(()=>{class n{constructor(e,i,r,s,c,d,f){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nw(this.connId),this.stats_=TF(i),this.connURL=n.connectionURL_(i,d,f,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,s,c){const d={v:"5"};return!(0,L.Yr)()&&typeof location<"u"&&location.hostname&&nG.test(location.hostname)&&(d.r="f"),i&&(d.s=i),r&&(d.ls=r),s&&(d.ac=s),c&&(d.p=c),aG(e,sG,d)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qm.set("previous_websocket_failure",!0);try{let r;if((0,L.Yr)()){r={headers:{"User-Agent":`Firebase/5/${yF}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,d=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;d&&(r.proxy={origin:d})}this.mySock=new mT(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==mT&&!n.forceDisallow_}static previouslyFailed(){return qm.isInMemoryStorage||!0===qm.get("previous_websocket_failure")}markConnectionHealthy(){qm.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,L.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,L.Pz)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Yj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),pG=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Af,Ry]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Ry&&Ry.isAvailable();let r=i&&!Ry.previouslyFailed();if(e.webSocketOnly&&(i||Zs("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ry];else{const s=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&s.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class wG{constructor(t,e,i,r,s,c,d,f,m,v){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=c,this.onReady_=d,this.onDisconnect_=f,this.onKill_=m,this.lastSessionId=v,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nw("c:"+this.id+":"),this.transportManager_=new pG(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=rw(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=iw("t",t),i=iw("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=iw("t",t),i=iw("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=iw("t",t);if("d"in t){const i=t.d;if("h"===e)this.onHandshake_(i);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?bF("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):bF("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Zs("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),rw(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rw(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qm.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class CG{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class EG{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let s=0;s<r.length;s++)if(r[s].callback===e&&(!i||i===r[s].context))return void r.splice(s,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class gT extends EG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gT}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class qn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function On(){return new qn("")}function cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function xf(n){return n.pieces_.length-n.pieceNum_}function oi(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new qn(n.pieces_,t)}function MF(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function ow(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function SG(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new qn(t,0)}function Fi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof qn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new qn(e,0)}function un(n){return n.pieceNum_>=n.pieces_.length}function Oo(n,t){const e=cn(n),i=cn(t);if(null===e)return t;if(e===i)return Oo(oi(n),oi(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function uJ(n,t){const e=ow(n,0),i=ow(t,0);for(let r=0;r<e.length&&r<i.length;r++){const s=Wm(e[r],i[r]);if(0!==s)return s}return e.length===i.length?0:e.length<i.length?-1:1}function kF(n,t){if(xf(n)!==xf(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Tl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(xf(n)>xf(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class dJ{constructor(t,e){this.errorPrefix_=e,this.parts_=ow(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,L.ug)(this.parts_[i]);TG(this)}}function TG(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ym(n))}function Ym(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class RF extends EG{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new RF}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const aw=1e3;let yT,Km=(()=>{class n extends CG{constructor(e,i,r,s,c,d,f,m){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=f,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=nw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=aw,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");RF.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gT.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const s=++this.requestNumber_,c={r:s,a:e,b:i};this.log_((0,L.Pz)(c)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const i=new L.BH,r={p:e._path.toString(),q:e._queryObject};return this.outstandingGets_.push({action:"g",request:r,onComplete:d=>{const f=d.d;"ok"===d.s?i.resolve(f):i.reject(f)}}),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,s){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const f={onComplete:s,hashFn:i,query:e,tag:r};this.listens.get(d).set(c,f),this.connected_&&this.sendListen_(f)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,f=>{const m=f.d,v=f.s;n.warnOnListenWarnings_(m,i),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",f),"ok"!==v&&this.removeListen_(r,s),e.onComplete&&e.onComplete(v,m))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const r=(0,L.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Zs(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,L.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{const c=s.s,d=s.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,i)}sendUnlisten_(e,i,r,s){this.log_("Unlisten on "+e+" for "+i);const c={p:e};s&&(c.q=r,c.t=s),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,s){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{s&&setTimeout(()=>{s(d.s,d.d)},Math.floor(0))})}put(e,i,r,s){this.putInternal("p",e,i,r,s)}merge(e,i,r,s){this.putInternal("m",e,i,r,s)}putInternal(e,i,r,s,c){this.initConnection_();const d={p:i,d:r};void 0!==c&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Pz)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):bF("Unrecognized action received from server: "+(0,L.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=aw,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=aw,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=aw),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Ce.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),s=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,d=e.lastSessionId;let f=!1,m=null;const v=function(){m?m.close():(f=!0,s())};e.realtime_={close:v,sendRequest:function(M){(0,L.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(M)}};const A=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[M,P]=yield Promise.all([e.authTokenProvider_.getToken(A),e.appCheckTokenProvider_.getToken(A)]);f?ss("getToken() completed but was canceled"):(ss("getToken() completed. Creating connection."),e.authToken_=M&&M.accessToken,e.appCheckToken_=P&&P.token,m=new wG(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,s,B=>{Zs(B+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},d))}catch(M){e.log_("Failed to get token: "+M),f||(e.repoInfo_.nodeAdmin&&Zs(M),v())}}})()}interrupt(e){ss("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ss("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=aw,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>wF(c)).join("$"):"default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,i){const r=new qn(e).toString();let s;if(this.listens.has(r)){const c=this.listens.get(r);s=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,i){ss("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){ss("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,L.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+yF.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gT.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class mn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new mn(t,e)}}class _T{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new mn(Vd,t),r=new mn(Vd,e);return 0!==this.compare(i,r)}minPost(){return mn.MIN}}class MG extends _T{static get __EMPTY_NODE(){return yT}static set __EMPTY_NODE(t){yT=t}compare(t,e){return Wm(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return mn.MIN}maxPost(){return new mn(xu,yT)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new mn(t,yT)}toString(){return".key"}}const Mu=new MG;class vT{constructor(t,e,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let PF,vc=(()=>{class n{constructor(e,i,r,s,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=s??ca.EMPTY_NODE,this.right=c??ca.EMPTY_NODE}copy(e,i,r,s,c){return new n(e??this.key,i??this.value,r??this.color,s??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let s=this;const c=r(e,s.key);return s=c<0?s.copy(null,null,null,s.left.insert(e,i,r),null):0===c?s.copy(null,i,null,null,null):s.copy(null,null,null,null,s.right.insert(e,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return ca.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,s;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return ca.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class ca{constructor(t,e=ca.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new ca(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,vc.BLACK,null,null))}remove(t){return new ca(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,vc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new vT(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new vT(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new vT(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new vT(this.root_,null,this.comparator_,!0,t)}}function vJ(n,t){return Wm(n.name,t.name)}function OF(n,t){return Wm(n,t)}ca.EMPTY_NODE=new class yJ{copy(t,e,i,r,s){return this}insert(t,e,i){return new vc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const kG=function(n){return"number"==typeof n?"number:"+Kj(n):"string:"+n},RG=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===PF||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===PF||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let OG,PG,FG,Oy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),RG(this.priorityNode_)}static set __childrenNodeConstructor(e){OG=e}static get __childrenNodeConstructor(){return OG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return un(e)?this:".priority"===cn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=cn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,L.hu)(".priority"!==r||1===xf(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(oi(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+kG(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Kj(this.value_):this.value_,this.lazyHash_=qj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,s=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,L.hu)(s>=0,"Unknown leaf type: "+i),(0,L.hu)(c>=0,"Unknown leaf type: "+r),s===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const hi=new class EJ extends _T{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),s=i.compareTo(r);return 0===s?Wm(t.name,e.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return mn.MIN}maxPost(){return new mn(xu,new Oy("[PRIORITY-POST]",FG))}makePost(t,e){const i=PG(t);return new mn(e,new Oy("[PRIORITY-POST]",i))}toString(){return".priority"}},DJ=Math.log(2);class IJ{constructor(t){this.count=parseInt(Math.log(t+1)/DJ,10),this.current_=this.count-1;const r=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bT=function(n,t,e,i){n.sort(t);const r=function(f,m){const v=m-f;let E,A;if(0===v)return null;if(1===v)return E=n[f],A=e?e(E):E,new vc(A,E.node,vc.BLACK,null,null);{const M=parseInt(v/2,10)+f,P=r(f,M),B=r(M+1,m);return E=n[M],A=e?e(E):E,new vc(A,E.node,vc.BLACK,P,B)}},d=function(f){let m=null,v=null,E=n.length;const A=function(P,B){const J=E-P,oe=E;E-=P;const Ve=r(J+1,oe),xe=n[J],Ie=e?e(xe):xe;M(new vc(Ie,xe.node,B,null,Ve))},M=function(P){m?(m.left=P,m=P):(v=P,m=P)};for(let P=0;P<f.count;++P){const B=f.nextBitIsOne(),J=Math.pow(2,f.count-(P+1));B?A(J,vc.BLACK):(A(J,vc.BLACK),A(J,vc.RED))}return v}(new IJ(n.length));return new ca(i||t,d)};let FF;const Py={};class Bd{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(Py&&hi,"ChildrenNode.ts has not been loaded"),FF=FF||new Bd({".priority":Py},{".priority":hi}),FF}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof ca?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==Mu,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const s=e.getIterator(mn.Wrap);let d,c=s.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=s.getNext();d=r?bT(i,t.getCompare()):Py;const f=t.toString(),m=Object.assign({},this.indexSet_);m[f]=t;const v=Object.assign({},this.indexes_);return v[f]=d,new Bd(v,m)}addToIndexes(t,e){const i=(0,L.UI)(this.indexes_,(r,s)=>{const c=(0,L.DV)(this.indexSet_,s);if((0,L.hu)(c,"Missing index implementation for "+s),r===Py){if(c.isDefinedOn(t.node)){const d=[],f=e.getIterator(mn.Wrap);let m=f.getNext();for(;m;)m.name!==t.name&&d.push(m),m=f.getNext();return d.push(t),bT(d,c.getCompare())}return Py}{const d=e.get(t.name);let f=r;return d&&(f=f.remove(new mn(t.name,d))),f.insert(t,t.node)}});return new Bd(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,L.UI)(this.indexes_,r=>{if(r===Py)return r;{const s=e.get(t.name);return s?r.remove(new mn(t.name,s)):r}});return new Bd(i,this.indexSet_)}}let lw,Qt=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&RG(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return lw||(lw=new n(new ca(OF),null,Bd.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||lw}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?lw:i}}getChild(e){const i=cn(e);return null===i?this:this.getImmediateChild(i).getChild(oi(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,L.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new mn(e,i);let s,c;i.isEmpty()?(s=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const d=s.isEmpty()?lw:this.priorityNode_;return new n(s,d,c)}}updateChild(e,i){const r=cn(e);if(null===r)return i;{(0,L.hu)(".priority"!==cn(e)||1===xf(e),".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(oi(e),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,s=0,c=!0;if(this.forEachChild(hi,(d,f)=>{i[d]=f.val(e),r++,c&&n.INTEGER_REGEXP_.test(d)?s=Math.max(s,Number(d)):c=!1}),!e&&c&&s<2*r){const d=[];for(const f in i)d[f]=i[f];return d}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+kG(this.getPriority().val())+":"),this.forEachChild(hi,(i,r)=>{const s=r.hash();""!==s&&(e+=":"+i+":"+s)}),this.lazyHash_=""===e?"":qj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const s=this.resolveIndex_(r);if(s){const c=s.getPredecessorKey(new mn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new mn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new mn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,mn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)<0;)s.getNext(),c=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,mn.Wrap);let c=s.peek();for(;null!=c&&i.compare(c,e)>0;)s.getNext(),c=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===cw?-1:0}withIndex(e){if(e===Mu||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Mu||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(hi),s=i.getIterator(hi);let c=r.getNext(),d=s.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=s.getNext()}return null===c&&null===d}return!1}return!1}}resolveIndex_(e){return e===Mu?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const cw=new class SJ extends Qt{constructor(){super(new ca(OF),Qt.EMPTY_NODE,Bd.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Qt.EMPTY_NODE}isEmpty(){return!1}};function qi(n,t=null){if(null===n)return Qt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Oy(n,qi(t));if(n instanceof Array){let e=Qt.EMPTY_NODE;return os(n,(i,r)=>{if((0,L.r3)(n,i)&&"."!==i.substring(0,1)){const s=qi(r);(s.isLeafNode()||!s.isEmpty())&&(e=e.updateImmediateChild(i,s))}}),e.updatePriority(qi(t))}{const e=[];let i=!1;if(os(n,(c,d)=>{if("."!==c.substring(0,1)){const f=qi(d);f.isEmpty()||(i=i||!f.getPriority().isEmpty(),e.push(new mn(c,f)))}}),0===e.length)return Qt.EMPTY_NODE;const s=bT(e,vJ,c=>c.name,OF);if(i){const c=bT(e,hi.getCompare());return new Qt(s,qi(t),new Bd({".priority":c},{".priority":hi}))}return new Qt(s,qi(t),Bd.Default)}}Object.defineProperties(mn,{MIN:{value:new mn(Vd,Qt.EMPTY_NODE)},MAX:{value:new mn(xu,cw)}}),MG.__EMPTY_NODE=Qt.EMPTY_NODE,Oy.__childrenNodeConstructor=Qt,function bJ(n){PF=n}(cw),function CJ(n){FG=n}(cw),function wJ(n){PG=n}(qi);class NF extends _T{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!un(t)&&".priority"!==cn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),s=i.compareTo(r);return 0===s?Wm(t.name,e.name):s}makePost(t,e){const i=qi(t),r=Qt.EMPTY_NODE.updateChild(this.indexPath_,i);return new mn(e,r)}maxPost(){const t=Qt.EMPTY_NODE.updateChild(this.indexPath_,cw);return new mn(xu,t)}toString(){return ow(this.indexPath_,0).join("/")}}const LF=new class AJ extends _T{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Wm(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return mn.MIN}maxPost(){return mn.MAX}makePost(t,e){const i=qi(t);return new mn(e,i)}toString(){return".value"}},Fy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",xJ=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const s=new Array(8);for(r=7;r>=0;r--)s[r]=Fy.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let c=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Fy.charAt(t[r]);return(0,L.hu)(20===c.length,"nextPushId: Length should be 20."),c}}(),VG=function(n){if(n===""+CF)return"-";const t=fT(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let c=0;c<e.length;c++)e[c]=n.charAt(c);if(e.length<786)return e.push("-"),e.join("");let i=e.length-1;for(;i>=0&&"z"===e[i];)i--;if(-1===i)return xu;const s=Fy.charAt(Fy.indexOf(e[i])+1);return e[i]=s,e.slice(0,i+1).join("")},BG=function(n){if(n===""+Qj)return Vd;const t=fT(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let i=0;i<e.length;i++)e[i]=n.charAt(i);return"-"===e[e.length-1]?1===e.length?""+CF:(delete e[e.length-1],e.join("")):(e[e.length-1]=Fy.charAt(Fy.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function UG(n){return{type:"value",snapshotNode:n}}function Ny(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function uw(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function dw(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class BF{constructor(t){this.index_=t}updateChild(t,e,i,r,s,c){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(e);return d.getChild(r).equals(i.getChild(r))&&d.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(uw(e,d)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?c.trackChildChange(Ny(e,i)):c.trackChildChange(dw(e,i,d))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(hi,(r,s)=>{e.hasChild(r)||i.trackChildChange(uw(r,s))}),e.isLeafNode()||e.forEachChild(hi,(r,s)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(s)||i.trackChildChange(dw(r,s,c))}else i.trackChildChange(Ny(r,s))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Qt.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class hw{constructor(t){this.indexedFilter_=new BF(t.getIndex()),this.index_=t.getIndex(),this.startPost_=hw.getStartPost_(t),this.endPost_=hw.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,i,r,s,c){return this.matches(new mn(e,i))||(i=Qt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,s,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Qt.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(Qt.EMPTY_NODE);const s=this;return e.forEachChild(hi,(c,d)=>{s.matches(new mn(c,d))||(r=r.updateImmediateChild(c,Qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class kJ{constructor(t){this.rangedFilter_=new hw(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,i,r,s,c){return this.rangedFilter_.matches(new mn(e,i))||(i=Qt.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,s,c):this.fullLimitUpdateChild_(t,e,i,s,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=Qt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let s;r=Qt.EMPTY_NODE.withIndex(this.index_),s=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;s.hasNext()&&c<this.limit_;){const d=s.getNext();let f;if(f=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),d)<=0:this.index_.compare(d,this.rangedFilter_.getEndPost())<=0,!f)break;r=r.updateImmediateChild(d.name,d.node),c++}}else{let s,c,d,f;if(r=e.withIndex(this.index_),r=r.updatePriority(Qt.EMPTY_NODE),this.reverse_){f=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();const E=this.index_.getCompare();d=(A,M)=>E(M,A)}else f=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),d=this.index_.getCompare();let m=0,v=!1;for(;f.hasNext();){const E=f.getNext();!v&&d(s,E)<=0&&(v=!0),v&&m<this.limit_&&d(E,c)<=0?m++:r=r.updateImmediateChild(E.name,Qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,s){let c;if(this.reverse_){const E=this.index_.getCompare();c=(A,M)=>E(M,A)}else c=this.index_.getCompare();const d=t;(0,L.hu)(d.numChildren()===this.limit_,"");const f=new mn(e,i),m=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),v=this.rangedFilter_.matches(f);if(d.hasChild(e)){const E=d.getImmediateChild(e);let A=r.getChildAfterChild(this.index_,m,this.reverse_);for(;null!=A&&(A.name===e||d.hasChild(A.name));)A=r.getChildAfterChild(this.index_,A,this.reverse_);const M=null==A?1:c(A,f);if(v&&!i.isEmpty()&&M>=0)return null!=s&&s.trackChildChange(dw(e,i,E)),d.updateImmediateChild(e,i);{null!=s&&s.trackChildChange(uw(e,E));const B=d.updateImmediateChild(e,Qt.EMPTY_NODE);return null!=A&&this.rangedFilter_.matches(A)?(null!=s&&s.trackChildChange(Ny(A.name,A.node)),B.updateImmediateChild(A.name,A.node)):B}}return i.isEmpty()?t:v&&c(m,f)>=0?(null!=s&&(s.trackChildChange(uw(m.name,m.node)),s.trackChildChange(Ny(e,i))),d.updateImmediateChild(e,i).updateImmediateChild(m.name,Qt.EMPTY_NODE)):t}}class wT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=hi}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Vd}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:xu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===hi}copy(){const t=new wT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function UF(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function $F(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function CT(n,t){const e=n.copy();return e.index_=t,e}function $G(n){const t={};if(n.isDefault())return t;let e;return n.index_===hi?e="$priority":n.index_===LF?e="$value":n.index_===Mu?e="$key":((0,L.hu)(n.index_ instanceof NF,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Pz)(e),n.startSet_&&(t.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function HG(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==hi&&(t.i=n.index_.toString()),t}class ET extends CG{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=nw("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const c=ET.getListenId_(t,i),d={};this.listens_[c]=d;const f=$G(t._queryParams);this.restRequest_(s+".json",f,(m,v)=>{let E=v;if(404===m&&(E=null,m=null),null===m&&this.onDataUpdate_(s,E,!1,i),(0,L.DV)(this.listens_,c)===d){let A;A=m?401===m?"permission_denied":"rest_error:"+m:"ok",r(A,null)}})}unlisten(t,e){const i=ET.getListenId_(t,e);delete this.listens_[i]}get(t){const e=$G(t._queryParams),i=t._path.toString(),r=new L.BH;return this.restRequest_(i+".json",e,(s,c)=>{let d=c;404===s&&(d=null,s=null),null===s?(this.onDataUpdate_(i,d,!1,null),r.resolve(d)):r.reject(new Error(d))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(e.auth=r.accessToken),s&&s.token&&(e.ac=s.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+c);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(i&&4===d.readyState){this.log_("REST Response for "+c+" received. status:",d.status,"response:",d.responseText);let f=null;if(d.status>=200&&d.status<300){try{f=(0,L.cI)(d.responseText)}catch{Zs("Failed to parse JSON response for "+c+": "+d.responseText)}i(null,f)}else 401!==d.status&&404!==d.status&&Zs("Got unsuccessful REST response for "+c+" Status: "+d.status),i(d.status);i=null}},d.open("GET",c,!0),d.send()})}}class LJ{constructor(){this.rootNode_=Qt.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function DT(){return{value:null,children:new Map}}function Ly(n,t,e){if(un(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=cn(t);n.children.has(i)||n.children.set(i,DT()),Ly(n.children.get(i),t=oi(t),e)}}function HF(n,t){if(un(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(hi,(i,r)=>{Ly(n,new qn(i),r)}),HF(n,t)}}if(n.children.size>0){const e=cn(t);return t=oi(t),n.children.has(e)&&HF(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function jF(n,t,e){null!==n.value?e(t,n.value):function VJ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{jF(r,new qn(t.toString()+"/"+i),e)})}class BJ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&os(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class HJ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new BJ(t);const i=1e4+2e4*Math.random();rw(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;os(t,(r,s)=>{s>0&&(0,L.r3)(this.statsToReport_,r)&&(e[r]=s,i=!0)}),i&&this.server_.reportStats(e),rw(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Al=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Al||(Al={})),Al))();function qF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class IT{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Al.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(un(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new qn(t));return new IT(On(),e,this.revert)}}return(0,L.hu)(cn(this.path)===t,"operationForChild called for unrelated child."),new IT(oi(this.path),this.affectedTree,this.revert)}}class fw{constructor(t,e){this.source=t,this.path=e,this.type=Al.LISTEN_COMPLETE}operationForChild(t){return un(this.path)?new fw(this.source,On()):new fw(this.source,oi(this.path))}}class Qm{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Al.OVERWRITE}operationForChild(t){return un(this.path)?new Qm(this.source,On(),this.snap.getImmediateChild(t)):new Qm(this.source,oi(this.path),this.snap)}}class Vy{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Al.MERGE}operationForChild(t){if(un(this.path)){const e=this.children.subtree(new qn(t));return e.isEmpty()?null:e.value?new Qm(this.source,On(),e.value):new Vy(this.source,On(),e)}return(0,L.hu)(cn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Vy(this.source,oi(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Mf{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(un(t))return this.isFullyInitialized()&&!this.filtered_;const e=cn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class jJ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function pw(n,t,e,i,r,s){const c=i.filter(d=>d.type===e);c.sort((d,f)=>function qJ(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const i=new mn(t.childName,t.snapshotNode),r=new mn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,d,f)),c.forEach(d=>{const f=function zJ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,d,s);r.forEach(m=>{m.respondsTo(d.type)&&t.push(m.createEvent(f,n.query_))})})}function ST(n,t){return{eventCache:n,serverCache:t}}function mw(n,t,e,i){return ST(new Mf(t,e,i),n.serverCache)}function GG(n,t,e,i){return ST(n.eventCache,new Mf(t,e,i))}function TT(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Jm(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let ZF;class fi{constructor(t,e=(()=>(ZF||(ZF=new ca(kQ)),ZF))()){this.value=t,this.children=e}static fromObject(t){let e=new fi(null);return os(t,(i,r)=>{e=e.set(new qn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:On(),value:this.value};if(un(t))return null;{const i=cn(t),r=this.children.get(i);if(null!==r){const s=r.findRootMostMatchingPathAndValue(oi(t),e);return null!=s?{path:Fi(new qn(i),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(un(t))return this;{const e=cn(t),i=this.children.get(e);return null!==i?i.subtree(oi(t)):new fi(null)}}set(t,e){if(un(t))return new fi(e,this.children);{const i=cn(t),s=(this.children.get(i)||new fi(null)).set(oi(t),e),c=this.children.insert(i,s);return new fi(this.value,c)}}remove(t){if(un(t))return this.children.isEmpty()?new fi(null):new fi(null,this.children);{const e=cn(t),i=this.children.get(e);if(i){const r=i.remove(oi(t));let s;return s=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&s.isEmpty()?new fi(null):new fi(this.value,s)}return this}}get(t){if(un(t))return this.value;{const e=cn(t),i=this.children.get(e);return i?i.get(oi(t)):null}}setTree(t,e){if(un(t))return e;{const i=cn(t),s=(this.children.get(i)||new fi(null)).setTree(oi(t),e);let c;return c=s.isEmpty()?this.children.remove(i):this.children.insert(i,s),new fi(this.value,c)}}fold(t){return this.fold_(On(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Fi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,On(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(un(t))return null;{const s=cn(t),c=this.children.get(s);return c?c.findOnPath_(oi(t),Fi(e,s),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,On(),e)}foreachOnPath_(t,e,i){if(un(t))return this;{this.value&&i(e,this.value);const r=cn(t),s=this.children.get(r);return s?s.foreachOnPath_(oi(t),Fi(e,r),i):new fi(null)}}foreach(t){this.foreach_(On(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Fi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class bc{constructor(t){this.writeTree_=t}static empty(){return new bc(new fi(null))}}function gw(n,t,e){if(un(t))return new bc(new fi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let s=i.value;const c=Oo(r,t);return s=s.updateChild(c,e),new bc(n.writeTree_.set(r,s))}{const r=new fi(e),s=n.writeTree_.setTree(t,r);return new bc(s)}}}function WF(n,t,e){let i=n;return os(e,(r,s)=>{i=gw(i,Fi(t,r),s)}),i}function zG(n,t){if(un(t))return bc.empty();{const e=n.writeTree_.setTree(t,new fi(null));return new bc(e)}}function YF(n,t){return null!=Xm(n,t)}function Xm(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(Oo(e.path,t)):null}function qG(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(hi,(i,r)=>{t.push(new mn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new mn(i,r.value))}),t}function kf(n,t){if(un(t))return n;{const e=Xm(n,t);return new bc(null!=e?new fi(e):n.writeTree_.subtree(t))}}function KF(n){return n.writeTree_.isEmpty()}function By(n,t){return ZG(On(),n.writeTree_,t)}function ZG(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,s)=>{".priority"===r?((0,L.hu)(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):e=ZG(Fi(n,r),s,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Fi(n,".priority"),i)),e}}function AT(n,t){return JG(t,n)}function JJ(n,t){if(n.snap)return Tl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Tl(Fi(n.path,e),t))return!0;return!1}function eX(n){return n.visible}function WG(n,t,e){let i=bc.empty();for(let r=0;r<n.length;++r){const s=n[r];if(t(s)){const c=s.path;let d;if(s.snap)Tl(e,c)?(d=Oo(e,c),i=gw(i,d,s.snap)):Tl(c,e)&&(d=Oo(c,e),i=gw(i,On(),s.snap.getChild(d)));else{if(!s.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(Tl(e,c))d=Oo(e,c),i=WF(i,d,s.children);else if(Tl(c,e))if(d=Oo(c,e),un(d))i=WF(i,On(),s.children);else{const f=(0,L.DV)(s.children,cn(d));if(f){const m=f.getChild(oi(d));i=gw(i,On(),m)}}}}}return i}function YG(n,t,e,i,r){if(i||r){const s=kf(n.visibleWrites,t);return!r&&KF(s)?e:r||null!=e||YF(s,On())?By(WG(n.allWrites,function(m){return(m.visible||r)&&(!i||!~i.indexOf(m.writeId))&&(Tl(m.path,t)||Tl(t,m.path))},t),e||Qt.EMPTY_NODE):null}{const s=Xm(n.visibleWrites,t);if(null!=s)return s;{const c=kf(n.visibleWrites,t);return KF(c)?e:null!=e||YF(c,On())?By(c,e||Qt.EMPTY_NODE):null}}}function xT(n,t,e,i){return YG(n.writeTree,n.treePath,t,e,i)}function QF(n,t){return function tX(n,t,e){let i=Qt.EMPTY_NODE;const r=Xm(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(hi,(s,c)=>{i=i.updateImmediateChild(s,c)}),i;if(e){const s=kf(n.visibleWrites,t);return e.forEachChild(hi,(c,d)=>{const f=By(kf(s,new qn(c)),d);i=i.updateImmediateChild(c,f)}),qG(s).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return qG(kf(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function KG(n,t,e,i){return function nX(n,t,e,i,r){(0,L.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const s=Fi(t,e);if(YF(n.visibleWrites,s))return null;{const c=kf(n.visibleWrites,s);return KF(c)?r.getChild(e):By(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function MT(n,t){return function rX(n,t){return Xm(n.visibleWrites,t)}(n.writeTree,Fi(n.treePath,t))}function JF(n,t,e){return function iX(n,t,e,i){const r=Fi(t,e),s=Xm(n.visibleWrites,r);return null!=s?s:i.isCompleteForChild(e)?By(kf(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function QG(n,t){return JG(Fi(n.treePath,t),n.writeTree)}function JG(n,t){return{treePath:n,writeTree:t}}class lX{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const s=r.type;if("child_added"===e&&"child_removed"===s)this.changeMap.set(i,dw(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===s)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===s)this.changeMap.set(i,uw(i,r.oldSnap));else if("child_changed"===e&&"child_added"===s)this.changeMap.set(i,Ny(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==s)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,dw(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const XG=new class cX{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class XF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Mf(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jm(this.viewCache_),s=function aX(n,t,e,i,r,s){return function sX(n,t,e,i,r,s,c){let d;const f=kf(n.visibleWrites,t),m=Xm(f,On());if(null!=m)d=m;else{if(null==e)return[];d=By(f,e)}if(d=d.withIndex(c),d.isEmpty()||d.isLeafNode())return[];{const v=[],E=c.getCompare(),A=s?d.getReverseIteratorFrom(i,c):d.getIteratorFrom(i,c);let M=A.getNext();for(;M&&v.length<r;)0!==E(M,i)&&v.push(M),M=A.getNext();return v}}(n.writeTree,n.treePath,t,e,i,r,s)}(this.writes_,r,e,1,i,t);return 0===s.length?null:s[0]}}function e6(n,t,e,i,r,s){const c=t.eventCache;if(null!=MT(i,e))return t;{let d,f;if(un(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const m=Jm(t),E=QF(i,m instanceof Qt?m:Qt.EMPTY_NODE);d=n.filter.updateFullNode(t.eventCache.getNode(),E,s)}else{const m=xT(i,Jm(t));d=n.filter.updateFullNode(t.eventCache.getNode(),m,s)}else{const m=cn(e);if(".priority"===m){(0,L.hu)(1===xf(e),"Can't have a priority with additional path components");const v=c.getNode();f=t.serverCache.getNode();const E=KG(i,e,v,f);d=null!=E?n.filter.updatePriority(v,E):c.getNode()}else{const v=oi(e);let E;if(c.isCompleteForChild(m)){f=t.serverCache.getNode();const A=KG(i,e,c.getNode(),f);E=null!=A?c.getNode().getImmediateChild(m).updateChild(v,A):c.getNode().getImmediateChild(m)}else E=JF(i,m,t.serverCache);d=null!=E?n.filter.updateChild(c.getNode(),m,E,v,r,s):c.getNode()}}return mw(t,d,c.isFullyInitialized()||un(e),n.filter.filtersNodes())}}function kT(n,t,e,i,r,s,c,d){const f=t.serverCache;let m;const v=c?n.filter:n.filter.getIndexedFilter();if(un(e))m=v.updateFullNode(f.getNode(),i,null);else if(v.filtersNodes()&&!f.isFiltered()){const M=f.getNode().updateChild(e,i);m=v.updateFullNode(f.getNode(),M,null)}else{const M=cn(e);if(!f.isCompleteForPath(e)&&xf(e)>1)return t;const P=oi(e),J=f.getNode().getImmediateChild(M).updateChild(P,i);m=".priority"===M?v.updatePriority(f.getNode(),J):v.updateChild(f.getNode(),M,J,P,XG,null)}const E=GG(t,m,f.isFullyInitialized()||un(e),v.filtersNodes());return e6(n,E,e,r,new XF(r,E,s),d)}function eN(n,t,e,i,r,s,c){const d=t.eventCache;let f,m;const v=new XF(r,t,s);if(un(e))m=n.filter.updateFullNode(t.eventCache.getNode(),i,c),f=mw(t,m,!0,n.filter.filtersNodes());else{const E=cn(e);if(".priority"===E)m=n.filter.updatePriority(t.eventCache.getNode(),i),f=mw(t,m,d.isFullyInitialized(),d.isFiltered());else{const A=oi(e),M=d.getNode().getImmediateChild(E);let P;if(un(A))P=i;else{const B=v.getCompleteChild(E);P=null!=B?".priority"===MF(A)&&B.getChild(SG(A)).isEmpty()?B:B.updateChild(A,i):Qt.EMPTY_NODE}f=M.equals(P)?t:mw(t,n.filter.updateChild(d.getNode(),E,P,A,v,c),d.isFullyInitialized(),n.filter.filtersNodes())}}return f}function t6(n,t){return n.eventCache.isCompleteForChild(t)}function n6(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function tN(n,t,e,i,r,s,c,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m,f=t;m=un(e)?i:new fi(null).setTree(e,i);const v=t.serverCache.getNode();return m.children.inorderTraversal((E,A)=>{if(v.hasChild(E)){const P=n6(0,t.serverCache.getNode().getImmediateChild(E),A);f=kT(n,f,new qn(E),P,r,s,c,d)}}),m.children.inorderTraversal((E,A)=>{const M=!t.serverCache.isCompleteForChild(E)&&null===A.value;if(!v.hasChild(E)&&!M){const B=n6(0,t.serverCache.getNode().getImmediateChild(E),A);f=kT(n,f,new qn(E),B,r,s,c,d)}}),f}class yX{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new BF(i.getIndex()),s=function RJ(n){return n.loadsAllData()?new BF(n.getIndex()):n.hasLimit()?new kJ(n):new hw(n)}(i);this.processor_=function uX(n){return{filter:n}}(s);const c=e.serverCache,d=e.eventCache,f=r.updateFullNode(Qt.EMPTY_NODE,c.getNode(),null),m=s.updateFullNode(Qt.EMPTY_NODE,d.getNode(),null),v=new Mf(f,c.isFullyInitialized(),r.filtersNodes()),E=new Mf(m,d.isFullyInitialized(),s.filtersNodes());this.viewCache_=ST(E,v),this.eventGenerator_=new jJ(this.query_)}get query(){return this.query_}}function wX(n,t){const e=Jm(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!un(t)&&!e.getImmediateChild(cn(t)).isEmpty())?e.getChild(t):null}function i6(n){return 0===n.eventRegistrations_.length}function r6(n,t,e){const i=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(s=>{const c=s.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let s=0;s<n.eventRegistrations_.length;++s){const c=n.eventRegistrations_[s];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(s+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function s6(n,t,e,i){t.type===Al.MERGE&&null!==t.source.queryId&&((0,L.hu)(Jm(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(TT(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,s=function hX(n,t,e,i,r){const s=new lX;let c,d;if(e.type===Al.OVERWRITE){const m=e;m.source.fromUser?c=eN(n,t,m.path,m.snap,i,r,s):((0,L.hu)(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered()&&!un(m.path),c=kT(n,t,m.path,m.snap,i,r,d,s))}else if(e.type===Al.MERGE){const m=e;m.source.fromUser?c=function pX(n,t,e,i,r,s,c){let d=t;return i.foreach((f,m)=>{const v=Fi(e,f);t6(t,cn(v))&&(d=eN(n,d,v,m,r,s,c))}),i.foreach((f,m)=>{const v=Fi(e,f);t6(t,cn(v))||(d=eN(n,d,v,m,r,s,c))}),d}(n,t,m.path,m.children,i,r,s):((0,L.hu)(m.source.fromServer,"Unknown source."),d=m.source.tagged||t.serverCache.isFiltered(),c=tN(n,t,m.path,m.children,i,r,d,s))}else if(e.type===Al.ACK_USER_WRITE){const m=e;c=m.revert?function _X(n,t,e,i,r,s){let c;if(null!=MT(i,e))return t;{const d=new XF(i,t,r),f=t.eventCache.getNode();let m;if(un(e)||".priority"===cn(e)){let v;if(t.serverCache.isFullyInitialized())v=xT(i,Jm(t));else{const E=t.serverCache.getNode();(0,L.hu)(E instanceof Qt,"serverChildren would be complete if leaf node"),v=QF(i,E)}m=n.filter.updateFullNode(f,v,s)}else{const v=cn(e);let E=JF(i,v,t.serverCache);null==E&&t.serverCache.isCompleteForChild(v)&&(E=f.getImmediateChild(v)),m=null!=E?n.filter.updateChild(f,v,E,oi(e),d,s):t.eventCache.getNode().hasChild(v)?n.filter.updateChild(f,v,Qt.EMPTY_NODE,oi(e),d,s):f,m.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=xT(i,Jm(t)),c.isLeafNode()&&(m=n.filter.updateFullNode(m,c,s)))}return c=t.serverCache.isFullyInitialized()||null!=MT(i,On()),mw(t,m,c,n.filter.filtersNodes())}}(n,t,m.path,i,r,s):function mX(n,t,e,i,r,s,c){if(null!=MT(r,e))return t;const d=t.serverCache.isFiltered(),f=t.serverCache;if(null!=i.value){if(un(e)&&f.isFullyInitialized()||f.isCompleteForPath(e))return kT(n,t,e,f.getNode().getChild(e),r,s,d,c);if(un(e)){let m=new fi(null);return f.getNode().forEachChild(Mu,(v,E)=>{m=m.set(new qn(v),E)}),tN(n,t,e,m,r,s,d,c)}return t}{let m=new fi(null);return i.foreach((v,E)=>{const A=Fi(e,v);f.isCompleteForPath(A)&&(m=m.set(v,f.getNode().getChild(A)))}),tN(n,t,e,m,r,s,d,c)}}(n,t,m.path,m.affectedTree,i,r,s)}else{if(e.type!==Al.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);c=function gX(n,t,e,i,r){const s=t.serverCache;return e6(n,GG(t,s.getNode(),s.isFullyInitialized()||un(e),s.isFiltered()),e,i,XG,r)}(n,t,e.path,i,s)}const f=s.getChanges();return function fX(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=TT(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&e.push(UG(TT(t)))}}(t,c,f),{viewCache:c,changes:f}}(n.processor_,r,t,e,i);return function dX(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,s.viewCache),(0,L.hu)(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,o6(n,s.changes,s.viewCache.eventCache.getNode(),null)}function o6(n,t,e,i){return function GJ(n,t,e,i){const r=[],s=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&s.push(function MJ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),pw(n,r,"child_removed",t,i,e),pw(n,r,"child_added",t,i,e),pw(n,r,"child_moved",s,i,e),pw(n,r,"child_changed",t,i,e),pw(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let RT,PT;class a6{constructor(){this.views=new Map}}function nN(n,t,e,i){const r=t.source.queryId;if(null!==r){const s=n.views.get(r);return(0,L.hu)(null!=s,"SyncTree gave us an op for an invalid query."),s6(s,t,e,i)}{let s=[];for(const c of n.views.values())s=s.concat(s6(c,t,e,i));return s}}function l6(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let d=xT(e,r?i:null),f=!1;d?f=!0:i instanceof Qt?(d=QF(e,i),f=!1):(d=Qt.EMPTY_NODE,f=!1);const m=ST(new Mf(d,f,!1),new Mf(i,r,!1));return new yX(t,m)}return c}function c6(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Rf(n,t){let e=null;for(const i of n.views.values())e=e||wX(i,t);return e}function u6(n,t){return t._queryParams.loadsAllData()?OT(n):n.views.get(t._queryIdentifier)}function d6(n,t){return null!=u6(n,t)}function Of(n){return null!=OT(n)}function OT(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let kX=1;class h6{constructor(t){this.listenProvider_=t,this.syncPointTree_=new fi(null),this.pendingWriteTree_=function oX(){return{visibleWrites:bc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function iN(n,t,e,i,r){return function WJ(n,t,e,i,r){(0,L.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=gw(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Uy(n,new Qm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Pf(n,t,e=!1){const i=function KJ(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function QJ(n,t){const e=n.allWrites.findIndex(d=>d.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,s=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const d=n.allWrites[c];d.visible&&(c>=e&&JJ(d,i.path)?r=!1:Tl(i.path,d.path)&&(s=!0)),c--}return!!r&&(s?(function XJ(n){n.visibleWrites=WG(n.allWrites,eX,On()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=zG(n.visibleWrites,i.path):os(i.children,f=>{n.visibleWrites=zG(n.visibleWrites,Fi(i.path,f))}),!0))}(n.pendingWriteTree_,t)){let s=new fi(null);return null!=i.snap?s=s.set(On(),!0):os(i.children,c=>{s=s.set(new qn(c),!0)}),Uy(n,new IT(i.path,s,e))}return[]}function _w(n,t,e){return Uy(n,new Qm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function FT(n,t,e,i,r=!1){const s=t._path,c=n.syncPointTree_.get(s);let d=[];if(c&&("default"===t._queryIdentifier||d6(c,t))){const f=function AX(n,t,e,i){const r=t._queryIdentifier,s=[];let c=[];const d=Of(n);if("default"===r)for(const[f,m]of n.views.entries())c=c.concat(r6(m,e,i)),i6(m)&&(n.views.delete(f),m.query._queryParams.loadsAllData()||s.push(m.query));else{const f=n.views.get(r);f&&(c=c.concat(r6(f,e,i)),i6(f)&&(n.views.delete(r),f.query._queryParams.loadsAllData()||s.push(f.query)))}return d&&!Of(n)&&s.push(new(function IX(){return(0,L.hu)(RT,"Reference.ts has not been loaded"),RT}())(t._repo,t._path)),{removed:s,events:c}}(c,t,e,i);(function SX(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(s));const m=f.removed;if(d=f.events,!r){const v=-1!==m.findIndex(A=>A._queryParams.loadsAllData()),E=n.syncPointTree_.findOnPath(s,(A,M)=>Of(M));if(v&&!E){const A=n.syncPointTree_.subtree(s);if(!A.isEmpty()){const M=function VX(n){return n.fold((t,e,i)=>{if(e&&Of(e))return[OT(e)];{let r=[];return e&&(r=c6(e)),os(i,(s,c)=>{r=r.concat(c)}),r}})}(A);for(let P=0;P<M.length;++P){const B=M[P],J=B.query,oe=g6(n,B);n.listenProvider_.startListening(vw(J),yw(n,J),oe.hashFn,oe.onComplete)}}}!E&&m.length>0&&!i&&(v?n.listenProvider_.stopListening(vw(t),null):m.forEach(A=>{const M=n.queryToTagMap.get(LT(A));n.listenProvider_.stopListening(vw(A),M)}))}!function BX(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=LT(i),s=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(s)}}}(n,m)}return d}function f6(n,t,e,i){const r=sN(n,i);if(null!=r){const s=oN(r),c=s.path,d=s.queryId,f=Oo(c,t);return aN(n,c,new Qm(qF(d),f,e))}return[]}function rN(n,t,e,i=!1){const r=t._path;let s=null,c=!1;n.syncPointTree_.foreachOnPath(r,(A,M)=>{const P=Oo(A,r);s=s||Rf(M,P),c=c||Of(M)});let f,d=n.syncPointTree_.get(r);d?(c=c||Of(d),s=s||Rf(d,On())):(d=new a6,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=s?f=!0:(f=!1,s=Qt.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((M,P)=>{const B=Rf(P,On());B&&(s=s.updateImmediateChild(M,B))}));const m=d6(d,t);if(!m&&!t._queryParams.loadsAllData()){const A=LT(t);(0,L.hu)(!n.queryToTagMap.has(A),"View does not exist, but we have a tag");const M=function UX(){return kX++}();n.queryToTagMap.set(A,M),n.tagToQueryMap.set(M,A)}let E=function TX(n,t,e,i,r,s){const c=l6(n,t,i,r,s);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function CX(n,t){n.eventRegistrations_.push(t)}(c,e),function EX(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(hi,(s,c)=>{i.push(Ny(s,c))}),e.isFullyInitialized()&&i.push(UG(e.getNode())),o6(n,i,e.getNode(),t)}(c,e)}(d,t,e,AT(n.pendingWriteTree_,r),s,f);if(!m&&!c&&!i){const A=u6(d,t);E=E.concat(function $X(n,t,e){const i=t._path,r=yw(n,t),s=g6(n,e),c=n.listenProvider_.startListening(vw(t),r,s.hashFn,s.onComplete),d=n.syncPointTree_.subtree(i);if(r)(0,L.hu)(!Of(d.value),"If we're adding a query, it shouldn't be shadowed");else{const f=d.fold((m,v,E)=>{if(!un(m)&&v&&Of(v))return[OT(v).query];{let A=[];return v&&(A=A.concat(c6(v).map(M=>M.query))),os(E,(M,P)=>{A=A.concat(P)}),A}});for(let m=0;m<f.length;++m){const v=f[m];n.listenProvider_.stopListening(vw(v),yw(n,v))}}return c}(n,t,A))}return E}function NT(n,t,e){const r=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(t,(c,d)=>{const m=Rf(d,Oo(c,t));if(m)return m});return YG(r,t,s,e,!0)}function Uy(n,t){return p6(t,n.syncPointTree_,null,AT(n.pendingWriteTree_,On()))}function p6(n,t,e,i){if(un(n.path))return m6(n,t,e,i);{const r=t.get(On());null==e&&null!=r&&(e=Rf(r,On()));let s=[];const c=cn(n.path),d=n.operationForChild(c),f=t.children.get(c);if(f&&d){const m=e?e.getImmediateChild(c):null,v=QG(i,c);s=s.concat(p6(d,f,m,v))}return r&&(s=s.concat(nN(r,n,i,e))),s}}function m6(n,t,e,i){const r=t.get(On());null==e&&null!=r&&(e=Rf(r,On()));let s=[];return t.children.inorderTraversal((c,d)=>{const f=e?e.getImmediateChild(c):null,m=QG(i,c),v=n.operationForChild(c);v&&(s=s.concat(m6(v,d,f,m)))}),r&&(s=s.concat(nN(r,n,i,e))),s}function g6(n,t){const e=t.query,i=yw(n,e);return{hashFn:()=>(function vX(n){return n.viewCache_.serverCache.getNode()}(t)||Qt.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function FX(n,t,e){const i=sN(n,e);if(i){const r=oN(i),s=r.path,c=r.queryId,d=Oo(s,t);return aN(n,s,new fw(qF(c),d))}return[]}(n,e._path,i):function PX(n,t){return Uy(n,new fw({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const s=function PQ(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return FT(n,e,null,s)}}}}function yw(n,t){const e=LT(t);return n.queryToTagMap.get(e)}function LT(n){return n._path.toString()+"$"+n._queryIdentifier}function sN(n,t){return n.tagToQueryMap.get(t)}function oN(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new qn(n.substr(0,t))}}function aN(n,t,e){const i=n.syncPointTree_.get(t);return(0,L.hu)(i,"Missing sync point for query tag that we're tracking"),nN(i,e,AT(n.pendingWriteTree_,t),null)}function vw(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function MX(){return(0,L.hu)(PT,"Reference.ts has not been loaded"),PT}())(n._repo,n._path):n}class lN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new lN(e)}node(){return this.node_}}class cN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Fi(this.path_,t);return new cN(this.syncTree_,e)}node(){return NT(this.syncTree_,this.path_)}}const _6=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?jX(n[".sv"],t,e):"object"==typeof n[".sv"]?GX(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},jX=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,L.hu)(!1,"Unexpected server value: "+n)},GX=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,L.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,L.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},y6=function(n,t,e,i){return dN(t,new cN(e,n),i)},uN=function(n,t,e){return dN(n,new lN(t),e)};function dN(n,t,e){const i=n.getPriority().val(),r=_6(i,t.getImmediateChild(".priority"),e);let s;if(n.isLeafNode()){const c=n,d=_6(c.getValue(),t,e);return d!==c.getValue()||r!==c.getPriority().val()?new Oy(d,qi(r)):n}{const c=n;return s=c,r!==c.getPriority().val()&&(s=s.updatePriority(new Oy(r))),c.forEachChild(hi,(d,f)=>{const m=dN(f,t.getImmediateChild(d),e);m!==f&&(s=s.updateImmediateChild(d,m))}),s}}class hN{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function VT(n,t){let e=t instanceof qn?t:new qn(t),i=n,r=cn(e);for(;null!==r;){const s=(0,L.DV)(i.node.children,r)||{children:{},childCount:0};i=new hN(r,i,s),e=oi(e),r=cn(e)}return i}function eg(n){return n.node.value}function fN(n,t){n.node.value=t,pN(n)}function v6(n){return n.node.childCount>0}function BT(n,t){os(n.node.children,(e,i)=>{t(new hN(e,n,i))})}function b6(n,t,e,i){e&&!i&&t(n),BT(n,r=>{b6(r,t,!0,i)}),e&&i&&t(n)}function bw(n){return new qn(null===n.parent?n.name:bw(n.parent)+"/"+n.name)}function pN(n){null!==n.parent&&function ZX(n,t,e){const i=function zX(n){return void 0===eg(n)&&!v6(n)}(e),r=(0,L.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,pN(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,pN(n))}(n.parent,n.name,n)}const WX=/[\[\].#$\/\u0000-\u001F\u007F]/,YX=/[\[\].#$\u0000-\u001F\u007F]/,mN=10485760,UT=function(n){return"string"==typeof n&&0!==n.length&&!WX.test(n)},w6=function(n){return"string"==typeof n&&0!==n.length&&!YX.test(n)},ww=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!hT(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},ku=function(n,t,e,i){i&&void 0===t||Cw((0,L.gK)(n,"value"),t,e)},Cw=function(n,t,e){const i=e instanceof qn?new dJ(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ym(i));if("function"==typeof t)throw new Error(n+"contains a function "+Ym(i)+" with contents = "+t.toString());if(hT(t))throw new Error(n+"contains "+t.toString()+" "+Ym(i));if("string"==typeof t&&t.length>mN/3&&(0,L.ug)(t)>mN)throw new Error(n+"contains a string greater than "+mN+" utf8 bytes "+Ym(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,s=!1;if(os(t,(c,d)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(s=!0,!UT(c)))throw new Error(n+" contains an invalid key ("+c+") "+Ym(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function hJ(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),TG(n)})(i,c),Cw(n,d,i),function fJ(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&s)throw new Error(n+' contains ".value" child '+Ym(i)+" in addition to actual children.")}},C6=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const s=[];os(t,(c,d)=>{const f=new qn(c);if(Cw(r,d,Fi(e,f)),".priority"===MF(f)&&!ww(d))throw new Error(r+"contains an invalid value for '"+f.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(f)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const s=ow(i);for(let c=0;c<s.length;c++)if((".priority"!==s[c]||c!==s.length-1)&&!UT(s[c]))throw new Error(n+"contains an invalid key ("+s[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(uJ);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&Tl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,s)},gN=function(n,t,e){if(!e||void 0!==t){if(hT(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ww(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Ew=function(n,t,e,i){if(!(i&&void 0===e||UT(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Dw=function(n,t,e,i){if(!(i&&void 0===e||w6(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xl=function(n,t){if(".info"===cn(t))throw new Error(n+" failed = Can't modify data under /.info/")},E6=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!UT(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),w6(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class XX{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $T(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],s=r.getPath();null!==e&&!kF(s,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:s}),e.events.push(r)}e&&n.eventLists_.push(e)}function D6(n,t,e){$T(n,e),I6(n,i=>kF(i,t))}function $a(n,t,e){$T(n,e),I6(n,i=>Tl(i,t)||Tl(t,i))}function I6(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(eee(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function eee(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Zm&&ss("event: "+e.toString()),ky(i)}}}const S6="repo_interrupt";class nee{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new XX,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=DT(),this.transactionQueueTree_=new hN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function T6(n){const e=n.infoData_.getNode(new qn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Iw(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:T6(n)})}function A6(n,t,e,i,r){n.dataUpdateCount++;const s=new qn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const f=(0,L.UI)(e,m=>qi(m));c=function NX(n,t,e,i){const r=sN(n,i);if(r){const s=oN(r),c=s.path,d=s.queryId,f=Oo(c,t),m=fi.fromObject(e);return aN(n,c,new Vy(qF(d),f,m))}return[]}(n.serverSyncTree_,s,f,r)}else{const f=qi(e);c=f6(n.serverSyncTree_,s,f,r)}else if(i){const f=(0,L.UI)(e,m=>qi(m));c=function OX(n,t,e){const i=fi.fromObject(e);return Uy(n,new Vy({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,s,f)}else{const f=qi(e);c=_w(n.serverSyncTree_,s,f)}let d=s;c.length>0&&(d=Hy(n,s)),$a(n.eventQueue_,d,c)}function x6(n,t){_N(n,"connected",t),!1===t&&function aee(n){$y(n,"onDisconnectEvents");const t=Iw(n),e=DT();jF(n.onDisconnect_,On(),(r,s)=>{const c=y6(r,s,n.serverSyncTree_,t);Ly(e,r,c)});let i=[];jF(e,On(),(r,s)=>{i=i.concat(_w(n.serverSyncTree_,r,s));const c=wN(n,r);Hy(n,c)}),n.onDisconnect_=DT(),$a(n.eventQueue_,On(),i)}(n)}function _N(n,t,e){const i=new qn("/.info/"+t),r=qi(e);n.infoData_.updateSnapshot(i,r);const s=_w(n.infoSyncTree_,i,r);$a(n.eventQueue_,i,s)}function HT(n){return n.nextWriteId_++}function yN(n,t,e,i,r){$y(n,"set",{path:t.toString(),value:e,priority:i});const s=Iw(n),c=qi(e,i),d=NT(n.serverSyncTree_,t),f=uN(c,d,s),m=HT(n),v=iN(n.serverSyncTree_,t,f,m,!0);$T(n.eventQueue_,v),n.server_.put(t.toString(),c.val(!0),(A,M)=>{const P="ok"===A;P||Zs("set at "+t+" failed: "+A);const B=Pf(n.serverSyncTree_,m,!P);$a(n.eventQueue_,t,B),Ff(0,r,A,M)});const E=wN(n,t);Hy(n,E),$a(n.eventQueue_,E,[])}function lee(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&HF(n.onDisconnect_,t),Ff(0,e,i,r)})}function M6(n,t,e,i){const r=qi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(s,c)=>{"ok"===s&&Ly(n.onDisconnect_,t,r),Ff(0,i,s,c)})}function vN(n,t,e){let i;i=".info"===cn(t._path)?FT(n.infoSyncTree_,t,e):FT(n.serverSyncTree_,t,e),D6(n.eventQueue_,t._path,i)}function k6(n){n.persistentConnection_&&n.persistentConnection_.interrupt(S6)}function $y(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ss(e,...t)}function Ff(n,t,e,i){t&&ky(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let s=r;i&&(s+=": "+i);const c=new Error(s);c.code=r,t(c)}})}function bN(n,t,e){return NT(n.serverSyncTree_,t,e)||Qt.EMPTY_NODE}function jT(n,t=n.transactionQueueTree_){if(t||GT(n,t),eg(t)){const e=O6(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function pee(n,t,e){const i=e.map(m=>m.currentWriteId),r=bN(n,t,i);let s=r;const c=r.hash();for(let m=0;m<e.length;m++){const v=e[m];(0,L.hu)(0===v.status,"tryToSendTransactionQueue_: items in queue should all be run."),v.status=1,v.retryCount++;const E=Oo(t,v.path);s=s.updateChild(E,v.currentOutputSnapshotRaw)}const d=s.val(!0),f=t;n.server_.put(f.toString(),d,m=>{$y(n,"transaction put response",{path:f.toString(),status:m});let v=[];if("ok"===m){const E=[];for(let A=0;A<e.length;A++)e[A].status=2,v=v.concat(Pf(n.serverSyncTree_,e[A].currentWriteId)),e[A].onComplete&&E.push(()=>e[A].onComplete(null,!0,e[A].currentOutputSnapshotResolved)),e[A].unwatcher();GT(n,VT(n.transactionQueueTree_,t)),jT(n,n.transactionQueueTree_),$a(n.eventQueue_,t,v);for(let A=0;A<E.length;A++)ky(E[A])}else{if("datastale"===m)for(let E=0;E<e.length;E++)e[E].status=3===e[E].status?4:0;else{Zs("transaction at "+f.toString()+" failed: "+m);for(let E=0;E<e.length;E++)e[E].status=4,e[E].abortReason=m}Hy(n,t)}},c)}(n,bw(t),e)}else v6(t)&&BT(t,e=>{jT(n,e)})}function Hy(n,t){const e=R6(n,t),i=bw(e);return function mee(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(d=>0===d.status).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const f=t[d],m=Oo(e,f.path);let E,v=!1;if((0,L.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===f.status)v=!0,E=f.abortReason,r=r.concat(Pf(n.serverSyncTree_,f.currentWriteId,!0));else if(0===f.status)if(f.retryCount>=25)v=!0,E="maxretry",r=r.concat(Pf(n.serverSyncTree_,f.currentWriteId,!0));else{const A=bN(n,f.path,c);f.currentInputSnapshot=A;const M=t[d].update(A.val());if(void 0!==M){Cw("transaction failed: Data returned ",M,f.path);let P=qi(M);"object"==typeof M&&null!=M&&(0,L.r3)(M,".priority")||(P=P.updatePriority(A.getPriority()));const J=f.currentWriteId,oe=Iw(n),Ve=uN(P,A,oe);f.currentOutputSnapshotRaw=P,f.currentOutputSnapshotResolved=Ve,f.currentWriteId=HT(n),c.splice(c.indexOf(J),1),r=r.concat(iN(n.serverSyncTree_,f.path,Ve,f.currentWriteId,f.applyLocally)),r=r.concat(Pf(n.serverSyncTree_,J,!0))}else v=!0,E="nodata",r=r.concat(Pf(n.serverSyncTree_,f.currentWriteId,!0))}$a(n.eventQueue_,e,r),r=[],v&&(t[d].status=2,setTimeout(t[d].unwatcher,Math.floor(0)),t[d].onComplete&&i.push("nodata"===E?()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot):()=>t[d].onComplete(new Error(E),!1,null)))}GT(n,n.transactionQueueTree_);for(let d=0;d<i.length;d++)ky(i[d]);jT(n,n.transactionQueueTree_)}(n,O6(n,e),i),i}function R6(n,t){let e,i=n.transactionQueueTree_;for(e=cn(t);null!==e&&void 0===eg(i);)i=VT(i,e),e=cn(t=oi(t));return i}function O6(n,t){const e=[];return P6(n,t,e),e.sort((i,r)=>i.order-r.order),e}function P6(n,t,e){const i=eg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);BT(t,r=>{P6(n,r,e)})}function GT(n,t){const e=eg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,fN(t,e.length>0?e:void 0)}BT(t,i=>{GT(n,i)})}function wN(n,t){const e=bw(R6(n,t)),i=VT(n.transactionQueueTree_,t);return function qX(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{CN(n,r)}),CN(n,i),b6(i,r=>{CN(n,r)}),e}function CN(n,t){const e=eg(t);if(e){const i=[];let r=[],s=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,L.hu)(s===c-1,"All SENT items should be at beginning of queue."),s=c,e[c].status=3,e[c].abortReason="set"):((0,L.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Pf(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===s?fN(t,void 0):e.length=s+1,$a(n.eventQueue_,bw(t),r);for(let c=0;c<i.length;c++)ky(i[c])}}const EN=function(n,t){const e=yee(n),i=e.namespace;return"firebase.com"===e.domain&&Au(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Au("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Zs("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new DF(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new qn(e.pathString)}},yee=function(n){let t="",e="",i="",r="",s="",c=!0,d="https",f=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(d=n.substring(0,m-1),n=n.substring(m+2));let v=n.indexOf("/");-1===v&&(v=n.length);let E=n.indexOf("?");-1===E&&(E=n.length),t=n.substring(0,Math.min(v,E)),v<E&&(r=function gee(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(v,E)));const A=function _ee(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Zs(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,E)));m=t.indexOf(":"),m>=0?(c="https"===d||"wss"===d,f=parseInt(t.substring(m+1),10)):m=t.length;const M=t.slice(0,m);if("localhost"===M.toLowerCase())e="localhost";else if(M.split(".").length<=2)e=M;else{const P=t.indexOf(".");i=t.substring(0,P).toLowerCase(),e=t.substring(P+1),s=i}"ns"in A&&(s=A.ns)}return{host:t,port:f,domain:e,subdomain:i,secure:c,scheme:d,pathString:r,namespace:s}};class F6{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class N6{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class DN{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class L6{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return lee(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){xl("OnDisconnect.remove",this._path);const t=new L.BH;return M6(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){xl("OnDisconnect.set",this._path),ku("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return M6(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){xl("OnDisconnect.setWithPriority",this._path),ku("OnDisconnect.setWithPriority",t,this._path,!1),gN("OnDisconnect.setWithPriority",e,!1);const i=new L.BH;return function cee(n,t,e,i,r){const s=qi(e,i);n.server_.onDisconnectPut(t.toString(),s.val(!0),(c,d)=>{"ok"===c&&Ly(n.onDisconnect_,t,s),Ff(0,r,c,d)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){xl("OnDisconnect.update",this._path),C6("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function uee(n,t,e,i){if((0,L.xb)(e))return ss("onDisconnect().update() called with empty data.  Don't do anything."),void Ff(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,s)=>{"ok"===r&&os(e,(c,d)=>{const f=qi(d);Ly(n.onDisconnect_,Fi(t,c),f)}),Ff(0,i,r,s)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class ua{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return un(this._path)?null:MF(this._path)}get ref(){return new Ml(this._repo,this._path)}get _queryIdentifier(){const t=HG(this._queryParams),e=wF(t);return"{}"===e?"default":e}get _queryObject(){return HG(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof ua))return!1;const e=this._repo===t._repo,i=kF(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function cJ(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function zT(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Nf(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Mu){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Vd)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==xu)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===hi){if(null!=t&&!ww(t)||null!=e&&!ww(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof NF||n.getIndex()===LF,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function qT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ml extends ua{constructor(t,e){super(t,e,new wT,!1)}get parent(){const t=SG(this._path);return null===t?null:new Ml(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class tg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new qn(t),i=ng(this.ref,t);return new tg(this._node.getChild(e),i,hi)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new tg(r,ng(this.ref,i),hi)))}hasChild(t){const e=new qn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function V6(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?ng(n._root,t):n._root}function B6(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=EN(t,n._repo.repoInfo_.nodeAdmin);E6("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Au("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),V6(n,e.path.toString())}function ng(n,t){return null===cn((n=(0,L.m9)(n))._path)?(e=t,e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Dw("child","path",e,!1)):Dw("child","path",t,!1),new Ml(n._repo,Fi(n._path,t));var e}function IN(n,t){n=(0,L.m9)(n),xl("set",n._path),ku("set",t,n._path,!1);const e=new L.BH;return yN(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function Eee(n,t){C6("update",t,n._path,!1);const e=new L.BH;return function oee(n,t,e,i){$y(n,"update",{path:t.toString(),value:e});let r=!0;const s=Iw(n),c={};if(os(e,(d,f)=>{r=!1,c[d]=y6(Fi(t,d),qi(f),n.serverSyncTree_,s)}),r)ss("update() called with empty data.  Don't do anything."),Ff(0,i,"ok",void 0);else{const d=HT(n),f=function RX(n,t,e,i){!function YJ(n,t,e,i){(0,L.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=WF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=fi.fromObject(e);return Uy(n,new Vy({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,d);$T(n.eventQueue_,f),n.server_.merge(t.toString(),e,(m,v)=>{const E="ok"===m;E||Zs("update at "+t+" failed: "+m);const A=Pf(n.serverSyncTree_,d,!E),M=A.length>0?Hy(n,t):t;$a(n.eventQueue_,M,A),Ff(0,i,m,v)}),os(e,m=>{const v=wN(n,Fi(t,m));Hy(n,v)}),$a(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function Dee(n){n=(0,L.m9)(n);const t=new DN(()=>{}),e=new Sw(t);return function see(n,t,e){const i=function LX(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(m,v)=>{const E=Oo(m,e);i=i||Rf(v,E)});let r=n.syncPointTree_.get(e);r?i=i||Rf(r,On()):(r=new a6,n.syncPointTree_=n.syncPointTree_.set(e,r));const s=null!=i,c=s?new Mf(i,!0,!1):null;return function bX(n){return TT(n.viewCache_)}(l6(r,t,AT(n.pendingWriteTree_,t._path),s?c.getNode():Qt.EMPTY_NODE,s))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const s=qi(r).withIndex(t._queryParams.getIndex());let c;if(rN(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=_w(n.serverSyncTree_,t._path,s);else{const d=yw(n.serverSyncTree_,t);c=f6(n.serverSyncTree_,t._path,s,d)}return $a(n.eventQueue_,t._path,c),FT(n.serverSyncTree_,t,e,null,!0),s},r=>($y(n,"get for query "+(0,L.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new tg(i,new Ml(n._repo,n._path),n._queryParams.getIndex()))}class Sw{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new F6("value",this,new tg(t.snapshotNode,new Ml(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new N6(this,t,e):null}matches(t){return t instanceof Sw&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class ZT{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new N6(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const i=ng(new Ml(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new F6(t.type,this,new tg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof ZT&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Tw(n,t,e,i,r){let s;if("object"==typeof i&&(s=void 0,r=i),"function"==typeof i&&(s=i),r&&r.onlyOnce){const f=e,m=(v,E)=>{vN(n._repo,n,d),f(v,E)};m.userCallback=e.userCallback,m.context=e.context,e=m}const c=new DN(e,s||void 0),d="value"===t?new Sw(c):new ZT(t,c);return function dee(n,t,e){let i;i=".info"===cn(t._path)?rN(n.infoSyncTree_,t,e):rN(n.serverSyncTree_,t,e),D6(n.eventQueue_,t._path,i)}(n._repo,n,d),()=>vN(n._repo,n,d)}function SN(n,t,e,i){return Tw(n,"value",t,e,i)}function U6(n,t,e,i){return Tw(n,"child_added",t,e,i)}function $6(n,t,e,i){return Tw(n,"child_changed",t,e,i)}function H6(n,t,e,i){return Tw(n,"child_moved",t,e,i)}function j6(n,t,e,i){return Tw(n,"child_removed",t,e,i)}function G6(n,t,e){let i=null;const r=e?new DN(e):null;"value"===t?i=new Sw(r):t&&(i=new ZT(t,r)),vN(n._repo,n,i)}class wc{}class z6 extends wc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ku("endAt",this._value,t._path,!0);const e=$F(t._queryParams,this._value,this._key);if(qT(e),Nf(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ua(t._repo,t._path,e,t._orderByCalled)}}class See extends wc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ku("endBefore",this._value,t._path,!1);const e=function NJ(n,t,e){let i,r;return n.index_===Mu?("string"==typeof t&&(t=BG(t)),r=$F(n,t,e)):(i=null==e?Vd:BG(e),r=$F(n,t,i)),r.endBeforeSet_=!0,r}(t._queryParams,this._value,this._key);if(qT(e),Nf(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ua(t._repo,t._path,e,t._orderByCalled)}}class q6 extends wc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ku("startAt",this._value,t._path,!0);const e=UF(t._queryParams,this._value,this._key);if(qT(e),Nf(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ua(t._repo,t._path,e,t._orderByCalled)}}class xee extends wc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){ku("startAfter",this._value,t._path,!1);const e=function FJ(n,t,e){let i;if(n.index_===Mu)"string"==typeof t&&(t=VG(t)),i=UF(n,t,e);else{let r;r=null==e?xu:VG(e),i=UF(n,t,r)}return i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(qT(e),Nf(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ua(t._repo,t._path,e,t._orderByCalled)}}class kee extends wc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ua(t._repo,t._path,function OJ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Oee extends wc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ua(t._repo,t._path,function PJ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class Fee extends wc{constructor(t){super(),this._path=t}_apply(t){zT(t,"orderByChild");const e=new qn(this._path);if(un(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new NF(e),r=CT(t._queryParams,i);return Nf(r),new ua(t._repo,t._path,r,!0)}}class Lee extends wc{_apply(t){zT(t,"orderByKey");const e=CT(t._queryParams,Mu);return Nf(e),new ua(t._repo,t._path,e,!0)}}class Bee extends wc{_apply(t){zT(t,"orderByPriority");const e=CT(t._queryParams,hi);return Nf(e),new ua(t._repo,t._path,e,!0)}}class $ee extends wc{_apply(t){zT(t,"orderByValue");const e=CT(t._queryParams,LF);return Nf(e),new ua(t._repo,t._path,e,!0)}}class jee extends wc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(ku("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new z6(this._value,this._key)._apply(new q6(this._value,this._key)._apply(t))}}function Cc(n,...t){let e=(0,L.m9)(n);for(const i of t)e=i._apply(e);return e}(function DX(n){(0,L.hu)(!RT,"__referenceConstructor has already been defined"),RT=n})(Ml),function xX(n){(0,L.hu)(!PT,"__referenceConstructor has already been defined"),PT=n}(Ml);const TN={};function W6(n,t,e,i,r){let s=i||n.options.databaseURL;void 0===s&&(n.options.projectId||Au("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ss("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let f,m,c=EN(s,r),d=c.repoInfo;typeof process<"u"&&process.env&&(m=process.env.FIREBASE_DATABASE_EMULATOR_HOST),m?(f=!0,s=`http://${m}?ns=${d.namespace}`,c=EN(s,r),d=c.repoInfo):f=!c.repoInfo.secure;const v=r&&f?new sw(sw.OWNER):new VQ(n.name,n.options,t);E6("Invalid Firebase Database URL",c),un(c.path)||Au("Database URL must point to the root of a Firebase Database (not including a child path).");const E=function Wee(n,t,e,i){let r=TN[t.name];r||(r={},TN[t.name]=r);let s=r[n.toURLString()];return s&&Au("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new nee(n,false,e,i),r[n.toURLString()]=s,s}(d,n,v,new LQ(n.name,e));return new Kee(E,n)}class Kee{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function iee(n,t,e){if(n.stats_=TF(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new ET(n.repoInfo_,(i,r,s,c)=>{A6(n,i,r,s,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>x6(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Km(n.repoInfo_,t,(i,r,s,c)=>{A6(n,i,r,s,c)},i=>{x6(n,i)},i=>{!function ree(n,t){os(t,(e,i)=>{_N(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function $Q(n,t){const e=n.toString();return SF[e]||(SF[e]=t()),SF[e]}(n.repoInfo_,()=>new HJ(n.stats_,n.server_)),n.infoData_=new LJ,n.infoSyncTree_=new h6({startListening:(i,r,s,c)=>{let d=[];const f=n.infoData_.getNode(i._path);return f.isEmpty()||(d=_w(n.infoSyncTree_,i._path,f),setTimeout(()=>{c("ok")},0)),d},stopListening:()=>{}}),_N(n,"connected",!1),n.serverSyncTree_=new h6({startListening:(i,r,s,c)=>(n.server_.listen(i,s,r,(d,f)=>{const m=c(d,f);$a(n.eventQueue_,i._path,m)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ml(this._repo,On())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Zee(n,t){const e=TN[t];(!e||e[n.key]!==n)&&Au(`Database ${t}(${n.repoInfo_}) has already been deleted.`),k6(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Au("Cannot call "+t+" on a deleted database.")}}function Y6(){pG.IS_TRANSPORT_INITIALIZED&&Zs("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Qee(){Y6(),Af.forceDisallow()}function Jee(){Y6(),Ry.forceDisallow(),Af.forceAllow()}function nte(n,t){Wj(n,t)}const rte={".sv":"timestamp"};class ate{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Km.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Km.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function ite(n){jj(Io.SDK_VERSION),(0,Io._registerComponent)(new pc.wA("database",(t,{instanceIdentifier:e})=>W6(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Io.registerVersion)($j,"0.13.6",n),(0,Io.registerVersion)($j,"0.13.6","esm2017")}();const dte=new mc.Yd("@firebase/database-compat"),K6=function(n){dte.warn("FIREBASE WARNING: "+n)};class pte{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),s=>i(s)),r}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,K6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class mte{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Lf{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Dw("DataSnapshot.child","path",t,!1),new Lf(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Dw("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Lf(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ha(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Cs{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var s;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const c=Cs.getCancelAndContextArgs_("Query.on",i,r),d=(m,v)=>{e.call(c.context,new Lf(this.database,m),v)};d.userCallback=e,d.context=c.context;const f=null===(s=c.cancel)||void 0===s?void 0:s.bind(c.context);switch(t){case"value":return SN(this._delegate,d,f),e;case"child_added":return U6(this._delegate,d,f),e;case"child_removed":return j6(this._delegate,d,f),e;case"child_changed":return $6(this._delegate,d,f),e;case"child_moved":return H6(this._delegate,d,f),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,G6(this._delegate,t,r)}else G6(this._delegate,t)}get(){return Dee(this._delegate).then(t=>new Lf(this.database,t))}once(t,e,i,r){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const s=Cs.getCancelAndContextArgs_("Query.once",i,r),c=new L.BH,d=(m,v)=>{const E=new Lf(this.database,m);e&&e.call(s.context,E,v),c.resolve(E)};d.userCallback=e,d.context=s.context;const f=m=>{s.cancel&&s.cancel.call(s.context,m),c.reject(m)};switch(t){case"value":SN(this._delegate,d,f,{onlyOnce:!0});break;case"child_added":U6(this._delegate,d,f,{onlyOnce:!0});break;case"child_removed":j6(this._delegate,d,f,{onlyOnce:!0});break;case"child_changed":$6(this._delegate,d,f,{onlyOnce:!0});break;case"child_moved":H6(this._delegate,d,f,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new Cs(this.database,Cc(this._delegate,function Ree(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new kee(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new Cs(this.database,Cc(this._delegate,function Pee(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Oee(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new Cs(this.database,Cc(this._delegate,function Nee(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Dw("orderByChild","path",n,!1),new Fee(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new Cs(this.database,Cc(this._delegate,function Vee(){return new Lee}()))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new Cs(this.database,Cc(this._delegate,function Uee(){return new Bee}()))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new Cs(this.database,Cc(this._delegate,function Hee(){return new $ee}()))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new Cs(this.database,Cc(this._delegate,function Aee(n=null,t){return Ew("startAt","key",t,!0),new q6(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new Cs(this.database,Cc(this._delegate,function Mee(n,t){return Ew("startAfter","key",t,!0),new xee(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new Cs(this.database,Cc(this._delegate,function Iee(n,t){return Ew("endAt","key",t,!0),new z6(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new Cs(this.database,Cc(this._delegate,function Tee(n,t){return Ew("endBefore","key",t,!0),new See(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new Cs(this.database,Cc(this._delegate,function Gee(n,t){return Ew("equalTo","key",t,!0),new jee(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Cs))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,L.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,L.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ha(this.database,new Ml(this._delegate._repo,this._delegate._path))}}class Ha extends Cs{constructor(t,e){super(t,new ua(e._repo,e._path,new wT,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ha(this.database,ng(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ha(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new Ha(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const i=IN(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let s=0;s<t.length;++s)r[""+s]=t[s];t=r,K6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xl("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const i=Eee(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Cee(n,t,e){if(xl("setWithPriority",n._path),ku("setWithPriority",t,n._path,!1),gN("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new L.BH;return yN(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),s=>i(s)),r}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function bee(n){return xl("remove",n._path),IN(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function lte(n,t,e){var i;if(n=(0,L.m9)(n),xl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=null==e?void 0:e.applyLocally)||void 0===i||i,s=new L.BH,d=SN(n,()=>{});return function fee(n,t,e,i,r,s){$y(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:zj(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},d=bN(n,t,void 0);c.currentInputSnapshot=d;const f=c.update(d.val());if(void 0===f)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{Cw("transaction failed: Data returned ",f,c.path),c.status=0;const m=VT(n.transactionQueueTree_,t),v=eg(m)||[];let E;v.push(c),fN(m,v),"object"==typeof f&&null!==f&&(0,L.r3)(f,".priority")?(E=(0,L.DV)(f,".priority"),(0,L.hu)(ww(E),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):E=(NT(n.serverSyncTree_,t)||Qt.EMPTY_NODE).getPriority().val();const A=Iw(n),M=qi(f,E),P=uN(M,d,A);c.currentOutputSnapshotRaw=M,c.currentOutputSnapshotResolved=P,c.currentWriteId=HT(n);const B=iN(n.serverSyncTree_,t,P,c.currentWriteId,c.applyLocally);$a(n.eventQueue_,t,B),jT(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(f,m,v)=>{let E=null;f?s.reject(f):(E=new tg(v,new Ml(n._repo,n._path),hi),s.resolve(new ate(m,E)))},d,r),s.promise}(this._delegate,t,{applyLocally:i}).then(s=>new mte(s.committed,new Lf(this.database,s.snapshot)));return e&&r.then(s=>e(null,s.committed,s.snapshot),s=>e(s,!1,null)),r}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const i=function wee(n,t){n=(0,L.m9)(n),xl("setPriority",n._path),gN("setPriority",t,!1);const e=new L.BH;return yN(n._repo,Fi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const i=function vee(n,t){n=(0,L.m9)(n),xl("push",n._path),ku("push",t,n._path,!0);const e=T6(n._repo),i=xJ(e),r=ng(n,i),s=ng(n,i);let c;return c=null!=t?IN(s,t).then(()=>s):Promise.resolve(s),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Ha(this.database,c));e&&r.then(()=>e(null),c=>e(c));const s=new Ha(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return xl("Reference.onDisconnect",this._delegate._path),new pte(new L6(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Aw{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Qee,forceLongPolling:Jee}}useEmulator(t,e,i={}){!function Xee(n,t,e,i={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Au("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Au('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new sw(sw.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,L.Sg)(i.mockUserToken,n.app.options.projectId);s=new sw(c)}!function qee(n,t,e,i){n.repoInfo_=new DF(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),i&&(n.authTokenProvider_=i)}(r,t,e,s)}(this._delegate,t,e,i)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof Ha){const e=B6(this._delegate,t.toString());return new Ha(this,e)}{const e=V6(this._delegate,t);return new Ha(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const i=B6(this._delegate,t);return new Ha(this,i)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function ete(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),k6(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function tte(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function hee(n){n.persistentConnection_&&n.persistentConnection_.resume(S6)}(n._repo)}(this._delegate)}}Aw.ServerValue={TIMESTAMP:function ste(){return rte}(),increment:n=>function ote(n){return{".sv":{increment:n}}}(n)};var _te=Object.freeze({__proto__:null,initStandalone:function gte({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:s=!1}){jj(e);const c=new pc.zt("auth-internal",new pc.H0("database-standalone"));return c.setComponent(new pc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Aw(W6(n,c,void 0,t,s),n),namespace:r}}});const yte=Aw.ServerValue;function Q6(n){return null==n}function J6(n){return"function"==typeof n.set}function X6(n,t){return J6(t)?t:n.ref(t)}function ez(n,t){if(function bte(n){return"string"==typeof n}(n))return t.stringCase();if(J6(n))return t.firebaseCase();if(function wte(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function xw(n,t,e="on",i=sd.z){return new Hi.y(r=>{let s=null;return s=n[e](t,(c,d)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:d})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=s&&n.off(t,s)}}:{unsubscribe(){}}}).pipe((0,ct.U)(r=>{const{snapshot:s,prevKey:c}=r;let d=null;return s.exists()&&(d=s.key),{type:t,payload:s,prevKey:c,key:d}}),(0,Wp.B)())}function tz(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Dte(n,t){const{payload:e,prevKey:i,key:r}=t,s=tz(n,r),c=function Ete(n,t){if(Q6(t))return 0;{const e=tz(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let d=null;t.payload.forEach(f=>{const m={payload:f,type:"value",prevKey:d,key:f.key};return d=f.key,n=[...n,m],!1})}return n;case"child_added":if(s>-1){const d=n[s-1];(d&&d.key||null)!==i&&(n=n.filter(f=>f.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(d=>d.payload.key!==e.key);case"child_changed":return n.map(d=>d.payload.key===r?t:d);case"child_moved":if(s>-1){const d=n.splice(s,1)[0];return(n=n.slice()).splice(c,0,d),n}return n;default:return n}}function nz(n){return(Q6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function iz(n,t,e){return function Cte(n,t,e){return xw(n,"value","once",e).pipe(_i(i=>{const r=[pt(i)];return t.forEach(s=>r.push(xw(n,s,"on",e))),(0,ms.T)(...r).pipe(mm(Dte,[]))}),yv())}(n,t=nz(t),e)}function rz(n,t,e){const i=(t=nz(t)).map(r=>xw(n,r,"on",e));return(0,ms.T)(...i)}function sz(n,t){return function(i,r){return ez(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Ate(n){return function(e){return e?ez(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function oz(n,t){return function(){return xw(n,"value","on",t)}}!function vte(n){n.INTERNAL.registerComponent(new pc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Aw(r,i)},"PUBLIC").setServiceProps({Reference:Ha,Query:Cs,Database:Aw,DataSnapshot:Lf,enableLogging:nte,INTERNAL:_te,ServerValue:yte}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.2.6")}(p1.Z);const kte=new o.OlP("angularfire2.realtimeDatabaseURL"),Rte=new o.OlP("angularfire2.database.use-emulator");let Ote=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v,E,A,M,P,B,J){this.schedulers=d;const oe=f,Ve=(0,Lr.on)(e,c,i);m&&f1(Ve,c,v,A,M,P,E,B),this.database=(0,Lr.cc)(`${Ve.name}.database.${r}`,"AngularFireDatabase",Ve.name,()=>{const xe=c.runOutsideAngular(()=>Ve.database(r||void 0));return oe&&xe.useEmulator(...oe),xe},[oe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>X6(this.database,e));let s=r;return i&&(s=i(r)),function xte(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:sz(i,"update"),set:sz(i,"set"),push:r=>i.push(r),remove:Ate(i),snapshotChanges:r=>iz(n,r,e).pipe(Rn.iC),stateChanges:r=>rz(n,r,e).pipe(Rn.iC),auditTrail:r=>function Ite(n,t,e){return function Tte(n,t,e){return function Ste(n,t){return xw(n,"value","on",t).pipe((0,ct.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function IQ(...n){const t=(0,fn.jO)(n);return(0,Gi.e)((e,i)=>{const r=n.length,s=new Array(r);let c=n.map(()=>!1),d=!1;for(let f=0;f<r;f++)(0,ao.Xf)(n[f]).subscribe((0,Hn.x)(i,m=>{s[f]=m,!d&&!c[f]&&(c[f]=!0,(d=c.every(_p.y))&&(c=null))},SC.Z));e.subscribe((0,Hn.x)(i,f=>{if(d){const m=[f,...s];i.next(t?t(...m):m)}}))})}(t),(0,ct.U)(([r,s])=>{const c=r.lastKeyToLoad,d=s.map(f=>f.key);return{actions:s,lastKeyToLoad:c,loadedKeys:d}}),function SQ(n){return(0,Gi.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Hn.x)(e,s=>(i||(i=!n(s,r++)))&&e.next(s)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,ct.U)(r=>r.actions))}(n,rz(n,t).pipe(mm((r,s)=>[...r,s],[])),e)}(n,r,e).pipe(Rn.iC),valueChanges:(r,s)=>iz(n,r,e).pipe((0,ct.U)(d=>d.map(f=>s&&s.idField?Object.assign(Object.assign({},f.payload.val()),{[s.idField]:f.key}):f.payload.val())),Rn.iC)}}(s,this)}object(e){return function Mte(n,t){return{query:n,snapshotChanges:()=>oz(n,t.schedulers.outsideAngular)().pipe(Rn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>oz(n,t.schedulers.outsideAngular)().pipe(Rn.iC,(0,ct.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>X6(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Lr.Dh),o.LFG(Lr.xv,8),o.LFG(kte,8),o.LFG(o.Lbi),o.LFG(o.R0b),o.LFG(Rn.HU),o.LFG(Rte,8),o.LFG(zb,8),o.LFG(a1,8),o.LFG(l1,8),o.LFG(c1,8),o.LFG(u1,8),o.LFG(d1,8),o.LFG(h1,8),o.LFG(Gb,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Pte=(()=>{class n{constructor(){$I.Z.registerVersion("angularfire",Rn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({providers:[Ote]}),n})();var az=V(655);const{pow:Lte,min:AN,max:xN}=Math;class wt{constructor(...t){t.length<3&&t.length>0?this._color=function Bte(n,t=1){return[n>>16&255,n>>8&255,255&n,t]}(t[0],t[1]):t.length>2?(this._color=t,3===t.length&&(this._color[3]=1)):this._color=[]}rgba(){return this._color.slice(0)}alpha(t){if(void 0===t)return this._color[3];const e=this.rgba();return e[3]=t,new wt(...e)}luminance(t){if(void 0===t)return function jte(n,t,e){return.2126*(n=MN(n))+.7152*(t=MN(t))+.0722*(e=MN(e))}(...this._color);if(0===t)return new wt(0,0,0,this._color[3]);if(1===t)return new wt(255,255,255,this._color[3]);const e=this.luminance();let i=20;const r=(c,d)=>{const f=new wt(...function Gte(n,t,e=.5){return[n[0]+e*(t[0]-n[0]),n[1]+e*(t[1]-n[1]),n[2]+e*(t[2]-n[2])]}(c.rgba(),d.rgba(),.5)),m=f.luminance();return Math.abs(t-m)<1e-7||!i--?f:m>t?r(c,f):r(f,d)},s=(e>t?r(new wt(0,0,0),this):r(this,new wt(255,255,255))).rgba();return s.pop(),s.push(this._color[3]),new wt(...s)}saturate(t=1){const i=function $te(n){const t=n[0],e=n[1],i=n[2];let r;r=360*Math.atan2(i,e)/2/Math.PI,r<0&&(r+=360);return[t,Math.sqrt(e*e+i*i),r]}(lz(this._color));i[1]+=18*t,i[1]<0&&(i[1]=0);const r=function Hte(n){const e=n[1],r=n[2]/360*2*Math.PI;return[n[0],e*Math.cos(r),e*Math.sin(r)]}(i),c=uz(cz(r));return c.push(this._color[3]),new wt(...c)}desaturate(t=1){return this.saturate(-t)}darken(t=1){const e=lz(this._color);e[0]-=18*t;const r=uz(cz(e));return r.push(this._color[3]),new wt(...r)}brighten(t=1){return this.darken(-t)}css(){return this._color.length?function Vte(n){const t=n.pop();return 1===t?`rgb(${n.map(Math.round).join()})`:`rgba(${n.map(Math.round).join()},${t})`}(this.rgba()):"undefined - invalid color"}toString(){return this.css()}}function lz(n){const t=function Ute(n){let t=n[0]/255,e=n[1]/255,i=n[2]/255;return t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92,[100*(.4124*t+.3576*e+.1805*i),100*(.2126*t+.7152*e+.0722*i),100*(.0193*t+.1192*e+.9505*i)]}(n);let e=t[0],i=t[1],r=t[2];return e/=95.047,i/=100,r/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,i=i>.008856?i**(1/3):7.787*i+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,[116*i-16,500*(e-i),200*(i-r)]}function cz(n){let r,s,c;s=(n[0]+16)/116,r=n[1]/500+s,c=s-n[2]/200;const d=s**3,f=r**3,m=c**3;return s=d>.008856?d:(s-16/116)/7.787,r=f>.008856?f:(r-16/116)/7.787,c=m>.008856?m:(c-16/116)/7.787,r*=95.047,s*=100,c*=108.883,[r,s,c]}function uz(n){const t=n[0]/100,e=n[1]/100,i=n[2]/100;let r,s,c;return r=3.2406*t+-1.5372*e+-.4986*i,s=-.9689*t+1.8758*e+.0415*i,c=.0557*t+-.204*e+1.057*i,r=r>.0031308?1.055*r**(1/2.4)-.055:12.92*r,s=s>.0031308?1.055*s**(1/2.4)-.055:12.92*s,c=c>.0031308?1.055*c**(1/2.4)-.055:12.92*c,r=AN(xN(0,r),1),s=AN(xN(0,s),1),c=AN(xN(0,c),1),[255*r,255*s,255*c]}function MN(n){return(n/=255)<=.03928?n/12.92:Lte((n+.055)/1.055,2.4)}const Kte=[[0,0,0,0,0,0,0,0,0,0,0,0],[0,1,3,0,0,1,1,0,0,2,1,-1],[0,1,5,0,0,2,2,0,0,3,1,-2],[0,1,8,0,0,3,4,0,0,3,3,-2],[0,2,4,-1,0,4,5,0,0,1,10,0],[0,3,5,-1,0,5,8,0,0,1,14,0],[0,3,5,-1,0,6,10,0,0,1,18,0],[0,4,5,-2,0,7,10,1,0,2,16,1],[0,5,5,-3,0,8,10,1,0,3,14,2],[0,5,6,-3,0,9,12,1,0,3,16,2],[0,6,6,-3,0,10,14,1,0,4,18,3],[0,6,7,-4,0,11,15,1,0,4,20,3],[0,7,8,-4,0,12,17,2,0,5,22,4],[0,7,8,-4,0,13,19,2,0,5,24,4],[0,7,9,-4,0,14,21,2,0,5,26,4],[0,8,9,-5,0,15,22,2,0,6,28,5],[0,8,10,-5,0,16,24,2,0,6,30,5],[0,8,11,-5,0,17,26,2,0,6,32,5],[0,9,11,-5,0,18,28,2,0,7,34,6],[0,9,12,-6,0,19,29,2,0,7,36,6],[0,10,13,-6,0,20,31,3,0,8,38,7],[0,10,13,-6,0,21,33,3,0,8,40,7],[0,10,14,-6,0,22,35,3,0,8,42,7],[0,11,14,-7,0,23,36,3,0,9,44,8],[0,11,15,-7,0,24,38,3,0,9,46,8]];function Mw(n,t){let e=t||new wt(0,0,0);const i=e.rgba();i[0]===i[1]&&i[0]===i[2]||(e=e.darken().saturate(2));const r=[e.alpha(.2).css(),e.alpha(.14).css(),e.alpha(.12).css()],s=Kte[n];return`${s[0]}px ${s[1]}px ${s[2]}px ${s[3]}px ${r[0]},${s[4]}px ${s[5]}px ${s[6]}px ${s[7]}px ${r[1]},${s[8]}px ${s[9]}px ${s[10]}px ${s[11]}px ${r[2]}`}new o.OlP("ly.theme.variables"),new o.OlP("ly.is.root");const Qte=typeof Intl<"u"&&Intl.v8BreakIterator;class Ni{}Ni.isBrowser="object"==typeof document&&!!document,Ni.EDGE=Ni.isBrowser&&/(edge)/i.test(navigator.userAgent),Ni.TRIDENT=Ni.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),Ni.BLINK=Ni.isBrowser&&!(!window.chrome&&!Qte)&&!!CSS&&!Ni.EDGE&&!Ni.TRIDENT,Ni.WEBKIT=Ni.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!Ni.BLINK&&!Ni.EDGE&&!Ni.TRIDENT,Ni.IOS=Ni.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Ni.FIREFOX=Ni.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),Ni.ANDROID=Ni.isBrowser&&/android/i.test(navigator.userAgent)&&!Ni.TRIDENT,Ni.SAFARI=Ni.isBrowser&&/safari/i.test(navigator.userAgent)&&Ni.WEBKIT;const sne=new o.OlP("ly.theme.global.variables"),dz=new o.OlP("ly_theme_config"),hz=new o.OlP("ly.theme.name"),one=new o.OlP("LY_CLASS_NAME_PREFIX");function kw(n){const t={};return e=>(void 0===t[e]&&(t[e]=n(e)),t[e])}const kl=new Map;var Zi=(()=>(function(n){n[n.Multiple=0]="Multiple",n[n.OnlyOne=1]="OnlyOne",n[n.LylStyle=2]="LylStyle"}(Zi||(Zi={})),Zi))();const fz=kw(n=>`${n}<~(selectors)`);var vi=(()=>(function(n){n[n.FontFace=0]="FontFace",n[n.MediaQuery=1]="MediaQuery",n[n.KeyFrame=2]="KeyFrame",n[n.Style=3]="Style",n[n.DynamicStyle=4]="DynamicStyle",n[n.CompiledStyle=5]="CompiledStyle"}(vi||(vi={})),vi))();class cne{constructor(t,e="${_className}",i,r){this._template=t,this._className=e,this._isServer=i,this._isDevMode=r}toCss(){const t=[],e=[],i=[];return this._template.replace(/(\/\/\s[^\n\r]*(?:[\n\r]+|$))/g,"").replace(/,[\n\s]+/g,",").replace(/[\n\s]*([^\n]+)/g,(r,s)=>{if(s.endsWith("{"))if(0===t.length)t.push([this._className]),this._createRule(i,vi.Style,t,e);else{const c=s.slice(0,s.length-1).trim();"@font-face"===c?(t.push(c),this._createRule(i,vi.FontFace,t,e)):c.startsWith("@m")?(t.push(c),this._createRule(i,vi.MediaQuery,t,e)):c.startsWith("@k")?(t.push(c),this._createRule(i,vi.KeyFrame,t,e)):(t.push(c.split(",").map(d=>d.trim())),this._createRule(i,vi.Style,t,e))}else if(1===s.length&&"}"===s)this._removeParentSelector(i,t,e);else if(this._isDevMode&&s.startsWith("/* >> ds"))this._createRuleWithResolvedSelector(i,vi.DynamicStyle,t,e,s);else if(this._isServer&&s.startsWith("...")){const c=s.slice(3);this._createRuleWithResolvedSelector(i,vi.CompiledStyle,t,e,c)}else if(s){if(this._isDevMode&&s.includes("undefined"))return"";if(this._isDevMode&&s.endsWith(";"))throw new Error(`Do not require semicolon in [${s}]`);s.includes(": ")&&(s=s.replace(": ",":")),this._appendDeclaration(i,vi.Style,s+=";")}return""}),i.filter(r=>!r.isEmpty).map(r=>r.block).join("")}_createRule(t,e,i,r){const s=r[r.length-1],c=t[t.length-1];c&&!c.isReady&&(c.block+="}",c.isReady=!0);let d="";d=e===vi.FontFace?"@font-face":e===vi.KeyFrame?i[1]:s&&s.type===vi.KeyFrame?i[i.length-1][0]:KT(i,!(e===vi.MediaQuery||s&&s.type===vi.MediaQuery&&c&&c.isEmpty));const f={selector:d,block:`${d}{`,type:vi.Style,isEmpty:!0};return r.push({selector:"",block:"",type:e,isEmpty:!0}),t.push(f),e===vi.MediaQuery&&(f.hasMedia=!0),s&&s.hasMedia&&(f.hasMedia=!0),e===vi.KeyFrame&&(f.isReady=!0,f.isEmpty=!1),f}_createRuleWithResolvedSelector(t,e,i,r,s){if(!s)return;const c=t[t.length-1],d=r[r.length-1],{hasMedia:f}=c;let m="";m=KT(i,!(e===vi.MediaQuery||d&&d.type===vi.MediaQuery&&c&&c.isEmpty)),c&&!c.isReady&&(c.block+="}");const v={selector:m,block:"",type:e,hasMedia:f,isEmpty:!1};e===vi.CompiledStyle?v.block=function une(n,t){let e=(n=n.replace(/\/\* >> cc[^\/\*]+\*\//g,"")).slice(2,n.length-1);return e=`st2c((${e}), \`${t}\`)`,`\${${e}}`}(s,m):e===vi.DynamicStyle&&(v.block=s.replace(/\|\|\&\|\|/g,m)),v.isReady=!0,t.push(v)}_appendDeclaration(t,e,i){if(!i)return;let r=t[t.length-1];r&&r.isReady&&(r={selector:r.selector,block:`${r.selector}{`,type:r.type,hasMedia:r.hasMedia,isEmpty:!1},t.push(r)),r.block+=i,r.isEmpty=!1}_removeParentSelector(t,e,i){e.pop();const r=t[t.length-1],s=i.pop();!r||(r.isReady||(r.block+="}",r.isReady=!0),s&&(s.type===vi.MediaQuery||s.type===vi.KeyFrame)&&(r.block+="}",r.isReady=!0))}}function KT(n,t){let e=null;const i=n.filter(s=>"string"==typeof s?(t||(e=s),!1):!!s.filter(c=>c).length),r=1===i.length?i[0].join(","):i.length?i.reduce((s,c)=>{const d=s.map(f=>c.map(m=>m.includes("&")?m.replace(/&/g,f):`${f} ${m}`));return Array.prototype.concat.apply([],d)}).join(","):"";return e?`${e}{${r}`:r}function pz(n,...t){return e=>{let i="";for(let s=0;s<t.length;s++){const c=t[s];i+=n[s],i.endsWith("...")?(i=i.slice(0,i.length-3),("function"==typeof c||c instanceof gn)&&(i+=`${dne("ds")}${Ec(c,"||&||")}`)):i+=c}return i+=n[n.length-1],new cne(i,e,!1,!0).toCss()}}function dne(n="id"){return`/* >> ${n} -- ${Math.floor((new Date).valueOf()*Math.random()).toString(36)} */`}class gn{constructor(...t){this._templates=t,this.css=this.css.bind(this)}add(...t){return this._templates.push(...t),this}setTransformer(t){return this._transformer=t,this}css(t){let e="";const i=this._templates;for(let r=0;r<i.length;r++){let s;s=this._transformer?this._transformer(i[r]):i[r],e+=s(t)}return e}}function Ec(n,t){return null==n?"":n instanceof gn?n.css(t):n(t)}class mz{constructor(t="abcdefghijklmnopqrstuvwxyz"){this._chars=t,this._nextId=[0]}next(){const t=[];for(const e of this._nextId)t.unshift(this._chars[e]);return this._increment(),t.join("")}_increment(){for(let t=0;t<this._nextId.length;t++){if(!(++this._nextId[t]>=this._chars.length))return;this._nextId[t]=0}this._nextId.push(0)}}var Po=(()=>(function(n){n.rtl="rtl",n.ltr="ltr"}(Po||(Po={})),Po))(),Dc=(()=>(function(n){n.before="before",n.after="after"}(Dc||(Dc={})),Dc))();const JT=kw(n=>{const t=n.split(/\@/g),e=t.shift(),i=t.length,r=isNaN(+e)?e:+e,s=[];if(i)for(let c=0;c<i;c++)s.push([r,t[c]]);else s.push([r,null]);return s}),gz=kw(n=>n.split(" "));function RN(n){return n&&"object"==typeof n&&!Array.isArray(n)}function Rw(n,...t){if(!t.length)return n;const e=t.shift();if(RN(n)&&RN(e))for(const i in e)RN(e[i])?(n[i]||Object.assign(n,{[i]:{}}),Rw(n[i],e[i])):Object.assign(n,{[i]:e[i]});return Rw(n,...t)}function ON(n){return n&&"object"==typeof n&&!Array.isArray(n)&&!(n instanceof gn)&&!(n instanceof wt)}function Ow(n,...t){if(!t.length)return n;const e=t.shift();if(ON(n)&&ON(e))for(const i in e)if(ON(e[i]))n[i]||Object.assign(n,{[i]:{}}),Ow(n[i],e[i]);else{const s=e[i];n[i]=n[i]instanceof gn&&"function"==typeof s?n[i].add(s):s instanceof wt?s:e[i]}return Ow(n,...t)}let _z=(()=>{class n{constructor(e,i,r,s){if(this.rendererFactory=e,this._classNamePrefix=s,this.themes=new Set,this._themeMap=new Map,this._styleMap=new Map,this._document=i,!(0,o.X6Q)()&&s&&(n.classNamePrefix=this.classNamePrefix=s),r.isBrowser){const c=this._document.body.querySelectorAll("ly-s-c");if(c.length)for(let d=0;d<c.length;d++){const f=c.item(d);this._document.body.removeChild(f)}}this.firstElement=this._document.body.firstChild,this.renderer=this.rendererFactory.createRenderer(null,{id:"ly",encapsulation:o.ifc.None,styles:[],data:{}})}initializeTheme(e,i){const r=Array.isArray(e)?e:[e],s=new Map;r.forEach(c=>{this.hasTheme(c.name),s.has(c.name)?s.get(c.name).push(c):s.set(c.name,[c])}),s.forEach(c=>{i&&c.push(i),c.length>1&&Ow(c[0],...c.slice(1)),this._add(c[0]),this.themes.add(c[0].name)})}_add(e){this._themeMap.set(e.name,e),this._styleMap.set(e.name,new Map)}hasTheme(e){return this._themeMap.has("string"==typeof e?e:e.name)}get(e){return this._themeMap.get(e)}updateClassName(e,i,r,s){s&&i.removeClass(e,s),i.addClass(e,r)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.FYo),o.LFG(se),o.LFG(bn),o.LFG(one,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ln=(()=>(function(n){n.above="above",n.below="below"}(Ln||(Ln={})),Ln))();const pne=/\{([\w-]+)\}/g;let mne=0;const vz=new mz;new mz;let gne=(()=>{class n{constructor(){this.styles={},this.styleContainers=new Map,this.styleElementGlobalMap=new Map}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const _ne=new Map;let PN=(()=>{class n{constructor(e,i,r,s,c,d,f,m){this.stylesInDocument=e,this.core=i,this._ngZone=f,this._platform=m,this._elementsMap=new Map,this._directionChanged=new Dt.x,this._themeChanged=new Dt.x,this.themeChanged=this._themeChanged.asObservable(),this.themeMap=_ne,this.isDevOrServer=(0,o.X6Q)()||!this._platform.isBrowser,this._document=d,s&&i.initializeTheme(s,c),r&&this.setUpTheme(r)}get directionChanged(){return this._directionChanged.asObservable()}get variables(){return this.config}setUpTheme(e){if(!this.config){const i=this.core.get(e);if(void 0===i)throw new Error(`Theme ${e} not found in CoreTheme`);this.config=i,this._styleMap=new Map,this.elements=e in this.stylesInDocument.styles?this.stylesInDocument.styles[e]:this.stylesInDocument.styles[e]=new Map,this.initialTheme||(this.initialTheme=this.config.name),this.themeMap.has(this.initialTheme)||this.themeMap.set(this.initialTheme,{base:this.initialTheme,change:null})}}renderStyleSheet(e){return this._createStyleContent2(e,null,null,Zi.Multiple)}renderStyle(e,i,r){return"string"==typeof e?this._createStyleContent2(i,e,r,Zi.LylStyle):this._createStyleContent2(e,null,i,Zi.LylStyle)}addStyle(e,i,r,s,c,d){const f=this._createStyleContent2(i,e,c,Zi.OnlyOne,!1,d);return f===s||r&&(s&&r.classList.remove(s),r.classList.add(f)),f}style(e,i,r){return this._createStyleContent2(e,null,i,Zi.OnlyOne,!1,r)}updateClassName(e,i,r,s){this.core.updateClassName(e,i,r,s)}updateClass(e,i,r,s){return r===s||this.updateClassName(e,i,r,s),r}setTheme(e){if(!this._platform.isBrowser)throw new Error("`theme.setTheme('theme-name')` is only available in browser platform");if(e!==this.config.name){const i=this.themeMap.get(this.initialTheme),r=this.config.direction;if(null==i)throw new Error(`Theme ${e} not found in themeMap`);i.change=e,this.config=this.core.get(e),this.config.direction=r,this._updateAllStyles(),this._themeChanged.next()}}toggleDirection(){this.config.direction=this.config.direction===Po.ltr?Po.rtl:Po.ltr,this._updateAllStyles(),this._directionChanged.next()}setDirection(e){this.config.direction!==e&&(this.config.direction=e,this._updateAllStyles(),this._directionChanged.next())}_updateAllStyles(){this.elements.forEach((e,i)=>{const r=kl.get(i);r.requireUpdate&&this._createStyleContent2(r.styles,r.id,r.priority,r.type,!0,r.parentStyle)})}addSimpleStyle(e,i,r,s){return this._createStyleContent2(i,e,r,Zi.OnlyOne,!1,s)}addStyleSheet(e,i){return this._createStyleContent2(e,null,i,Zi.Multiple)}existStyle(e){if(kl.has(e)){const i=kl.get(e);return!(!i.classes&&!i[this.initialTheme])}return!1}selectorsOf(e){const i=this.initialTheme;kl.has(e)||kl.set(e,{isNewStyle:!0,styles:e,type:Zi.Multiple,css:{},id:null});const r=kl.get(e),s=fz(i);return r[s]||(r[s]={})}_selectors(e){return i=>(e!==i&&this.renderStyleSheet(i),this.selectorsOf(i))}selectorOf(e){const i=this.initialTheme,r=kl.get(e);return r.classes||r[i]}_createStyleContent2(e,i,r,s,c,d){const f=i||e;kl.has(f)||kl.set(f,{isNewStyle:!0,priority:r,styles:e,type:s,css:{},id:i,parentStyle:d});const m=kl.get(f),v=this.initialTheme;if(m.isNewStyle||!m.classes&&!m[v]||c){let A;m.isNewStyle=!1;const M=this.themeMap.get(this.initialTheme),P=this.core.get(M.change||v);if("function"==typeof e?(m.requireUpdate=!0,A=s===Zi.LylStyle?function yne(n,t,e,i){let r;return r=n[e]||(n[e]=(0,o.X6Q)()?n.id?`${Pw(n.id)}-${Ic(i)}`:`${n.styles.name||"ii"}-${Ic(i)}`:Ic(i)),t(`.${r}`)}(m,e(P,this,null),v,this.core.classNamePrefix):bz(m,e(P,this,this._selectors(e)),v,i,s,P,this.core.classNamePrefix),c||(m.css[v]=A)):(A=bz(m,e,v,f,s,P,this.core.classNamePrefix),m.css=A),!this.elements.has(f)){const B=this._createStyleElement();m.requireUpdate?this.elements.set(f,B):this.isDevOrServer&&this.stylesInDocument.styleElementGlobalMap.set(f,B),this._renderCss(B,A,m.priority)}if(c){const B=this.elements.get(f);B.removeChild(B.firstChild),B.appendChild(this._document.createTextNode(A))}}else if(this.isDevOrServer&&!this.elements.has(f)){const A=m.css[v]||m.css,M=this.stylesInDocument.styleElementGlobalMap;if(m.requireUpdate){const P=this._createStyleElement();this.elements.set(f,P),this._renderCss(P,A,m.priority)}else if(!M.has(f)){const P=this._createStyleElement();M.set(f,P),this._renderCss(P,A,m.priority)}}return m.classes||m[v]}_createStyleContainer(e){e=e??0;const{styleContainers:i}=this.stylesInDocument;if(!i.has(e)){const r=this.core.renderer.createElement("ly-s-c");if((0,o.X6Q)()&&this.core.renderer.setAttribute(r,"priority",`${e}`),0===i.size)return i.set(e,r),this._document.body.insertBefore(r,this._document.body.firstChild),r;{i.set(e,r);const s=this._getRefFromAPriority(e);return this._document.body.insertBefore(r,s),i.get(e)}}return i.get(e)}_getRefFromAPriority(e){const{styleContainers:i}=this.stylesInDocument,s=Array.from(i.keys()).sort(Sne).find(c=>e<c);return void 0!==s&&i.get(s)||this.core.firstElement}_createStyleElement(){return this._document.createElement("style")}_renderCss(e,i,r){const s=this._createStyleContainer(r);e.appendChild(this._document.createTextNode(i)),s.appendChild(e)}requestAnimationFrame(e){"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{e()})}):e()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(gne),o.LFG(_z),o.LFG(hz),o.LFG(dz,8),o.LFG(sne,8),o.LFG(se),o.LFG(o.R0b),o.LFG(bn))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function bz(n,t,e,i,r,s,c){if(r===Zi.OnlyOne){const B=n.requireUpdate?n[e]||(n[e]=Ic(c)):n.classes?n.classes:n.classes=Ic(c);let J;if(J="string"==typeof t?`.${B}{${t}}`:FN(i,null,t,s,B),n.parentStyle){const oe=kl.get(n.parentStyle);if(!oe)throw new Error("The parentStyle not exist or is called before being created.");return wz(J,oe[e])}return J}const d=fz(e),f=n[e]||(n[e]={}),m=n[d]||(n[d]={}),v=t;let E="";const A=v.$name?`${v.$name}-`:"";null!=v.$priority&&(n.priority=v.$priority),n.keys||(n.keys=Object.keys(t));const M=n.keys;for(let B=0;B<M.length;B++){const J=M[B],oe=t[J];if("$global"!==J&&"$keyframes"!==J){if("function"==typeof oe)J in f||(f[J]=(0,o.X6Q)()?"root"===J?`${Pw(A)}${Ic(c)}`:`${Pw(A+J)}-${Ic(c)}`:Ic(c));else{if("object"!=typeof oe&&null!==oe)continue;J in f||(f[J]=(0,o.X6Q)()?Pw(`y-${A}${J}-${Ic(c)}`):Ic(c))}J in m||(m[J]=`.${f[J]}`)}}let P=!1;for(let B=0;B<M.length;B++){const J=M[B],oe=t[J];if("function"==typeof oe)if("$global"===J)E+=oe.length?oe(""):oe()("");else{const Ve=m[J];if(oe.length)E+=oe(Ve);else{const xe=oe();xe&&(E+=xe(Ve))}}else if("$keyframes"===J)console.warn("'$keyframes' is deprecated, use '$global' instead to create keyframes."),P=!0,E+=vne(A,f,oe,s);else if("object"==typeof oe&&null!==oe){P=!0;const xe=FN(J,v.$name,oe,s,f[J]);E+=xe,null===oe&&console.warn("__",{style:xe})}}return P?wz(E,f):E}function wz(n,t){return n.replace(pne,(e,i)=>t[i]?`.${t[i]}`:t[`@\u0433.->-${i}`])}function FN(n,t,e,i,r,s){let m,c="",d="",f="";m=s?-1!==r.indexOf("&")?r.replace(/&/g,s):0===r.indexOf("@media")?`${r}`:"@global"===r||"@global"===s?r:`${s} ${r}`:"@global"===n?n:`.${r}`;for(const v in e)if(e.hasOwnProperty(v)){const E=e[v];null!=E&&(E.constructor===Object?d+=FN(n,t,E,i,v,m):f+=Cz(v,E,i))}if(f){if((0,o.X6Q)()){let v="\n\n";t&&(v+=`/** Style Sheet name: ${t} */\n`),v+=`/** Style Key: ${n} */\n`,c+=`${v}`}0===m.indexOf("@media")?(c+=`${m}`,f=`${s}{${f}}`):c+=s&&"@global"===s?`${r}`:`${m}`,c+=`{${f}}`}return c+d}function Cz(n,t,e){const i=function Cne(n,t){const e=NN[t.direction];return n in e?e[n]:e[n]=function bne(n,t){const e=function wne(n){return n.replace(/([A-Z])/g,t=>`-${t[0].toLowerCase()}`)}(n);return-1!==e.indexOf(Dc.before)?Dz(n,e,t,Dc.before):-1!==e.indexOf(Dc.after)?Dz(n,e,t,Dc.after):-1!==e.indexOf(Ln.above)?Iz(n,e,t,Ln.above,Dne):-1!==e.indexOf(Ln.below)?Iz(n,e,t,Ln.below,Ene):e}(n,t)}(n,e);if(t.constructor===Array){let r="";for(let s=0;s<t.length;s++)r+=`${i}:${t[s]};`;return r}return`${i}:${t};`}function vne(n,t,e,i){let r="";for(const s in e)if(e.hasOwnProperty(s)){const c=e[s],d=`@\u0433.->-${s}`;r+=`@keyframes ${d in t?t[d]:t[d]=(0,o.X6Q)()?Pw(`${n}${s}-${Sz()}-v`):Sz()}{`;for(const m in c)if(c.hasOwnProperty(m)){r+=`${m}%{`;const v=c[m];for(const E in v)v.hasOwnProperty(E)&&(r+=Cz(E,v[E],i));r+="}"}r+="}"}return r}function Pw(n){return n.replace(/^[0-9]|[^\w\-]/g,e=>`_${e.charCodeAt(0)}`)}const Ez={"break-after":"break-after","break-before":"break-before","page-break-after":"page-break-after","page-break-before":"page-break-before"},NN={rtl:{...Ez},ltr:{...Ez}},Ene="bottom",Dne="top";function Dz(n,t,e,i){return NN[e.direction][n]=t.replace(i,e.getDirection(i))}function Iz(n,t,e,i,r){return NN[e.direction][n]=t.replace(i,r)}function Ic(n){return n?`${n}${vz.next()}`:vz.next()}const Ine=kw(n=>Ic(_z.classNamePrefix));function Sz(){return`k${(mne++).toString(36)}`}function Sne(n,t){return n-t}kw(n=>`.${Ine(n)}`);const Uf_fill=n=>`${n}{position:absolute;top:0;bottom:0;left:0;right:0;}`;let Lne=(()=>{class n{constructor(e){this.el=e}set withClass(e){if(!e)throw new Error(`'${e}' is not valid className`);this.el.nativeElement.classList.add(e)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","withClass",""]],inputs:{withClass:"withClass"}}),n})(),Ud=(()=>{class n{constructor(e,i,r){this._theme=e,this._renderer=r,this._set=new Set,i&&(this._nEl=i.nativeElement,this._set=new Set)}renderSheet(e,i){const r=this._theme.renderStyleSheet(e);if(!0===i&&r.root)return this.addClass(r.root),r;if(i){const s=r[i];s&&this.addClass(s)}return r}add(e,i,r,s){const c=arguments;let d,f=c.length;if(4===f&&null==c[3]&&(f-=1),3===f&&null==c[2]&&(f-=1),1===f?d=this._theme._createStyleContent2(e,null,null,Zi.LylStyle):2===f?"string"==typeof e?d=this._theme._createStyleContent2(i,e,null,Zi.LylStyle):"number"==typeof i?d=this._theme._createStyleContent2(e,null,i,Zi.LylStyle):(d=this._theme._createStyleContent2(e,null,null,Zi.LylStyle),s=i):3===f?"string"==typeof e?"number"==typeof r?d=this._theme._createStyleContent2(i,e,r,Zi.LylStyle):(d=this._theme._createStyleContent2(i,e,null,Zi.LylStyle),s=r):(d=this._theme._createStyleContent2(e,null,i,Zi.LylStyle),s=r):4===f&&(d=this._theme._createStyleContent2(i,e,r,Zi.LylStyle)),this._nEl)return this.updateClass(d,s);throw new Error("StyleRenderer is required on the Component!\nAdd provider for StyleRenderer in Component or Directive:\n\ne.g:\n\n@Component({\n  providers: [ StyleRenderer ]\n})\n")}render(e,i,r){return"string"==typeof e?this._theme._createStyleContent2(i,e,r,Zi.LylStyle):this._theme._createStyleContent2(e,null,r,Zi.LylStyle)}addClass(e){this._set.has(e)||(this._set.add(e),this._renderer.addClass(this._nEl,e))}removeClass(e){e&&this._set.has(e)&&(this._set.delete(e),this._renderer.removeClass(this._nEl,e))}removeClasses(e){e&&e.forEach(i=>this.removeClass(i))}toggleClass(e,i){i?this.addClass(e):this.removeClass(e)}updateClass(e,i){return this.removeClass(i),this.addClass(e),e}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(PN),o.LFG(o.SBq,8),o.LFG(o.Qsj,8))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Vne(n,t,e){return function(i,r,s){i.constructor[r]=n;const c=`_${r}Value`;if(s){const d=s.set;s.set=function(f){const m=t?t(f):f;XT(this,r,m,n,e),d.call(this,m)},s.get||(s.get=function(){return this[c]})}else Object.defineProperty(i,r,{configurable:!0,enumerable:!0,set(d){const f=t?t(d):d;XT(this,r,f,n,e)},get(){return this[c]}})}}function Bne(n,t){return function(e,i,r){e.constructor[i]=n;const s=`_${i}Value`;if(r){const c=r.set;r.set=function(d){XT(this,i,d,n,t),c.call(this,d)},r.get||(r.get=function(){return this[s]})}else Object.defineProperty(e,i,{configurable:!0,enumerable:!0,set(c){XT(this,i,c,n,t)},get(){return this[s]}})}}function XT(n,t,e,i,r){const s="string"==typeof t?t:t.key,c=`_${s}Class`,d=`_${s}Value`,f=n[d];if(n[d]=e,null==e||!1===e){const m=n[c];m&&m.length&&m.forEach(v=>n.sRenderer.removeClass(v))}else if("string"==typeof e){if(f!==e){n.sRenderer.removeClasses(n[c]);const m=gz(e);for(let v=0;v<m.length;v++)JT(m[v]).forEach(A=>{eA(n,t,A[0],A[1],i,r)})}}else if("number"==typeof e||!0===e)f!==e&&(n.sRenderer.removeClasses(n[c]),eA(n,t,e,null,i,r));else if(f!==`${e}`){n.sRenderer.removeClasses(n[c]);for(let m=0;m<e.length;m++){const v=e[m];"number"==typeof v||null==v?eA(n,t,v,null,i,r):"string"==typeof v&&JT(v).forEach(E=>{eA(n,t,E[0],E[1],i,r)})}}}function eA(n,t,e,i,r,s){const c="string"==typeof t?t:t.key,d=`_${c}Class`,f=r(e,i,n),m=!!i;if(null==f){const v=n[d];v&&v.length&&(v.forEach(E=>n.sRenderer.removeClass(E)),n[d]=[])}else void 0===n[d]&&(n[d]=[]),n[d].push(n.sRenderer.add(`${"string"==typeof t?function Une(n){return n.constructor.\u0438||n.constructor.name||"unnamed"}(n):t.\u0438}--${c}-${i?e+"_"+i:e}`,f,function $ne(n,t){return t??n.$priority??n.constructor.$priority??0}(n,m?99999:s),n[d]))}let Mz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function VN(n){return t=>t.pipe(gi(function jne(n){const t=n;if(t.__componentDestroyed$)return t.__componentDestroyed$;const e=n.ngOnDestroy,i=new zV;return t.ngOnDestroy=function(){e&&e.apply(n),i.next(),i.complete()},t.__componentDestroyed$=i.asObservable()}(n)))}new o.OlP("LY_HAMMER_OPTIONS"),new class Gne{constructor(){}};const Kne=["_imgContainer"],Qne=["_area"],Jne=["_imgCanvas"],Xne=function(n,t){return{width:n,height:t}};function eie(n,t){if(1&n&&o._UZ(0,"ly-cropper-area",5,6),2&n){const e=o.oxw();o.Q6J("round",!!e.config.round)("resizableArea",!!e.config.resizableArea)("keepAspectRatio",!!e.config.keepAspectRatio)("ngStyle",o.WLB(4,Xne,e.config.width+"px",e.config.height+"px"))}}function tie(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",7)(1,"input",8,9),o.NdJ("change",function(r){return o.CHM(e),o.oxw().selectInputEvent(r)}),o.qZA(),o.Hsn(3),o.qZA()}if(2&n){const e=o.oxw();o.Q6J("className",e.classes.defaultContent)}}const nie=["*"],iie=["resizer"];function rie(n,t){if(1&n&&o._UZ(0,"div",null,1),2&n){const e=o.oxw();o.Tol(e.classes.resizer)}}function nA(n,t,e){const i=n.width,r=n.height,s=i/(t=Math.round(t)),c=r/(e=Math.round(e)),d=Math.ceil(s/2),f=Math.ceil(c/2),m=n.getContext("2d"),v=m.getImageData(0,0,i,r),E=m.createImageData(t,e),A=v.data,M=E.data;for(let P=0;P<e;P++)for(let B=0;B<t;B++){const J=4*(B+P*t);let oe=0,Ve=0,xe=0,Ie=0,ze=0,ut=0,Vt=0;const Vn=P*c,Br=Math.floor(B*s);let Is=Math.ceil((B+1)*s);const jd=Math.floor(P*c);let ja=Math.ceil((P+1)*c);Is=Math.min(Is,i),ja=Math.min(ja,r);for(let Ys=jd;Ys<ja;Ys++){const Nu=Math.abs(Vn-Ys)/f,Yy=B*s,lt=Nu*Nu;for(let _t=Br;_t<Is;_t++){const Nt=Math.abs(Yy-_t)/d,sn=Math.sqrt(lt+Nt*Nt);if(sn>=1)continue;oe=2*sn*sn*sn-3*sn*sn+1;const bi=4*(_t+Ys*i);Vt+=oe*A[bi+3],xe+=oe,A[bi+3]<255&&(oe=oe*A[bi+3]/250),Ie+=oe*A[bi],ze+=oe*A[bi+1],ut+=oe*A[bi+2],Ve+=oe}}M[J]=Ie/Ve,M[J+1]=ze/Ve,M[J+2]=ut/Ve,M[J+3]=Vt/xe}return n.width=t,n.height=e,m.putImageData(E,0,0),m}const Li=Xc({passive:!1}),BN="data:image/svg+xml;base64,",Pz=(100*Math.sqrt(2)-100)/2/Math.sqrt(2),Fw=(n,t)=>{const e=t.selectorsOf(Fw),{after:i}=n;return{$name:iA.\u0438,$priority:-2,root:()=>r=>`${r}{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:flex;overflow:hidden;position:relative;justify-content:center;align-items:center;}${Ec(n.cropper&&n.cropper.root&&(n.cropper.root instanceof gn?n.cropper.root.setTransformer(s=>s(e)):n.cropper.root(e)),`${r}`)}`,imgContainer:r=>`${r}{cursor:move;position:absolute;top:0;left:0;display:flex;touch-action:none;}${r} > canvas{display:block;}`,overlay:r=>`${Ec(Uf_fill,`${r}`)}`,area:r=>`${r}{pointer-events:none;box-shadow:0 0 0 20000px rgba(0,0,0,0.4);}${Ec(Uf_fill,`${r}`)}${r}{margin:auto;}${Ec(Uf_fill,`${r}:before,${r}:after`)}${r}:before,${r}:after{content:'';}${r}:before{width:0;height:0;margin:auto;border-radius:50%;background:#fff;border:solid 2px rgb(255,255,255);}${r}:after{border:solid 2px rgb(255,255,255);border-radius:inherit;}`,resizer:r=>`${r}{width:10px;height:10px;background:#fff;border-radius:3px;position:absolute;touch-action:none;bottom:0;${i}:0;pointer-events:all;cursor:${"right"===i?"nwse-resize":"nesw-resize"};}${Ec(Uf_fill,`${r}:before`)}${r}:before{content:'';width:20px;height:20px;transform:translate(-25%,-25%);}`,defaultContent:r=>`${r}{display:flex;align-items:center;justify-content:center;}${Ec(Uf_fill,`${r},${r} > input`)}${r} *:not(input){pointer-events:none;}${r} > input{background:transparent;opacity:0;width:100%;height:100%;}`}};class Fz{constructor(){this.width=250,this.height=200,this.minWidth=40,this.minHeight=40,this.antiAliased=!0,this.output=Nw.Default}}var Nw=(()=>(function(n){n[n.Default=0]="Default",n[n.OriginalImage=1]="OriginalImage"}(Nw||(Nw={})),Nw))(),Gy=(()=>(function(n){n[n.Size=0]="Size",n[n.Type=1]="Type",n[n.Other=2]="Other"}(Gy||(Gy={})),Gy))();let iA=(()=>{class n{constructor(e,i,r,s,c,d,f){this.sRenderer=e,this._renderer=i,this._elementRef=r,this.cd=s,this._ngZone=c,this.classes=this.sRenderer.renderSheet(Fw,!0),this._imgRect={},this._rotation=0,this.scaleChange=new o.vpe,this.minScaleChange=new o.vpe,this.maxScaleChange=new o.vpe,this.loaded=new o.vpe,this.imageLoaded=new o.vpe,this.ready=new o.vpe,this.cropped=new o.vpe,this.cleaned=new o.vpe,this.error=new o.vpe,this._destroy=new Dt.x,this._pointerDown=m=>{this._isSliding||!Lw(m)&&0!==m.button||this._ngZone.run(()=>{this._isSliding=!0,this.offset={x:this._imgRect.x,y:this._imgRect.y,left:this._imgRect.xc,top:this._imgRect.yc},this._lastPointerEvent=m,this._startPointerEvent=rA(m),m.preventDefault(),this._bindGlobalEvents(m)})},this._pointerMove=m=>{if(this._isSliding){let v,E;m.preventDefault(),this._lastPointerEvent=m;const A=this._imgCanvas.nativeElement,M=this._scal3Fix,P=this.config,B=this.offset,J=rA(m),oe=J.x-this._startPointerEvent.x,Ve=J.y-this._startPointerEvent.y;if(!M||!B)return;const xe=A.height*M<P.height&&P.extraZoomOut,Ie=A.width*M<P.width&&P.extraZoomOut,ze=P.width/2/M>=B.left-oe/M,ut=P.width/2/M+A.width-(B.left-oe/M)<=P.width/M,Vt=P.height/2/M>=B.top-Ve/M,Vn=P.height/2/M+A.height-(B.top-Ve/M)<=P.height/M;(ze&&!Ie||!ze&&Ie)&&(v=B.x+B.left-P.width/2/M),(ut&&!Ie||!ut&&Ie)&&(v=B.x+B.left+P.width/2/M-A.width),(Vt&&!xe||!Vt&&xe)&&(E=B.y+B.top-P.height/2/M),(Vn&&!xe||!Vn&&xe)&&(E=B.y+B.top+P.height/2/M-A.height),void 0===v&&(v=oe/M+B.x),void 0===E&&(E=Ve/M+B.y),this._setStylesForContImg({x:v,y:E})}},this._pointerUp=m=>{this._isSliding&&(m.preventDefault(),this._removeGlobalEvents(),this._isSliding=!1,this._startPointerEvent=null,this._cropIfAutoCrop())},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=d,f.change().pipe(gi(this._destroy)).subscribe(()=>this._ngZone.run(()=>this.updateCropperPosition()))}get config(){return this._config}set config(e){if(this._config=Rw({},new Fz,e),this._configPrimary=Rw({},this._config),this._primaryAreaWidth=this.config.width,this._primaryAreaHeight=this.config.height,this._config.round&&this.config.width!==this.config.height)throw new Error(`${n.\u0438}: Both width and height must be equal when using \`ImgCropperConfig.round = true\``);const i=this._config.maxFileSize;i&&(this.maxFileSize=i)}get scale(){return this._scale}set scale(e){this.setScale(e)}get minScale(){return this._minScale}ngOnInit(){this._ngZone.runOutsideAngular(()=>{const e=this._imgContainer.nativeElement;e.addEventListener("mousedown",this._pointerDown,Li),e.addEventListener("touchstart",this._pointerDown,Li)})}ngOnDestroy(){this._destroy.next(),this._destroy.complete();const e=this._imgContainer.nativeElement;this._lastPointerEvent=null,this._removeGlobalEvents(),e.removeEventListener("mousedown",this._pointerDown,Li),e.removeEventListener("touchstart",this._pointerDown,Li)}_imgLoaded(e){if(e){this._img=e;const i=this._imgCanvas.nativeElement;i.width=e.width,i.height=e.height;const r=i.getContext("2d");r.clearRect(0,0,e.width,e.height),r.drawImage(e,0,0),this._updateMinScale(i),this._updateMaxScale()}}_setStylesForContImg(e){const i={};if(null!=e.x&&null!=e.y){const r=this._rootRect(),s=r.width/2-e.x,c=r.height/2-e.y;this._imgRect.x=e.x,this._imgRect.y=e.y,this._imgRect.xc=s,this._imgRect.yc=c}i.transform=`translate3d(${this._imgRect.x}px,${this._imgRect.y}px, 0)`,i.transform+=`scale(${this._scal3Fix})`,i.transformOrigin=`${this._imgRect.xc}px ${this._imgRect.yc}px 0`,i["-webkit-transform"]=i.transform,i["-webkit-transform-origin"]=i.transformOrigin;for(const r in i)i.hasOwnProperty(r)&&this._renderer.setStyle(this._imgContainer.nativeElement,r,i[r])}updateCropperPosition(){this.isLoaded&&(this.updatePosition(),this._updateAreaIfNeeded())}selectInputEvent(e){this._currentInputElement=e.target;const i=e.target;if(i.files&&1!==i.files.length)return;const r=i.files[0].size,s=i.value.replace(/.*(\/|\\)/,"");if(this.maxFileSize&&r>this.maxFileSize){const c={name:s,type:i.files[0].type,size:r,error:Gy.Size};return this.clean(),void this.error.emit(c)}new Hi.y(c=>{const d=new FileReader;d.onerror=f=>c.error(f),d.onabort=f=>c.error(f),d.onload=f=>setTimeout(()=>{c.next(f),c.complete()}),d.readAsDataURL(i.files[0])}).pipe(Xn(1),gi(this._destroy)).subscribe(c=>{this.loadImage({name:s,size:i.files[0].size,type:this.config.type||i.files[0].type,originalDataURL:c.target.result}),this.cd.markForCheck()},()=>{const c={name:s,size:r,error:Gy.Other,errorMsg:"The File could not be loaded.",type:i.files[0].type};this.clean(),this.error.emit(c)})}setScale(e,i){const r=e>=this.minScale&&e<=1?e:this.minScale,s=null!=e&&e!==this.scale&&r!==this.scale;if(this._scale=e,s){if(this._scal3Fix=r,this._updateAbsoluteScale(),this.isLoaded){if(!s)return;{const c={...this._imgRect};this.offset={x:c.x,y:c.y,left:c.xc,top:c.yc},this._setStylesForContImg({}),this._simulatePointerMove()}}else{if(!this.minScale)return;this._setStylesForContImg({...this._getCenterPoints()})}this.scaleChange.emit(e),i||this._cropIfAutoCrop()}}_getCenterPoints(){const e=this._elementRef.nativeElement,i=this._imgCanvas.nativeElement;return{x:(e.offsetWidth-i.width)/2,y:(e.offsetHeight-i.height)/2}}fitToScreen(){const e=this._elementRef.nativeElement,i_width=e.offsetWidth,i_height=e.offsetHeight,{width:r,height:s}=this._img,c={width:i_width/r,height:i_height/s},d=Math.max(c.width,c.height);this.setScale(d)}fit(){this.setScale(this.minScale)}_simulatePointerMove(){this._isSliding=!0,this._startPointerEvent={x:0,y:0},this._pointerMove({clientX:0,clientY:0,type:"n",preventDefault:()=>{}}),this._isSliding=!1,this._startPointerEvent=null}_markForCheck(){this.cd.markForCheck()}updatePosition(e,i){const r=this._rootRect(),s=this._areaCropperRect();let f,m;null==e&&null==i&&(e=this._imgRect.xc,i=this._imgRect.yc),f=s.left-r.left,m=s.top-r.top,f-=e-(s.width>r.width?r.width:s.width)/2,m-=i-(s.height>r.height?r.height:s.height)/2,this._setStylesForContImg({x:f,y:m})}_slideEnd(){this._cropIfAutoCrop()}_cropIfAutoCrop(){this.config.autoCrop&&this.crop()}zoomIn(){const e=this._scal3Fix+.05;this.setScale(e>this.minScale&&e<=this._maxScale?e:this._maxScale)}clean(){if(this._currentInputElement&&(this._currentInputElement.value="",this._currentInputElement=null),this.isLoaded){this._imgRect={},this.offset=void 0,this.scale=void 0,this._scal3Fix=void 0,this._rotation=0,this._minScale=void 0,this._isLoadedImg=!1,this.isLoaded=!1,this.isCropped=!1,this._currentLoadConfig=void 0,this.config=this._configPrimary;const e=this._imgCanvas.nativeElement;e.width=0,e.height=0,this.cleaned.emit(null),this.cd.markForCheck()}}zoomOut(){const e=this._scal3Fix-.05;e>this.minScale&&e<=this._maxScale?this.setScale(e):this.fit()}center(){const e={...this._getCenterPoints()};this._setStylesForContImg(e),this._cropIfAutoCrop()}loadImage(e,i){this.clean();const r=this._currentLoadConfig="string"==typeof e?{originalDataURL:e}:{...e};let s=r.originalDataURL;this._primaryAreaWidth=this._configPrimary.width,this._primaryAreaHeight=this._configPrimary.height,r.areaWidth&&r.areaHeight&&(this.config.width=r.areaWidth,this.config.height=r.areaHeight),s=function lie(n){if(window.atob&&function cie(n){return n.startsWith(BN)}(n)){const t=n.length/5,e=window.atob(n.replace(BN,"")),i=document.createElement("span");i.innerHTML=e;const r=i.querySelector("svg");i.setAttribute("style","display:none"),document.body.appendChild(i);const s=parseFloat(getComputedStyle(r).width)||1,c=parseFloat(getComputedStyle(r).height)||1,d=Math.max(s,c);r.setAttribute("width",t/(s/d)+"px"),r.setAttribute("height",t/(c/d)+"px");const f=BN+window.btoa(i.innerHTML);return document.body.removeChild(i),f}return n}(s);const c=function uie(n){const t=new Image;return t.crossOrigin="anonymous",t.src=n,t}(s),d={...r};new Hi.y(f=>{c.onerror=m=>f.error(m),c.onabort=m=>f.error(m),c.onload=()=>f.next(null)}).pipe(Xn(1),gi(this._destroy)).subscribe(()=>{this._imgLoaded(c),this._isLoadedImg=!0,this.imageLoaded.emit(d),this.cd.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Xn(1),gi(this._destroy)).subscribe(()=>setTimeout(()=>this._ngZone.run(()=>this._positionImg(d,i))))})},()=>{this.error.emit({name:r.name,error:Gy.Type,type:r.type,size:r.size})})}_updateAreaIfNeeded(){if(!this._config.responsiveArea)return;const e=this._rootRect(),i=this._areaCropperRect(),r=this.config.minWidth||1,s=this.config.minHeight||1;if(!(i.width>e.width||i.height>e.height||i.width<this._primaryAreaWidth||i.height<this._primaryAreaHeight))return;const c=Math.max(this.config.width,r),d=Math.max(e.width,r),f=Math.min(Math.max(e.width,r),Math.max(e.height,s)),m=this._scal3Fix;let v=0;this.config.round?this.config.width=this.config.height=f:c===i.width&&(d>this._primaryAreaWidth?(this.config.width=this._primaryAreaWidth,this.config.height=this._primaryAreaWidth*i.height/i.width,v=m*this._primaryAreaWidth/i.width):(this.config.width=d,this.config.height=d*i.height/i.width,v=m*d/i.width),this._updateMinScale(),this._updateMaxScale(),this.setScale(v,!0),this._markForCheck())}_updateAbsoluteScale(){this._absoluteScale=this._scal3Fix/(this.config.width/this._primaryAreaWidth)}setImageUrl(e,i){this.loadImage(e,i)}_positionImg(e,i){const r=this._currentLoadConfig;this._updateMinScale(this._imgCanvas.nativeElement),this._updateMaxScale(),this.isLoaded=!1,i?i():(this.setScale(r.scale?r.scale:this.minScale,!0),this.rotate(r.rotation||0),this._updateAreaIfNeeded(),this._markForCheck(),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(Xn(1),gi(this._destroy)).subscribe(()=>{null!=r.xOrigin&&null!=r.yOrigin&&this.updatePosition(r.xOrigin,r.yOrigin),this._updateAreaIfNeeded(),this.isLoaded=!0,this._cropIfAutoCrop(),this._ngZone.run(()=>{this._markForCheck(),this.ready.emit(e),this.loaded.emit(e)})})}))}rotate(e){let i=Nz(e);i<0&&(i+=360);const r=Nz((this._rotation||0)+i);if(r===this._rotation)return;const s=i*Math.PI/180,c=this._imgCanvas.nativeElement,d=function aie(n){const t=document.createElement("canvas"),e=t.getContext("2d");return t.width=n.width,t.height=n.height,e.drawImage(n,0,0),t}(c),f=c.getContext("2d");this._rotation=r,f.clearRect(0,0,d.width,d.height);const m=`rotate(${i}deg) scale(${1/this._scal3Fix})`,v=`${this._imgRect.xc}px ${this._imgRect.yc}px 0`;c.style.transform=m,c.style.webkitTransform=m,c.style.transformOrigin=v,c.style.webkitTransformOrigin=v;const{left:E,top:A}=c.getBoundingClientRect(),M=c.getBoundingClientRect();c.removeAttribute("style");const P=M.width,B=M.height;f.canvas.width=P,f.canvas.height=B,f.clearRect(0,0,P,B),f.translate(P/2,B/2),f.rotate(s),f.drawImage(d,-d.width/2,-d.height/2),this._updateMinScale(c),this._updateMaxScale(),this.scale<this.minScale&&this.setScale(0,!0);const J=this._rootRect();this._setStylesForContImg({x:E-J.left,y:A-J.top});const oe={...this._imgRect};this.offset={x:oe.x,y:oe.y,left:oe.xc,top:oe.yc},this._setStylesForContImg({}),this._simulatePointerMove(),this._cropIfAutoCrop()}_updateMinScale(e){e||(e=this._imgCanvas.nativeElement);const i=this.config,r=(i.extraZoomOut?Math.min:Math.max)(i.width/e.width,i.height/e.height);this._minScale=r,this.minScaleChange.emit(r)}_updateMaxScale(){const e=this.config.width/this._primaryAreaWidth;this._maxScale=e,this.maxScaleChange.emit(e)}crop(e){const i=e?Rw({},this.config||new Fz,e):this.config,r=this._imgCrop(i);return this.cd.markForCheck(),r}_imgCrop(e){const i=document.createElement("canvas"),r=this._areaCropperRect(),s=this._canvasRect(),c=this._scal3Fix,d=(r.left-s.left)/c,f=(r.top-s.top)/c,{output:m}=e,v=this._currentLoadConfig,E_width=e.width,E_height=e.height;i.width=E_width/c,i.height=E_height/c;const A=i.getContext("2d");e.fill&&(A.fillStyle=e.fill,A.fillRect(0,0,i.width,i.height)),A.drawImage(this._imgCanvas.nativeElement,-d,-f);const M=i;e.output===Nw.Default?nA(M,this._configPrimary.width,this._configPrimary.height):"object"==typeof m&&(m.width&&m.height?nA(M,m.width,m.height):m.width?nA(M,m.width,E_height*m.width/E_width):m.height&&nA(M,E_width*m.height/E_height,m.height));const P=v.originalDataURL.startsWith("http")?v.type||e.type:e.type||v.type,J={dataURL:M.toDataURL(P),type:P,name:v.name,areaWidth:this._primaryAreaWidth,areaHeight:this._primaryAreaHeight,width:M.width,height:M.height,originalDataURL:v.originalDataURL,scale:this._absoluteScale,rotation:this._rotation,left:(r.left-s.left)/this._scal3Fix,top:(r.top-s.top)/this._scal3Fix,size:v.size,xOrigin:this._imgRect.xc,yOrigin:this._imgRect.yc,position:{x:this._imgRect.xc,y:this._imgRect.yc}};return this.isCropped=!0,this.cropped.emit(J),J}_rootRect(){return this._elementRef.nativeElement.getBoundingClientRect()}_areaCropperRect(){return this._areaRef.nativeElement.getBoundingClientRect()}_canvasRect(){return this._imgCanvas.nativeElement.getBoundingClientRect()}_bindGlobalEvents(e){const i=this._document,r=Lw(e),c=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,Li),i.addEventListener(c,this._pointerUp,Li),r&&i.addEventListener("touchcancel",this._pointerUp,Li);const d=this._getWindow();typeof d<"u"&&d&&d.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Li),e.removeEventListener("mouseup",this._pointerUp,Li),e.removeEventListener("touchmove",this._pointerMove,Li),e.removeEventListener("touchend",this._pointerUp,Li),e.removeEventListener("touchcancel",this._pointerUp,Li);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_getWindow(){return this._document.defaultView||window}}return n.\u0438="LyImageCropper",n.\u0275fac=function(e){return new(e||n)(o.Y36(Ud),o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(o.sBO),o.Y36(o.R0b),o.Y36(se),o.Y36(N_))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ly-img-cropper"],["ly-image-cropper"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Kne,7),o.Gf(Qne,5,o.SBq),o.Gf(Jne,7)),2&e){let r;o.iGM(r=o.CRH())&&(i._imgContainer=r.first),o.iGM(r=o.CRH())&&(i._areaRef=r.first),o.iGM(r=o.CRH())&&(i._imgCanvas=r.first)}},inputs:{config:"config",scale:"scale",maxFileSize:"maxFileSize"},outputs:{scaleChange:"scaleChange",minScaleChange:"minScale",maxScaleChange:"maxScale",loaded:"loaded",imageLoaded:"imageLoaded",ready:"ready",cropped:"cropped",cleaned:"cleaned",error:"error"},features:[o._Bn([Ud])],ngContentSelectors:nie,decls:7,vars:3,consts:[[3,"className","selectstart"],["_imgContainer",""],["_imgCanvas",""],[3,"round","resizableArea","keepAspectRatio","ngStyle",4,"ngIf","ngIfElse"],["content",""],[3,"round","resizableArea","keepAspectRatio","ngStyle"],["_area",""],[3,"className"],["type","file","accept","image/*",3,"change"],["_fileInput",""]],template:function(e,i){if(1&e&&(o.F$t(),o.TgZ(0,"div",0,1),o.NdJ("selectstart",function(s){return s.preventDefault()}),o._UZ(2,"canvas",null,2),o.qZA(),o.YNc(4,eie,2,7,"ly-cropper-area",3),o.YNc(5,tie,4,1,"ng-template",null,4,o.W1O)),2&e){const r=o.MAs(6);o.Q6J("className",i.classes.imgContainer),o.xp6(4),o.Q6J("ngIf",i._isLoadedImg)("ngIfElse",r)}},directives:function(){return[oie,Kn,Ac]},encapsulation:2,changeDetection:0}),n})(),oie=(()=>{class n{constructor(e,i,r,s,c){this.sRenderer=e,this._elementRef=i,this._ngZone=r,this._cropper=s,this.classes=this.sRenderer.renderSheet(Fw,"area"),this._pointerDown=d=>{this._isSliding||!Lw(d)&&0!==d.button||(d.preventDefault(),this._ngZone.run(()=>{this._isSliding=!0,this._lastPointerEvent=d,this._startPointerEvent=rA(d),this._startAreaRect=this._cropper._areaCropperRect(),this._startImgRect=this._cropper._canvasRect(),d.preventDefault(),this._bindGlobalEvents(d)}))},this._pointerMove=d=>{if(this._isSliding){d.preventDefault(),this._lastPointerEvent=d;const f=this._elementRef.nativeElement,{width:m,height:v,minWidth:E,minHeight:A}=this._cropper.config,M=rA(d),P=M.x-this._startPointerEvent.x,B=M.y-this._startPointerEvent.y,J=this._startAreaRect,oe=this._startImgRect,Ve=this.round,xe=this._cropper.config.keepAspectRatio||d.shiftKey;let Ie=0,ze=0;const ut=this._cropper._rootRect();if(Ve){const lt=m/2/Math.sqrt(2)+P,_t=v/2/Math.sqrt(2)+B;Ie=ze=2*Math.sqrt(lt**2+_t**2)}else xe?(Ie=m+2*P,ze=v+2*B,m!==v?m>v?ze=v/(m/Ie):v>m&&(Ie=m/(v/ze)):Ie=ze=Math.max(Ie,ze)):(Ie=m+2*P,ze=v+2*B);Ie<E&&(Ie=E),ze<A&&(ze=A);const Vt=J.x+J.width/2,Vn=J.y+J.height/2,Br=oe.y>Vn-ze/2,Is=Vn+ze/2>oe.bottom,jd=Math.min(2*(Vn-oe.y),2*(oe.bottom-Vn)),ja=oe.x>Vt-Ie/2,Ys=Vt+Ie/2>oe.right,Nu=Math.min(2*(Vt-oe.x),2*(oe.right-Vt)),Yy=Math.min(Nu,jd);if(Ve)(Br||Is||ja||Ys)&&(ze=Ie=Yy);else if(xe){const lt=[],_t=[];(Br||Is)&&(ze=jd,_t.push(ze),Ie=m/(v/jd),lt.push(Ie)),(ja||Ys)&&(Ie=Nu,lt.push(Ie),ze=v/(m/Nu),_t.push(ze)),2===lt.length&&(Ie=Math.min(...lt)),2===_t.length&&(ze=Math.min(..._t))}else(Br||Is)&&(ze=jd),(ja||Ys)&&(Ie=Nu);if(Ve){const lt=Math.min(ut.width,ut.height);(Ie>lt||ze>lt)&&(Ie=ze=lt)}else xe?(Ie>ut.width&&(Ie=ut.width,ze=v/(m/ut.width)),ze>ut.height&&(Ie=m/(v/ut.height),ze=ut.height)):(Ie>ut.width&&(Ie=ut.width),ze>ut.height&&(ze=ut.height));Ie=Math.round(Ie),ze=Math.round(ze),f.style.width=`${Ie}px`,f.style.height=`${ze}px`,this._currentWidth=Ie,this._currentHeight=ze}},this._pointerUp=d=>{this._isSliding&&(d.preventDefault(),this._removeGlobalEvents(),this._cropper._primaryAreaWidth=this._cropper.config.width=this._currentWidth,this._cropper._primaryAreaHeight=this._cropper.config.height=this._currentHeight,this._cropper.config=this._cropper.config,this._cropper._updateMinScale(),this._isSliding=!1,this._startPointerEvent=null)},this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this._document=c}set resizableArea(e){e!==this._resizableArea&&(this._resizableArea=e,Promise.resolve(null).then(()=>{e?(this._removeResizableArea(),this._addResizableArea()):this._removeResizableArea()}))}get resizableArea(){return this._resizableArea}ngOnDestroy(){this._removeResizableArea()}_addResizableArea(){this._ngZone.runOutsideAngular(()=>{const e=this._resizer.nativeElement;e.addEventListener("mousedown",this._pointerDown,Li),e.addEventListener("touchstart",this._pointerDown,Li)})}_removeResizableArea(){const e=this._resizer?.nativeElement;e&&(this._lastPointerEvent=null,this._removeGlobalEvents(),e.removeEventListener("mousedown",this._pointerDown,Li),e.removeEventListener("touchstart",this._pointerDown,Li))}_bindGlobalEvents(e){const i=this._document,r=Lw(e),c=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,Li),i.addEventListener(c,this._pointerUp,Li),r&&i.addEventListener("touchcancel",this._pointerUp,Li);const d=this._getWindow();typeof d<"u"&&d&&d.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Li),e.removeEventListener("mouseup",this._pointerUp,Li),e.removeEventListener("touchmove",this._pointerMove,Li),e.removeEventListener("touchend",this._pointerUp,Li),e.removeEventListener("touchcancel",this._pointerUp,Li);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_getWindow(){return this._document.defaultView||window}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ud),o.Y36(o.SBq),o.Y36(o.R0b),o.Y36(iA),o.Y36(se))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ly-cropper-area"]],viewQuery:function(e,i){if(1&e&&o.Gf(iie,5),2&e){let r;o.iGM(r=o.CRH())&&(i._resizer=r.first)}},inputs:{resizableArea:"resizableArea",keepAspectRatio:"keepAspectRatio",round:"round"},exportAs:["lyCropperArea"],features:[o._Bn([Ud])],decls:1,vars:1,consts:[[3,"class",4,"ngIf"],["resizer",""]],template:function(e,i){1&e&&o.YNc(0,rie,2,2,"div",0),2&e&&o.Q6J("ngIf",i.resizableArea)},directives:[Kn],encapsulation:2,changeDetection:0}),(0,az.gn)([Vne((t,e)=>({after:i},r)=>{r.renderStyleSheet(Fw);const s=r.selectorsOf(Fw);return c=>`${c}{border-radius:50%;}${c} .${s.resizer}{${i}:${Pz}%;bottom:${Pz}%;transform:translate(4px,4px);}`},pn)],n.prototype,"round",void 0),n})();function Nz(n){const t=n%360;if(t%90)throw new Error(`LyCropper: Invalid \`${n}\` degree, only accepted values: 0, 90, 180, 270 & 360.`);return t}function rA(n){const t=Lw(n)?n.touches[0]||n.changedTouches[0]:n;return{x:t.clientX,y:t.clientY}}function Lw(n){return"t"===n.type[0]}let die=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi]]}),n})();const hie={XSmall:"(max-width: 599px)",Small:"(min-width: 600px) and (max-width: 959px)",Medium:"(min-width: 960px) and (max-width: 1279px)",Large:"(min-width: 1280px) and (max-width: 1919px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599px) and (orientation: portrait), (max-width: 959px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"},fie={size:"48px"},pie={fontSize:"24px"},mie={toolbar:1e3,drawer:1100,overlay:1200},gie={transition:{opacity:"cubic-bezier(0.4,0.0,1,1)",transform:"cubic-bezier(0, 1, 0.6, 1)"},duration:950},_ie={curves:{standard:"cubic-bezier(0.4,0.0,0.2,1)",deceleration:"cubic-bezier(0.0,0.0,0.2,1)",acceleration:"cubic-bezier(0.4,0.0,1,1)",sharp:"cubic-bezier(0.4,0.0,0.6,1)"},durations:{complex:375,entering:225,exiting:195}};let yie=(()=>{class n extends class hne{constructor(){this.above="top",this.below="bottom"}get before(){return this.getDirection(Dc.before)}get after(){return this.getDirection(Dc.after)}pxToRem(t){return t/this.typography.htmlFontSize*(this.typography.fontSize/14)+"rem"}colorOf(t,e){if("number"==typeof t)return new wt(t);if("#"===t[0]&&7===t.length)return new wt(function zte(n){if(n.startsWith("#"))return parseInt(n.slice(1),16);throw new Error(`Expected to start with '#' the given value is: ${n}`)}(t));const i=function fne(n,t,e){if("transparent"===t)return new wt(0,0,0,0);const i=t instanceof Array?t:t.split(":");for(let r=0;r<i.length;r++){const s=n[i[r]];if(!s)return new wt;n=s}return n instanceof wt?n:e?n[e]??n.default:n.default}(this,t,e);return i||new wt}getBreakpoint(t){return`@media ${this.breakpoints[t]||t}`}selectorsOf(t){const e=kl.get(t);if(e)return e.classes||e[this.name];throw Error("Classes not found")}getDirection(t){return t===Dc.before?"rtl"===this.direction?"right":"left":t===Dc.after?"rtl"===this.direction?"left":"right":"above"===t?"top":"below"===t?"bottom":t}isRTL(){return this.direction===Po.rtl}}{constructor(){super(),this.typography={fontFamily:"'Roboto', sans-serif",htmlFontSize:16,fontSize:14,gutterTop:1,gutterBottom:.35,lyTyp:{}},this.iconButton=fie,this.icon=pie,this.breakpoints=hie,this.zIndex=mie,this.ripple=gie,this.animations=_ie,this.direction=Po.ltr,this.button={root:new gn,size:{small:()=>i=>`${i}{padding:0 8px;font-size:${this.pxToRem(13)};min-height:32px;min-width:48p;}`,medium:()=>i=>`${i}{padding:0 14px;min-height:36px;min-width:64px;}`,large:()=>i=>`${i}{padding:0 21px;font-size:${this.pxToRem(15)};min-height:40px;min-width:96px;}`},appearance:{icon:()=>i=>`${i}{min-width:40px;width:40px;height:40px;padding:0;border-radius:50%;}`,fab:()=>i=>`${i}{min-width:56px;width:56px;height:56px;padding:0;border-radius:50%;}`,miniFab:()=>i=>`${i}{min-width:40px;width:40px;height:40px;padding:0;border-radius:50%;}`}},this.badge={appearance:{default:()=>i=>`${i}{padding:0 6px;min-width:22px;height:22px;border-radius:2em;}`,dot:()=>i=>`${i}{width:6px;height:6px;border-radius:50%;}`}},this.checkbox={color:(i,r)=>s=>`${s}${i.checked} ${i.icon},${s}${i.indeterminate} ${i.icon}{color:${r};}${s}${i.checked}:not({disabled}) ${i.icon},${s}${i.indeterminate}:not({disabled}) ${i.icon}{box-shadow:${Mw(1,r)};}`},this.expansion={root:i=>r=>`${r} ${i.panelHeader}{height:48px;}${r} ${i.expanded} ${i.panelHeader}{height:64px;}`,appearance:{popOut:i=>r=>`${r} ${i.panel}{transition:margin ${this.animations.durations.entering}ms ${this.animations.curves.standard};}${r} ${i.expanded}${i.panel}{margin:16px 0;}${r} ${i.expanded}${i.panel}:first-child{margin-top:0;}${r} ${i.expanded}${i.panel}:last-child{margin-bottom:0;}`}},this.field={appearance:{standard:new gn(i=>r=>`${r}:not(${i.disabled}) ${i.container}:hover:after{border-bottom-color:currentColor;}${r} ${i.infix}{border-top:0.84375em solid transparent;}${r}${i.selectArrow} ${i.infix}::after{top:0.4em;}${r} ${i.infix},${r} ${i.placeholder},${r} ${i.displayWith}{padding:.5em 0;}${r}${i.disabled} ${i.container}:after{border-bottom-style:dotted;border-color:inherit;}${r} ${i.container}{padding-top:0.75em;}${r} ${i.container}:after{border-bottom-style:solid;border-bottom-width:1px;}${r}${i.focused} ${i.container}:after{border-width:2px;border-color:currentColor;}${r} ${i.label}{padding-top:0.84375em;margin-top:-0.34375em;}${r} ${i.floatingLabel}{transform:translateY(-1.34375em);transform-origin:${this.before};}`),outlined:new gn(i=>r=>`${r}:not(${i.focused}):not({disabled}):hover ${i.fieldset}{border-color:currentColor;}${r} ${i.infix}{border-top:0.84375em solid transparent;}${r} ${i.infix},${r} ${i.placeholder},${r} ${i.displayWith}{padding:1em 0;}${r}${i.selectArrow} ${i.infix}::after{top:1em;}${r}${i.focused} ${i.fieldset}{border-width:2px;border-color:inherit;}${r} ${i.container}{padding:0 0.75em;}${r} ${i.fieldset}{border-width:1px;border-radius:5px;padding:0 .5em;margin-top:.25em;}${r} ${i.prefix} [ly-button],${r} ${i.suffix} [ly-button]{top:0.25em;}${r} ${i.label}{padding-top:0.84375em;margin-top:-0.15625em;}${r} ${i.floatingLabel}{transform:translateY(-1.59375em);}${r} ${i.hintContainer}{padding:0 0.75em;}`),filled:new gn(i=>r=>`${r}:not(${i.focused}):not(${i.disabled}) ${i.container}:hover:after{border-bottom-width:1px;}${r} ${i.infix}{border-top:0.84375em solid transparent;}${r} ${i.infix},${r} ${i.placeholder},${r} ${i.displayWith}{padding:0.25em 0 0.75em;}${r} ${i.container}{padding:.75em .75em 0 .75em;border-radius:5px 5px 0 0;}${r} ${i.container}:after{border-bottom-style:solid;border-bottom-color:currentColor;border-bottom-width:0;}${r}${i.focused} ${i.container}:after{border-bottom-width:2px;}${r} ${i.label}{padding-top:0.84375em;margin-top:-1.09375em;}${r} ${i.floatingLabel}{transform:translateY(-0.59375em);transform-origin:${this.before};}${r} ${i.hintContainer}{padding:0 0.75em;}`)}},this.toolbar={appearance:{dense:new gn(()=>i=>`${i}{height:56px;}`)}},this.slider={appearance:{standard:new gn(i=>r=>`${r}${i.thumbVisible} ${i.thumb},${r}:not(${i.thumbNotVisible}):not(${i.disabled}) ${i.thumbContent}:hover ${i.thumb},${r}:not(${i.thumbNotVisible}) ${i.thumbContent}${i.thumbContentFocused} ${i.thumb}{border-radius:50% 50% 0%;}${r}${i.horizontal} ${i.thumbLabel}{transform:rotateZ(45deg) scale(0);}${r}${i.horizontal} ${i.thumbLabelValue}{transform:rotateZ(-45deg);}${r}${i.horizontal} ${i.thumb}{transform:rotateZ(-135deg);}${r}${i.horizontal}${i.thumbVisible} ${i.thumbLabel},${r}${i.horizontal}:not(${i.disabled}) ${i.thumbContent}:hover ${i.thumbLabel},${r}${i.horizontal} ${i.thumbContent}${i.thumbContentFocused} ${i.thumbLabel}{border-radius:50% 50% 0%;top:-50px;transform:rotateZ(45deg) scale(1);}${r}${i.horizontal} ${i.thumbContent}::before{width:2px;height:24px;left:-1px;top:-24px;}${r}${i.vertical} ${i.thumbLabel}{transform:rotateZ(-45deg) scale(0);}${r}${i.vertical} ${i.thumbLabelValue}{transform:rotateZ(45deg);}${r}${i.vertical} ${i.thumb}{transform:${this.direction===Po.ltr?"rotateZ(135deg)":"rotateZ(-45deg)"};}${r}${i.vertical}${i.thumbVisible} ${i.thumbLabel},${r}${i.vertical}:not(${i.disabled}) ${i.thumbContent}:hover ${i.thumbLabel},${r}${i.vertical} ${i.thumbContent}${i.thumbContentFocused} ${i.thumbLabel}{border-radius:${this.direction===Po.ltr?"50% 50% 0%":"0 50% 50% 50%"};${this.before}:-50px;transform:rotateZ(-45deg) scale(1);}${r}${i.vertical} ${i.thumbContent}::before{width:24px;height:2px;${this.before}:-24px;top:-1px;}${r} ${i.thumbContent}::before{content:'';position:absolute;opacity:.6;transform:scale(0);transition:transform ${this.animations.durations.entering}ms ${this.animations.curves.sharp} 0ms,background ${this.animations.durations.complex}ms ${this.animations.curves.sharp} 0ms;}${r}${i.thumbVisible} ${i.thumbContent}::before,${r}:not(${i.thumbNotVisible}):not(${i.disabled}) ${i.thumbContent}:hover::before,${r}:not(${i.thumbNotVisible}) ${i.thumbContent}${i.thumbContentFocused}::before{transform:scale(1);}`),md:new gn(i=>r=>`${r} ${i.thumbLabel}{width:unset;height:unset;right:unset;left:unset;padding:0.5em 0.833em;font-size:12px;border-radius:4px;transform:scale(0);}${r} ${i.thumbLabel}::before{display:block;position:absolute;content:'';background-color:inherit;width:8px;height:8px;}${r}${i.horizontal} ${i.thumbLabel}::before{bottom:0;left:50%;transform:translate(-50%,50%) rotate(45deg);}${r}${i.horizontal}${i.thumbVisible} ${i.thumbLabel},${r}${i.horizontal}:not(${i.disabled}) ${i.thumbContent}:hover ${i.thumbLabel},${r}${i.horizontal} ${i.thumbContent}${i.thumbContentFocused} ${i.thumbLabel}{top:-45px;transform:scale(1);}${r}${i.vertical}${i.thumbVisible} ${i.thumbLabel},${r}${i.vertical}:not(${i.disabled}) ${i.thumbContent}:hover ${i.thumbLabel},${r}${i.vertical} ${i.thumbContent}${i.thumbContentFocused} ${i.thumbLabel}{${this.after}:20px;transform:scale(1);}${r}${i.vertical} ${i.thumbLabel}::before{top:50%;${this.after}:0%;transform:translate(${this.isRTL()?-50:50}%,-50%) rotate(45deg);}`)},size:{small:new gn(i=>r=>`${r} ${i.thumb}{width:14px;height:14px;}${r}${i.horizontal} ${i.wrapper}{height:2px;}${r}${i.vertical} ${i.wrapper}{width:2px;}`),medium:new gn(i=>r=>`${r} ${i.thumb}{width:18px;height:18px;}${r} ${i.track},${r} ${i.bg}{border-radius:12px;}${r}${i.horizontal} ${i.wrapper}{height:4px;}${r}${i.horizontal} ${i.tick}{height:2px;}${r}${i.vertical} ${i.wrapper}{width:4px;}${r}${i.vertical} ${i.tick}{width:2px;}${r} ${i.track}{border:1px solid currentcolor;}`)},color:({track:i,thumb:r,thumbLabel:s,tick:c,disabled:d,thumbContentFocused:f,tickActive:m,bg:v,thumbContent:E,horizontal:A,vertical:M,thumbVisible:P,thumbNotVisible:B,sliding:J},oe,Ve)=>xe=>`${xe} ${i},${xe} ${v}{color:${oe};}${xe} ${i},${xe} ${r},${xe} ${s},${xe} ${v},${xe} ${c}{background-color:${oe};}${xe} ${s}{color:${Ve};}${xe}:not(${d}) ${f} ${r}::before,${xe}:not(${d}) ${r}:hover::before{box-shadow:0 0 0 8px ${oe.alpha(.13)};}${xe}${J} ${f} ${r}::before{box-shadow:0 0 0 16px ${oe.alpha(.13)};}${xe} ${m}{background-color:${Ve.alpha(.5)};}${xe} ${v}{opacity:.3;}${xe}:not(${d}) ${E}::before{background:${oe};}${xe}:not(${d})${A}${P} ${E}::before,${xe}:not(${d})${A}:not(${B}) ${E}:hover::before,${xe}:not(${d})${A}:not(${B}) ${E}${f}::before{background:linear-gradient(0deg,${oe} 0%,rgba(0,0,0,0) 50%,${oe} 100%);}${xe}:not(${d})${M}${P} ${E}::before,${xe}:not(${d})${M}:not(${B}) ${E}:hover::before,${xe}:not(${d})${M}:not(${B}) ${E}${f}::before{background:linear-gradient(90deg,${oe} 0%,rgba(0,0,0,0) 50%,${oe} 100%);}`,disabled:({track:i,thumb:r,thumbContainer:s,thumbContent:c,thumbLabel:d,bg:f,tick:m,tickActive:v,horizontal:E,vertical:A},M)=>{const P=this.disabled.contrast;return B=>`${B} ${i},${B} ${r},${B} ${d},${B} ${f},${B} ${m}{background-color:${P};}${B} ${v}{background-color:${P};}${B}${E} ${c}::before{background:linear-gradient(0deg,${P} 0%,rgba(0,0,0,0) 50%,${P} 100%);}${B}${A} ${c}::before{background:linear-gradient(90deg,${P} 0%,rgba(0,0,0,0) 50%,${P} 100%);}${B} ${f}{opacity:.3;}${B}${E} ${s}::before{background:${this.disabled.default};}${B}${A} ${s}::before{background:${this.disabled.default};}${B} ${i}{border:1px solid ${P};}`}},this.typography.lyTyp={display4:new gn(()=>i=>`${i}{font-size:${this.pxToRem(96)};font-weight:300;letter-spacing:-0.015625em;}`),display3:new gn(()=>i=>`${i}{font-size:${this.pxToRem(60)};font-weight:300;letter-spacing:${-.5/60}em;}`),display2:new gn(()=>i=>`${i}{font-size:${this.pxToRem(48)};font-weight:400;letter-spacing:0;}`),display1:new gn(()=>i=>`${i}{font-size:${this.pxToRem(34)};font-weight:400;letter-spacing:${.25/34}em;}`),headline:new gn(()=>i=>`${i}{font-size:${this.pxToRem(24)};font-weight:400;letter-spacing:0;}`),title:new gn(()=>i=>`${i}{font-size:${this.pxToRem(20)};font-weight:500;letter-spacing:0.0075em;}`),subheading:new gn(()=>i=>`${i}{font-size:${this.pxToRem(16)};font-weight:400;letter-spacing:0.009375em;line-height:${this.pxToRem(24)};}`),subheading2:new gn(()=>i=>`${i}{font-size:${this.pxToRem(14)};font-weight:500;letter-spacing:${.1/14}em;}`),body1:new gn(()=>i=>`${i}{font-size:${this.pxToRem(16)};font-weight:400;letter-spacing:0.03125em;}`),body2:new gn(()=>i=>`${i}{font-size:${this.pxToRem(14)};font-weight:400;letter-spacing:${.25/14}em;}`),button:new gn(()=>i=>`${i}{font-size:${this.pxToRem(14)};font-weight:500;letter-spacing:${1.25/14}em;}`),caption:new gn(()=>i=>`${i}{font-size:${this.pxToRem(12)};font-weight:400;letter-spacing:${.4/12}em;}`),overline:new gn(()=>i=>`${i}{font-size:${this.pxToRem(10)};font-weight:400;letter-spacing:0.15em;text-transform:uppercase;}`)};const{lyTyp:e}=this.typography;e.h1=e.display4,e.h2=e.display3,e.h3=e.display2,e.h4=e.display1,e.h5=e.headline,e.h6=e.title,e.subtitle1=e.subheading,e.subtitle2=e.subheading2}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const UN=new wt(16777215),Lz=new wt(3355443);let vie=(()=>{class n extends yie{constructor(){super(...arguments),this.name="minima-light",this.primary={default:new wt(6422766),contrast:UN},this.accent={default:new wt(16722327),contrast:UN},this.warn={default:new wt(16073038),contrast:UN},this.action={default:new wt(0,0,0,.6),contrast:new wt(16777215)},this.background={default:new wt(16448250),primary:{default:new wt(16777215),shadow:Lz},secondary:new wt(16448250),tertiary:new wt(15724527)},this.hover=new wt(0,0,0,.04),this.paper={default:new wt(16777215),shadow:Lz},this.disabled={default:new wt(0,0,0,.12),contrast:new wt(0,0,0,.26)},this.text={default:new wt(0,0,0,.87),primary:new wt(0,0,0,.87),secondary:new wt(0,0,0,.54),disabled:new wt(0,0,0,.26),hint:new wt(0,0,0,.38),dark:new wt(0,0,0,.87),light:new wt(16777215)},this.divider=new wt(0,0,0,.12),this.colorShadow=new wt(3355443),this.shadow=new wt(3355443),this.drawer={backdrop:new wt(0,0,0,.6)},this.bar=new wt(16119285),this.field=Ow(this.field,{root:new gn(({container:e,fieldset:i,labelContainer:r,placeholder:s,label:c})=>d=>`${d} ${e}:after,${d} ${i},${d} ${r}{border-color:${new wt(0,0,0,.23)};}${d} ${c},${d} ${s}{color:${new wt(0,0,0,.6)};}`),appearance:{filled:({container:e})=>i=>`${i} ${e}{background-color:${new wt(0,0,0,.04)};}`}}),this.snackBar={root:new gn(e=>`${e}{background:${new wt(3289650)};color:${new wt(16777215)};box-shadow:${Mw(4,new wt(3289650))};}`)},this.tooltip={root:new gn(()=>e=>`${e}{background:${new wt(50,50,50,.85)};color:${new wt(16777215)};}`)},this.menu={root:new gn(e=>i=>`${i} ${e.item} ly-icon,${i} ${e.itemSubMenuTrigger}:after{color:${function qte(...n){return new wt(...n)}(0,0,0,.54)};}`)},this.slider=Ow(this.slider,{appearance:{md:e=>i=>`${i} ${e.thumbLabel}{background-color:${new wt(5329233)} !important;color:${new wt(16777215)} !important;}`}})}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Vz(){return(0,Gi.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Hn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}new wt(16777215),new wt(0,0,0,1),new wt(0,0,0,1);class bie extends Hi.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Gi.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,null==t||t.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Jn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Hn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Jn.w0.EMPTY)}return t}refCount(){return Vz()(this)}}function $N(n){return n<=0?()=>od.E:(0,Gi.e)((t,e)=>{let i=[];t.subscribe((0,Hn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}class $d{constructor(t,e){this.id=t,this.url=e}}class HN extends $d{constructor(t,e,i="imperative",r=null){super(t,e),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vw extends $d{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Bz extends $d{constructor(t,e,i){super(t,e),this.reason=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Cie extends $d{constructor(t,e,i){super(t,e),this.error=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Eie extends $d{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Die extends $d{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Iie extends $d{constructor(t,e,i,r,s){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Sie extends $d{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tie extends $d{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uz{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class $z{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Aie{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xie{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mie{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kie{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Hz{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _n="primary";class Rie{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function zy(n){return new Rie(n)}const jz="ngNavigationCancelingError";function jN(n){const t=Error("NavigationCancelingError: "+n);return t[jz]=!0,t}function Pie(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const c=i[s],d=n[s];if(c.startsWith(":"))r[c.substring(1)]=d;else if(c!==d.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ru(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!Gz(n[r],t[r]))return!1;return!0}function Gz(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,s)=>i[s]===r)}return n===t}function zz(n){return Array.prototype.concat.apply([],n)}function qz(n){return n.length>0?n[n.length-1]:null}function Es(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Ou(n){return(0,o.CqO)(n)?n:(0,o.QGY)(n)?(0,kn.D)(Promise.resolve(n)):pt(n)}const Lie={exact:function Yz(n,t,e){if(!rg(n.segments,t.segments)||!sA(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Yz(n.children[i],t.children[i],e))return!1;return!0},subset:Kz},Zz={exact:function Vie(n,t){return Ru(n,t)},subset:function Bie(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gz(n[e],t[e]))},ignored:()=>!0};function Wz(n,t,e){return Lie[e.paths](n.root,t.root,e.matrixParams)&&Zz[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Kz(n,t,e){return Qz(n,t,t.segments,e)}function Qz(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!rg(r,e)||t.hasChildren()||!sA(r,e,i))}if(n.segments.length===e.length){if(!rg(n.segments,e)||!sA(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Kz(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),s=e.slice(n.segments.length);return!!(rg(n.segments,r)&&sA(n.segments,r,i)&&n.children[_n])&&Qz(n.children[_n],t,s,i)}}function sA(n,t,e){return t.every((i,r)=>Zz[e](n[r].parameters,i.parameters))}class ig{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zy(this.queryParams)),this._queryParamMap}toString(){return Hie.serialize(this)}}class wn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Es(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oA(this)}}class Bw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=zy(this.parameters)),this._parameterMap}toString(){return nq(this)}}function rg(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class Jz{}class Xz{parse(t){const e=new Qie(t);return new ig(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Uw(t.root,!0)}`,i=function zie(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${aA(e)}=${aA(r)}`).join("&"):`${aA(e)}=${aA(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams),r="string"==typeof t.fragment?`#${function jie(n){return encodeURI(n)}(t.fragment)}`:"";return`${e}${i}${r}`}}const Hie=new Xz;function oA(n){return n.segments.map(t=>nq(t)).join("/")}function Uw(n,t){if(!n.hasChildren())return oA(n);if(t){const e=n.children[_n]?Uw(n.children[_n],!1):"",i=[];return Es(n.children,(r,s)=>{s!==_n&&i.push(`${s}:${Uw(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function $ie(n,t){let e=[];return Es(n.children,(i,r)=>{r===_n&&(e=e.concat(t(i,r)))}),Es(n.children,(i,r)=>{r!==_n&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===_n?[Uw(n.children[_n],!1)]:[`${r}:${Uw(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_n]?`${oA(n)}/${e[0]}`:`${oA(n)}/(${e.join("//")})`}}function eq(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function aA(n){return eq(n).replace(/%3B/gi,";")}function GN(n){return eq(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lA(n){return decodeURIComponent(n)}function tq(n){return lA(n.replace(/\+/g,"%20"))}function nq(n){return`${GN(n.path)}${function Gie(n){return Object.keys(n).map(t=>`;${GN(t)}=${GN(n[t])}`).join("")}(n.parameters)}`}const qie=/^[^\/()?;=#]+/;function cA(n){const t=n.match(qie);return t?t[0]:""}const Zie=/^[^=?&#]+/,Yie=/^[^&#]+/;class Qie{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new wn([],{}):new wn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[_n]=new wn(t,e)),i}parseSegment(){const t=cA(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Bw(lA(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=cA(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=cA(this.remaining);r&&(i=r,this.capture(i))}t[lA(e)]=lA(i)}parseQueryParam(t){const e=function Wie(n){const t=n.match(Zie);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function Kie(n){const t=n.match(Yie);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=tq(e),s=tq(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(s)}else t[r]=s}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cA(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let s;i.indexOf(":")>-1?(s=i.substr(0,i.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=_n);const c=this.parseChildren();e[s]=1===Object.keys(c).length?c[_n]:new wn([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class iq{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=zN(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=zN(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=qN(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return qN(t,this._root).map(e=>e.value)}}function zN(n,t){if(n===t.value)return t;for(const e of t.children){const i=zN(n,e);if(i)return i}return null}function qN(n,t){if(n===t.value)return[t];for(const e of t.children){const i=qN(n,e);if(i.length)return i.unshift(t),i}return[]}class Hd{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function qy(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class rq extends iq{constructor(t,e){super(t),this.snapshot=e,ZN(this,t)}toString(){return this.snapshot.toString()}}function sq(n,t){const e=function Jie(n,t){const c=new uA([],{},{},"",{},_n,t,null,n.root,-1,{});return new aq("",new Hd(c,[]))}(n,t),i=new hs([new Bw("",{})]),r=new hs({}),s=new hs({}),c=new hs({}),d=new hs(""),f=new sg(i,r,c,d,s,_n,t,e.root);return f.snapshot=e.root,new rq(new Hd(f,[]),e)}class sg{constructor(t,e,i,r,s,c,d,f){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this._futureSnapshot=f}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(t=>zy(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(t=>zy(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oq(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],s=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(s.component)break;i--}}return function Xie(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...t.resolve,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class uA{constructor(t,e,i,r,s,c,d,f,m,v,E){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=c,this.component=d,this.routeConfig=f,this._urlSegment=m,this._lastPathIndex=v,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=zy(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=zy(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class aq extends iq{constructor(t,e){super(e),this.url=t,ZN(this,e)}toString(){return lq(this._root)}}function ZN(n,t){t.value._routerState=n,t.children.forEach(e=>ZN(n,e))}function lq(n){const t=n.children.length>0?` { ${n.children.map(lq).join(", ")} } `:"";return`${n.value}${t}`}function WN(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ru(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Ru(t.params,e.params)||n.params.next(e.params),function Fie(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Ru(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Ru(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function YN(n,t){const e=Ru(n.params,t.params)&&function Uie(n,t){return rg(n,t)&&n.every((e,i)=>Ru(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||YN(n.parent,t.parent))}function $w(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function tre(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return $w(n,i,r);return $w(n,i)})}(n,t,e);return new Hd(i,r)}{if(n.shouldAttach(t.value)){const s=n.retrieve(t.value);if(null!==s){const c=s.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(d=>$w(n,d)),c}}const i=function nre(n){return new sg(new hs(n.url),new hs(n.params),new hs(n.queryParams),new hs(n.fragment),new hs(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(s=>$w(n,s));return new Hd(i,r)}}function dA(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hw(n){return"object"==typeof n&&null!=n&&n.outlets}function KN(n,t,e,i,r){let s={};if(i&&Es(i,(d,f)=>{s[f]=Array.isArray(d)?d.map(m=>`${m}`):`${d}`}),n===t)return new ig(e,s,r);const c=cq(n,t,e);return new ig(c,s,r)}function cq(n,t,e){const i={};return Es(n.children,(r,s)=>{i[s]=r===t?e:cq(r,t,e)}),new wn(n.segments,i)}class uq{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&dA(i[0]))throw new Error("Root segment cannot have matrix parameters");const r=i.find(Hw);if(r&&r!==qz(i))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class QN{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function dq(n,t,e){if(n||(n=new wn([],{})),0===n.segments.length&&n.hasChildren())return hA(n,t,e);const i=function lre(n,t,e){let i=0,r=t;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return s;const c=n.segments[r],d=e[i];if(Hw(d))break;const f=`${d}`,m=i<e.length-1?e[i+1]:null;if(r>0&&void 0===f)break;if(f&&m&&"object"==typeof m&&void 0===m.outlets){if(!fq(f,m,c))return s;i+=2}else{if(!fq(f,{},c))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new wn(n.segments.slice(0,i.pathIndex),{});return s.children[_n]=new wn(n.segments.slice(i.pathIndex),n.children),hA(s,0,r)}return i.match&&0===r.length?new wn(n.segments,{}):i.match&&!n.hasChildren()?JN(n,t,e):i.match?hA(n,0,r):JN(n,t,e)}function hA(n,t,e){if(0===e.length)return new wn(n.segments,{});{const i=function are(n){return Hw(n[0])?n[0].outlets:{[_n]:n}}(e),r={};return Es(i,(s,c)=>{"string"==typeof s&&(s=[s]),null!==s&&(r[c]=dq(n.children[c],t,s))}),Es(n.children,(s,c)=>{void 0===i[c]&&(r[c]=s)}),new wn(n.segments,r)}}function JN(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const s=e[r];if(Hw(s)){const f=cre(s.outlets);return new wn(i,f)}if(0===r&&dA(e[0])){i.push(new Bw(n.segments[t].path,hq(e[0]))),r++;continue}const c=Hw(s)?s.outlets[_n]:`${s}`,d=r<e.length-1?e[r+1]:null;c&&d&&dA(d)?(i.push(new Bw(c,hq(d))),r+=2):(i.push(new Bw(c,{})),r++)}return new wn(i,{})}function cre(n){const t={};return Es(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=JN(new wn([],{}),0,e))}),t}function hq(n){const t={};return Es(n,(e,i)=>t[i]=`${e}`),t}function fq(n,t,e){return n==e.path&&Ru(t,e.parameters)}class dre{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),WN(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=qy(e);t.children.forEach(s=>{const c=s.value.outlet;this.deactivateRoutes(s,r[c],i),delete r[c]}),Es(r,(s,c)=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(r===s)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else s&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=qy(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);if(i&&i.outlet){const c=i.outlet.detach(),d=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,s=qy(t);for(const c of Object.keys(s))this.deactivateRouteAndItsChildren(s[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=qy(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new kie(s.value.snapshot))}),t.children.length&&this.forwardEvent(new xie(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,s=e?e.value:null;if(WN(r),r===s)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const d=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(d.contexts),c.attachRef=d.componentRef,c.route=d.route.value,c.outlet&&c.outlet.attach(d.componentRef,d.route.value),WN(d.route.value),this.activateChildRoutes(t,null,c.children)}else{const d=function hre(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),f=d?d.module.componentFactoryResolver:null;c.attachRef=null,c.route=r,c.resolver=f,c.outlet&&c.outlet.activateWith(r,f),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class XN{constructor(t,e){this.routes=t,this.module=e}}function $f(n){return"function"==typeof n}function og(n){return n instanceof ig}const jw=Symbol("INITIAL_VALUE");function Gw(){return _i(n=>uI(n.map(t=>t.pipe(Xn(1),Kr(jw)))).pipe(mm((t,e)=>{let i=!1;return e.reduce((r,s,c)=>r!==jw?r:(s===jw&&(i=!0),i||!1!==s&&c!==e.length-1&&!og(s)?r:s),t)},jw),ui(t=>t!==jw),(0,ct.U)(t=>og(t)?t:!0===t),Xn(1)))}class yre{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new zw,this.attachRef=null}}class zw{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new yre,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}let eL=(()=>{class n{constructor(e,i,r,s,c){this.parentContexts=e,this.location=i,this.resolver=r,this.changeDetector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new o.vpe,this.deactivateEvents=new o.vpe,this.attachEvents=new o.vpe,this.detachEvents=new o.vpe,this.name=s||_n,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const c=(i=i||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),d=this.parentContexts.getOrCreateContext(this.name).children,f=new vre(e,d,this.location.injector);this.activated=this.location.createComponent(c,this.location.length,f),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(zw),o.Y36(o.s_b),o.Y36(o._Vd),o.$8M("name"),o.Y36(o.sBO))},n.\u0275dir=o.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class vre{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===sg?this.route:t===zw?this.childContexts:this.parent.get(t,e)}}let pq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=o.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&o._UZ(0,"router-outlet")},directives:[eL],encapsulation:2}),n})();function mq(n,t=""){for(let e=0;e<n.length;e++){const i=n[e];bre(i,wre(t,i))}}function bre(n,t){n.children&&mq(n.children,t)}function wre(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function tL(n){const t=n.children&&n.children.map(tL),e=t?{...n,children:t}:{...n};return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==_n&&(e.component=pq),e}function Rl(n){return n.outlet||_n}function gq(n,t){const e=n.filter(i=>Rl(i)===t);return e.push(...n.filter(i=>Rl(i)!==t)),e}const _q={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fA(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{..._q}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||Pie)(e,n,t);if(!r)return{..._q};const s={};Es(r.posParams,(d,f)=>{s[f]=d.path});const c=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function pA(n,t,e,i,r="corrected"){if(e.length>0&&function Dre(n,t,e){return e.some(i=>mA(n,t,i)&&Rl(i)!==_n)}(n,e,i)){const c=new wn(t,function Ere(n,t,e,i){const r={};r[_n]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const s of e)if(""===s.path&&Rl(s)!==_n){const c=new wn([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Rl(s)]=c}return r}(n,t,i,new wn(e,n.children)));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:[]}}if(0===e.length&&function Ire(n,t,e){return e.some(i=>mA(n,t,i))}(n,e,i)){const c=new wn(n.segments,function Cre(n,t,e,i,r,s){const c={};for(const d of i)if(mA(n,e,d)&&!r[Rl(d)]){const f=new wn([],{});f._sourceSegment=n,f._segmentIndexShift="legacy"===s?n.segments.length:t.length,c[Rl(d)]=f}return{...r,...c}}(n,t,e,i,n.children,r));return c._sourceSegment=n,c._segmentIndexShift=t.length,{segmentGroup:c,slicedSegments:e}}const s=new wn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:e}}function mA(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function yq(n,t,e,i){return!!(Rl(n)===i||i!==_n&&mA(t,e,n))&&("**"===n.path||fA(t,n,e).matched)}function vq(n,t,e){return 0===t.length&&!n.children[e]}class gA{constructor(t){this.segmentGroup=t||null}}class bq{constructor(t){this.urlTree=t}}function qw(n){return Zp(new gA(n))}function wq(n){return Zp(new bq(n))}function Sre(n){return Zp(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`))}class xre{constructor(t,e,i,r,s){this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(o.h0i)}apply(){const t=pA(this.urlTree.root,[],[],this.config).segmentGroup,e=new wn(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,_n).pipe((0,ct.U)(s=>this.createUrlTree(nL(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(dc(s=>{if(s instanceof bq)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof gA?this.noMatchError(s):s}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,_n).pipe((0,ct.U)(r=>this.createUrlTree(nL(r),t.queryParams,t.fragment))).pipe(dc(r=>{throw r instanceof gA?this.noMatchError(r):r}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,i){const r=t.segments.length>0?new wn([],{[_n]:t}):t;return new ig(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,ct.U)(s=>new wn([],s))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return(0,kn.D)(r).pipe(hu(s=>{const c=i.children[s],d=gq(e,s);return this.expandSegmentGroup(t,d,c,s).pipe((0,ct.U)(f=>({segment:f,outlet:s})))}),mm((s,c)=>(s[c.outlet]=c.segment,s),{}),function wie(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ui((r,s)=>n(r,s,i)):_p.y,$N(1),e?ZV(t):WV(()=>new $b))}())}expandSegment(t,e,i,r,s,c){return(0,kn.D)(i).pipe(hu(d=>this.expandSegmentAgainstRoute(t,e,i,d,r,s,c).pipe(dc(m=>{if(m instanceof gA)return pt(null);throw m}))),af(d=>!!d),dc((d,f)=>{if(d instanceof $b||"EmptyError"===d.name)return vq(e,r,s)?pt(new wn([],{})):qw(e);throw d}))}expandSegmentAgainstRoute(t,e,i,r,s,c,d){return yq(r,e,s,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,s,c):d&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c):qw(e):qw(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const s=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?wq(s):this.lineralizeSegments(i,s).pipe((0,gr.z)(c=>{const d=new wn(c,{});return this.expandSegment(t,d,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,s,c){const{matched:d,consumedSegments:f,remainingSegments:m,positionalParamSegments:v}=fA(e,r,s);if(!d)return qw(e);const E=this.applyRedirectCommands(f,r.redirectTo,v);return r.redirectTo.startsWith("/")?wq(E):this.lineralizeSegments(r,E).pipe((0,gr.z)(A=>this.expandSegment(t,e,i,A.concat(m),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,s){if("**"===i.path)return i.loadChildren?(i._loadedConfig?pt(i._loadedConfig):this.configLoader.load(t.injector,i)).pipe((0,ct.U)(E=>(i._loadedConfig=E,new wn(r,{})))):pt(new wn(r,{}));const{matched:c,consumedSegments:d,remainingSegments:f}=fA(e,i,r);return c?this.getChildConfig(t,i,r).pipe((0,gr.z)(v=>{const E=v.module,A=v.routes,{segmentGroup:M,slicedSegments:P}=pA(e,d,f,A),B=new wn(M.segments,M.children);if(0===P.length&&B.hasChildren())return this.expandChildren(E,A,B).pipe((0,ct.U)(xe=>new wn(d,xe)));if(0===A.length&&0===P.length)return pt(new wn(d,{}));const J=Rl(i)===s;return this.expandSegment(E,B,A,P,J?_n:s,!0).pipe((0,ct.U)(Ve=>new wn(d.concat(Ve.segments),Ve.children)))})):qw(e)}getChildConfig(t,e,i){return e.children?pt(new XN(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?pt(e._loadedConfig):this.runCanLoadGuards(t.injector,e,i).pipe((0,gr.z)(r=>r?this.configLoader.load(t.injector,e).pipe((0,ct.U)(s=>(e._loadedConfig=s,s))):function Tre(n){return Zp(jN(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):pt(new XN([],t))}runCanLoadGuards(t,e,i){const r=e.canLoad;if(!r||0===r.length)return pt(!0);const s=r.map(c=>{const d=t.get(c);let f;if(function pre(n){return n&&$f(n.canLoad)}(d))f=d.canLoad(e,i);else{if(!$f(d))throw new Error("Invalid CanLoad guard");f=d(e,i)}return Ou(f)});return pt(s).pipe(Gw(),(0,fr.b)(c=>{if(!og(c))return;const d=jN(`Redirecting to "${this.urlSerializer.serialize(c)}"`);throw d.url=c,d}),(0,ct.U)(c=>!0===c))}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return pt(i);if(r.numberOfChildren>1||!r.children[_n])return Sre(t.redirectTo);r=r.children[_n]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreatreUrlTree(t,e,i,r){const s=this.createSegmentGroup(t,e.root,i,r);return new ig(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Es(t,(r,s)=>{if("string"==typeof r&&r.startsWith(":")){const d=r.substring(1);i[s]=e[d]}else i[s]=r}),i}createSegmentGroup(t,e,i,r){const s=this.createSegments(t,e.segments,i,r);let c={};return Es(e.children,(d,f)=>{c[f]=this.createSegmentGroup(t,d,i,r)}),new wn(s,c)}createSegments(t,e,i,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(t,s,r):this.findOrReturn(s,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}function nL(n){const t={};for(const i of Object.keys(n.children)){const s=nL(n.children[i]);(s.segments.length>0||s.hasChildren())&&(t[i]=s)}return function Mre(n){if(1===n.numberOfChildren&&n.children[_n]){const t=n.children[_n];return new wn(n.segments.concat(t.segments),t.children)}return n}(new wn(n.segments,t))}class Cq{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _A{constructor(t,e){this.component=t,this.route=e}}function Rre(n,t,e){const i=n._root;return Zw(i,t?t._root:null,e,[i.value])}function yA(n,t,e){const i=function Pre(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:e).get(n)}function Zw(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=qy(t);return n.children.forEach(c=>{(function Fre(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,c=t?t.value:null,d=e?e.getContext(n.value.outlet):null;if(c&&s.routeConfig===c.routeConfig){const f=function Nre(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!rg(n.url,t.url);case"pathParamsOrQueryParamsChange":return!rg(n.url,t.url)||!Ru(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!YN(n,t)||!Ru(n.queryParams,t.queryParams);default:return!YN(n,t)}}(c,s,s.routeConfig.runGuardsAndResolvers);f?r.canActivateChecks.push(new Cq(i)):(s.data=c.data,s._resolvedData=c._resolvedData),Zw(n,t,s.component?d?d.children:null:e,i,r),f&&d&&d.outlet&&d.outlet.isActivated&&r.canDeactivateChecks.push(new _A(d.outlet.component,c))}else c&&Ww(t,d,r),r.canActivateChecks.push(new Cq(i)),Zw(n,null,s.component?d?d.children:null:e,i,r)})(c,s[c.value.outlet],e,i.concat([c.value]),r),delete s[c.value.outlet]}),Es(s,(c,d)=>Ww(c,e.getContext(d),r)),r}function Ww(n,t,e){const i=qy(n),r=n.value;Es(i,(s,c)=>{Ww(s,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new _A(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}class zre{}function Eq(n){return new Hi.y(t=>t.error(n))}class Zre{constructor(t,e,i,r,s,c){this.rootComponentType=t,this.config=e,this.urlTree=i,this.url=r,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=c}recognize(){const t=pA(this.urlTree.root,[],[],this.config.filter(c=>void 0===c.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,_n);if(null===e)return null;const i=new uA([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_n,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Hd(i,e),s=new aq(this.url,r);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(t){const e=t.value,i=oq(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,i)}processChildren(t,e){const i=[];for(const s of Object.keys(e.children)){const c=e.children[s],d=gq(t,s),f=this.processSegmentGroup(d,c,s);if(null===f)return null;i.push(...f)}const r=Dq(i);return function Wre(n){n.sort((t,e)=>t.value.outlet===_n?-1:e.value.outlet===_n?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,i,r){for(const s of t){const c=this.processSegmentAgainstRoute(s,e,i,r);if(null!==c)return c}return vq(e,i,r)?[]:null}processSegmentAgainstRoute(t,e,i,r){if(t.redirectTo||!yq(t,e,i,r))return null;let s,c=[],d=[];if("**"===t.path){const M=i.length>0?qz(i).parameters:{};s=new uA(i,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tq(t),Rl(t),t.component,t,Iq(e),Sq(e)+i.length,Aq(t))}else{const M=fA(e,t,i);if(!M.matched)return null;c=M.consumedSegments,d=M.remainingSegments,s=new uA(c,M.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Tq(t),Rl(t),t.component,t,Iq(e),Sq(e)+c.length,Aq(t))}const f=function Yre(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(t),{segmentGroup:m,slicedSegments:v}=pA(e,c,d,f.filter(M=>void 0===M.redirectTo),this.relativeLinkResolution);if(0===v.length&&m.hasChildren()){const M=this.processChildren(f,m);return null===M?null:[new Hd(s,M)]}if(0===f.length&&0===v.length)return[new Hd(s,[])];const E=Rl(t)===r,A=this.processSegment(f,m,v,E?_n:r);return null===A?null:[new Hd(s,A)]}}function Kre(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Dq(n){const t=[],e=new Set;for(const i of n){if(!Kre(i)){t.push(i);continue}const r=t.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Dq(i.children);t.push(new Hd(i.value,r))}return t.filter(i=>!e.has(i))}function Iq(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Sq(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Tq(n){return n.data||{}}function Aq(n){return n.resolve||{}}function xq(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function iL(n){return _i(t=>{const e=n(t);return e?(0,kn.D)(e).pipe((0,ct.U)(()=>t)):pt(t)})}class rse extends class ise{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const rL=new o.OlP("ROUTES");class Mq{constructor(t,e,i,r){this.injector=t,this.compiler=e,this.onLoadStartListener=i,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const r=this.loadModuleFactory(e.loadChildren).pipe((0,ct.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(e);const c=s.create(t);return new XN(zz(c.injector.get(rL,void 0,o.XFs.Self|o.XFs.Optional)).map(tL),c)}),dc(s=>{throw e._loader$=void 0,s}));return e._loader$=new bie(r,()=>new Dt.x).pipe(Vz()),e._loader$}loadModuleFactory(t){return Ou(t()).pipe((0,gr.z)(e=>e instanceof o.YKP?pt(e):(0,kn.D)(this.compiler.compileModuleAsync(e))))}}class ose{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ase(n){throw n}function lse(n,t,e){return t.parse("/")}function kq(n,t){return pt(null)}const cse={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},use={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ws=(()=>{class n{constructor(e,i,r,s,c,d,f){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=s,this.config=f,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Dt.x,this.errorHandler=ase,this.malformedUriErrorHandler=lse,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:kq,afterPreactivation:kq},this.urlHandlingStrategy=new ose,this.routeReuseStrategy=new rse,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=c.get(o.h0i),this.console=c.get(o.c2e);const E=c.get(o.R0b);this.isNgZoneEnabled=E instanceof o.R0b&&o.R0b.isInAngularZone(),this.resetConfig(f),this.currentUrlTree=function Nie(){return new ig(new wn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Mq(c,d,A=>this.triggerEvent(new Uz(A)),A=>this.triggerEvent(new $z(A))),this.routerState=sq(this.currentUrlTree,this.rootComponentType),this.transitions=new hs({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ui(r=>0!==r.id),(0,ct.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),_i(r=>{let s=!1,c=!1;return pt(r).pipe((0,fr.b)(d=>{this.currentNavigation={id:d.id,initialUrl:d.currentRawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),_i(d=>{const f=this.browserUrlTree.toString(),m=!this.navigated||d.extractedUrl.toString()!==f||f!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||m)&&this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return Rq(d.source)&&(this.browserUrlTree=d.extractedUrl),pt(d).pipe(_i(E=>{const A=this.transitions.getValue();return i.next(new HN(E.id,this.serializeUrl(E.extractedUrl),E.source,E.restoredState)),A!==this.transitions.getValue()?od.E:Promise.resolve(E)}),function kre(n,t,e,i){return _i(r=>function Are(n,t,e,i,r){return new xre(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,ct.U)(s=>({...r,urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,fr.b)(E=>{this.currentNavigation={...this.currentNavigation,finalUrl:E.urlAfterRedirects}}),function Qre(n,t,e,i,r){return(0,gr.z)(s=>function qre(n,t,e,i,r="emptyOnly",s="legacy"){try{const c=new Zre(n,t,e,i,r,s).recognize();return null===c?Eq(new zre):pt(c)}catch(c){return Eq(c)}}(n,t,s.urlAfterRedirects,e(s.urlAfterRedirects),i,r).pipe((0,ct.U)(c=>({...s,targetSnapshot:c}))))}(this.rootComponentType,this.config,E=>this.serializeUrl(E),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,fr.b)(E=>{if("eager"===this.urlUpdateStrategy){if(!E.extras.skipLocationChange){const M=this.urlHandlingStrategy.merge(E.urlAfterRedirects,E.rawUrl);this.setBrowserUrl(M,E)}this.browserUrlTree=E.urlAfterRedirects}const A=new Eie(E.id,this.serializeUrl(E.extractedUrl),this.serializeUrl(E.urlAfterRedirects),E.targetSnapshot);i.next(A)}));if(m&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:M,source:P,restoredState:B,extras:J}=d,oe=new HN(A,this.serializeUrl(M),P,B);i.next(oe);const Ve=sq(M,this.rootComponentType).snapshot;return pt({...d,targetSnapshot:Ve,urlAfterRedirects:M,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=d.rawUrl,d.resolve(null),od.E}),iL(d=>{const{targetSnapshot:f,id:m,extractedUrl:v,rawUrl:E,extras:{skipLocationChange:A,replaceUrl:M}}=d;return this.hooks.beforePreactivation(f,{navigationId:m,appliedUrlTree:v,rawUrlTree:E,skipLocationChange:!!A,replaceUrl:!!M})}),(0,fr.b)(d=>{const f=new Die(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot);this.triggerEvent(f)}),(0,ct.U)(d=>({...d,guards:Rre(d.targetSnapshot,d.currentSnapshot,this.rootContexts)})),function Lre(n,t){return(0,gr.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:c}}=e;return 0===c.length&&0===s.length?pt({...e,guardsResult:!0}):function Vre(n,t,e,i){return(0,kn.D)(n).pipe((0,gr.z)(r=>function Gre(n,t,e,i,r){const s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return s&&0!==s.length?pt(s.map(d=>{const f=yA(d,t,r);let m;if(function _re(n){return n&&$f(n.canDeactivate)}(f))m=Ou(f.canDeactivate(n,t,e,i));else{if(!$f(f))throw new Error("Invalid CanDeactivate guard");m=Ou(f(n,t,e,i))}return m.pipe(af())})).pipe(Gw()):pt(!0)}(r.component,r.route,e,t,i)),af(r=>!0!==r,!0))}(c,i,r,n).pipe((0,gr.z)(d=>d&&function fre(n){return"boolean"==typeof n}(d)?function Bre(n,t,e,i){return(0,kn.D)(t).pipe(hu(r=>jp(function $re(n,t){return null!==n&&t&&t(new Aie(n)),pt(!0)}(r.route.parent,i),function Ure(n,t){return null!==n&&t&&t(new Mie(n)),pt(!0)}(r.route,i),function jre(n,t,e){const i=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(c=>function Ore(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>z_(()=>pt(c.guards.map(f=>{const m=yA(f,c.node,e);let v;if(function gre(n){return n&&$f(n.canActivateChild)}(m))v=Ou(m.canActivateChild(i,n));else{if(!$f(m))throw new Error("Invalid CanActivateChild guard");v=Ou(m(i,n))}return v.pipe(af())})).pipe(Gw())));return pt(s).pipe(Gw())}(n,r.path,e),function Hre(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return pt(!0);const r=i.map(s=>z_(()=>{const c=yA(s,t,e);let d;if(function mre(n){return n&&$f(n.canActivate)}(c))d=Ou(c.canActivate(t,n));else{if(!$f(c))throw new Error("Invalid CanActivate guard");d=Ou(c(t,n))}return d.pipe(af())}));return pt(r).pipe(Gw())}(n,r.route,e))),af(r=>!0!==r,!0))}(i,s,n,t):pt(d)),(0,ct.U)(d=>({...e,guardsResult:d})))})}(this.ngModule.injector,d=>this.triggerEvent(d)),(0,fr.b)(d=>{if(og(d.guardsResult)){const m=jN(`Redirecting to "${this.serializeUrl(d.guardsResult)}"`);throw m.url=d.guardsResult,m}const f=new Iie(d.id,this.serializeUrl(d.extractedUrl),this.serializeUrl(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.triggerEvent(f)}),ui(d=>!!d.guardsResult||(this.restoreHistory(d),this.cancelNavigationTransition(d,""),!1)),iL(d=>{if(d.guards.canActivateChecks.length)return pt(d).pipe((0,fr.b)(f=>{const m=new Sie(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),_i(f=>{let m=!1;return pt(f).pipe(function Jre(n,t){return(0,gr.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return pt(e);let s=0;return(0,kn.D)(r).pipe(hu(c=>function Xre(n,t,e,i){return function ese(n,t,e,i){const r=xq(n);if(0===r.length)return pt({});const s={};return(0,kn.D)(r).pipe((0,gr.z)(c=>function tse(n,t,e,i){const r=yA(n,t,i);return Ou(r.resolve?r.resolve(t,e):r(t,e))}(n[c],t,e,i).pipe((0,fr.b)(d=>{s[c]=d}))),$N(1),(0,gr.z)(()=>xq(s).length===r.length?pt(s):od.E))}(n._resolve,n,t,i).pipe((0,ct.U)(s=>(n._resolvedData=s,n.data={...n.data,...oq(n,e).resolve},null)))}(c.route,i,n,t)),(0,fr.b)(()=>s++),$N(1),(0,gr.z)(c=>s===r.length?pt(e):od.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,fr.b)({next:()=>m=!0,complete:()=>{m||(this.restoreHistory(f),this.cancelNavigationTransition(f,"At least one route resolver didn't emit any value."))}}))}),(0,fr.b)(f=>{const m=new Tie(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}))}),iL(d=>{const{targetSnapshot:f,id:m,extractedUrl:v,rawUrl:E,extras:{skipLocationChange:A,replaceUrl:M}}=d;return this.hooks.afterPreactivation(f,{navigationId:m,appliedUrlTree:v,rawUrlTree:E,skipLocationChange:!!A,replaceUrl:!!M})}),(0,ct.U)(d=>{const f=function ere(n,t,e){const i=$w(n,t._root,e?e._root:void 0);return new rq(i,t)}(this.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return{...d,targetRouterState:f}}),(0,fr.b)(d=>{this.currentUrlTree=d.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl),this.routerState=d.targetRouterState,"deferred"===this.urlUpdateStrategy&&(d.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,d),this.browserUrlTree=d.urlAfterRedirects)}),((n,t,e)=>(0,ct.U)(i=>(new dre(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,d=>this.triggerEvent(d)),(0,fr.b)({next(){s=!0},complete(){s=!0}}),wD(()=>{s||c||this.cancelNavigationTransition(r,`Navigation ID ${r.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),dc(d=>{if(c=!0,function Oie(n){return n&&n[jz]}(d)){const f=og(d.url);f||(this.navigated=!0,this.restoreHistory(r,!0));const m=new Bz(r.id,this.serializeUrl(r.extractedUrl),d.message);i.next(m),f?setTimeout(()=>{const v=this.urlHandlingStrategy.merge(d.url,this.rawUrlTree),E={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Rq(r.source)};this.scheduleNavigation(v,"imperative",null,E,{resolve:r.resolve,reject:r.reject,promise:r.promise})},0):r.resolve(!1)}else{this.restoreHistory(r,!0);const f=new Cie(r.id,this.serializeUrl(r.extractedUrl),d);i.next(f);try{r.resolve(this.errorHandler(d))}catch(m){r.reject(m)}}return od.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},s=e.state?.navigationId?e.state:null;if(s){const d={...s};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(r.state=d)}const c=this.parseUrl(e.url);this.scheduleNavigation(c,i,s,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){mq(e),this.config=e.map(tL),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:s,fragment:c,queryParamsHandling:d,preserveFragment:f}=i,m=r||this.routerState.root,v=f?this.currentUrlTree.fragment:c;let E=null;switch(d){case"merge":E={...this.currentUrlTree.queryParams,...s};break;case"preserve":E=this.currentUrlTree.queryParams;break;default:E=s||null}return null!==E&&(E=this.removeEmptyProps(E)),function ire(n,t,e,i,r){if(0===e.length)return KN(t.root,t.root,t.root,i,r);const s=function rre(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new uq(!0,0,n);let t=0,e=!1;const i=n.reduce((r,s,c)=>{if("object"==typeof s&&null!=s){if(s.outlets){const d={};return Es(s.outlets,(f,m)=>{d[m]="string"==typeof f?f.split("/"):f}),[...r,{outlets:d}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===c?(s.split("/").forEach((d,f)=>{0==f&&"."===d||(0==f&&""===d?e=!0:".."===d?t++:""!=d&&r.push(d))}),r):[...r,s]},[]);return new uq(e,t,i)}(e);if(s.toRoot())return KN(t.root,t.root,new wn([],{}),i,r);const c=function sre(n,t,e){if(n.isAbsolute)return new QN(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const s=e.snapshot._urlSegment;return new QN(s,s===t.root,0)}const i=dA(n.commands[0])?0:1;return function ore(n,t,e){let i=n,r=t,s=e;for(;s>r;){if(s-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new QN(i,!1,r-s)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+i,n.numberOfDoubleDots)}(s,t,n),d=c.processChildren?hA(c.segmentGroup,c.index,s.commands):dq(c.segmentGroup,c.index,s.commands);return KN(t.root,c.segmentGroup,d,i,r)}(m,this.currentUrlTree,e,E,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=og(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function dse(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...cse}:!1===i?{...use}:i,og(e))return Wz(this.currentUrlTree,e,r);const s=this.parseUrl(e);return Wz(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const s=e[r];return null!=s&&(i[r]=s),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Vw(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,s,c){if(this.disposed)return Promise.resolve(!1);let d,f,m;c?(d=c.resolve,f=c.reject,m=c.promise):m=new Promise((A,M)=>{d=A,f=M});const v=++this.navigationId;let E;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),E=r&&r.\u0275routerPageId?r.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):E=0,this.setTransition({id:v,targetPageId:E,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:d,reject:f,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(A=>Promise.reject(A))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),s={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",s):this.location.go(r,"",s)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i){const r=new Bz(e.id,this.serializeUrl(e.extractedUrl),i);this.triggerEvent(r),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Rq(n){return"imperative"!==n}let Yw=(()=>{class n{constructor(e,i,r,s,c){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=s,this.el=c,this.commands=null,this.onChanges=new Dt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Zy(this.skipLocationChange),replaceUrl:Zy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zy(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ws),o.Y36(sg),o.$8M("tabindex"),o.Y36(o.Qsj),o.Y36(o.SBq))},n.\u0275dir=o.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&o.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})(),Pu=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new Dt.x,this.subscription=e.events.subscribe(s=>{s instanceof Vw&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,s,c){if(0!==e||i||r||s||c||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const d={skipLocationChange:Zy(this.skipLocationChange),replaceUrl:Zy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,d),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Zy(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ws),o.Y36(sg),o.Y36(ve))},n.\u0275dir=o.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&o.NdJ("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&e&&o.uIk("target",i.target)("href",i.href,o.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[o.TTD]}),n})();function Zy(n){return""===n||!!n}class Oq{}class Pq{preload(t,e){return pt(null)}}let Fq=(()=>{class n{constructor(e,i,r,s){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=new Mq(r,i,f=>e.triggerEvent(new Uz(f)),f=>e.triggerEvent(new $z(f)))}setUpPreloading(){this.subscription=this.router.events.pipe(ui(e=>e instanceof Vw),hu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(o.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const s of i)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const c=s._loadedConfig;r.push(this.processRoutes(c.module,c.routes))}else s.loadChildren&&!s.canLoad?r.push(this.preloadConfig(e,s)):s.children&&r.push(this.processRoutes(e,s.children));return(0,kn.D)(r).pipe((0,Hp.J)(),(0,ct.U)(s=>{}))}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>(i._loadedConfig?pt(i._loadedConfig):this.loader.load(e.injector,i)).pipe((0,gr.z)(s=>(i._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ws),o.LFG(o.Sil),o.LFG(o.zs3),o.LFG(Oq))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})(),sL=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof HN?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Vw&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hz&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Hz(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){o.$Z()},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();const ag=new o.OlP("ROUTER_CONFIGURATION"),Nq=new o.OlP("ROUTER_FORROOT_GUARD"),mse=[ke,{provide:Jz,useClass:Xz},{provide:Ws,useFactory:function bse(n,t,e,i,r,s,c={},d,f){const m=new Ws(null,n,t,e,i,r,zz(s));return d&&(m.urlHandlingStrategy=d),f&&(m.routeReuseStrategy=f),function wse(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(c,m),c.enableTracing&&m.events.subscribe(v=>{console.group?.(`Router Event: ${v.constructor.name}`),console.log(v.toString()),console.log(v),console.groupEnd?.()}),m},deps:[Jz,zw,ke,o.zs3,o.Sil,rL,ag,[class sse{},new o.FiY],[class nse{},new o.FiY]]},zw,{provide:sg,useFactory:function Cse(n){return n.routerState.root},deps:[Ws]},Fq,Pq,class pse{preload(t,e){return e().pipe(dc(()=>pt(null)))}},{provide:ag,useValue:{enableTracing:!1}}];function gse(){return new o.PXZ("Router",Ws)}let Lq=(()=>{class n{constructor(e,i){}static forRoot(e,i){return{ngModule:n,providers:[mse,Vq(e),{provide:Nq,useFactory:vse,deps:[[Ws,new o.FiY,new o.tp0]]},{provide:ag,useValue:i||{}},{provide:ve,useFactory:yse,deps:[pe,[new o.tBr(Xe),new o.FiY],ag]},{provide:sL,useFactory:_se,deps:[Ws,kc,ag]},{provide:Oq,useExisting:i&&i.preloadingStrategy?i.preloadingStrategy:Pq},{provide:o.PXZ,multi:!0,useFactory:gse},[oL,{provide:o.ip1,multi:!0,useFactory:Ese,deps:[oL]},{provide:Bq,useFactory:Dse,deps:[oL]},{provide:o.tb,multi:!0,useExisting:Bq}]]}}static forChild(e){return{ngModule:n,providers:[Vq(e)]}}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Nq,8),o.LFG(Ws,8))},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({}),n})();function _se(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new sL(n,t,e)}function yse(n,t,e={}){return e.useHash?new Ue(n,t):new Qe(n,t)}function vse(n){return"guarded"}function Vq(n){return[{provide:o.deG,multi:!0,useValue:n},{provide:rL,multi:!0,useValue:n}]}let oL=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Dt.x}appInitializer(){return this.injector.get(q,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let i=null;const r=new Promise(d=>i=d),s=this.injector.get(Ws),c=this.injector.get(ag);return"disabled"===c.initialNavigation?(s.setUpLocationChangeListener(),i(!0)):"enabled"===c.initialNavigation||"enabledBlocking"===c.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?pt(null):(this.initNavigation=!0,i(!0),this.resultOfPreactivationDone),s.initialNavigation()):i(!0),r})}bootstrapListener(e){const i=this.injector.get(ag),r=this.injector.get(Fq),s=this.injector.get(sL),c=this.injector.get(Ws),d=this.injector.get(o.z2F);e===d.components[0]&&(("enabledNonBlocking"===i.initialNavigation||void 0===i.initialNavigation)&&c.initialNavigation(),r.setUpPreloading(),s.init(),c.resetRootComponentType(d.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(o.zs3))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac}),n})();function Ese(n){return n.appInitializer.bind(n)}function Dse(n){return n.bootstrapListener.bind(n)}const Bq=new o.OlP("Router Initializer");var Sse=V(7143),Tse=V(930);let Fu=(()=>{class n{constructor(e,i){this.router=e,this._snackBar=i,this.history=[]}navigateTo(e){this.history.push(e),this.router.navigateByUrl(e).then(i=>{},i=>{console.log({error:i}),this._snackBar.open("Algo errado n\xe3o est\xe1 certo: falhou","fechar")})}back(){this.history.pop();const e=this.history.length?this.history.pop():"/";this.navigateTo(e)}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Ws),o.LFG(Ib))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),da=(()=>{class n{constructor(e,i,r,s,c){this.afs=e,this.auth=i,this.ngZone=r,this._snackBar=s,this._nav=c,this.userDoc=null,this.userData=null,this.user=new hs(this.userData),this.didLoggedIn=new hs(!1),this.userUID="",this.auth.authState.subscribe(d=>{d&&d.uid?(this.userUID=d.uid,!this.didLoggedIn.value&&this.didLoggedIn.next(!0),this._nav.navigateTo("/")):(this.userData=null,this.user.next(this.userData),this.didLoggedIn.value&&this.didLoggedIn.next(!1))}),this.didLoggedIn.subscribe(d=>{d&&this.userUID&&!this.userData&&this.getUserData(this.userUID,"didLoggedInSubscribeConstructor").subscribe()})}signIn(e,i){var r=this;return(0,Ce.Z)(function*(){return r.auth.signInWithEmailAndPassword(e,i).then(s=>{!r.didLoggedIn.value&&r.didLoggedIn.next(!0)}).catch(s=>{console.log("Something went wrong: ",s.message),r._snackBar.open("Algo errado n\xe3o est\xe1 certo: login falhou","fechar")})})()}setUserData(e){return this.afs.doc(`users/${e.uid}`).set(e,{merge:!0})}signUp(e,i){return this.auth.createUserWithEmailAndPassword(e,i).then(r=>{this.sendVerificationMail();const s=r.user;this.setUserData({uid:s.uid,email:s.email,displayName:s.displayName,photoURL:s.photoURL,emailVerified:s.emailVerified,loginMode:"email-password"})}).catch(r=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: cadastro falhou","fechar"),console.log("Something went wrong: ",r)})}sendVerificationMail(){return this.auth.currentUser.then(e=>e.sendEmailVerification()).then(()=>{this._snackBar.open("Verifica\xe7\xe3o de email enviada, verifique","fechar"),this._nav.navigateTo("/verificar-email")})}forgotPassword(e){return this.auth.sendPasswordResetEmail(e).then(()=>{this._snackBar.open("Email para recupera\xe7\xe3o de senha enviado, verifique","fechar")}).catch(i=>{this._snackBar.open("Algo errado n\xe3o est\xe1 certo: email de recupera\xe7\xe3o falhou","fechar")})}get isLoggedIn(){const e=!!(this.didLoggedIn.value&&this.userUID&&this.userData&&this.userData.emailVerified);return console.log(`${e} - ${!!this.didLoggedIn.value} - ${!!this.userUID} - ${!!this.userData} `),e}googleLogin(){var e=this;return(0,Ce.Z)(function*(){var i=new Sse.Q;return e.oAuthLogin(i,"google-oauth").catch(r=>{e._snackBar.open("Algo errado n\xe3o est\xe1 certo: login google falhou","fechar"),console.log("Something went wrong: ",r)})})()}signOut(){var e=this;return(0,Ce.Z)(function*(){return e.auth.signOut().then(()=>{e.userData=null,e.user.next(e.userData),e.didLoggedIn.value&&e.didLoggedIn.next(!1)})})()}deleteUser(){var e=this;return(0,Ce.Z)(function*(){if(e.userData){const i=e.userData;return e.auth.currentUser.then(r=>{e.deleteCurriloListData(i.curriculosUID).then(s=>{e.deleteUserData(i.uid).then(c=>{r?.delete(),e.userData=null,e.user.next(e.userData),e.didLoggedIn.value&&e.didLoggedIn.next(!1)})})}).catch(r=>{e._nav.navigateTo("/excluir-perfil")})}return Promise.reject("No userData to delete")})()}deleteUserData(e){return this.afs.doc(`users/${e}`).delete()}deleteCurriloListData(e){return this.afs.doc(`curriculos/${e}`).delete()}oAuthLogin(e,i){var r=this;return(0,Ce.Z)(function*(){return r.auth.signInWithPopup(e).then(s=>{const c=s.user;let d=null;c&&(d={uid:c.uid,email:c.email,displayName:c.displayName,photoURL:c.photoURL,emailVerified:c.emailVerified}),r.getUserData(d?.uid,"oAuthLogin").subscribe(f=>{const m=f?f.data():null;let v={uid:d?.uid,email:d?.email,displayName:d?.displayName,photoURL:d?.photoURL,emailVerified:d?.emailVerified,loginMode:"google-oauth"};m&&(v={uid:d?.uid,email:d?.email,displayName:m.displayName,photoURL:m.photoURL,emailVerified:d.emailVerified,loginMode:"google-oauth",curriculosUID:m.curriculosUID}),r.setUserData(v),r.user.next(v),r.userData=v,r.didLoggedIn.next(!0),r._nav.navigateTo("/")}).unsubscribe()}).catch(s=>{r._snackBar.open("Algo errado n\xe3o est\xe1 certo: login oAuth falhou","fechar"),console.log("Something went wrong: ",s)})})()}getUserData(e,i){const r=e||"";return this.afs.collection("users").doc(r).get().pipe((0,fr.b)(c=>{this.userData=c.data(),this.user.next(this.userData)}))}getUser(){return function Ase(n,t){const e="object"==typeof t;return new Promise((i,r)=>{const s=new Tse.Hp({next:c=>{i(c),s.unsubscribe()},error:r,complete:()=>{e?i(t.defaultValue):r(new $b)}});n.subscribe(s)})}(this.auth.authState.pipe(af()))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_F),o.LFG(zb),o.LFG(o.R0b),o.LFG(Ib),o.LFG(Fu))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hf=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){var r=this;return(0,Ce.Z)(function*(){return(yield r.authService.getUser())||(console.log("Acesso negado: AuthGuard"),r.router.navigate(["/"])),!0})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(da),o.LFG(Ws))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vA=(()=>{class n{constructor(e,i){this.authService=e,this.router=i}canActivate(e,i){var r=this;return(0,Ce.Z)(function*(){return(yield r.authService.getUser())&&(console.log("Acesso negado: NoAuthGuard"),r.router.navigate(["/"])),!0})()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(da),o.LFG(Ws))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xse=(()=>{class n{constructor(e){this._nav=e}ngOnInit(){}back(){this._nav.back()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Fu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-adicionais"]],decls:9,vars:0,consts:[[1,"container"],[1,"mat-h2"],["routerLink","",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Recursos Adicionais"),o.qZA(),o.TgZ(3,"div")(4,"span"),o._uU(5,"Esta funcionalidade n\xe3o est\xe1 liberada."),o.qZA()(),o.TgZ(6,"div")(7,"a",2),o.NdJ("click",function(){return i.back()}),o._uU(8,"Voltar"),o.qZA()()())},directives:[Pu],styles:[""]}),n})(),Mse=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i}ngOnInit(){}onEnter(e,i){this.authService.signIn(e,i)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da),o.Y36(Fu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-email-login"]],decls:30,vars:0,consts:[[1,"container"],[1,"mat-h3"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required","",3,"keyup.enter"],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password",3,"keyup.enter"],["userPassword",""],["mat-raised-button","",3,"click"],[1,"or"],[1,"orInner"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"forgotPassword"],["routerLink","/esqueceu-senha"],[1,"redirectToLogin"],["routerLink","/cadastro"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h3",1),o._uU(2,"Fa\xe7a o Login"),o.qZA(),o.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),o._uU(6,"Email"),o.qZA(),o.TgZ(7,"input",4,5),o.NdJ("keyup.enter",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return i.onEnter(c.value,d.value)}),o.qZA()(),o.TgZ(9,"mat-form-field",3)(10,"mat-label"),o._uU(11,"Senha"),o.qZA(),o.TgZ(12,"input",6,7),o.NdJ("keyup.enter",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return i.onEnter(c.value,d.value)}),o.qZA()()(),o.TgZ(14,"button",8),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return i.authService.signIn(c.value,d.value)}),o._uU(15," Entrar "),o.qZA(),o.TgZ(16,"div",9)(17,"span",10),o._uU(18,"ou"),o.qZA()(),o.TgZ(19,"button",8),o.NdJ("click",function(){return i.authService.googleLogin()}),o._UZ(20,"mat-icon",11),o._uU(21," Entrar com conta Google "),o.qZA(),o.TgZ(22,"div",12)(23,"a",13),o._uU(24,"Esqueceu a senha?"),o.qZA()(),o.TgZ(25,"div",14)(26,"span"),o._uU(27,"N\xe3o tem um cadastro? "),o.TgZ(28,"a",15),o._uU(29,"Cadastrar"),o.qZA()()()()}},directives:[Fs,cl,go,zp,du,qp,Yr,mu,Pu],styles:[".forgotPassword[_ngcontent-%COMP%]{margin-top:15px}"]}),n})(),kse=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-esqueceu-senha"]],decls:18,vars:0,consts:[[1,"container"],[1,"mat-h2"],[1,"text-center"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","value","","required",""],["userEmail",""],["mat-raised-button","",3,"click"],[1,"redirectToLogin"],["routerLink","/login"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Recuperar Senha"),o.qZA(),o.TgZ(3,"p",2),o._uU(4,"Informe o email utilizado no cadastro"),o.qZA(),o.TgZ(5,"form",3)(6,"mat-form-field",4)(7,"mat-label"),o._uU(8,"Email"),o.qZA(),o._UZ(9,"input",5,6),o.qZA()(),o.TgZ(11,"button",7),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(10);return i.authService.forgotPassword(c.value)}),o._uU(12," Recuperar "),o.qZA(),o.TgZ(13,"div",8)(14,"span"),o._uU(15,"Voltar e fazer "),o.TgZ(16,"a",9),o._uU(17,"Login?"),o.qZA()()()()}},directives:[Fs,cl,go,zp,du,qp,Yr,Pu],styles:[".redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();function Rse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div")(1,"button",4),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).googleLogin()}),o._UZ(2,"mat-icon",5),o._uU(3," Excluir perfil "),o.qZA()()}}function Ose(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",6)(1,"mat-form-field",7)(2,"mat-label"),o._uU(3,"Email"),o.qZA(),o.TgZ(4,"input",8),o.NdJ("ngModelChange",function(r){return o.CHM(e),o.oxw(2).userEmail=r})("keyup.enter",function(){return o.CHM(e),o.oxw(2).onEnter()}),o.qZA()(),o.TgZ(5,"mat-form-field",7)(6,"mat-label"),o._uU(7,"Senha"),o.qZA(),o.TgZ(8,"input",9),o.NdJ("keyup.enter",function(){return o.CHM(e),o.oxw(2).onEnter()})("ngModelChange",function(r){return o.CHM(e),o.oxw(2).userPassword=r}),o.qZA()(),o.TgZ(9,"button",10),o.NdJ("click",function(){return o.CHM(e),o.oxw(2).emailLogin()}),o._uU(10,"Excluir Perfil"),o.qZA()()}if(2&n){const e=o.oxw(2);o.xp6(4),o.Q6J("ngModel",e.userEmail),o.xp6(4),o.Q6J("ngModel",e.userPassword)}}function Pse(n,t){if(1&n&&(o.TgZ(0,"div",1)(1,"p"),o._uU(2,"Refa\xe7a o login antes de excluir o Perfil"),o.qZA(),o.YNc(3,Rse,4,0,"div",2),o.YNc(4,Ose,11,2,"div",3),o.qZA()),2&n){const e=t.ngIf;o.xp6(3),o.Q6J("ngIf","google-oauth"==e.loginMode),o.xp6(1),o.Q6J("ngIf","email-password"==e.loginMode)}}let Fse=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i,this.userEmail="",this.userPassword=""}ngOnInit(){}googleLogin(){this.authService.googleLogin().then(e=>{this.authService.deleteUser().then(i=>{this._nav.navigateTo("/")})})}emailLogin(){this.userEmail&&this.userPassword&&this.authService.signIn(this.userEmail,this.userPassword).then(e=>{this.authService.deleteUser().then(i=>{this._nav.navigateTo("/")})})}onEnter(){this.emailLogin()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da),o.Y36(Fu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-excluir-perfil"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],[4,"ngIf"],["class","full-width text-center",4,"ngIf"],["mat-raised-button","",1,"google",3,"click"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"full-width","text-center"],["appearance","fill",1,"full-width"],["matInput","","required","",3,"ngModel","ngModelChange","keyup.enter"],["matInput","","type","password","required","","autocomplete","current-password",3,"ngModel","keyup.enter","ngModelChange"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(o.YNc(0,Pse,5,2,"div",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,i.authService.user))},directives:[Kn,Yr,mu,zp,du,qp,ks,Qc,Sr,Sh],pipes:[pa],styles:[""]}),n})();const Uq={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let bA;const Nse=new Uint8Array(16);function Lse(){if(!bA&&(bA=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!bA))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bA(Nse)}const Ds=[];for(let n=0;n<256;++n)Ds.push((n+256).toString(16).slice(1));const Bse=function Vse(n,t,e){if(Uq.randomUUID&&!t&&!n)return Uq.randomUUID();const i=(n=n||{}).random||(n.rng||Lse)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,t){e=e||0;for(let r=0;r<16;++r)t[e+r]=i[r];return t}return function $q(n,t=0){return(Ds[n[t+0]]+Ds[n[t+1]]+Ds[n[t+2]]+Ds[n[t+3]]+"-"+Ds[n[t+4]]+Ds[n[t+5]]+"-"+Ds[n[t+6]]+Ds[n[t+7]]+"-"+Ds[n[t+8]]+Ds[n[t+9]]+"-"+Ds[n[t+10]]+Ds[n[t+11]]+Ds[n[t+12]]+Ds[n[t+13]]+Ds[n[t+14]]+Ds[n[t+15]]).toLowerCase()}(i)};let Hq=(()=>{class n{constructor(e,i){this.afs=e,this.authService=i,this.curriculoListDoc=null,this.curriculoList=void 0;const r=this.authService.userData;r&&(this.curriculoListDoc=e.doc(`curriculos/${r.uid}`),this.curriculoList=this.curriculoListDoc.valueChanges(),!r.curriculosUID)&&this.afs.doc(`curriculos/${r.uid}`).set({uid:r.uid,ownerUID:r.uid,curriculos:[]},{merge:!0}).then(d=>{r.curriculosUID=r.uid,this.authService.setUserData(r).then()})}deleteCurriculoFromList(e,i){return i.curriculos=i.curriculos.filter(r=>r.uid!=e),this.updateCurriculosList(i)}updateCurriculosList(e){return e?this.afs.doc(`curriculos/${e.uid}`).set(e,{merge:!0}):Promise.reject()}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(_F),o.LFG(da))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$se=(()=>{class n{constructor(e){this.http=e}getData(e){const i=e.replace("-","");return this.http.get("https://brasilapi.com.br/api/cep/v2/{cep}".replace("{cep}",i))}}return n.\u0275fac=function(e){return new(e||n)(o.LFG(Jp))},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),aL=(()=>{class n{constructor(){this.show=new hs(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hse(n,t){if(1&n&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function jse(n,t){if(1&n&&(o.TgZ(0,"mat-option",39),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e),o.xp6(1),o.Oqu(e)}}function Gse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",23)(1,"mat-form-field",6)(2,"mat-label"),o._uU(3),o.qZA(),o._UZ(4,"input",40),o.qZA(),o.TgZ(5,"div",25)(6,"button",4),o.NdJ("click",function(){const s=o.CHM(e).index;return o.oxw().deleteCurso(s)}),o.TgZ(7,"mat-icon"),o._uU(8,"remove_circle"),o.qZA()()()()}if(2&n){const e=t.index;o.xp6(3),o.hij("Curso ",e+1,""),o.xp6(1),o.MGl("autocomplete","curso_",e+1,""),o.Q6J("formControlName",e)}}function zse(n,t){if(1&n){const e=o.EpF();o.ynx(0),o.TgZ(1,"div",23)(2,"h4"),o._uU(3),o.qZA(),o.TgZ(4,"div",25)(5,"button",4),o.NdJ("click",function(){const s=o.CHM(e).index;return o.oxw().deleteExperiencia(s)}),o.TgZ(6,"mat-icon"),o._uU(7,"remove_circle"),o.qZA()()()(),o.TgZ(8,"div",41)(9,"mat-form-field",6)(10,"mat-label"),o._uU(11),o.qZA(),o._UZ(12,"input",42),o.qZA(),o.TgZ(13,"mat-form-field",6)(14,"mat-label"),o._uU(15),o.qZA(),o._UZ(16,"input",43),o.qZA(),o.TgZ(17,"mat-form-field",6)(18,"mat-label"),o._uU(19),o.qZA(),o._UZ(20,"input",44),o.qZA(),o.TgZ(21,"mat-form-field",6)(22,"mat-label"),o._uU(23),o.qZA(),o._UZ(24,"input",45),o.qZA()(),o.BQk()}if(2&n){const e=t.index;o.xp6(3),o.hij("Experi\xeancia ",e+1,""),o.xp6(5),o.Q6J("formGroupName",e),o.xp6(3),o.hij("Empresa ",e+1,""),o.xp6(1),o.MGl("autocomplete","empresa_",e+1,""),o.xp6(3),o.hij("Per\xedodo ",e+1,""),o.xp6(1),o.MGl("autocomplete","periodo_",e+1,""),o.xp6(3),o.hij("Cargo ",e+1,""),o.xp6(1),o.MGl("autocomplete","cargo_",e+1,""),o.xp6(3),o.hij("Atividades Exercidas ",e+1,""),o.xp6(1),o.MGl("autocomplete","atividades_exercidas_",e+1,"")}}let jq=(()=>{class n{constructor(e,i,r,s,c,d){this.curriculosService=e,this.route=i,this._nav=r,this.cepService=s,this.progressBarService=c,this.dateAdapter=d,this.curriculosList=void 0,this.curriculoSelected=void 0,this.uid=null,this.estadoCivisList=["Solteiro","Solteira","Casado","Casada","Vi\xfavo","Vi\xfava","Divorciado","Divorciada"],this.escolaridadeList=["Ensino Fundamental - Completo","Ensino Fundamental - Incompleto","Ensino M\xe9dio - Completo","Ensino M\xe9dio - Incompleto","Curso T\xe9cnico - Completo","Curso T\xe9cnico - Incompleto","Curso Superior - Completo","Curso Superior - Incompleto","P\xf3s Gradua\xe7\xe3o - Especializa\xe7\xe3o - Completo","P\xf3s Gradua\xe7\xe3o - Especializa\xe7\xe3o - Incompleto","P\xf3s Gradua\xe7\xe3o - MBA - Completo","P\xf3s Gradua\xe7\xe3o - MBA - Incompleto","P\xf3s Gradua\xe7\xe3o - Mestrado - Completo","P\xf3s Gradua\xe7\xe3o - Mestrado - Incompleto","P\xf3s Gradua\xe7\xe3o - Doutorado - Completo","P\xf3s Gradua\xe7\xe3o - Doutorado - Incompleto"],this.fakeData={name:"",identifier:"",email:"",estado_civil:""},this.curriculoForm=new nc({name:new Gn(this.fakeData.name,[kt.required,kt.maxLength(35)]),identifier:new Gn(this.fakeData.identifier,[kt.required,kt.maxLength(25)]),email:new Gn(this.fakeData.email,[kt.required,kt.email,kt.maxLength(30)]),estado_civil:new Gn(this.fakeData.estado_civil,[kt.required,n.checkCategoryInput(this.estadoCivisList)]),data_nascimento:new Gn(new Date(""),[kt.required,n.checkIsValidDate()]),nacionalidade:new Gn("",[kt.required,kt.maxLength(20)]),telefone:new Gn("",[kt.required,kt.maxLength(16)]),whatsapp:new Gn(!1,[kt.required]),compartilhar:new Gn(!1,[kt.required]),cep:new Gn("",[kt.required,kt.maxLength(9),kt.minLength(8)]),rua:new Gn("",[kt.required,kt.maxLength(120)]),bairro:new Gn("",[kt.required,kt.maxLength(40)]),estado:new Gn("",[kt.required,kt.maxLength(40)]),cidade:new Gn("",[kt.required,kt.maxLength(40)]),numero:new Gn("",[kt.maxLength(10)]),complemento:new Gn("",[kt.maxLength(20)]),escolaridade:new Gn("",[kt.required,n.checkCategoryInput(this.escolaridadeList)]),descricao_escolaridade:new Gn("",[kt.required,kt.maxLength(70)]),cursos:new Xu([]),objetivo:new Gn("",[kt.required,kt.maxLength(150)]),experiencias:new Xu([])}),this.uid=this.route.snapshot.paramMap.get("id"),this.curriculosService.curriculoList?.subscribe(f=>{this.curriculosList=f,this.curriculoSelected=this.curriculosList?.curriculos.filter(m=>m.uid=this.uid)[0],this.curriculoSelected&&this.preencheValoresIniciais(),this.curriculoForm.markAllAsTouched()})}ngOnInit(){this.dateAdapter.setLocale({pt:"pt"})}preencheValoresIniciais(){let e=this.curriculoSelected.data_nascimento;e=e||"";let i={name:this.curriculoSelected.name,identifier:this.curriculoSelected.identifier,email:this.curriculoSelected.email,data_nascimento:new Date(e),estado_civil:this.curriculoSelected.estado_civil,nacionalidade:this.curriculoSelected.nacionalidade,telefone:this.curriculoSelected.telefone,whatsapp:this.curriculoSelected.whatsapp,compartilhar:this.curriculoSelected.compartilhar,cep:this.curriculoSelected.cep,rua:this.curriculoSelected.rua,bairro:this.curriculoSelected.bairro,estado:this.curriculoSelected.estado,cidade:this.curriculoSelected.cidade,numero:this.curriculoSelected.numero,complemento:this.curriculoSelected.complemento,escolaridade:this.curriculoSelected.escolaridade,descricao_escolaridade:this.curriculoSelected.descricao_escolaridade,objetivo:this.curriculoSelected.objetivo};Object.keys(i).forEach(c=>{void 0===i[c]&&(i[c]="")}),this.curriculoForm.patchValue(i);const r=this.curriculoSelected.cursos;this.curriculoForm.controls.cursos=new Xu([]),r?.length&&r.map(c=>{c.length&&this.addCurso(c)});const s=this.curriculoSelected.experiencias;this.curriculoForm.controls.experiencias=new Xu([]),s?.length&&s.map(c=>{c&&this.addExperiencia(c)})}static checkCategoryInput(e){return i=>{const r=i.value;return e.includes(r)?null:{"not-in-list":r}}}static checkIsValidDate(){return e=>{const i=e.value;return n.isValidDate(new Date(i))?null:{"not-valid-date":i}}}static isValidDate(e){return e instanceof Date&&!isNaN(e.getTime())}gravar(){if(this.progressBarService.show.next(!0),this.isFormValid()){let e=[];this.experiencias.controls.length&&(e=this.experiencias.controls.map(r=>({...r.value})));const i={uid:this.uid,...this.curriculoForm.getRawValue(),data_nascimento:new Intl.DateTimeFormat("en-US").format(this.curriculoForm.controls.data_nascimento.value||void 0),experiencias:e};if(i.uid=i.uid?i.uid:Bse(),this.isEditMode()){const r=this.curriculosList?.curriculos.filter(s=>s.uid!=this.uid);r.push(i),this.curriculoSelected=i,this.curriculosList.curriculos=r}else this.curriculosList?.curriculos.push(i);this.curriculosService.updateCurriculosList(this.curriculosList).then(r=>{this.progressBarService.show.next(!1),this._nav.navigateTo("painel")}).catch(r=>{this.progressBarService.show.next(!1),console.log({err:r})})}}isEditMode(){return!!this.uid}pageTitle(){return this.isEditMode()?"Edi\xe7\xe3o de Curr\xedculo":"Cadastro de Curr\xedculo"}isFormValid(){return this.curriculoForm.valid}isCepValid(){let e=this.curriculoForm.value.cep.replace("-","");return 8==e.length&&Ug(e)}consultarCep(){this.progressBarService.show.next(!0),this.cepService.getData(this.curriculoForm.value.cep).subscribe(e=>{this.curriculoForm.controls.rua.setValue(e.street),this.curriculoForm.controls.bairro.setValue(e.neighborhood),this.curriculoForm.controls.cidade.setValue(e.city),this.curriculoForm.controls.estado.setValue(e.state),this.progressBarService.show.next(!1)},e=>{console.log(e),this.progressBarService.show.next(!1)})}get cursos(){return this.curriculoForm.get("cursos")}get experiencias(){return this.curriculoForm.get("experiencias")}addCurso(e){this.podeAddCurso()&&this.cursos.push(new Gn(e,[kt.required,kt.maxLength(50)]))}addExperiencia(e){this.podeAddExperiencia()&&this.experiencias.push(new nc({empresa:new Gn(e?e.empresa:"",[kt.required,kt.maxLength(50)]),periodo:new Gn(e?e.periodo:"",[kt.required,kt.maxLength(50)]),cargo:new Gn(e?e.cargo:"",[kt.required,kt.maxLength(50)]),atividades_exercidas:new Gn(e?e.atividades_exercidas:"",[kt.required,kt.maxLength(150)])}))}deleteCurso(e){this.cursos.removeAt(e)}podeAddCurso(){return this.cursos.length<3}podeAddExperiencia(){return this.experiencias.length<3}deleteExperiencia(e){this.experiencias.removeAt(e)}gerarPDF(){this._nav.navigateTo("adicionais")}disablePDF(){return!1}addPhoto(){this._nav.navigateTo(`/upload-foto/${this.uid}`)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Hq),o.Y36(sg),o.Y36(Fu),o.Y36($se),o.Y36(aL),o.Y36(mr))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-formulario-curriculo"]],decls:133,vars:13,consts:[[1,"container"],[1,"flex-row","my-title"],[1,"mat-h2"],["mat-icon-button","","color","primary",3,"disabled","click"],["mat-icon-button","","color","primary",3,"click"],[1,"my-form",3,"formGroup"],["appearance","fill",1,"full-width"],["matInput","","required","","formControlName","identifier"],["color","primary","formControlName","compartilhar"],["matInput","","required","","formControlName","name","autocomplete","full-name"],["matInput","","required","","formControlName","email","autocomplete","current-email"],["appearance","fill"],["formControlName","estado_civil"],[3,"value",4,"ngFor","ngForOf"],["matInput","","formControlName","data_nascimento",3,"matDatepicker"],["dataNascimentoInput",""],["matSuffix","",3,"for"],["picker",""],["matInput","","required","","formControlName","nacionalidade","autocomplete","nacionalidade"],["matInput","","required","","formControlName","telefone","autocomplete","telefone"],["color","primary","formControlName","whatsapp"],["matInput","","formControlName","numero","autocomplete","numero"],["matInput","","formControlName","complemento","autocomplete","complemento"],[1,"flex-row"],["matInput","","required","","formControlName","cep","autocomplete","cep"],[1,"padding-8"],["mat-raised-button","",3,"disabled","click"],["matInput","","required","","formControlName","rua","autocomplete","rua"],["matInput","","required","","formControlName","bairro","autocomplete","bairro"],["matInput","","required","","formControlName","cidade","autocomplete","cidade"],["matInput","","required","","formControlName","estado","autocomplete","estado"],["formControlName","escolaridade"],["matInput","","required","","formControlName","descricao_escolaridade","autocomplete","descricao_escolaridade"],["formArrayName","cursos"],["class","flex-row",4,"ngFor","ngForOf"],["matInput","","required","","formControlName","objetivo","autocomplete","objetivo"],["formArrayName","experiencias"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"],["required","","matInput","",3,"formControlName","autocomplete"],[3,"formGroupName"],["required","","formControlName","empresa","matInput","",3,"autocomplete"],["required","","formControlName","periodo","matInput","",3,"autocomplete"],["required","","formControlName","cargo","matInput","",3,"autocomplete"],["required","","formControlName","atividades_exercidas","matInput","",3,"autocomplete"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),o._uU(3),o.qZA(),o.TgZ(4,"div")(5,"button",3),o.NdJ("click",function(){return i.gerarPDF()}),o.TgZ(6,"mat-icon"),o._uU(7,"picture_as_pdf"),o.qZA()(),o.TgZ(8,"button",4),o.NdJ("click",function(){return i.addPhoto()}),o.TgZ(9,"mat-icon"),o._uU(10,"add_a_photo"),o.qZA()()()(),o.TgZ(11,"form",5)(12,"mat-form-field",6)(13,"mat-label"),o._uU(14,"Identificador"),o.qZA(),o._UZ(15,"input",7),o.qZA(),o.TgZ(16,"div")(17,"mat-checkbox",8),o._uU(18,"Autorizo compartilhar com recrutadores as informa\xe7\xf5es deste curr\xedculo"),o.qZA()(),o.TgZ(19,"h3"),o._uU(20,"Dados Pessoais"),o.qZA(),o.TgZ(21,"mat-form-field",6)(22,"mat-label"),o._uU(23,"Nome Completo"),o.qZA(),o._UZ(24,"input",9),o.qZA(),o.TgZ(25,"mat-form-field",6)(26,"mat-label"),o._uU(27,"Email"),o.qZA(),o._UZ(28,"input",10),o.qZA(),o.TgZ(29,"mat-form-field",11)(30,"mat-label"),o._uU(31,"Estado Civil"),o.qZA(),o.TgZ(32,"mat-select",12)(33,"mat-option"),o._uU(34,"N\xe3o selecionado"),o.qZA(),o.YNc(35,Hse,2,2,"mat-option",13),o.qZA()(),o.TgZ(36,"mat-form-field",11)(37,"mat-label"),o._uU(38,"Data de Nascimento"),o.qZA(),o._UZ(39,"input",14,15),o.TgZ(41,"mat-hint"),o._uU(42,"DD/MM/AAAA"),o.qZA(),o._UZ(43,"mat-datepicker-toggle",16)(44,"mat-datepicker",null,17),o.qZA(),o.TgZ(46,"mat-form-field",6)(47,"mat-label"),o._uU(48,"Nacionalidade"),o.qZA(),o._UZ(49,"input",18),o.qZA(),o.TgZ(50,"mat-form-field",6)(51,"mat-label"),o._uU(52,"Telefone com DDD"),o.qZA(),o._UZ(53,"input",19),o.qZA(),o.TgZ(54,"mat-checkbox",20),o._uU(55,"Tem whatsapp?"),o.qZA(),o.TgZ(56,"h3"),o._uU(57,"Endere\xe7o"),o.qZA(),o.TgZ(58,"mat-form-field",6)(59,"mat-label"),o._uU(60,"N\xfamero"),o.qZA(),o._UZ(61,"input",21),o.qZA(),o.TgZ(62,"mat-form-field",6)(63,"mat-label"),o._uU(64,"Complemento"),o.qZA(),o._UZ(65,"input",22),o.qZA(),o.TgZ(66,"div",23)(67,"mat-form-field",6)(68,"mat-label"),o._uU(69,"CEP"),o.qZA(),o._UZ(70,"input",24),o.qZA(),o.TgZ(71,"div",25)(72,"button",26),o.NdJ("click",function(){return i.consultarCep()}),o._uU(73," Consultar "),o.qZA()()(),o.TgZ(74,"mat-form-field",6)(75,"mat-label"),o._uU(76,"Rua"),o.qZA(),o._UZ(77,"input",27),o.qZA(),o.TgZ(78,"mat-form-field",6)(79,"mat-label"),o._uU(80,"Bairro"),o.qZA(),o._UZ(81,"input",28),o.qZA(),o.TgZ(82,"mat-form-field",6)(83,"mat-label"),o._uU(84,"Cidade"),o.qZA(),o._UZ(85,"input",29),o.qZA(),o.TgZ(86,"mat-form-field",6)(87,"mat-label"),o._uU(88,"Estado"),o.qZA(),o._UZ(89,"input",30),o.qZA(),o.TgZ(90,"h3"),o._uU(91,"Escolaridade"),o.qZA(),o.TgZ(92,"mat-form-field",11)(93,"mat-label"),o._uU(94,"Selecione"),o.qZA(),o.TgZ(95,"mat-select",31)(96,"mat-option"),o._uU(97,"N\xe3o selecionado"),o.qZA(),o.YNc(98,jse,2,2,"mat-option",13),o.qZA()(),o.TgZ(99,"mat-form-field",6)(100,"mat-label"),o._uU(101,"Descri\xe7\xe3o da Escolaridade"),o.qZA(),o._UZ(102,"input",32),o.qZA(),o.TgZ(103,"div",23)(104,"h3"),o._uU(105,"Cursos"),o.qZA(),o.TgZ(106,"div",25)(107,"button",3),o.NdJ("click",function(){return i.addCurso("")}),o.TgZ(108,"mat-icon"),o._uU(109,"add_circle"),o.qZA()()()(),o.TgZ(110,"p"),o._uU(111," Digite aqui At\xe9 3 cursos que voc\xea tenha feito, por exemplo, se voc\xea tem conhecimentos em Inform\xe1tica, sabe usar o computador para ler emails, navegar na internet, digitar um texto, pode colocar: Inform\xe1tica B\xe1sico. Caso n\xe3o tenha nenhum curso, pode deixar em branco. "),o.qZA(),o.TgZ(112,"div",33),o.YNc(113,Gse,9,3,"div",34),o.qZA(),o.TgZ(114,"h3"),o._uU(115,"Objetivo"),o.qZA(),o.TgZ(116,"mat-form-field",6)(117,"mat-label"),o._uU(118,"Seu objetivo profissional"),o.qZA(),o._UZ(119,"input",35),o.qZA(),o.TgZ(120,"div",23)(121,"h3"),o._uU(122,"Experi\xeancias Profissionais"),o.qZA(),o.TgZ(123,"div",25)(124,"button",3),o.NdJ("click",function(){return i.addExperiencia()}),o.TgZ(125,"mat-icon"),o._uU(126,"add_circle"),o.qZA()()()(),o.TgZ(127,"p"),o._uU(128,' Preencha com at\xe9 3 empresas nas quais voc\xea j\xe1 trabalhou, escolha as empresas preferencialmente das mais recentes para mais antigas. Caso seja seu primeiro emprego, e voc\xea n\xe3o tenha experi\xeancia nenhuma, n\xe3o adicione nenhuma empresa, e automaticamente ser\xe1 preenchido "EM BUSCA DE MEU PRIMEIRO EMPREGO". '),o.qZA(),o.ynx(129,36),o.YNc(130,zse,25,10,"ng-container",37),o.BQk(),o.qZA(),o.TgZ(131,"button",38),o.NdJ("click",function(){return i.gravar()}),o._uU(132," Salvar "),o.qZA()()),2&e){const r=o.MAs(45);o.xp6(3),o.Oqu(i.pageTitle()),o.xp6(2),o.Q6J("disabled",i.disablePDF()),o.xp6(6),o.Q6J("formGroup",i.curriculoForm),o.xp6(24),o.Q6J("ngForOf",i.estadoCivisList),o.xp6(4),o.Q6J("matDatepicker",r),o.xp6(4),o.Q6J("for",r),o.xp6(29),o.Q6J("disabled",!i.isCepValid()),o.xp6(26),o.Q6J("ngForOf",i.escolaridadeList),o.xp6(9),o.Q6J("disabled",!i.podeAddCurso()),o.xp6(6),o.Q6J("ngForOf",i.cursos.controls),o.xp6(11),o.Q6J("disabled",!i.podeAddExperiencia()),o.xp6(6),o.Q6J("ngForOf",i.experiencias.controls),o.xp6(1),o.Q6J("disabled",!i.isFormValid())}},directives:[Yr,mu,Fs,cl,ml,zp,du,qp,ks,Qc,Sr,y,BV,PR,eD,kr,BR,bk,P5,nb,A5,up,Ah],styles:[".my-title[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{margin:auto}"]}),n})();function qse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",4)(1,"span"),o._uU(2,"Voc\xea est\xe1 Logado. Mas ainda n\xe3o consegue fazer nada. O site ainda est\xe1 em desenvolvimento"),o.qZA(),o.TgZ(3,"div",5)(4,"span"),o._uU(5," Navegar para o: "),o.TgZ(6,"a",6),o.NdJ("click",function(){return o.CHM(e),o.oxw().nav.navigateTo("painel")}),o._uU(7,"Seu Painel"),o.qZA()()()()}}function Zse(n,t){1&n&&(o.TgZ(0,"div",9)(1,"span"),o._uU(2,"J\xe1 possui um cadastro? "),o.TgZ(3,"a",10),o._uU(4,"Fa\xe7a o Login"),o.qZA()()())}function Wse(n,t){if(1&n&&(o.YNc(0,Zse,5,0,"div",7),o.ALo(1,"async"),o.TgZ(2,"div",5)(3,"span"),o._uU(4," N\xe3o tem cadastro? "),o.TgZ(5,"a",8),o._uU(6,"Crie um"),o.qZA()()()),2&n){const e=o.oxw();o.Q6J("ngIf",!o.lcZ(1,1,e.authService.user))}}let Yse=(()=>{class n{constructor(e,i){this.authService=e,this.nav=i}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da),o.Y36(Fu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-inicio"]],decls:7,vars:4,consts:[[1,"container"],[1,"mat-h2"],["class","redirectToLogin text-center",4,"ngIf","ngIfElse"],["loggedOut",""],[1,"redirectToLogin","text-center"],[1,"margin-top-10"],["routerLink","",3,"click"],["class","redirectToLogin",4,"ngIf"],["routerLink","/cadastro"],[1,"redirectToLogin"],["routerLink","/login"]],template:function(e,i){if(1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"P\xe1gina Inicial"),o.qZA(),o.YNc(3,qse,8,0,"div",2),o.ALo(4,"async"),o.YNc(5,Wse,7,3,"ng-template",null,3,o.W1O),o.qZA()),2&e){const r=o.MAs(6);o.xp6(3),o.Q6J("ngIf",o.lcZ(4,2,i.authService.user))("ngIfElse",r)}},directives:[Kn,Pu],pipes:[pa],styles:[""]}),n})(),Kse=(()=>{class n{constructor(e,i){this.authService=e,this._nav=i}ngOnInit(){}googleLogin(){this.authService.googleLogin()}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da),o.Y36(Fu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-login"]],decls:15,vars:0,consts:[[1,"container"],[1,"form-container"],["mat-raised-button","",1,"google",3,"click"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"or"],[1,"orInner"],["mat-raised-button","","routerLink","/email-login",1,"email"],[1,"links"],["routerLink","/cadastro",1,"create-account-txt"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"button",2),o.NdJ("click",function(){return i.googleLogin()}),o._UZ(3,"mat-icon",3),o._uU(4," Entrar com conta Google "),o.qZA(),o.TgZ(5,"div",4)(6,"span",5),o._uU(7,"ou"),o.qZA()(),o.TgZ(8,"button",6),o._uU(9," Logar com Email "),o.qZA(),o.TgZ(10,"div",7)(11,"a",8),o._uU(12,"N\xe3o tem cadastro? "),o.TgZ(13,"strong"),o._uU(14,"Crie um"),o.qZA()()()()())},directives:[Yr,mu,Yw,Pu],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center}.form-container[_ngcontent-%COMP%]{margin:20px;display:flex;flex-direction:column;align-items:center}.form-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-basis:20px}.links[_ngcontent-%COMP%]{margin-top:10px}"]}),n})();class Gq{constructor(t,e){this.title=t,this.message=e}}let zq=(()=>{class n{constructor(e,i){this.dialogRef=e,this.data=i,this.title=i.title,this.message=i.message}ngOnInit(){}onConfirm(){this.dialogRef.close(!0)}onDismiss(){this.dialogRef.close(!1)}}return n.\u0275fac=function(e){return new(e||n)(o.Y36($R),o.Y36(jV))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-confirm-dialog"]],decls:10,vars:2,consts:[["mat-dialog-title","",1,"mat-h2"],["mat-dialog-content",""],[1,"mat-body-1"],["mat-dialog-actions","",1,"justify-end"],["mat-button","",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(o.TgZ(0,"h1",0),o._uU(1),o.qZA(),o.TgZ(2,"div",1)(3,"p",2),o._uU(4),o.qZA()(),o.TgZ(5,"div",3)(6,"button",4),o.NdJ("click",function(){return i.onDismiss()}),o._uU(7,"Cancelar"),o.qZA(),o.TgZ(8,"button",5),o.NdJ("click",function(){return i.onConfirm()}),o._uU(9," Confirmar "),o.qZA()()),2&e&&(o.xp6(1),o.hij(" ",i.title,"\n"),o.xp6(3),o.Oqu(i.message))},directives:[h4,f4,p4,Yr],styles:[""]}),n})();function Qse(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"li")(1,"div",5)(2,"span"),o._uU(3),o.qZA(),o._UZ(4,"div",4),o.TgZ(5,"button",2),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw(2).nav.navigateTo("/curriculo/"+s.uid)}),o.TgZ(6,"mat-icon"),o._uU(7,"edit"),o.qZA()(),o.TgZ(8,"button",2),o.NdJ("click",function(){const s=o.CHM(e).$implicit;return o.oxw(2).confirmarExclusao(s.uid)}),o.TgZ(9,"mat-icon"),o._uU(10,"remove_circle"),o.qZA()()()()}if(2&n){const e=t.$implicit;o.xp6(3),o.Oqu(e.identifier)}}function Jse(n,t){if(1&n&&(o.TgZ(0,"div",4)(1,"ul")(2,"li")(3,"div",5)(4,"span",6),o._uU(5,"Identificador"),o.qZA(),o._UZ(6,"div",4),o.qZA()(),o.YNc(7,Qse,11,1,"li",7),o.qZA()()),2&n){const e=o.oxw();o.xp6(7),o.Q6J("ngForOf",e.userCurriculos)}}let Xse=(()=>{class n{constructor(e,i,r,s,c,d){this.authService=e,this.curriculosService=i,this.nav=r,this.progressBarService=s,this._snackBar=c,this.dialog=d,this.subs=new Jn.w0,this.subs.add(this.curriculosService.curriculoList?.subscribe(f=>{this.curriculoList=f}))}get userCurriculos(){return this.curriculoList?this.curriculoList.curriculos:[]}addCurriculo(){this.nav.navigateTo(this.userCurriculos.length?"adicionais":"curriculo")}ngOnInit(){}ngOnDestroy(){this.subs.unsubscribe()}deleteCurriculo(e){this.progressBarService.show.next(!0),this.curriculosService.deleteCurriculoFromList(e,this.curriculoList).then(i=>{this.progressBarService.show.next(!1),this._snackBar.open("Removido","Ok",{duration:15})}).catch(i=>{this._snackBar.open("N\xe3o removido","Ok",{duration:15}),console.log({err:i}),this.progressBarService.show.next(!1)})}confirmarExclusao(e){const r=new Gq("Confirmar Exclus\xe3o do Curr\xedculo","Esta exclus\xe3o n\xe3o poder\xe1 ser revertida");this.dialog.open(zq,{maxWidth:"320px",data:r}).afterClosed().subscribe(c=>{c&&this.deleteCurriculo(e)})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da),o.Y36(Hq),o.Y36(Fu),o.Y36(aL),o.Y36(Ib),o.Y36(kI))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-painel"]],decls:8,vars:2,consts:[[1,"container"],[1,"flex-row","align-items-center"],["mat-icon-button","","color","primary",3,"click"],["class","full-width",4,"ngIf"],[1,"full-width"],[1,"flex-row","align-items-center","painel-row"],[1,"mat-body-2"],[4,"ngFor","ngForOf"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div"),o._uU(3),o.qZA(),o.TgZ(4,"button",2),o.NdJ("click",function(){return i.addCurriculo()}),o.TgZ(5,"mat-icon"),o._uU(6,"add_circle"),o.qZA()()(),o.YNc(7,Jse,8,1,"div",3),o.qZA()),2&e&&(o.xp6(3),o.hij("Quantidade de Curr\xedculos: ",i.userCurriculos.length,""),o.xp6(4),o.Q6J("ngIf",i.userCurriculos.length))},directives:[Yr,mu,Kn,kr],styles:["span[_ngcontent-%COMP%]{white-space:pre}.painel-row[_ngcontent-%COMP%]{max-width:320px;margin:0 auto}"]}),n})();function eoe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",1)(1,"ul")(2,"li"),o._uU(3," Email: "),o.TgZ(4,"strong"),o._uU(5),o.qZA()(),o.TgZ(6,"li"),o._uU(7," Name: "),o.TgZ(8,"strong"),o._uU(9),o.qZA()(),o.TgZ(10,"li"),o._uU(11," Email verified: "),o.TgZ(12,"strong"),o._uU(13),o.qZA()(),o.TgZ(14,"li"),o._uU(15," Uid: "),o.TgZ(16,"strong"),o._uU(17),o.qZA()(),o.TgZ(18,"li"),o._uU(19," LoginMode: "),o.TgZ(20,"strong"),o._uU(21),o.qZA()(),o.TgZ(22,"li"),o._uU(23," CurriculosUID: "),o.TgZ(24,"strong"),o._uU(25),o.qZA()()(),o.TgZ(26,"button",2),o.NdJ("click",function(){return o.CHM(e),o.oxw().confirmarExclusao()}),o._uU(27," Excluir Perfil "),o.qZA()()}if(2&n){const e=t.ngIf;o.xp6(5),o.Oqu(e.email),o.xp6(4),o.Oqu(e.displayName?e.displayName:"User"),o.xp6(4),o.Oqu(e.emailVerified),o.xp6(4),o.Oqu(e.uid),o.xp6(4),o.Oqu(e.loginMode),o.xp6(4),o.Oqu(e.curriculosUID)}}let toe=(()=>{class n{constructor(e,i,r){this.authService=e,this.dialog=i,this._nav=r}ngOnInit(){}excluirPerfil(){this.authService.deleteUser()}confirmarExclusao(){const i=new Gq("Confirmar Exclus\xe3o do seu Perfil","Esta exclus\xe3o n\xe3o poder\xe1 ser revertida");this.dialog.open(zq,{maxWidth:"320px",data:i}).afterClosed().subscribe(s=>{s&&this._nav.navigateTo("/excluir-perfil")})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da),o.Y36(kI),o.Y36(Fu))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-perfil"]],decls:2,vars:3,consts:[["class","container",4,"ngIf"],[1,"container"],["mat-raised-button","",3,"click"]],template:function(e,i){1&e&&(o.YNc(0,eoe,28,6,"div",0),o.ALo(1,"async")),2&e&&o.Q6J("ngIf",o.lcZ(1,1,i.authService.user))},directives:[Kn,Yr],pipes:[pa],styles:[""]}),n})(),noe=(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-registro"]],decls:27,vars:0,consts:[[1,"container"],[1,"mat-h3"],[1,"my-form"],["appearance","fill",1,"full-width"],["matInput","","type","email","value","","required",""],["userEmail",""],["matInput","","type","password","required","","autocomplete","current-password"],["userPassword",""],["mat-raised-button","",1,"google",3,"click"],[1,"or"],[1,"orInner"],["svgIcon","google_logo",2,"width","40px","height","24px"],[1,"redirectToLogin"],["routerLink","/login"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h3",1),o._uU(2,"Fa\xe7a o seu cadastro"),o.qZA(),o.TgZ(3,"form",2)(4,"mat-form-field",3)(5,"mat-label"),o._uU(6,"Endere\xe7o de Email"),o.qZA(),o._UZ(7,"input",4,5),o.qZA(),o.TgZ(9,"mat-form-field",3)(10,"mat-label"),o._uU(11,"Senha"),o.qZA(),o._UZ(12,"input",6,7),o.qZA()(),o.TgZ(14,"button",8),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(8),d=o.MAs(13);return i.authService.signUp(c.value,d.value)}),o._uU(15," Cadastrar "),o.qZA(),o.TgZ(16,"div",9)(17,"span",10),o._uU(18,"ou"),o.qZA()(),o.TgZ(19,"button",8),o.NdJ("click",function(){return i.authService.googleLogin()}),o._UZ(20,"mat-icon",11),o._uU(21," Continuar com conta Google "),o.qZA(),o.TgZ(22,"div",12)(23,"span"),o._uU(24,"J\xe1 possui um cadastro? "),o.TgZ(25,"a",13),o._uU(26,"Fa\xe7a o Login"),o.qZA()()()()}},directives:[Fs,cl,go,zp,du,qp,Yr,mu,Pu],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})();function ioe(n,t){if(1&n&&o._UZ(0,"img",16),2&n){const e=o.oxw();o.Q6J("src",e.croppedImage,o.LSH)}}function roe(n,t){1&n&&(o.TgZ(0,"span",15),o._uU(1,"selecione uma imagem"),o.qZA())}function soe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",17),o.NdJ("click",function(){return o.CHM(e),o.oxw().enviar()}),o.TgZ(1,"mat-icon"),o._uU(2,"file_upload"),o.qZA(),o._uU(3," Enviar "),o.qZA()}}function ooe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",18),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.crop()}),o.TgZ(1,"mat-icon"),o._uU(2,"crop"),o.qZA(),o._uU(3," Cortar "),o.qZA()}}function aoe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",19)(1,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.zoomIn()}),o.TgZ(2,"mat-icon"),o._uU(3,"zoom_in"),o.qZA()(),o.TgZ(4,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.zoomOut()}),o.TgZ(5,"mat-icon"),o._uU(6,"zoom_out"),o.qZA()(),o.TgZ(7,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.center()}),o.TgZ(8,"mat-icon"),o._uU(9,"filter_center_focus"),o.qZA()(),o.TgZ(10,"button",20),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.rotate(-90)}),o.TgZ(11,"mat-icon"),o._uU(12,"rotate_90_degrees_ccw"),o.qZA()(),o.TgZ(13,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.fit()}),o.TgZ(14,"mat-icon"),o._uU(15,"unfold_less"),o.qZA()(),o.TgZ(16,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.fitToScreen()}),o.TgZ(17,"mat-icon"),o._uU(18,"fit_screen"),o.qZA()(),o.TgZ(19,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.setScale(1)}),o._uU(20,"1:1"),o.qZA(),o.TgZ(21,"button",21),o.NdJ("click",function(){return o.CHM(e),o.oxw().cropper.clean()}),o.TgZ(22,"mat-icon"),o._uU(23,"undo"),o.qZA()()()}}const loe=()=>({cropper:pz`{
      height: 300px
    }`,flex:pz`{
      flex: 1
    }`});let coe=(()=>{class n{constructor(e,i){this.sRenderer=e,this._document=i,this.classes=this.sRenderer.renderSheet(loe),this.ready=!1,this.result="",this.myConfig={width:250,height:250,output:{width:250,height:250}}}onCropped(e){this.croppedImage=e.dataURL,this.scrollToTop(),console.log(e)}selectInput(e){console.log("selectInput"),this.cropper.selectInputEvent(e),setTimeout(()=>{this.cropper.center(),this.scrollToBottom(),console.log("this.cropper.center();")},500)}ngOnInit(){this.window=this._document.defaultView}enviar(){this.croppedImage&&console.log("enviar",this.croppedImage)}scrollToBottom(){this.window.scroll({top:1e3})}scrollToTop(){this.window.scroll({top:0})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(Ud),o.Y36(se))},n.\u0275cmp=o.Xpm({type:n,selectors:[["upload-foto-component"]],viewQuery:function(e,i){if(1&e&&o.Gf(iA,7),2&e){let r;o.iGM(r=o.CRH())&&(i.cropper=r.first)}},features:[o._Bn([Ud])],decls:23,vars:7,consts:[[1,"container"],[1,"mat-h3"],["id","cropped-img",3,"click"],[3,"src",4,"ngIf"],["class","text-center",4,"ngIf"],[1,"flex-row","margin-5"],["mat-raised-button","","color","accent",3,"click",4,"ngIf"],[1,"cropper-component"],[1,"flex-row","justify-between"],["mat-raised-button","","color","primary",3,"click"],["color","accent","mat-raised-button","",3,"click",4,"ngIf"],["type","file","accept","image/*","hidden","",3,"change"],["_fileInput",""],["class","flex-row flex-wrap justify-between",4,"ngIf"],[3,"withClass","config","cropped","ready","cleaned"],[1,"text-center"],[3,"src"],["mat-raised-button","","color","accent",3,"click"],["color","accent","mat-raised-button","",3,"click"],[1,"flex-row","flex-wrap","justify-between"],["mat-raised-button","","appearance","icon",1,"margin-2",3,"click"],["mat-raised-button","",1,"margin-2",3,"click"]],template:function(e,i){if(1&e){const r=o.EpF();o.TgZ(0,"div",0)(1,"h3",1),o._uU(2,"Enviar Foto"),o.qZA(),o.TgZ(3,"div",2),o.NdJ("click",function(){o.CHM(r);const c=o.MAs(18);return!i.cropper.isCropped&&c.click()}),o.YNc(4,ioe,1,1,"img",3),o.YNc(5,roe,2,0,"span",4),o.qZA(),o.TgZ(6,"div",5),o.YNc(7,soe,4,0,"button",6),o.qZA(),o.TgZ(8,"div",7)(9,"div",8)(10,"button",9),o.NdJ("click",function(){return o.CHM(r),o.MAs(18).click()}),o.TgZ(11,"mat-icon"),o._uU(12,"image"),o.qZA(),o.TgZ(13,"span"),o._uU(14,"Selecionar"),o.qZA()(),o.TgZ(15,"div"),o.YNc(16,ooe,4,0,"button",10),o.qZA()(),o.TgZ(17,"input",11,12),o.NdJ("change",function(c){return i.selectInput(c)}),o.qZA(),o.YNc(19,aoe,24,0,"div",13),o.TgZ(20,"ly-img-cropper",14),o.NdJ("cropped",function(c){return i.onCropped(c)})("ready",function(){return i.ready=!0})("cleaned",function(){return i.ready=!1}),o.TgZ(21,"span",15),o._uU(22,"Arraste e solte uma imagem"),o.qZA()()()()}2&e&&(o.xp6(4),o.Q6J("ngIf",i.cropper.isCropped),o.xp6(1),o.Q6J("ngIf",!i.cropper.isCropped),o.xp6(2),o.Q6J("ngIf",i.cropper.isCropped),o.xp6(9),o.Q6J("ngIf",i.cropper.isLoaded),o.xp6(3),o.Q6J("ngIf",i.cropper.isLoaded),o.xp6(1),o.Q6J("withClass",i.classes.cropper)("config",i.myConfig))},directives:[Kn,Yr,mu,iA,Lne],styles:["#cropped-img[_ngcontent-%COMP%]{height:250px;width:250px;background-color:#ddd;margin-bottom:5px;display:flex;align-items:center;justify-content:center;color:#555}"],changeDetection:0}),n})();function uoe(n,t){if(1&n&&(o.TgZ(0,"div")(1,"p",6),o._uU(2," N\xf3s enviamos um email de confirmacao para "),o.TgZ(3,"strong"),o._uU(4),o.qZA(),o._uU(5,". "),o.qZA(),o.TgZ(6,"p",6),o._uU(7," Para regularizar seu acesso confira seu email e click no link para verificar seu email. "),o.qZA()()),2&n){const e=t.ngIf;o.xp6(4),o.Oqu(e.email)}}const doe=[{path:"",component:Yse},{path:"login",component:Kse,canActivate:[vA]},{path:"cadastro",component:noe,canActivate:[vA]},{path:"perfil",component:toe,canActivate:[Hf]},{path:"email-login",component:Mse,canActivate:[vA]},{path:"painel",component:Xse,canActivate:[Hf]},{path:"esqueceu-senha",component:kse,canActivate:[vA]},{path:"verificar-email",component:(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(da))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-verificar-email"]],decls:12,vars:3,consts:[[1,"container"],[1,"mat-h2"],[4,"ngIf"],["mat-raised-button","",3,"click"],[1,"redirectToLogin","text-center"],["routerLink","/login"],[1,"text-center"]],template:function(e,i){1&e&&(o.TgZ(0,"div",0)(1,"h2",1),o._uU(2,"Obrigado por se cadastrar"),o.qZA(),o.YNc(3,uoe,8,1,"div",2),o.ALo(4,"async"),o.TgZ(5,"button",3),o.NdJ("click",function(){return i.authService.sendVerificationMail()}),o._uU(6," Reenviar verifica\xe7\xe3o "),o.qZA(),o.TgZ(7,"div",4)(8,"span"),o._uU(9,"Voltar e fazer "),o.TgZ(10,"a",5),o._uU(11,"Login?"),o.qZA()()()()),2&e&&(o.xp6(3),o.Q6J("ngIf",o.lcZ(4,1,i.authService.user)))},directives:[Kn,Yr,Pu],pipes:[pa],styles:[".my-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%;display:flex;flex-direction:column}.full-width[_ngcontent-%COMP%]{width:100%}.container[_ngcontent-%COMP%]{margin-top:10px;width:100%;display:flex;flex-direction:column;align-items:center}.redirectToLogin[_ngcontent-%COMP%]{margin-top:15px}"]}),n})(),canActivate:[Hf]},{path:"curriculo",component:jq,canActivate:[Hf]},{path:"curriculo/:id",component:jq,canActivate:[Hf]},{path:"adicionais",component:xse,canActivate:[Hf]},{path:"excluir-perfil",component:Fse,canActivate:[Hf]},{path:"upload-foto/:uid",component:coe,canActivate:[Hf]}];let hoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Lq.forRoot(doe)],Lq]}),n})();const lL_firebaseConfig={apiKey:"AIzaSyDgzRquxls0_dgaA7t8UwnYXDhZ7416imI",authDomain:"curriculos-seve.firebaseapp.com",databaseURL:"https://curriculos-seve-default-rtdb.firebaseio.com",projectId:"curriculos-seve",storageBucket:"curriculos-seve.appspot.com",messagingSenderId:"963696035317",appId:"1:963696035317:web:2cb36dd541afc99f164cbc",measurementId:"G-2ZDXBRCGC2"};function foe(n,t){1&n&&o._UZ(0,"mat-progress-bar",9)}function poe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().nav.navigateTo("painel")}),o.TgZ(1,"mat-icon"),o._uU(2,"dashboard"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Painel"),o.qZA()()}}function moe(n,t){1&n&&(o.TgZ(0,"button",11)(1,"mat-icon"),o._uU(2,"person"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Perfil"),o.qZA()())}function goe(n,t){1&n&&(o.TgZ(0,"button",12)(1,"mat-icon"),o._uU(2,"login"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Entrar"),o.qZA()())}function _oe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"button",10),o.NdJ("click",function(){return o.CHM(e),o.oxw().logout()}),o.TgZ(1,"mat-icon"),o._uU(2,"logout"),o.qZA(),o.TgZ(3,"span"),o._uU(4,"Sair"),o.qZA()()}}let yoe=(()=>{class n{constructor(e,i,r,s,c){this.matIconRegistry=e,this.domSanitizer=i,this.authService=r,this.nav=s,this.progressBarService=c,this.title="curriculo-facil",this.showProgressBar=!1,this.matIconRegistry.addSvgIcon("google_logo",this.domSanitizer.bypassSecurityTrustResourceUrl("/curriculo-facil/assets/svg/google.svg")),this.progressBarService.show.subscribe(f=>{this.showProgressBar=f})}logout(){this.authService.signOut().then(()=>{this.nav.navigateTo("/")})}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(fc),o.Y36(ba),o.Y36(da),o.Y36(Fu),o.Y36(aL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["app-root"]],decls:25,vars:14,consts:[["mode","query",4,"ngIf"],[1,"full-width"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],[1,"mat-body"],["menu","matMenu"],["mat-menu-item","","routerLink","/"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","","routerLink","/perfil",4,"ngIf"],["mat-menu-item","","routerLink","/login",4,"ngIf"],["mode","query"],["mat-menu-item","",3,"click"],["mat-menu-item","","routerLink","/perfil"],["mat-menu-item","","routerLink","/login"]],template:function(e,i){if(1&e&&(o.YNc(0,foe,1,0,"mat-progress-bar",0),o.TgZ(1,"mat-toolbar")(2,"span"),o._uU(3,"Curr\xedculo F\xe1cil"),o.qZA(),o._UZ(4,"div",1),o.TgZ(5,"button",2)(6,"mat-icon"),o._uU(7,"menu"),o.qZA()()(),o.TgZ(8,"div",3),o._UZ(9,"router-outlet"),o.qZA(),o.TgZ(10,"mat-menu",null,4)(12,"button",5)(13,"mat-icon"),o._uU(14,"home"),o.qZA(),o.TgZ(15,"span"),o._uU(16,"Inicial"),o.qZA()(),o.YNc(17,poe,5,0,"button",6),o.ALo(18,"async"),o.YNc(19,moe,5,0,"button",7),o.ALo(20,"async"),o.YNc(21,goe,5,0,"button",8),o.ALo(22,"async"),o.YNc(23,_oe,5,0,"button",6),o.ALo(24,"async"),o.qZA()),2&e){const r=o.MAs(11);o.Q6J("ngIf",i.showProgressBar),o.xp6(5),o.Q6J("matMenuTriggerFor",r),o.xp6(12),o.Q6J("ngIf",o.lcZ(18,6,i.authService.user)),o.xp6(2),o.Q6J("ngIf",o.lcZ(20,8,i.authService.user)),o.xp6(2),o.Q6J("ngIf",!o.lcZ(22,10,i.authService.user)),o.xp6(2),o.Q6J("ngIf",o.lcZ(24,12,i.authService.user))}},directives:[Kn,X5,D2,Yr,IR,mu,eL,CI,lm,Yw],pipes:[pa],styles:[".mat-progress-bar[_ngcontent-%COMP%]{position:fixed;top:0}"]}),n})();const Ol=void 0,boe=["pt",[["AM","PM"],Ol,Ol],Ol,[["D","S","T","Q","Q","S","S"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."],["domingo","segunda-feira","ter\xe7a-feira","quarta-feira","quinta-feira","sexta-feira","s\xe1bado"],["dom.","seg.","ter.","qua.","qui.","sex.","s\xe1b."]],Ol,[["J","F","M","A","M","J","J","A","S","O","N","D"],["jan.","fev.","mar.","abr.","mai.","jun.","jul.","ago.","set.","out.","nov.","dez."],["janeiro","fevereiro","mar\xe7o","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro"]],Ol,[["a.C.","d.C."],Ol,["antes de Cristo","depois de Cristo"]],0,[6,0],["dd/MM/y","d 'de' MMM 'de' y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}",Ol,Ol,Ol],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4\xa0#,##0.00","#E0"],"BRL","R$","Real brasileiro",{AUD:["AU$","$"],JPY:["JP\xa5","\xa5"],PHP:[Ol,"\u20b1"],PTE:["Esc."],RON:[Ol,"L"],SYP:[Ol,"S\xa3"],THB:["\u0e3f"],TWD:["NT$"],USD:["US$","$"]},"ltr",function voe(n){const e=Math.floor(Math.abs(n));return e===Math.floor(e)&&e>=0&&e<=1?1:5}],wA=void 0,woe=[[["meia-noite","meio-dia","da manh\xe3","da tarde","da noite","da madrugada"],wA,wA],[["meia-noite","meio-dia","manh\xe3","tarde","noite","madrugada"],wA,wA],["00:00","12:00",["06:00","12:00"],["12:00","19:00"],["19:00","24:00"],["00:00","06:00"]]],Coe={parse:{dateInput:{month:"short",year:"numeric",day:"numeric"}},display:{dateInput:"customInput",monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Eoe=(()=>{class n extends zE{parse(e){if(console.log({value:e}),"string"==typeof e&&e.indexOf("/")>-1){const r=e.split("/");return r.length<2||isNaN(+r[0])||isNaN(+r[1])||isNaN(+r[2])?null:new Date(Number(r[2]),Number(r[1])-1,Number(r[0]))}const i="number"==typeof e?e:Date.parse(e);return isNaN(i)?null:new Date(i)}format(e,i){return"customInput"===i?new Zd(Object.values(this.locale)[0]).transform(e,"shortDate")||"":new Zd(Object.values(this.locale)[0]).transform(e,"MMM yyyy")||""}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=o.n5z(n)))(i||n)}}(),n.\u0275prov=o.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Doe=["*"],Ioe=["wrapper"],Soe=["bg"],Toe=["track"],Aoe=["ticksRef"],xoe=["thumbsRef"];function Moe(n,t){1&n&&o._UZ(0,"ly-tick",8),2&n&&o.Q6J("value",t.$implicit)}function koe(n,t){if(1&n&&o.YNc(0,Moe,1,1,"ly-tick",7),2&n){const e=o.oxw();o.Q6J("ngForOf",e._tickList)}}function Roe(n,t){1&n&&o.Hsn(0)}function Ooe(n,t){if(1&n&&(o.TgZ(0,"ly-mark",8),o._uU(1),o.qZA()),2&n){const e=t.$implicit;o.Q6J("value",e.value),o.xp6(1),o.Oqu(e.label)}}function Poe(n,t){if(1&n&&o.YNc(0,Ooe,2,2,"ly-mark",7),2&n){const e=o.oxw();o.Q6J("ngForOf",e._marksList)}}function Foe(n,t){if(1&n&&(o.TgZ(0,"div",0)(1,"span",0),o._uU(2),o.qZA()()),2&n){const e=o.oxw().$implicit,i=o.oxw();o.Q6J("className",i.classes.thumbLabel),o.xp6(1),o.Q6J("className",i.classes.thumbLabelValue),o.xp6(1),o.Oqu(e.displayValue)}}function Noe(n,t){if(1&n){const e=o.EpF();o.TgZ(0,"div",9)(1,"div",10,11),o.NdJ("focus",function(){const s=o.CHM(e).$implicit;return o.oxw()._onFocusThumb(s)})("blur",function(){const s=o.CHM(e).$implicit;return o.oxw()._onBlurThumb(s)}),o._UZ(3,"div",0),o.YNc(4,Foe,3,3,"div",12),o.qZA()()}if(2&n){const e=t.$implicit,i=o.oxw();o.Q6J("className",i.classes.thumbContainer)("ngStyle",e.styles),o.xp6(1),o.Q6J("className",i.classes.thumbContent)("ngClass",e.focused?i.classes.thumbContentFocused:null),o.uIk("tabindex",i.disabled?-1:0),o.xp6(2),o.Q6J("className",i.classes.thumb),o.xp6(1),o.Q6J("ngIf",!1!==i.thumbVisible)}}const Loe=[[["ly-mark"]]],Voe=["ly-mark"],cL=new o.OlP("LY_SLIDER");function qq(n,t,e){return n>=t&&n<=e}function Kw(n,t,e){return 100*(n-t)/(e-t)}let uL=(()=>{class n{constructor(e,i,r){this._renderer=e,this._el=i,this._slider=r,this.classes=this._slider.classes}ngOnChanges(){this._updateTick()}ngOnInit(){this._renderer.addClass(this._getHostElement(),this.classes.tick),this._slider._changes.pipe(VN(this)).subscribe(()=>{this._updateTick()})}_updateTick(){const e=this._slider._minPercent,i=this._slider._maxPercent,r=this._slider.classes.tickActive,s=Kw(this.value,this._slider.min,this._slider.max),c=this._slider._calculatePosition(s);qq(s,e,i)?(this._tickActiveClass=r,this._renderer.addClass(this._el.nativeElement,r)):this._tickActiveClass&&(this._tickActiveClass=null,this._renderer.removeClass(this._el.nativeElement,r)),this._renderer.setStyle(this._getHostElement(),"bottom",null),this._renderer.setStyle(this._getHostElement(),"left",null),this._renderer.setStyle(this._getHostElement(),"right",null),this._renderer.setStyle(this._getHostElement(),c.style,c.value)}ngOnDestroy(){}_getHostElement(){return this._el.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(cL))},n.\u0275dir=o.lG2({type:n,selectors:[["ly-tick"]],inputs:{value:"value"},features:[o.TTD]}),n})(),Boe=(()=>{class n{constructor(e,i,r){this._renderer=e,this._el=i,this._slider=r,this.classes=this._slider.classes,e.addClass(i.nativeElement,r.classes.mark)}ngOnInit(){this._renderer.insertBefore(this._slider._wrapper.nativeElement,this._tick._getHostElement(),this._slider._ticksRef.nativeElement),this._slider._changes.pipe(VN(this)).subscribe(()=>{this._updateMark()}),this._updateMark()}_updateMark(){const e=this._slider._minPercent,i=this._slider._maxPercent,r=this._slider.classes.markActive,s=Kw(this.value,this._slider.min,this._slider.max),c=this._slider._calculatePosition(s);qq(s,e,i)?(this._markActiveClass=r,this._renderer.addClass(this._el.nativeElement,r)):this._markActiveClass&&(this._markActiveClass=null,this._renderer.removeClass(this._el.nativeElement,r)),this._renderer.setStyle(this._getHostElement(),"bottom",null),this._renderer.setStyle(this._getHostElement(),"left",null),this._renderer.setStyle(this._getHostElement(),"right",null),this._renderer.setStyle(this._getHostElement(),c.style,c.value)}ngOnDestroy(){}_getHostElement(){return this._el.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(o.Y36(o.Qsj),o.Y36(o.SBq),o.Y36(cL))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ly-mark"]],viewQuery:function(e,i){if(1&e&&o.Gf(uL,7),2&e){let r;o.iGM(r=o.CRH())&&(i._tick=r.first)}},inputs:{value:"value"},ngContentSelectors:Doe,decls:2,vars:1,consts:[[3,"value"]],template:function(e,i){1&e&&(o.F$t(),o._UZ(0,"ly-tick",0),o.Hsn(1)),2&e&&o.Q6J("value",i.value)},directives:[uL],encapsulation:2,changeDetection:0}),n})();const Pl=Xc({passive:!1}),Uoe=new o.OlP("LY_SLIDER_DEFAULT_OPTIONS"),$oe={provide:li,useExisting:(0,o.Gpc)(()=>joe),multi:!0},Wy=(n,t)=>{const e=t.selectorsOf(Wy),{before:i,after:r}=n,s=n.isRTL();return{$priority:-2,root:()=>c=>`${c}{display:inline-block;position:relative;box-sizing:border-box;}${Ec(Uf_fill,`${c} ${e.bg}`)}${c} ${e.bg}{margin:auto;}${c}${e.sliding}{cursor:-webkit-grabbing;cursor:grabbing;}${c}${e.sliding} ${e.thumb},${c}${e.sliding} ${e.thumbLabel}{cursor:-webkit-grabbing;cursor:grabbing;}${Ec(n.slider&&n.slider.root&&(n.slider.root instanceof gn?n.slider.root.setTransformer(d=>d(e)).css:n.slider.root(e)),`${c}`)}`,wrapper:c=>`${c}{-webkit-print-color-adjust:exact;color-adjust:exact;position:absolute;}`,track:()=>c=>`${c}{position:absolute;margin:auto;}${e.horizontal} ${c}{transform-origin:${s?100:0}% 0;}${e.vertical} ${c}{transform-origin:${s?100:0}% 100%;}`,bg:null,thumbContainer:c=>`${c}{width:0;height:0;position:absolute;margin:auto;}`,thumbContent:c=>`${c}{display:flex;justify-content:center;align-items:center;}`,thumb:c=>`${c}{position:absolute;width:16px;height:16px;border-radius:50%;outline:0;cursor:-webkit-grab;cursor:grab;transition:${["border-radius","transform"].map(d=>`${d} ${n.animations.durations.exiting}ms ${n.animations.curves.standard} 0ms`).join()};}${c}::before{content:'';}${Ec(Uf_fill,`${c}::before`)}${c}::before{border-radius:50%;transition:${["box-shadow"].map(d=>`${d} ${n.animations.durations.entering}ms ${n.animations.curves.sharp} 0ms`).join()};}`,thumbLabel:c=>`${c}{position:absolute;font-size:12px;width:28px;height:28px;border-radius:50%;top:-14px;${i}:-14px;cursor:-webkit-grab;cursor:grab;transition:${["transform","top","left","right","border-radius"].map(d=>`${d} 150ms ${n.animations.curves.standard} 0ms`).join()};}`,thumbLabelValue:c=>`${c}{display:flex;height:100%;width:100%;align-items:center;justify-content:center;}`,horizontal:()=>c=>`${c}{width:128px;height:48px;padding:8px;touch-action:pan-y !important;}${c} ${e.wrapper}{top:23px;left:8px;right:8px;}${c} ${e.track},${c} ${e.bg},${c} ${e.track}{height:inherit;}${c} ${e.track},${c} ${e.bg}{width:100%;}${c} ${e.track}{${i}:0;top:0;bottom:0;}${c} ${e.thumbContainer}{top:0;bottom:0;}${c} ${e.tick}{width:2px;top:0;bottom:0;transform:translate(-1px,0%);}${c} ${e.mark}{top:22px;transform:translateX(${n.direction===Po.ltr?"-":""}50%);}${c}${e.marked}{margin-bottom:24px;}`,vertical:()=>c=>`${c}{width:48px;height:128px;padding:8px;touch-action:pan-x !important;}${c} ${e.wrapper}{${i}:23px;top:8px;bottom:8px;}${c} ${e.track},${c} ${e.bg},${c} ${e.track}{width:inherit;}${c} ${e.track},${c} ${e.bg}{height:100%;}${c} ${e.track}{bottom:0;${i}:-1px;${r}:0;}${c} ${e.thumbContainer}{left:0;right:0;}${c} ${e.tick}{width:inherit;height:2px;left:0;right:0;}${c} ${e.mark}{${i}:22px;transform:translateY(50%);}${c}${e.marked}{${n.direction===Po.ltr?"margin-right":"margin-left"}:24px;}`,marked:null,mark:c=>`${c}{position:absolute;white-space:nowrap;font-size:14px;color:${n.text.secondary};}`,markActive:c=>`${c}{color:currentColor;}`,tick:c=>`${c}{position:absolute;margin:auto;}`,tickActive:null,thumbVisible:null,thumbNotVisible:null,thumbContentFocused:null,sliding:null,disabled:c=>`${c}{cursor:default;}`}};class Hoe{constructor(t,e){this.source=t,this.value=e}}let joe=(()=>{class n{constructor(e,i,r,s,c,d,f,m,v){this._theme=e,this._el=i,this._renderer=r,this._cd=s,this.sRenderer=c,this._ngZone=d,this._focusMonitor=f,this._default=v,this._sliderDimensions=null,this._step=1,this.classes=this._theme.renderStyleSheet(Wy),this._value=null,this._min=0,this._max=100,this._changes=new Dt.x,this._isSliding=null,this._thumbs=[],this._rootClasses=new Set,this.change=new o.vpe,this.input=new o.vpe,this.valueChange=new o.vpe,this._windowBlur=()=>{this._lastPointerEvent&&this._pointerUp(this._lastPointerEvent)},this.onTouched=()=>{},this._controlValueAccessorChangeFn=()=>{},this._pointerDown=E=>{this.disabled||this._isSliding||!Jw(E)&&0!==E.button||this._ngZone.run(()=>{this._touchId=Jw(E)?function qoe(n,t){for(let e=0;e<n.touches.length;e++){const i=n.touches[e].target;if(t===i||t.contains(i))return n.touches[e].identifier}}(E,this._el.nativeElement):void 0;const A=Yq(E,this._touchId);if(A){const M=this.value;this._isSliding="pointer",this._lastPointerEvent=E,E.preventDefault(),this._focusHostElement(),this._onMouseenter(),this._bindGlobalEvents(E),this._focusHostElement(),this._setOnSlideStart(),this._updateValueFromPosition(A.x,A.y),CA(M,this.value)||(this._emitInputEvent(),this._changes.next())}})},this._pointerMove=E=>{if("pointer"===this._isSliding){const A=Yq(E,this._touchId);if(A){E.preventDefault();const M=this.value;this._lastPointerEvent=E,this._updateValueFromPosition(A.x,A.y),CA(M,this.value)||(this._emitInputEvent(),this._changes.next())}}},this._pointerUp=E=>{"pointer"===this._isSliding&&(!Jw(E)||"number"!=typeof this._touchId||dL(E.changedTouches,this._touchId))&&(E.preventDefault(),this._removeGlobalEvents(),this._isSliding=null,this._touchId=void 0,this._renderer.removeClass(this._el.nativeElement,this.classes.sliding),!CA(this._valueOnSlideStart,this.value)&&!this.disabled&&(this._emitChangeEvent(),this._changes.next()),this._thumbsOnSlideStart=null,this._closestIndex=null,this._valueOnSlideStart=this._lastPointerEvent=null)},this._document=m,r.addClass(i.nativeElement,this.classes.root),d.runOutsideAngular(()=>{const E=i.nativeElement;E.addEventListener("mousedown",this._pointerDown,Pl),E.addEventListener("touchstart",this._pointerDown,Pl)})}get thumbVisible(){return this._thumbVisible}set thumbVisible(e){const i=null!=e?pn(e):null;if(i!==this.thumbVisible){const{thumbVisible:r}=this.classes,{thumbNotVisible:s}=this.classes;this._thumbVisible=i,this.sRenderer.toggleClass(r,!0===i),this.sRenderer.toggleClass(s,!1===i)}}get marks(){return this._marks}set marks(e){const i=pn(e);if(i!==this.marks){const r=this.classes.marked;i?(this._renderer.addClass(this._el.nativeElement,r),this._marksClass=r,this._marks=Array.isArray(e)?e:i):this._marksClass&&(this._marks=!1,this._renderer.removeClass(this._el.nativeElement,r),this._marksClass=null),this._marksList=Array.isArray(i)?e:null}}get max(){return this._max}set max(e){this._max=qr(e,this._max),this._updateThumbs(),this._cd.markForCheck()}get min(){return this._min}set min(e){this._min=qr(e,this._min),null===this._value&&(this.value=this._min),this._updateThumbs(),this._cd.markForCheck()}set appearance(e){e!==this.appearance&&(this._appearance=e,this._appearanceClass=this.sRenderer.add(`${n.\u0438}.appearance:${e}`,(i,r)=>{const s=r.selectorsOf(Wy);if(i.slider&&i.slider.appearance){const c=i.slider.appearance[e];if(c)return c instanceof gn?c.setTransformer(d=>d(s)).css:c(s)}throw new Error(`${e} not found in theme.slider.appearance`)},-2,this._appearanceClass))}get appearance(){return this._appearance}get color(){return this._color}set color(e){this._color=e,this._colorClass=this.sRenderer.add(`${n.\u0438}.color:${e}`,(s,c)=>{const d=s.colorOf(e),f=s.colorOf(`${e}:contrast`),m=c.selectorsOf(Wy);if(s.slider&&s.slider.color){const v=s.slider.color;if(v)return v instanceof gn?v.setTransformer(E=>E(m,d,f)).css:v(m,d,f)}throw new Error(`${e} not found in theme.slider.color`)},-1,this._colorClass)}get vertical(){return this._vertical}set vertical(e){const i=pn(e);this._vertical=i,this._verticalClass=this._theme.updateClass(this._el.nativeElement,this._renderer,i?this.classes.vertical:this.classes.horizontal,this._verticalClass),this._updateThumbs(),this._cd.markForCheck()}get step(){return this._step}set step(e){this._step=qr(e,this._step),this._stepPrecision=this._step%1!=0?this._step.toString().split(".")[1].length:null,this._cd.markForCheck()}get value(){return this._value}set value(e){if(e!==this._value){const i=Array.isArray(e);if("number"==typeof e){let r=Number(e);r=r===this.min||r===this.max?r:parseFloat(r.toFixed(this._stepPrecision)),this._value=r}else if(i&&!Zq(this._value,e)){let r=e;r=r.map(s=>null===s||s===this.min||s===this.max?s:parseFloat(s.toFixed(this._stepPrecision))),this._value=r}this._thumbs=(i?this._value:[this._value]).map((r,s)=>({index:s,value:qr(r,this.min),displayValue:null,percent:null,styles:{},focused:this._thumbs?.[s]?.focused})),this._updateThumbs(),this._cd.markForCheck()}}get disabled(){return this._disabled}set disabled(e){const i=pn(e);i!==this.disabled&&(this._disabled=i,i?Promise.resolve(null).then(()=>{const r=this.color;let c;c=(f,m)=>{const v=f.colorOf(r),E=m.selectorsOf(Wy);if(f.slider&&f.slider.disabled){const A=f.slider.disabled;if(A)return A instanceof gn?A.setTransformer(M=>M(E,v)).css:A(E,v)}throw new Error(`${e} not found in theme.slider.color`)};const d=this.sRenderer.add(`${n.\u0438}.disabled:${e}-${r}`,c,-.5,this._disabledClass);this.sRenderer.addClass(this.classes.disabled),this._disabledClass=d}):this._disabledClass&&(this.sRenderer.removeClass(this._disabledClass),this.sRenderer.removeClass(this.classes.disabled),this._disabledClass=null))}get ticks(){return this._ticks}set ticks(e){const i=qr(e,pn(e));this._ticks=i}get _tickList(){return this.__tickList}ngOnChanges(){this._updateTickValues(),this._changes.next()}ngOnInit(){this._theme.directionChanged.pipe(VN(this)).subscribe(()=>{this.ngOnChanges(),this._updateThumbs(),this._cd.markForCheck()}),null==this.appearance&&(this.appearance=this._default&&this._default.appearance||"standard"),null==this.size&&(this.size="small"),null==this.vertical&&(this.vertical=!1),null==this.color&&(this.color="accent"),null==this.step&&(this.step=1)}ngAfterViewInit(){this._focusMonitor.monitor(this._el,!0).subscribe(e=>{this._cd.detectChanges()})}ngOnDestroy(){const e=this._el.nativeElement;this._focusMonitor.stopMonitoring(this._el),e.removeEventListener("mousedown",this._pointerDown,Pl),e.removeEventListener("touchstart",this._pointerDown,Pl),this._lastPointerEvent=null,this._changes.complete()}writeValue(e){this.value=e,this._changes.next()}registerOnChange(e){this._controlValueAccessorChangeFn=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}_onMouseenter(){this.disabled||(this._sliderDimensions=this._getSliderDimensions())}_onFocus(){this._sliderDimensions=this._getSliderDimensions()}_onBlur(){this.onTouched()}_onKeydown(e){if(this.disabled||vl(e)||this._isSliding&&"keyboard"!==this._isSliding)return;this._isSliding="keyboard";const i=this.value;switch(e.keyCode){case 33:this._increment(10);break;case 34:this._increment(-10);break;case 35:this.value=this.max;break;case 36:this.value=this.min;break;case 37:this._increment(this._getDirection()===Po.rtl?1:-1);break;case 38:this._increment(1);break;case 39:this._increment(this._getDirection()===Po.rtl?-1:1);break;case 40:this._increment(-1);break;default:return}CA(i,this.value)||(this._emitInputEvent(),this._emitChangeEvent(),this._changes.next()),e.preventDefault()}_onKeyup(){"keyboard"===this._isSliding&&(this._renderer.removeClass(this._el.nativeElement,this.classes.sliding),this._isSliding=null,this._thumbsOnSlideStart=null,this._valueOnSlideStart=null,this._closestIndex=null)}_onFocusThumb(e){this.disabled||(e.focused=!0)}_onBlurThumb(e){this.disabled||(e.focused=!1)}_setOnSlideStart(){this._valueOnSlideStart||(this._renderer.addClass(this._el.nativeElement,this.classes.sliding),this._valueOnSlideStart=Array.isArray(this.value)?this.value.slice(0):this.value,this._thumbsOnSlideStart=this._thumbs.slice(0).map(e=>({...e})))}_trackByFn(e,i){return i.index}_getDirection(){return this._theme.variables.direction}_updateValueFromPosition(e,i){if(!this._sliderDimensions)return;const r=this._sliderDimensions.width;e-=this._sliderDimensions.left;let d,c=EA(this.vertical?Kw(i-=this._sliderDimensions.top,0,this._sliderDimensions.height):Kw(e,0,r),0,100);(this.vertical||!this.vertical&&this._theme.variables.direction===Po.rtl)&&(c=100-c),d=0===c?this.min:100===c?this.max:this._roundValueToStep(function zoe(n,t,e){return n/100*(e-t)+t}(c,this.min,this.max)),null==this._closestIndex&&(this._closestIndex=function Goe(n,t){const{index:e}=n.reduce((i,r,s)=>{const c=Math.abs(t-r);return null===i||c<i.distance||c===i.distance?{distance:c,index:s}:i},null);return e}(this._thumbs.map(v=>v.value),d)),this._slidingThumbValue=this._thumbsOnSlideStart[this._closestIndex].value=d,this.value=Array.isArray(this.value)?this._thumbsOnSlideStart.map(v=>v.value).sort(Wq):d;const m=this._thumbs.find(v=>v.value===d);m&&(m.focused=!0,this._thumbsRef.toArray()[m.index].nativeElement.focus())}_updateThumbs(){this._thumbs.forEach(e=>{const i=EA(e.value,this.min,this.max),r=Kw(i,this.min,this.max),s=this._calculatePosition(r);e.value=i,e.displayValue=this._transformValue(i),e.percent=r,"pointer"===this._isSliding&&(e.focused=!1),e.styles={[s.style]:s.value}}),this._updateTrack()}_calculatePosition(e){let i;return i=this.vertical?"bottom":"rtl"===this._theme.variables.direction?"right":"left",{style:i,value:`${e}%`}}_updateTrack(){const e=this._track,i=this._thumbs,r=i.map(v=>v.percent);1===i.length&&r.unshift(0);const s=this._minPercent=Math.min(...r),d=(this._maxPercent=Math.max(...r))/100-s/100,f=this.vertical?"height":"width",m=this.vertical?"bottom":"rtl"===this._theme.variables.direction?"right":"left";e&&(e.nativeElement.style.width="",e.nativeElement.style.height="",e.nativeElement.style.left="",e.nativeElement.style.right="",e.nativeElement.style[f]=100*d+"%",e.nativeElement.style[m]=`${s}%`)}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.value),this.valueChange.emit(this.value),this.change.emit(this._createChangeEvent())}_emitInputEvent(){this.input.emit(this._createChangeEvent())}_createChangeEvent(e=this.value){return new Hoe(this,e)}_roundValueToStep(e){return Number((Math.round(e/this.step)*this.step).toFixed(this._stepPrecision))}_transformValue(e){return this.displayWith?this.displayWith(e):e}_increment(e){this._setOnSlideStart(),null==this._closestIndex&&(this._closestIndex=this._thumbsOnSlideStart.findIndex(d=>d.focused));const r=this._thumbsOnSlideStart[this._closestIndex],s=EA((r.value||0)+this.step*e,this.min,this.max);r.value=s,this.value=Array.isArray(this.value)?this._thumbsOnSlideStart.map(d=>d.value).sort(Wq):s;const c=this._thumbs.find(d=>d.value===s);c&&(c.focused=!0,this._thumbsRef?.forEach((d,f)=>{f===c.index?d.nativeElement.focus():this._thumbs[f].focused=!1}))}_getHostElement(){return this._el.nativeElement}_getSliderDimensions(){return this._bg?this._bg.nativeElement.getBoundingClientRect():null}_updateTickValues(){if(this.__tickList=[],!this.ticks||null==this.step)return!1;{const e=this.ticks;this._tickInterval="number"==typeof e?this.step*e:this.step,this.__tickList=[];const i=this._tickInterval;let r=this.min;for(this.__tickList.push(r);r<=this.max;){r+=i;const s=EA(r,this.min,this.max);if(this.__tickList.push(s),s===this.max)break}}this._cd.markForCheck()}_focusHostElement(e){this._el.nativeElement.focus(e)}_bindGlobalEvents(e){const i=this._document,r=Jw(e),c=r?"touchend":"mouseup";i.addEventListener(r?"touchmove":"mousemove",this._pointerMove,Pl),i.addEventListener(c,this._pointerUp,Pl),r&&i.addEventListener("touchcancel",this._pointerUp,Pl);const d=this._getWindow();typeof d<"u"&&d&&d.addEventListener("blur",this._windowBlur)}_removeGlobalEvents(){const e=this._document;e.removeEventListener("mousemove",this._pointerMove,Pl),e.removeEventListener("mouseup",this._pointerUp,Pl),e.removeEventListener("touchmove",this._pointerMove,Pl),e.removeEventListener("touchend",this._pointerUp,Pl),e.removeEventListener("touchcancel",this._pointerUp,Pl);const i=this._getWindow();typeof i<"u"&&i&&i.removeEventListener("blur",this._windowBlur)}_getWindow(){return this._document.defaultView||window}}return n.\u0438="LySlider",n.\u0275fac=function(e){return new(e||n)(o.Y36(PN),o.Y36(o.SBq),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(Ud),o.Y36(o.R0b),o.Y36(oc),o.Y36(se),o.Y36(Uoe,8))},n.\u0275cmp=o.Xpm({type:n,selectors:[["ly-slider"]],viewQuery:function(e,i){if(1&e&&(o.Gf(Ioe,7),o.Gf(Soe,5),o.Gf(Toe,7),o.Gf(Aoe,7),o.Gf(xoe,5)),2&e){let r;o.iGM(r=o.CRH())&&(i._wrapper=r.first),o.iGM(r=o.CRH())&&(i._bg=r.first),o.iGM(r=o.CRH())&&(i._track=r.first),o.iGM(r=o.CRH())&&(i._ticksRef=r.first),o.iGM(r=o.CRH())&&(i._thumbsRef=r)}},hostBindings:function(e,i){1&e&&o.NdJ("focus",function(){return i._onFocus()})("blur",function(){return i._onBlur()})("keydown",function(s){return i._onKeydown(s)})("keyup",function(){return i._onKeyup()})("mouseenter",function(){return i._onMouseenter()})("selectstart",function(s){return s.preventDefault()})},inputs:{thumbVisible:"thumbVisible",marks:"marks",max:"max",min:"min",appearance:"appearance",size:"size",color:"color",vertical:"vertical",step:"step",value:"value",disabled:"disabled",ticks:"ticks",displayWith:"displayWith"},outputs:{change:"change",input:"input",valueChange:"valueChange"},exportAs:["lySlider"],features:[o._Bn([$oe,Ud,{provide:cL,useExisting:n}]),o.TTD],ngContentSelectors:Voe,decls:12,vars:8,consts:[[3,"className"],["wrapper",""],["bg",""],["track",""],[3,"ngIf"],["ticksRef",""],[3,"className","ngStyle",4,"ngFor","ngForOf","ngForTrackBy"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[3,"className","ngStyle"],[3,"className","ngClass","focus","blur"],["thumbsRef",""],[3,"className",4,"ngIf"]],template:function(e,i){1&e&&(o.F$t(Loe),o.TgZ(0,"div",0,1),o._UZ(2,"div",0,2)(4,"div",0,3),o.YNc(6,koe,1,1,"ng-template",4),o._UZ(7,"span",null,5),o.YNc(9,Roe,1,0,"ng-template",4),o.YNc(10,Poe,1,1,"ng-template",4),o.YNc(11,Noe,5,7,"div",6),o.qZA()),2&e&&(o.Q6J("className",i.classes.wrapper),o.xp6(2),o.Q6J("className",i.classes.bg),o.xp6(2),o.Q6J("className",i.classes.track),o.xp6(2),o.Q6J("ngIf",i.ticks),o.xp6(3),o.Q6J("ngIf",i.marks),o.xp6(1),o.Q6J("ngIf",i._marksList),o.xp6(1),o.Q6J("ngForOf",i._thumbs)("ngForTrackBy",i._trackByFn))},directives:[Boe,Kn,kr,uL,Ac,yn],encapsulation:2,changeDetection:0}),(0,az.gn)([Bne(t=>(e,i)=>{const r=i.selectorsOf(Wy);if(e.slider?.size){const s=e.slider.size[t];if(s)return s instanceof gn?s.setTransformer(c=>c(r)).css:s(r)}throw new Error(`${n.\u0438}: styles theme.checkbox.size is undefined`)},-2)],n.prototype,"size",void 0),n})();function Zq(n,t){return Array.isArray(n)&&Array.isArray(t)&&n.length===t.length&&n.every((e,i)=>e===t[i])}function CA(n,t){return n===t||Zq(n,t)}function EA(n,t,e){return n<t?t:n>e?e:n}function Wq(n,t){return n-t}function Jw(n){return"t"===n.type[0]}function Yq(n,t){let e;return e=Jw(n)?"number"==typeof t?dL(n.touches,t)||dL(n.changedTouches,t):n.touches[0]||n.changedTouches[0]:n,e?{x:e.clientX,y:e.clientY}:void 0}function dL(n,t){for(let e=0;e<n.length;e++)if(n[e].identifier===t)return n[e]}let Zoe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n}),n.\u0275inj=o.cJS({imports:[[Qi,Mz]]}),n})();!function ha(n,t,e){(0,o.dwT)(n,t,e)}(boe,"pt",woe);let Woe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=o.oAB({type:n,bootstrap:[yoe]}),n.\u0275inj=o.cJS({providers:[da,{provide:o.soG,useValue:"pt"},{provide:GE,useValue:"pt"},{provide:mr,useClass:Eoe},{provide:cu,useValue:Coe},[PN],[Ud],{provide:hz,useValue:"minima-light"},{provide:dz,useClass:vie,multi:!0}],imports:[[Nc,hoe,Gv,gL,XM,gd,bD,nm,zM,AD,mI,SR,wV,F5,q5,fp,e4,g4,Lr.hO.initializeApp(lL_firebaseConfig),mZ,DQ,rY,Pte,die,Zoe,Mz]]}),n})();(0,o.G48)(),rh().bootstrapModule(Woe).catch(n=>console.error(n))},5867:(yt,Pe,V)=>{V.d(Pe,{C6:()=>o.getApps,Mq:()=>o.getApp});var o=V(9681);(0,o.registerVersion)("firebase","9.10.0","app")},127:(yt,Pe,V)=>{V.d(Pe,{Z:()=>o.Z});var o=V(3942);o.Z.registerVersion("firebase","9.10.0","app-compat")},5881:(yt,Pe,V)=>{V.r(Pe);var o=V(5861),H=V(3942),F=V(7143),de=V(2090),se=(V(9681),V(1877),V(4859));function pe(){return window}function Z(){return(Z=(0,o.Z)(function*(ne,X,Q){var Me;const{BuildInfo:tt}=pe();(0,F.aq)(X.sessionId,"AuthEvent did not contain a session ID");const mt=yield Te(X.sessionId),Pt={};return(0,F.ar)()?Pt.ibi=tt.packageName:(0,F.as)()?Pt.apn=tt.packageName:(0,F.at)(ne,"operation-not-supported-in-this-environment"),tt.displayName&&(Pt.appDisplayName=tt.displayName),Pt.sessionId=mt,(0,F.au)(ne,Q,X.type,void 0,null!==(Me=X.eventId)&&void 0!==Me?Me:void 0,Pt)})).apply(this,arguments)}function Ye(){return(Ye=(0,o.Z)(function*(ne){const{BuildInfo:X}=pe(),Q={};(0,F.ar)()?Q.iosBundleId=X.packageName:(0,F.as)()?Q.androidPackageName=X.packageName:(0,F.at)(ne,"operation-not-supported-in-this-environment"),yield(0,F.av)(ne,Q)})).apply(this,arguments)}function We(){return(We=(0,o.Z)(function*(ne,X,Q){const{cordova:Me}=pe();let tt=()=>{};try{yield new Promise((mt,Pt)=>{let Jt=null;function qt(){var st;mt();const nn=null===(st=Me.plugins.browsertab)||void 0===st?void 0:st.close;"function"==typeof nn&&nn(),"function"==typeof(null==Q?void 0:Q.close)&&Q.close()}function In(){Jt||(Jt=window.setTimeout(()=>{Pt((0,F.aw)(ne,"redirect-cancelled-by-user"))},2e3))}function Ke(){"visible"===(null==document?void 0:document.visibilityState)&&In()}X.addPassiveListener(qt),document.addEventListener("resume",In,!1),(0,F.as)()&&document.addEventListener("visibilitychange",Ke,!1),tt=()=>{X.removePassiveListener(qt),document.removeEventListener("resume",In,!1),document.removeEventListener("visibilitychange",Ke,!1),Jt&&window.clearTimeout(Jt)}})}finally{tt()}})).apply(this,arguments)}function Te(ne){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,o.Z)(function*(ne){const X=Qe(ne),Q=yield crypto.subtle.digest("SHA-256",X);return Array.from(new Uint8Array(Q)).map(tt=>tt.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qe(ne){if((0,F.aq)(/[0-9a-zA-Z]+/.test(ne),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(ne);const X=new ArrayBuffer(ne.length),Q=new Uint8Array(X);for(let Me=0;Me<ne.length;Me++)Q[Me]=ne.charCodeAt(Me);return Q}class ke extends F.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(X=>{this.resolveInialized=X})}addPassiveListener(X){this.passiveListeners.add(X)}removePassiveListener(X){this.passiveListeners.delete(X)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(X){return this.resolveInialized(),this.passiveListeners.forEach(Q=>Q(X)),super.onEvent(X)}initialized(){var X=this;return(0,o.Z)(function*(){yield X.initPromise})()}}function ae(ne){return ye.apply(this,arguments)}function ye(){return(ye=(0,o.Z)(function*(ne){const X=yield le()._get(ue(ne));return X&&(yield le()._remove(ue(ne))),X})).apply(this,arguments)}function ee(){const ne=[],X="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let Q=0;Q<20;Q++){const Me=Math.floor(Math.random()*X.length);ne.push(X.charAt(Me))}return ne.join("")}function le(){return(0,F.ay)(F.b)}function ue(ne){return(0,F.az)("authEvent",ne.config.apiKey,ne.name)}function je(ne){if(!(null==ne?void 0:ne.includes("?")))return{};const[X,...Q]=ne.split("?");return(0,de.zd)(Q.join("?"))}function et(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,F.aw)("no-auth-event")}}function zt(){var ne;return(null===(ne=null==self?void 0:self.location)||void 0===ne?void 0:ne.protocol)||null}function Bn(ne=(0,de.z$)()){return!("file:"!==zt()&&"ionic:"!==zt()&&"capacitor:"!==zt()||!ne.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ur(){try{const ne=self.localStorage,X=F.aI();if(ne)return ne.setItem(X,"1"),ne.removeItem(X),!function Ks(ne=(0,de.z$)()){return function or(){return(0,de.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Zn(ne=(0,de.z$)()){return/Edge\/\d+/.test(ne)}(ne)}()||(0,de.hl)()}catch{return ls()&&(0,de.hl)()}return!1}function ls(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ni(){return(function on(){return"http:"===zt()||"https:"===zt()}()||(0,de.ru)()||Bn())&&!function as(){return(0,de.b$)()||(0,de.UG)()}()&&Ur()&&!ls()}function Ss(){return Bn()&&typeof document<"u"}function ar(){return(ar=(0,o.Z)(function*(){return!!Ss()&&new Promise(ne=>{const X=setTimeout(()=>{ne(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(X),ne(!0)})})})).apply(this,arguments)}const vn={LOCAL:"local",NONE:"none",SESSION:"session"},wi=F.ax,lr="persistence";function $n(ne){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,o.Z)(function*(ne){yield ne._initializationPromise;const X=Zt(),Q=F.az(lr,ne.config.apiKey,ne.name);X&&X.setItem(Q,ne._getPersistence())})).apply(this,arguments)}function Zt(){var ne;try{return(null===(ne=function Un(){return typeof window<"u"?window:null}())||void 0===ne?void 0:ne.sessionStorage)||null}catch{return null}}const vt=F.ax;class dt{constructor(){this.browserResolver=F.ay(F.k),this.cordovaResolver=F.ay(class rn{constructor(){this._redirectPersistence=F.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(X){var Q=this;return(0,o.Z)(function*(){const Me=X._key();let tt=Q.eventManagers.get(Me);return tt||(tt=new ke(X),Q.eventManagers.set(Me,tt),Q.attachCallbackListeners(X,tt)),tt})()}_openPopup(X){(0,F.at)(X,"operation-not-supported-in-this-environment")}_openRedirect(X,Q,Me,tt){var mt=this;return(0,o.Z)(function*(){!function ve(ne){var X,Q,Me,tt,mt,Pt,Jt,qt,In,Ke;const st=pe();(0,F.ax)("function"==typeof(null===(X=null==st?void 0:st.universalLinks)||void 0===X?void 0:X.subscribe),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,F.ax)(typeof(null===(Q=null==st?void 0:st.BuildInfo)||void 0===Q?void 0:Q.packageName)<"u",ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,F.ax)("function"==typeof(null===(mt=null===(tt=null===(Me=null==st?void 0:st.cordova)||void 0===Me?void 0:Me.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===mt?void 0:mt.openUrl),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(qt=null===(Jt=null===(Pt=null==st?void 0:st.cordova)||void 0===Pt?void 0:Pt.plugins)||void 0===Jt?void 0:Jt.browsertab)||void 0===qt?void 0:qt.isAvailable),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,F.ax)("function"==typeof(null===(Ke=null===(In=null==st?void 0:st.cordova)||void 0===In?void 0:In.InAppBrowser)||void 0===Ke?void 0:Ke.open),ne,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(X);const Pt=yield mt._initialize(X);yield Pt.initialized(),Pt.resetRedirect(),(0,F.aD)(),yield mt._originValidation(X);const Jt=function Ae(ne,X,Q=null){return{type:X,eventId:Q,urlResponse:null,sessionId:ee(),postBody:null,tenantId:ne.tenantId,error:(0,F.aw)(ne,"no-auth-event")}}(X,Me,tt);yield function Je(ne,X){return le()._set(ue(ne),X)}(X,Jt);const qt=yield function q(ne,X,Q){return Z.apply(this,arguments)}(X,Jt,Q),In=yield function Ne(ne){const{cordova:X}=pe();return new Promise(Q=>{X.plugins.browsertab.isAvailable(Me=>{let tt=null;Me?X.plugins.browsertab.openUrl(ne):tt=X.InAppBrowser.open(ne,(0,F.ap)()?"_blank":"_system","location=yes"),Q(tt)})})}(qt);return function He(ne,X,Q){return We.apply(this,arguments)}(X,Pt,In)})()}_isIframeWebStorageSupported(X,Q){throw new Error("Method not implemented.")}_originValidation(X){const Q=X._key();return this.originValidationPromises[Q]||(this.originValidationPromises[Q]=function ce(ne){return Ye.apply(this,arguments)}(X)),this.originValidationPromises[Q]}attachCallbackListeners(X,Q){const{universalLinks:Me,handleOpenURL:tt,BuildInfo:mt}=pe(),Pt=setTimeout((0,o.Z)(function*(){yield ae(X),Q.onEvent(et())}),500),Jt=function(){var Ke=(0,o.Z)(function*(st){clearTimeout(Pt);const nn=yield ae(X);let Yi=null;nn&&(null==st?void 0:st.url)&&(Yi=function Se(ne,X){var Q,Me;const tt=function me(ne){const X=je(ne),Q=X.link?decodeURIComponent(X.link):void 0,Me=je(Q).link,tt=X.deep_link_id?decodeURIComponent(X.deep_link_id):void 0;return je(tt).link||tt||Me||Q||ne}(X);if(tt.includes("/__/auth/callback")){const mt=je(tt),Pt=mt.firebaseError?function Ee(ne){try{return JSON.parse(ne)}catch{return null}}(decodeURIComponent(mt.firebaseError)):null,Jt=null===(Me=null===(Q=null==Pt?void 0:Pt.code)||void 0===Q?void 0:Q.split("auth/"))||void 0===Me?void 0:Me[1],qt=Jt?(0,F.aw)(Jt):null;return qt?{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:ne.type,eventId:ne.eventId,tenantId:ne.tenantId,sessionId:ne.sessionId,urlResponse:tt,postBody:null}}return null}(nn,st.url)),Q.onEvent(Yi||et())});return function(nn){return Ke.apply(this,arguments)}}();typeof Me<"u"&&"function"==typeof Me.subscribe&&Me.subscribe(null,Jt);const qt=tt,In=`${mt.packageName.toLowerCase()}://`;pe().handleOpenURL=function(){var Ke=(0,o.Z)(function*(st){if(st.toLowerCase().startsWith(In)&&Jt({url:st}),"function"==typeof qt)try{qt(st)}catch(nn){console.error(nn)}});return function(st){return Ke.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=F.a,this._completeRedirectFn=F.aB,this._overrideRedirectResult=F.aC}_initialize(X){var Q=this;return(0,o.Z)(function*(){return yield Q.selectUnderlyingResolver(),Q.assertedUnderlyingResolver._initialize(X)})()}_openPopup(X,Q,Me,tt){var mt=this;return(0,o.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openPopup(X,Q,Me,tt)})()}_openRedirect(X,Q,Me,tt){var mt=this;return(0,o.Z)(function*(){return yield mt.selectUnderlyingResolver(),mt.assertedUnderlyingResolver._openRedirect(X,Q,Me,tt)})()}_isIframeWebStorageSupported(X,Q){this.assertedUnderlyingResolver._isIframeWebStorageSupported(X,Q)}_originValidation(X){return this.assertedUnderlyingResolver._originValidation(X)}get _shouldInitProactively(){return Ss()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return vt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var X=this;return(0,o.Z)(function*(){if(X.underlyingResolver)return;const Q=yield function It(){return ar.apply(this,arguments)}();X.underlyingResolver=Q?X.cordovaResolver:X.browserResolver})()}}function $r(ne){return ne.unwrap()}function Wt(ne){return ii(ne)}function ii(ne){const{_tokenResponse:X}=ne instanceof de.ZR?ne.customData:ne;if(!X)return null;if(!(ne instanceof de.ZR)&&"temporaryProof"in X&&"phoneNumber"in X)return F.P.credentialFromResult(ne);const Q=X.providerId;if(!Q||Q===F.o.PASSWORD)return null;let Me;switch(Q){case F.o.GOOGLE:Me=F.Q;break;case F.o.FACEBOOK:Me=F.N;break;case F.o.GITHUB:Me=F.T;break;case F.o.TWITTER:Me=F.W;break;default:const{oauthIdToken:tt,oauthAccessToken:mt,oauthTokenSecret:Pt,pendingToken:Jt,nonce:qt}=X;return mt||Pt||tt||Jt?Jt?Q.startsWith("saml.")?F.aL._create(Q,Jt):F.J._fromParams({providerId:Q,signInMethod:Q,pendingToken:Jt,idToken:tt,accessToken:mt}):new F.U(Q).credential({idToken:tt,accessToken:mt,rawNonce:qt}):null}return ne instanceof de.ZR?Me.credentialFromError(ne):Me.credentialFromResult(ne)}function xn(ne,X){return X.catch(Q=>{throw Q instanceof de.ZR&&function cs(ne,X){var Q,Me;const tt=null===(Q=X.customData)||void 0===Q?void 0:Q._tokenResponse;if("auth/multi-factor-auth-required"===(null===(Me=X)||void 0===Me?void 0:Me.code))X.resolver=new W(ne,F.an(ne,X));else if(tt){const mt=ii(X),Pt=X;mt&&(Pt.credential=mt,Pt.tenantId=tt.tenantId||void 0,Pt.email=tt.email||void 0,Pt.phoneNumber=tt.phoneNumber||void 0)}}(ne,Q),Q}).then(Q=>{const tt=Q.user;return{operationType:Q.operationType,credential:Wt(Q),additionalUserInfo:F.al(Q),user:G.getOrCreate(tt)}})}function bt(ne,X){return wr.apply(this,arguments)}function wr(){return(wr=(0,o.Z)(function*(ne,X){const Q=yield X;return{verificationId:Q.verificationId,confirm:Me=>xn(ne,Q.confirm(Me))}})).apply(this,arguments)}class W{constructor(X,Q){this.resolver=Q,this.auth=function Hr(ne){return ne.wrapped()}(X)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(X){return xn($r(this.auth),this.resolver.resolveSignIn(X))}}class G{constructor(X){this._delegate=X,this.multiFactor=F.ao(X)}static getOrCreate(X){return G.USER_MAP.has(X)||G.USER_MAP.set(X,new G(X)),G.USER_MAP.get(X)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(X){return this._delegate.getIdTokenResult(X)}getIdToken(X){return this._delegate.getIdToken(X)}linkAndRetrieveDataWithCredential(X){return this.linkWithCredential(X)}linkWithCredential(X){var Q=this;return(0,o.Z)(function*(){return xn(Q.auth,F.Z(Q._delegate,X))})()}linkWithPhoneNumber(X,Q){var Me=this;return(0,o.Z)(function*(){return bt(Me.auth,F.l(Me._delegate,X,Q))})()}linkWithPopup(X){var Q=this;return(0,o.Z)(function*(){return xn(Q.auth,F.d(Q._delegate,X,dt))})()}linkWithRedirect(X){var Q=this;return(0,o.Z)(function*(){return yield $n(F.aE(Q.auth)),F.g(Q._delegate,X,dt)})()}reauthenticateAndRetrieveDataWithCredential(X){return this.reauthenticateWithCredential(X)}reauthenticateWithCredential(X){var Q=this;return(0,o.Z)(function*(){return xn(Q.auth,F._(Q._delegate,X))})()}reauthenticateWithPhoneNumber(X,Q){return bt(this.auth,F.r(this._delegate,X,Q))}reauthenticateWithPopup(X){return xn(this.auth,F.e(this._delegate,X,dt))}reauthenticateWithRedirect(X){var Q=this;return(0,o.Z)(function*(){return yield $n(F.aE(Q.auth)),F.h(Q._delegate,X,dt)})()}sendEmailVerification(X){return F.ab(this._delegate,X)}unlink(X){var Q=this;return(0,o.Z)(function*(){return yield F.ak(Q._delegate,X),Q})()}updateEmail(X){return F.ag(this._delegate,X)}updatePassword(X){return F.ah(this._delegate,X)}updatePhoneNumber(X){return F.u(this._delegate,X)}updateProfile(X){return F.af(this._delegate,X)}verifyBeforeUpdateEmail(X,Q){return F.ac(this._delegate,X,Q)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const j=F.ax;let z=(()=>{class ne{constructor(Q,Me){if(this.app=Q,Me.isInitialized())return this._delegate=Me.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:tt}=Q.options;j(tt,"invalid-api-key",{appName:Q.name}),j(tt,"invalid-api-key",{appName:Q.name});const mt=typeof window<"u"?dt:void 0;this._delegate=Me.initialize({options:{persistence:Re(tt,Q.name),popupRedirectResolver:mt}}),this._delegate._updateErrorMap(F.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(Q){this._delegate.languageCode=Q}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(Q){this._delegate.tenantId=Q}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(Q,Me){F.G(this._delegate,Q,Me)}applyActionCode(Q){return F.a2(this._delegate,Q)}checkActionCode(Q){return F.a3(this._delegate,Q)}confirmPasswordReset(Q,Me){return F.a1(this._delegate,Q,Me)}createUserWithEmailAndPassword(Q,Me){var tt=this;return(0,o.Z)(function*(){return xn(tt._delegate,F.a5(tt._delegate,Q,Me))})()}fetchProvidersForEmail(Q){return this.fetchSignInMethodsForEmail(Q)}fetchSignInMethodsForEmail(Q){return F.aa(this._delegate,Q)}isSignInWithEmailLink(Q){return F.a8(this._delegate,Q)}getRedirectResult(){var Q=this;return(0,o.Z)(function*(){j(ni(),Q._delegate,"operation-not-supported-in-this-environment");const Me=yield F.j(Q._delegate,dt);return Me?xn(Q._delegate,Promise.resolve(Me)):{credential:null,user:null}})()}addFrameworkForLogging(Q){!function En(ne,X){(0,F.aE)(ne)._logFramework(X)}(this._delegate,Q)}onAuthStateChanged(Q,Me,tt){const{next:mt,error:Pt,complete:Jt}=Y(Q,Me,tt);return this._delegate.onAuthStateChanged(mt,Pt,Jt)}onIdTokenChanged(Q,Me,tt){const{next:mt,error:Pt,complete:Jt}=Y(Q,Me,tt);return this._delegate.onIdTokenChanged(mt,Pt,Jt)}sendSignInLinkToEmail(Q,Me){return F.a7(this._delegate,Q,Me)}sendPasswordResetEmail(Q,Me){return F.a0(this._delegate,Q,Me||void 0)}setPersistence(Q){var Me=this;return(0,o.Z)(function*(){let tt;switch(function Ci(ne,X){wi(Object.values(vn).includes(X),ne,"invalid-persistence-type"),(0,de.b$)()?wi(X!==vn.SESSION,ne,"unsupported-persistence-type"):(0,de.UG)()?wi(X===vn.NONE,ne,"unsupported-persistence-type"):ls()?wi(X===vn.NONE||X===vn.LOCAL&&(0,de.hl)(),ne,"unsupported-persistence-type"):wi(X===vn.NONE||Ur(),ne,"unsupported-persistence-type")}(Me._delegate,Q),Q){case vn.SESSION:tt=F.a;break;case vn.LOCAL:tt=(yield F.ay(F.i)._isAvailable())?F.i:F.b;break;case vn.NONE:tt=F.L;break;default:return F.at("argument-error",{appName:Me._delegate.name})}return Me._delegate.setPersistence(tt)})()}signInAndRetrieveDataWithCredential(Q){return this.signInWithCredential(Q)}signInAnonymously(){return xn(this._delegate,F.X(this._delegate))}signInWithCredential(Q){return xn(this._delegate,F.Y(this._delegate,Q))}signInWithCustomToken(Q){return xn(this._delegate,F.$(this._delegate,Q))}signInWithEmailAndPassword(Q,Me){return xn(this._delegate,F.a6(this._delegate,Q,Me))}signInWithEmailLink(Q,Me){return xn(this._delegate,F.a9(this._delegate,Q,Me))}signInWithPhoneNumber(Q,Me){return bt(this._delegate,F.s(this._delegate,Q,Me))}signInWithPopup(Q){var Me=this;return(0,o.Z)(function*(){return j(ni(),Me._delegate,"operation-not-supported-in-this-environment"),xn(Me._delegate,F.c(Me._delegate,Q,dt))})()}signInWithRedirect(Q){var Me=this;return(0,o.Z)(function*(){return j(ni(),Me._delegate,"operation-not-supported-in-this-environment"),yield $n(Me._delegate),F.f(Me._delegate,Q,dt)})()}updateCurrentUser(Q){return this._delegate.updateCurrentUser(Q)}verifyPasswordResetCode(Q){return F.a4(this._delegate,Q)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return ne.Persistence=vn,ne})();function Y(ne,X,Q){let Me=ne;"function"!=typeof ne&&({next:Me,error:X,complete:Q}=ne);const tt=Me;return{next:Pt=>tt(Pt&&G.getOrCreate(Pt)),error:X,complete:Q}}function Re(ne,X){const Q=function Qs(ne,X){const Q=Zt();if(!Q)return[];const Me=F.az(lr,ne,X);switch(Q.getItem(Me)){case vn.NONE:return[F.L];case vn.LOCAL:return[F.i,F.a];case vn.SESSION:return[F.a];default:return[]}}(ne,X);if(typeof self<"u"&&!Q.includes(F.i)&&Q.push(F.i),typeof window<"u")for(const Me of[F.b,F.a])Q.includes(Me)||Q.push(Me);return Q.includes(F.L)||Q.push(F.L),Q}class Ze{constructor(){this.providerId="phone",this._delegate=new F.P($r(H.Z.auth()))}static credential(X,Q){return F.P.credential(X,Q)}verifyPhoneNumber(X,Q){return this._delegate.verifyPhoneNumber(X,Q)}unwrap(){return this._delegate}}Ze.PHONE_SIGN_IN_METHOD=F.P.PHONE_SIGN_IN_METHOD,Ze.PROVIDER_ID=F.P.PROVIDER_ID;const Mt=F.ax;class hn{constructor(X,Q,Me=H.Z.app()){var tt;Mt(null===(tt=Me.options)||void 0===tt?void 0:tt.apiKey,"invalid-api-key",{appName:Me.name}),this._delegate=new F.R(X,Q,Me.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Di(ne){ne.INTERNAL.registerComponent(new se.wA("auth-compat",X=>{const Q=X.getProvider("app-compat").getImmediate(),Me=X.getProvider("auth");return new z(Q,Me)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:F.A.EMAIL_SIGNIN,PASSWORD_RESET:F.A.PASSWORD_RESET,RECOVER_EMAIL:F.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:F.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:F.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:F.A.VERIFY_EMAIL}},EmailAuthProvider:F.M,FacebookAuthProvider:F.N,GithubAuthProvider:F.T,GoogleAuthProvider:F.Q,OAuthProvider:F.U,SAMLAuthProvider:F.V,PhoneAuthProvider:Ze,PhoneMultiFactorGenerator:F.m,RecaptchaVerifier:hn,TwitterAuthProvider:F.W,Auth:z,AuthCredential:F.H,Error:de.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ne.registerVersion("@firebase/auth-compat","0.2.20")}(H.Z)},8306:(yt,Pe,V)=>{V.d(Pe,{y:()=>q});var o=V(930),H=V(727),F=V(8822),de=V(4671);var se=V(2416),pe=V(576),De=V(2806);let q=(()=>{class Ne{constructor(We){We&&(this._subscribe=We)}lift(We){const ve=new Ne;return ve.source=this,ve.operator=We,ve}subscribe(We,ve,Te){const Xe=function Ye(Ne){return Ne&&Ne instanceof o.Lv||function ce(Ne){return Ne&&(0,pe.m)(Ne.next)&&(0,pe.m)(Ne.error)&&(0,pe.m)(Ne.complete)}(Ne)&&(0,H.Nn)(Ne)}(We)?We:new o.Hp(We,ve,Te);return(0,De.x)(()=>{const{operator:Qe,source:Ue}=this;Xe.add(Qe?Qe.call(Xe,Ue):Ue?this._subscribe(Xe):this._trySubscribe(Xe))}),Xe}_trySubscribe(We){try{return this._subscribe(We)}catch(ve){We.error(ve)}}forEach(We,ve){return new(ve=Z(ve))((Te,Xe)=>{const Qe=new o.Hp({next:Ue=>{try{We(Ue)}catch(ke){Xe(ke),Qe.unsubscribe()}},error:Xe,complete:Te});this.subscribe(Qe)})}_subscribe(We){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(We)}[F.L](){return this}pipe(...We){return function we(Ne){return 0===Ne.length?de.y:1===Ne.length?Ne[0]:function(We){return Ne.reduce((ve,Te)=>Te(ve),We)}}(We)(this)}toPromise(We){return new(We=Z(We))((ve,Te)=>{let Xe;this.subscribe(Qe=>Xe=Qe,Qe=>Te(Qe),()=>ve(Xe))})}}return Ne.create=He=>new Ne(He),Ne})();function Z(Ne){var He;return null!==(He=Ne??se.v.Promise)&&void 0!==He?He:Promise}},7579:(yt,Pe,V)=>{V.d(Pe,{x:()=>se});var o=V(8306),H=V(727);const de=(0,V(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=V(8737),we=V(2806);let se=(()=>{class De extends o.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Z){const ce=new pe(this,this);return ce.operator=Z,ce}_throwIfClosed(){if(this.closed)throw new de}next(Z){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(Z)}})}error(Z){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Z;const{observers:ce}=this;for(;ce.length;)ce.shift().error(Z)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Z}=this;for(;Z.length;)Z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Z;return(null===(Z=this.observers)||void 0===Z?void 0:Z.length)>0}_trySubscribe(Z){return this._throwIfClosed(),super._trySubscribe(Z)}_subscribe(Z){return this._throwIfClosed(),this._checkFinalizedStatuses(Z),this._innerSubscribe(Z)}_innerSubscribe(Z){const{hasError:ce,isStopped:Ye,observers:Ne}=this;return ce||Ye?H.Lc:(this.currentObservers=null,Ne.push(Z),new H.w0(()=>{this.currentObservers=null,(0,fe.P)(Ne,Z)}))}_checkFinalizedStatuses(Z){const{hasError:ce,thrownError:Ye,isStopped:Ne}=this;ce?Z.error(Ye):Ne&&Z.complete()}asObservable(){const Z=new o.y;return Z.source=this,Z}}return De.create=(q,Z)=>new pe(q,Z),De})();class pe extends se{constructor(q,Z){super(),this.destination=q,this.source=Z}next(q){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.next)||void 0===ce||ce.call(Z,q)}error(q){var Z,ce;null===(ce=null===(Z=this.destination)||void 0===Z?void 0:Z.error)||void 0===ce||ce.call(Z,q)}complete(){var q,Z;null===(Z=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===Z||Z.call(q)}_subscribe(q){var Z,ce;return null!==(ce=null===(Z=this.source)||void 0===Z?void 0:Z.subscribe(q))&&void 0!==ce?ce:H.Lc}}},930:(yt,Pe,V)=>{V.d(Pe,{Hp:()=>We,Lv:()=>ce});var o=V(576),H=V(727),F=V(2416),de=V(7849),fe=V(5032);const we=De("C",void 0,void 0);function De(Ue,ke,Ae){return{kind:Ue,value:ke,error:Ae}}var q=V(3410),Z=V(2806);class ce extends H.w0{constructor(ke){super(),this.isStopped=!1,ke?(this.destination=ke,(0,H.Nn)(ke)&&ke.add(this)):this.destination=Qe}static create(ke,Ae,Je){return new We(ke,Ae,Je)}next(ke){this.isStopped?Xe(function pe(Ue){return De("N",Ue,void 0)}(ke),this):this._next(ke)}error(ke){this.isStopped?Xe(function se(Ue){return De("E",void 0,Ue)}(ke),this):(this.isStopped=!0,this._error(ke))}complete(){this.isStopped?Xe(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ke){this.destination.next(ke)}_error(ke){try{this.destination.error(ke)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function Ne(Ue,ke){return Ye.call(Ue,ke)}class He{constructor(ke){this.partialObserver=ke}next(ke){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(ke)}catch(Je){ve(Je)}}error(ke){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(ke)}catch(Je){ve(Je)}else ve(ke)}complete(){const{partialObserver:ke}=this;if(ke.complete)try{ke.complete()}catch(Ae){ve(Ae)}}}class We extends ce{constructor(ke,Ae,Je){let ae;if(super(),(0,o.m)(ke)||!ke)ae={next:ke??void 0,error:Ae??void 0,complete:Je??void 0};else{let ye;this&&F.v.useDeprecatedNextContext?(ye=Object.create(ke),ye.unsubscribe=()=>this.unsubscribe(),ae={next:ke.next&&Ne(ke.next,ye),error:ke.error&&Ne(ke.error,ye),complete:ke.complete&&Ne(ke.complete,ye)}):ae=ke}this.destination=new He(ae)}}function ve(Ue){F.v.useDeprecatedSynchronousErrorHandling?(0,Z.O)(Ue):(0,de.h)(Ue)}function Xe(Ue,ke){const{onStoppedNotification:Ae}=F.v;Ae&&q.z.setTimeout(()=>Ae(Ue,ke))}const Qe={closed:!0,next:fe.Z,error:function Te(Ue){throw Ue},complete:fe.Z}},727:(yt,Pe,V)=>{V.d(Pe,{Lc:()=>we,w0:()=>fe,Nn:()=>se});var o=V(576);const F=(0,V(3888).d)(De=>function(Z){De(this),this.message=Z?`${Z.length} errors occurred during unsubscription:\n${Z.map((ce,Ye)=>`${Ye+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Z});var de=V(8737);class fe{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:Z}=this;if(Z)if(this._parentage=null,Array.isArray(Z))for(const Ne of Z)Ne.remove(this);else Z.remove(this);const{initialTeardown:ce}=this;if((0,o.m)(ce))try{ce()}catch(Ne){q=Ne instanceof F?Ne.errors:[Ne]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const Ne of Ye)try{pe(Ne)}catch(He){q=q??[],He instanceof F?q=[...q,...He.errors]:q.push(He)}}if(q)throw new F(q)}}add(q){var Z;if(q&&q!==this)if(this.closed)pe(q);else{if(q instanceof fe){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(Z=this._finalizers)&&void 0!==Z?Z:[]).push(q)}}_hasParent(q){const{_parentage:Z}=this;return Z===q||Array.isArray(Z)&&Z.includes(q)}_addParent(q){const{_parentage:Z}=this;this._parentage=Array.isArray(Z)?(Z.push(q),Z):Z?[Z,q]:q}_removeParent(q){const{_parentage:Z}=this;Z===q?this._parentage=null:Array.isArray(Z)&&(0,de.P)(Z,q)}remove(q){const{_finalizers:Z}=this;Z&&(0,de.P)(Z,q),q instanceof fe&&q._removeParent(this)}}fe.EMPTY=(()=>{const De=new fe;return De.closed=!0,De})();const we=fe.EMPTY;function se(De){return De instanceof fe||De&&"closed"in De&&(0,o.m)(De.remove)&&(0,o.m)(De.add)&&(0,o.m)(De.unsubscribe)}function pe(De){(0,o.m)(De)?De():De.unsubscribe()}},2416:(yt,Pe,V)=>{V.d(Pe,{v:()=>o});const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Pe,V)=>{V.d(Pe,{E:()=>H});const H=new(V(8306).y)(fe=>fe.complete())},8996:(yt,Pe,V)=>{V.d(Pe,{D:()=>ke});var o=V(8421),H=V(5363),F=V(9468),we=V(8306),pe=V(2202),De=V(576),q=V(9672);function ce(Ae,Je){if(!Ae)throw new Error("Iterable cannot be null");return new we.y(ae=>{(0,q.f)(ae,Je,()=>{const ye=Ae[Symbol.asyncIterator]();(0,q.f)(ae,Je,()=>{ye.next().then(Se=>{Se.done?ae.complete():ae.next(Se.value)})},0,!0)})})}var Ye=V(3670),Ne=V(8239),He=V(1144),We=V(6495),ve=V(2206),Te=V(4532),Xe=V(3260);function ke(Ae,Je){return Je?function Ue(Ae,Je){if(null!=Ae){if((0,Ye.c)(Ae))return function de(Ae,Je){return(0,o.Xf)(Ae).pipe((0,F.R)(Je),(0,H.Q)(Je))}(Ae,Je);if((0,He.z)(Ae))return function se(Ae,Je){return new we.y(ae=>{let ye=0;return Je.schedule(function(){ye===Ae.length?ae.complete():(ae.next(Ae[ye++]),ae.closed||this.schedule())})})}(Ae,Je);if((0,Ne.t)(Ae))return function fe(Ae,Je){return(0,o.Xf)(Ae).pipe((0,F.R)(Je),(0,H.Q)(Je))}(Ae,Je);if((0,ve.D)(Ae))return ce(Ae,Je);if((0,We.T)(Ae))return function Z(Ae,Je){return new we.y(ae=>{let ye;return(0,q.f)(ae,Je,()=>{ye=Ae[pe.h](),(0,q.f)(ae,Je,()=>{let Se,ee;try{({value:Se,done:ee}=ye.next())}catch(le){return void ae.error(le)}ee?ae.complete():ae.next(Se)},0,!0)}),()=>(0,De.m)(null==ye?void 0:ye.return)&&ye.return()})}(Ae,Je);if((0,Xe.L)(Ae))return function Qe(Ae,Je){return ce((0,Xe.Q)(Ae),Je)}(Ae,Je)}throw(0,Te.z)(Ae)}(Ae,Je):(0,o.Xf)(Ae)}},8421:(yt,Pe,V)=>{V.d(Pe,{Xf:()=>Ye});var o=V(655),H=V(1144),F=V(8239),de=V(8306),fe=V(3670),we=V(2206),se=V(4532),pe=V(6495),De=V(3260),q=V(576),Z=V(7849),ce=V(8822);function Ye(Ue){if(Ue instanceof de.y)return Ue;if(null!=Ue){if((0,fe.c)(Ue))return function Ne(Ue){return new de.y(ke=>{const Ae=Ue[ce.L]();if((0,q.m)(Ae.subscribe))return Ae.subscribe(ke);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,H.z)(Ue))return function He(Ue){return new de.y(ke=>{for(let Ae=0;Ae<Ue.length&&!ke.closed;Ae++)ke.next(Ue[Ae]);ke.complete()})}(Ue);if((0,F.t)(Ue))return function We(Ue){return new de.y(ke=>{Ue.then(Ae=>{ke.closed||(ke.next(Ae),ke.complete())},Ae=>ke.error(Ae)).then(null,Z.h)})}(Ue);if((0,we.D)(Ue))return Te(Ue);if((0,pe.T)(Ue))return function ve(Ue){return new de.y(ke=>{for(const Ae of Ue)if(ke.next(Ae),ke.closed)return;ke.complete()})}(Ue);if((0,De.L)(Ue))return function Xe(Ue){return Te((0,De.Q)(Ue))}(Ue)}throw(0,se.z)(Ue)}function Te(Ue){return new de.y(ke=>{(function Qe(Ue,ke){var Ae,Je,ae,ye;return(0,o.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,o.KL)(Ue);!(Je=yield Ae.next()).done;)if(ke.next(Je.value),ke.closed)return}catch(Se){ae={error:Se}}finally{try{Je&&!Je.done&&(ye=Ae.return)&&(yield ye.call(Ae))}finally{if(ae)throw ae.error}}ke.complete()})})(Ue,ke).catch(Ae=>ke.error(Ae))})}},6451:(yt,Pe,V)=>{V.d(Pe,{T:()=>we});var o=V(8189),H=V(8421),F=V(515),de=V(3269),fe=V(8996);function we(...se){const pe=(0,de.yG)(se),De=(0,de._6)(se,1/0),q=se;return q.length?1===q.length?(0,H.Xf)(q[0]):(0,o.J)(De)((0,fe.D)(q,pe)):F.E}},5403:(yt,Pe,V)=>{V.d(Pe,{x:()=>H});var o=V(930);function H(de,fe,we,se,pe){return new F(de,fe,we,se,pe)}class F extends o.Lv{constructor(fe,we,se,pe,De,q){super(fe),this.onFinalize=De,this.shouldUnsubscribe=q,this._next=we?function(Z){try{we(Z)}catch(ce){fe.error(ce)}}:super._next,this._error=pe?function(Z){try{pe(Z)}catch(ce){fe.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(Z){fe.error(Z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(yt,Pe,V)=>{V.d(Pe,{U:()=>F});var o=V(4482),H=V(5403);function F(de,fe){return(0,o.e)((we,se)=>{let pe=0;we.subscribe((0,H.x)(se,De=>{se.next(de.call(fe,De,pe++))}))})}},8189:(yt,Pe,V)=>{V.d(Pe,{J:()=>F});var o=V(5577),H=V(4671);function F(de=1/0){return(0,o.z)(H.y,de)}},5577:(yt,Pe,V)=>{V.d(Pe,{z:()=>pe});var o=V(4004),H=V(8421),F=V(4482),de=V(9672),fe=V(5403),se=V(576);function pe(De,q,Z=1/0){return(0,se.m)(q)?pe((ce,Ye)=>(0,o.U)((Ne,He)=>q(ce,Ne,Ye,He))((0,H.Xf)(De(ce,Ye))),Z):("number"==typeof q&&(Z=q),(0,F.e)((ce,Ye)=>function we(De,q,Z,ce,Ye,Ne,He,We){const ve=[];let Te=0,Xe=0,Qe=!1;const Ue=()=>{Qe&&!ve.length&&!Te&&q.complete()},ke=Je=>Te<ce?Ae(Je):ve.push(Je),Ae=Je=>{Ne&&q.next(Je),Te++;let ae=!1;(0,H.Xf)(Z(Je,Xe++)).subscribe((0,fe.x)(q,ye=>{null==Ye||Ye(ye),Ne?ke(ye):q.next(ye)},()=>{ae=!0},void 0,()=>{if(ae)try{for(Te--;ve.length&&Te<ce;){const ye=ve.shift();He?(0,de.f)(q,He,()=>Ae(ye)):Ae(ye)}Ue()}catch(ye){q.error(ye)}}))};return De.subscribe((0,fe.x)(q,ke,()=>{Qe=!0,Ue()})),()=>{null==We||We()}}(ce,Ye,De,Z)))}},5363:(yt,Pe,V)=>{V.d(Pe,{Q:()=>de});var o=V(9672),H=V(4482),F=V(5403);function de(fe,we=0){return(0,H.e)((se,pe)=>{se.subscribe((0,F.x)(pe,De=>(0,o.f)(pe,fe,()=>pe.next(De),we),()=>(0,o.f)(pe,fe,()=>pe.complete(),we),De=>(0,o.f)(pe,fe,()=>pe.error(De),we)))})}},3099:(yt,Pe,V)=>{V.d(Pe,{B:()=>fe});var o=V(8421),H=V(7579),F=V(930),de=V(4482);function fe(se={}){const{connector:pe=(()=>new H.x),resetOnError:De=!0,resetOnComplete:q=!0,resetOnRefCountZero:Z=!0}=se;return ce=>{let Ye,Ne,He,We=0,ve=!1,Te=!1;const Xe=()=>{null==Ne||Ne.unsubscribe(),Ne=void 0},Qe=()=>{Xe(),Ye=He=void 0,ve=Te=!1},Ue=()=>{const ke=Ye;Qe(),null==ke||ke.unsubscribe()};return(0,de.e)((ke,Ae)=>{We++,!Te&&!ve&&Xe();const Je=He=He??pe();Ae.add(()=>{We--,0===We&&!Te&&!ve&&(Ne=we(Ue,Z))}),Je.subscribe(Ae),!Ye&&We>0&&(Ye=new F.Hp({next:ae=>Je.next(ae),error:ae=>{Te=!0,Xe(),Ne=we(Qe,De,ae),Je.error(ae)},complete:()=>{ve=!0,Xe(),Ne=we(Qe,q),Je.complete()}}),(0,o.Xf)(ke).subscribe(Ye))})(ce)}}function we(se,pe,...De){if(!0===pe)return void se();if(!1===pe)return;const q=new F.Hp({next:()=>{q.unsubscribe(),se()}});return pe(...De).subscribe(q)}},9468:(yt,Pe,V)=>{V.d(Pe,{R:()=>H});var o=V(4482);function H(F,de=0){return(0,o.e)((fe,we)=>{we.add(F.schedule(()=>fe.subscribe(we),de))})}},8505:(yt,Pe,V)=>{V.d(Pe,{b:()=>fe});var o=V(576),H=V(4482),F=V(5403),de=V(4671);function fe(we,se,pe){const De=(0,o.m)(we)||se||pe?{next:we,error:se,complete:pe}:we;return De?(0,H.e)((q,Z)=>{var ce;null===(ce=De.subscribe)||void 0===ce||ce.call(De);let Ye=!0;q.subscribe((0,F.x)(Z,Ne=>{var He;null===(He=De.next)||void 0===He||He.call(De,Ne),Z.next(Ne)},()=>{var Ne;Ye=!1,null===(Ne=De.complete)||void 0===Ne||Ne.call(De),Z.complete()},Ne=>{var He;Ye=!1,null===(He=De.error)||void 0===He||He.call(De,Ne),Z.error(Ne)},()=>{var Ne,He;Ye&&(null===(Ne=De.unsubscribe)||void 0===Ne||Ne.call(De)),null===(He=De.finalize)||void 0===He||He.call(De)}))}):de.y}},4408:(yt,Pe,V)=>{V.d(Pe,{o:()=>fe});var o=V(727);class H extends o.w0{constructor(se,pe){super()}schedule(se,pe=0){return this}}const F={setInterval(we,se,...pe){const{delegate:De}=F;return(null==De?void 0:De.setInterval)?De.setInterval(we,se,...pe):setInterval(we,se,...pe)},clearInterval(we){const{delegate:se}=F;return((null==se?void 0:se.clearInterval)||clearInterval)(we)},delegate:void 0};var de=V(8737);class fe extends H{constructor(se,pe){super(se,pe),this.scheduler=se,this.work=pe,this.pending=!1}schedule(se,pe=0){if(this.closed)return this;this.state=se;const De=this.id,q=this.scheduler;return null!=De&&(this.id=this.recycleAsyncId(q,De,pe)),this.pending=!0,this.delay=pe,this.id=this.id||this.requestAsyncId(q,this.id,pe),this}requestAsyncId(se,pe,De=0){return F.setInterval(se.flush.bind(se,this),De)}recycleAsyncId(se,pe,De=0){if(null!=De&&this.delay===De&&!1===this.pending)return pe;F.clearInterval(pe)}execute(se,pe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const De=this._execute(se,pe);if(De)return De;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,pe){let q,De=!1;try{this.work(se)}catch(Z){De=!0,q=Z||new Error("Scheduled action threw falsy error")}if(De)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:se,scheduler:pe}=this,{actions:De}=pe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,de.P)(De,this),null!=se&&(this.id=this.recycleAsyncId(pe,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Pe,V)=>{V.d(Pe,{v:()=>F});var o=V(6063);class H{constructor(fe,we=H.now){this.schedulerActionCtor=fe,this.now=we}schedule(fe,we=0,se){return new this.schedulerActionCtor(this,fe).schedule(se,we)}}H.now=o.l.now;class F extends H{constructor(fe,we=H.now){super(fe,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(fe){const{actions:we}=this;if(this._active)return void we.push(fe);let se;this._active=!0;do{if(se=fe.execute(fe.state,fe.delay))break}while(fe=we.shift());if(this._active=!1,se){for(;fe=we.shift();)fe.unsubscribe();throw se}}}},4986:(yt,Pe,V)=>{V.d(Pe,{P:()=>de,z:()=>F});var o=V(4408);const F=new(V(7565).v)(o.o),de=F},6063:(yt,Pe,V)=>{V.d(Pe,{l:()=>o});const o={now:()=>(o.delegate||Date).now(),delegate:void 0}},3410:(yt,Pe,V)=>{V.d(Pe,{z:()=>o});const o={setTimeout(H,F,...de){const{delegate:fe}=o;return(null==fe?void 0:fe.setTimeout)?fe.setTimeout(H,F,...de):setTimeout(H,F,...de)},clearTimeout(H){const{delegate:F}=o;return((null==F?void 0:F.clearTimeout)||clearTimeout)(H)},delegate:void 0}},2202:(yt,Pe,V)=>{V.d(Pe,{h:()=>H});const H=function o(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Pe,V)=>{V.d(Pe,{L:()=>o});const o="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(yt,Pe,V)=>{V.d(Pe,{_6:()=>we,jO:()=>de,yG:()=>fe});var o=V(576),H=V(3532);function F(se){return se[se.length-1]}function de(se){return(0,o.m)(F(se))?se.pop():void 0}function fe(se){return(0,H.K)(F(se))?se.pop():void 0}function we(se,pe){return"number"==typeof F(se)?se.pop():pe}},8737:(yt,Pe,V)=>{function o(H,F){if(H){const de=H.indexOf(F);0<=de&&H.splice(de,1)}}V.d(Pe,{P:()=>o})},3888:(yt,Pe,V)=>{function o(H){const de=H(fe=>{Error.call(fe),fe.stack=(new Error).stack});return de.prototype=Object.create(Error.prototype),de.prototype.constructor=de,de}V.d(Pe,{d:()=>o})},2806:(yt,Pe,V)=>{V.d(Pe,{O:()=>de,x:()=>F});var o=V(2416);let H=null;function F(fe){if(o.v.useDeprecatedSynchronousErrorHandling){const we=!H;if(we&&(H={errorThrown:!1,error:null}),fe(),we){const{errorThrown:se,error:pe}=H;if(H=null,se)throw pe}}else fe()}function de(fe){o.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=fe)}},9672:(yt,Pe,V)=>{function o(H,F,de,fe=0,we=!1){const se=F.schedule(function(){de(),we?H.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(H.add(se),!we)return se}V.d(Pe,{f:()=>o})},4671:(yt,Pe,V)=>{function o(H){return H}V.d(Pe,{y:()=>o})},1144:(yt,Pe,V)=>{V.d(Pe,{z:()=>o});const o=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(yt,Pe,V)=>{V.d(Pe,{D:()=>H});var o=V(576);function H(F){return Symbol.asyncIterator&&(0,o.m)(null==F?void 0:F[Symbol.asyncIterator])}},576:(yt,Pe,V)=>{function o(H){return"function"==typeof H}V.d(Pe,{m:()=>o})},3670:(yt,Pe,V)=>{V.d(Pe,{c:()=>F});var o=V(8822),H=V(576);function F(de){return(0,H.m)(de[o.L])}},6495:(yt,Pe,V)=>{V.d(Pe,{T:()=>F});var o=V(2202),H=V(576);function F(de){return(0,H.m)(null==de?void 0:de[o.h])}},8239:(yt,Pe,V)=>{V.d(Pe,{t:()=>H});var o=V(576);function H(F){return(0,o.m)(null==F?void 0:F.then)}},3260:(yt,Pe,V)=>{V.d(Pe,{L:()=>de,Q:()=>F});var o=V(655),H=V(576);function F(fe){return(0,o.FC)(this,arguments,function*(){const se=fe.getReader();try{for(;;){const{value:pe,done:De}=yield(0,o.qq)(se.read());if(De)return yield(0,o.qq)(void 0);yield yield(0,o.qq)(pe)}}finally{se.releaseLock()}})}function de(fe){return(0,H.m)(null==fe?void 0:fe.getReader)}},3532:(yt,Pe,V)=>{V.d(Pe,{K:()=>H});var o=V(576);function H(F){return F&&(0,o.m)(F.schedule)}},4482:(yt,Pe,V)=>{V.d(Pe,{A:()=>H,e:()=>F});var o=V(576);function H(de){return(0,o.m)(null==de?void 0:de.lift)}function F(de){return fe=>{if(H(fe))return fe.lift(function(we){try{return de(we,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(yt,Pe,V)=>{function o(){}V.d(Pe,{Z:()=>o})},7849:(yt,Pe,V)=>{V.d(Pe,{h:()=>F});var o=V(2416),H=V(3410);function F(de){H.z.setTimeout(()=>{const{onUnhandledError:fe}=o.v;if(!fe)throw de;fe(de)})}},4532:(yt,Pe,V)=>{function o(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Pe,{z:()=>o})},655:(yt,Pe,V)=>{function de(ee,le){var ue={};for(var Ee in ee)Object.prototype.hasOwnProperty.call(ee,Ee)&&le.indexOf(Ee)<0&&(ue[Ee]=ee[Ee]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Ee=Object.getOwnPropertySymbols(ee);me<Ee.length;me++)le.indexOf(Ee[me])<0&&Object.prototype.propertyIsEnumerable.call(ee,Ee[me])&&(ue[Ee[me]]=ee[Ee[me]])}return ue}function fe(ee,le,ue,Ee){var Ct,me=arguments.length,je=me<3?le:null===Ee?Ee=Object.getOwnPropertyDescriptor(le,ue):Ee;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)je=Reflect.decorate(ee,le,ue,Ee);else for(var rn=ee.length-1;rn>=0;rn--)(Ct=ee[rn])&&(je=(me<3?Ct(je):me>3?Ct(le,ue,je):Ct(le,ue))||je);return me>3&&je&&Object.defineProperty(le,ue,je),je}function pe(ee,le,ue,Ee){return new(ue||(ue=Promise))(function(je,Ct){function rn(En){try{et(Ee.next(En))}catch(ti){Ct(ti)}}function Gt(En){try{et(Ee.throw(En))}catch(ti){Ct(ti)}}function et(En){En.done?je(En.value):function me(je){return je instanceof ue?je:new ue(function(Ct){Ct(je)})}(En.value).then(rn,Gt)}et((Ee=Ee.apply(ee,le||[])).next())})}function ve(ee){return this instanceof ve?(this.v=ee,this):new ve(ee)}function Te(ee,le,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,Ee=ue.apply(ee,le||[]),je=[];return me={},Ct("next"),Ct("throw"),Ct("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ct(Dn){Ee[Dn]&&(me[Dn]=function(dn){return new Promise(function(zt,on){je.push([Dn,dn,zt,on])>1||rn(Dn,dn)})})}function rn(Dn,dn){try{!function Gt(Dn){Dn.value instanceof ve?Promise.resolve(Dn.value.v).then(et,En):ti(je[0][2],Dn)}(Ee[Dn](dn))}catch(zt){ti(je[0][3],zt)}}function et(Dn){rn("next",Dn)}function En(Dn){rn("throw",Dn)}function ti(Dn,dn){Dn(dn),je.shift(),je.length&&rn(je[0][0],je[0][1])}}function Qe(ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,le=ee[Symbol.asyncIterator];return le?le.call(ee):(ee=function ce(ee){var le="function"==typeof Symbol&&Symbol.iterator,ue=le&&ee[le],Ee=0;if(ue)return ue.call(ee);if(ee&&"number"==typeof ee.length)return{next:function(){return ee&&Ee>=ee.length&&(ee=void 0),{value:ee&&ee[Ee++],done:!ee}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(ee),ue={},Ee("next"),Ee("throw"),Ee("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function Ee(je){ue[je]=ee[je]&&function(Ct){return new Promise(function(rn,Gt){!function me(je,Ct,rn,Gt){Promise.resolve(Gt).then(function(et){je({value:et,done:rn})},Ct)}(rn,Gt,(Ct=ee[je](Ct)).done,Ct.value)})}}}V.d(Pe,{FC:()=>Te,KL:()=>Qe,_T:()=>de,gn:()=>fe,mG:()=>pe,qq:()=>ve})},4650:(yt,Pe,V)=>{V.d(Pe,{$8M:()=>Yo,$Z:()=>wM,AFp:()=>oI,ALo:()=>ND,AaK:()=>pe,BQk:()=>h_,CHM:()=>jl,CRH:()=>WD,CZH:()=>U_,CqO:()=>Vv,EJc:()=>aR,EiD:()=>Qc,EpF:()=>Nv,F$t:()=>Eo,F4k:()=>wE,FYo:()=>S_,FiY:()=>ht,G48:()=>CR,Gf:()=>ZD,GfV:()=>Jp,Gpc:()=>Z,Gre:()=>UM,Hsn:()=>f_,Ikx:()=>uu,JOm:()=>hr,JVY:()=>ap,L6k:()=>lp,LAX:()=>xg,LFG:()=>R,LSH:()=>av,Lbi:()=>uI,MAs:()=>Ip,MGl:()=>Yh,NdJ:()=>Bv,O4$:()=>lh,OlP:()=>jn,Oqu:()=>zv,PXZ:()=>fV,Q6J:()=>Pv,QGY:()=>Lv,Qsj:()=>ab,R0b:()=>Do,RDi:()=>Bu,Rgc:()=>im,SBq:()=>Kp,Sil:()=>cR,Suo:()=>Gk,TTD:()=>Vl,TgZ:()=>Mp,Tol:()=>NE,Udp:()=>Qh,VKq:()=>MD,VLi:()=>yI,W1O:()=>Wk,WFA:()=>kp,WLB:()=>Xp,X6Q:()=>wR,XFs:()=>It,Xpm:()=>Ze,Y36:()=>fd,YKP:()=>k_,YNc:()=>$s,Yjl:()=>tt,Yz7:()=>dn,ZZ4:()=>Bb,_Bn:()=>CD,_UZ:()=>u_,_Vd:()=>Yp,_c5:()=>FR,_uU:()=>jE,aQg:()=>AI,c2e:()=>lV,cJS:()=>on,cg1:()=>JE,d8E:()=>Jh,dDg:()=>_i,deG:()=>_h,dqk:()=>Wt,dwT:()=>C2,eBb:()=>cp,eFA:()=>yR,ekj:()=>g_,f3M:()=>te,g9A:()=>cI,h0i:()=>pu,hGG:()=>NR,hij:()=>Fn,iGM:()=>qD,ifc:()=>Zt,ip1:()=>Eb,kL8:()=>YM,kcU:()=>gg,lG2:()=>Me,lcZ:()=>LD,mCW:()=>y,n5z:()=>Gc,n_E:()=>O_,oAB:()=>ne,oxw:()=>$v,pB0:()=>Mg,q3G:()=>xi,q4F:()=>cb,qLn:()=>Dt,qOj:()=>sE,qZA:()=>Zh,qzn:()=>Aa,sBO:()=>IR,sIi:()=>Vh,s_b:()=>rm,soG:()=>_u,tBr:()=>Ft,tb:()=>dI,tp0:()=>Ai,uIk:()=>Uh,vHH:()=>He,vpe:()=>Il,wAp:()=>Ot,xp6:()=>ix,yhl:()=>Ag,ynx:()=>d_,z2F:()=>G_,z3N:()=>Ta,zSh:()=>wp,zs3:()=>bl});var o=V(7579),H=V(727),F=V(8306),de=V(6451),fe=V(3099);function we(a){for(let l in a)if(a[l]===we)return l;throw Error("Could not find renamed property on target object.")}function se(a,l){for(const u in l)l.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=l[u])}function pe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(pe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const u=l.indexOf("\n");return-1===u?l:l.substring(0,u)}function De(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const q=we({__forward_ref__:we});function Z(a){return a.__forward_ref__=Z,a.toString=function(){return pe(this())},a}function ce(a){return Ye(a)?a():a}function Ye(a){return"function"==typeof a&&a.hasOwnProperty(q)&&a.__forward_ref__===Z}class He extends Error{constructor(l,u){super(function We(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,u)),this.code=l}}function ve(a){return"string"==typeof a?a:null==a?"":String(a)}function Te(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ve(a)}function ke(a,l){const u=l?` in ${l}`:"";throw new He(-201,`No provider for ${Te(a)} found${u}`)}function Gt(a,l){null==a&&function et(a,l,u,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${u} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function dn(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function on(a){return{providers:a.providers||[],imports:a.imports||[]}}function Bn(a){return as(a,Ur)||as(a,ni)}function as(a,l){return a.hasOwnProperty(l)?a[l]:null}function Ks(a){return a&&(a.hasOwnProperty(ls)||a.hasOwnProperty(Ss))?a[ls]:null}const Ur=we({\u0275prov:we}),ls=we({\u0275inj:we}),ni=we({ngInjectableDef:we}),Ss=we({ngInjectorDef:we});var It=(()=>((It=It||{})[It.Default=0]="Default",It[It.Host=1]="Host",It[It.Self=2]="Self",It[It.SkipSelf=4]="SkipSelf",It[It.Optional=8]="Optional",It))();let ar;function vn(a){const l=ar;return ar=a,l}function wi(a,l,u){const h=Bn(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:u&It.Optional?null:void 0!==l?l:void ke(pe(a),"Injector")}function Ci(a){return{toString:a}.toString()}var $n=(()=>(($n=$n||{})[$n.OnPush=0]="OnPush",$n[$n.Default=1]="Default",$n))(),Zt=(()=>{return(a=Zt||(Zt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Zt;var a})();const vt=typeof globalThis<"u"&&globalThis,dt=typeof window<"u"&&window,$r=typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self,Wt=vt||typeof global<"u"&&global||dt||$r,xn={},bt=[],wr=we({\u0275cmp:we}),W=we({\u0275dir:we}),G=we({\u0275pipe:we}),j=we({\u0275mod:we}),z=we({\u0275fac:we}),Y=we({__NG_ELEMENT_ID__:we});let Re=0;function Ze(a){return Ci(()=>{const u={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===$n.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||bt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Zt.Emulated,id:"c",styles:a.styles||bt,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,g=a.features,b=a.pipes;return h.id+=Re++,h.inputs=Q(a.inputs,u),h.outputs=Q(a.outputs),g&&g.forEach(C=>C(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(hn):null,h.pipeDefs=b?()=>("function"==typeof b?b():b).map(an):null,h})}function hn(a){return mt(a)||function Pt(a){return a[W]||null}(a)}function an(a){return function Jt(a){return a[G]||null}(a)}const Di={};function ne(a){return Ci(()=>{const l={type:a.type,bootstrap:a.bootstrap||bt,declarations:a.declarations||bt,imports:a.imports||bt,exports:a.exports||bt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Di[a.id]=a.type),l})}function Q(a,l){if(null==a)return xn;const u={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),u[p]=h,l&&(l[p]=g)}return u}const Me=Ze;function tt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function mt(a){return a[wr]||null}function qt(a,l){const u=a[j]||null;if(!u&&!0===l)throw new Error(`Type ${pe(a)} does not have '\u0275mod' property.`);return u}function Dr(a){return Array.isArray(a)&&"object"==typeof a[1]}function cr(a){return Array.isArray(a)&&!0===a[1]}function Vu(a){return 0!=(8&a.flags)}function Tc(a){return 2==(2&a.flags)}function Uo(a){return 1==(1&a.flags)}function jr(a){return null!==a.template}function Ac(a){return 0!=(512&a[2])}function Gr(a,l){return a.hasOwnProperty(z)?a[z]:null}class Qa{constructor(l,u,h){this.previousValue=l,this.currentValue=u,this.firstChange=h}isFirstChange(){return this.firstChange}}function Vl(){return Bl}function Bl(a){return a.type.prototype.ngOnChanges&&(a.setInput=mg),Zf}function Zf(){const a=Yd(this),l=a?.current;if(l){const u=a.previous;if(u===xn)a.previous=l;else for(let h in l)u[h]=l[h];a.current=null,this.ngOnChanges(l)}}function mg(a,l,u,h){const p=Yd(a)||function to(a,l){return a[Qi]=l}(a,{previous:xn,current:null}),g=p.current||(p.current={}),b=p.previous,C=this.declaredInputs[u],I=b[C];g[C]=new Qa(I&&I.currentValue,l,b===xn),a[h]=l}Vl.ngInherit=!0;const Qi="__ngSimpleChanges__";function Yd(a){return a[Qi]||null}let Rc;function Bu(a){Rc=a}function Mn(a){return!!a.listen}const Ul={createRenderer:(a,l)=>function no(){return void 0!==Rc?Rc:typeof document<"u"?document:void 0}()};function Sn(a){for(;Array.isArray(a);)a=a[0];return a}function ma(a,l){return Sn(l[a])}function Bi(a,l){return Sn(l[a.index])}function ri(a,l){return a.data[l]}function io(a,l){return a[l]}function Ui(a,l){const u=l[a];return Dr(u)?u:u[0]}function Ja(a){return 4==(4&a[2])}function Ts(a){return 128==(128&a[2])}function Rr(a,l){return null==l?null:a[l]}function jo(a){a[18]=0}function Go(a,l){a[5]+=l;let u=a,h=a[3];for(;null!==h&&(1===l&&1===u[5]||-1===l&&0===u[5]);)h[5]+=l,u=h,h=h[3]}const xt={lFrame:ah(null),bindingsEnabled:!0};function Xa(){return xt.bindingsEnabled}function Be(){return xt.lFrame.lView}function Yt(){return xt.lFrame.tView}function jl(a){return xt.lFrame.contextLView=a,a[8]}function Pn(){let a=th();for(;null!==a&&64===a.type;)a=a.parent;return a}function th(){return xt.lFrame.currentTNode}function As(a,l){const u=xt.lFrame;u.currentTNode=a,u.isParent=l}function Hu(){return xt.lFrame.isParent}function Gl(){xt.lFrame.isParent=!1}function $i(){const a=xt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function tl(){return xt.lFrame.bindingIndex++}function Or(a){const l=xt.lFrame,u=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,u}function rh(a,l){const u=xt.lFrame;u.bindingIndex=u.bindingRootIndex=a,Nc(l)}function Nc(a){xt.lFrame.currentDirectiveIndex=a}function il(a){const l=xt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function sh(){return xt.lFrame.currentQueryIndex}function oh(a){xt.lFrame.currentQueryIndex=a}function ju(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ql(a,l,u){if(u&It.SkipSelf){let p=l,g=a;for(;!(p=p.parent,null!==p||u&It.Host||(p=ju(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;l=p,a=g}const h=xt.lFrame=ya();return h.currentTNode=l,h.lView=a,!0}function Zl(a){const l=ya(),u=a[1];xt.lFrame=l,l.currentTNode=u.firstChild,l.lView=a,l.tView=u,l.contextLView=a,l.bindingIndex=u.bindingStartIndex,l.inI18n=!1}function ya(){const a=xt.lFrame,l=null===a?null:a.child;return null===l?ah(a):l}function ah(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Qf(){const a=xt.lFrame;return xt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Lc=Qf;function Pr(){const a=Qf();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Xi(){return xt.lFrame.selectedIndex}function va(a){xt.lFrame.selectedIndex=a}function mi(){const a=xt.lFrame;return ri(a.tView,a.selectedIndex)}function lh(){xt.lFrame.currentNamespace="svg"}function gg(){!function ch(){xt.lFrame.currentNamespace=null}()}function so(a,l){for(let u=l.directiveStart,h=l.directiveEnd;u<h;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:C,ngAfterViewInit:I,ngAfterViewChecked:x,ngOnDestroy:O}=g;b&&(a.contentHooks||(a.contentHooks=[])).push(-u,b),C&&((a.contentHooks||(a.contentHooks=[])).push(u,C),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,C)),I&&(a.viewHooks||(a.viewHooks=[])).push(-u,I),x&&((a.viewHooks||(a.viewHooks=[])).push(u,x),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,x)),null!=O&&(a.destroyHooks||(a.destroyHooks=[])).push(u,O)}}function Wl(a,l,u){dh(a,l,3,u)}function Yl(a,l,u,h){(3&a[2])===u&&dh(a,l,u,h)}function Ii(a,l){let u=a[2];(3&u)===l&&(u&=2047,u+=1,a[2]=u)}function dh(a,l,u,h){const g=h??-1,b=l.length-1;let C=0;for(let I=void 0!==h?65535&a[18]:0;I<b;I++)if("number"==typeof l[I+1]){if(C=l[I],null!=h&&C>=h)break}else l[I]<0&&(a[18]+=65536),(C<g||-1==g)&&(yg(a,u,l,I),a[18]=(4294901760&a[18])+I+2),I++}function yg(a,l,u,h){const p=u[h]<0,g=u[h+1],C=a[p?-u[h]:u[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(C)}finally{}}}else try{g.call(C)}finally{}}class rl{constructor(l,u,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=h}}function zu(a,l,u){const h=Mn(a);let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const b=u[p++],C=u[p++],I=u[p++];h?a.setAttribute(l,C,I,b):l.setAttributeNS(b,C,I)}else{const b=g,C=u[++p];qu(b)?h&&a.setProperty(l,b,C):h?a.setAttribute(l,b,C):l.setAttribute(b,C),p++}}return p}function Bc(a){return 3===a||4===a||6===a}function qu(a){return 64===a.charCodeAt(0)}function sl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let u=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?u=p:0===u||ol(a,u,p,null,-1===u||2===u?l[++h]:null)}}return a}function ol(a,l,u,h,p){let g=0,b=a.length;if(-1===l)b=-1;else for(;g<a.length;){const C=a[g++];if("number"==typeof C){if(C===l){b=-1;break}if(C>l){b=g-1;break}}}for(;g<a.length;){const C=a[g];if("number"==typeof C)break;if(C===u){if(null===h)return void(null!==p&&(a[g+1]=p));if(h===a[g+1])return void(a[g+2]=p)}g++,null!==h&&g++,null!==p&&g++}-1!==b&&(a.splice(b,0,l),g=b+1),a.splice(g++,0,u),null!==h&&a.splice(g++,0,h),null!==p&&a.splice(g++,0,p)}function ao(a){return-1!==a}function fn(a){return 32767&a}function ct(a,l){let u=function Hn(a){return a>>16}(a),h=l;for(;u>0;)h=h[15],u--;return h}let Uc=!0;function Zo(a){const l=Uc;return Uc=a,l}let Hc=0;function li(a,l){const u=lo(a,l);if(-1!==u)return u;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,wa(h.data,a),wa(l,null),wa(h.blueprint,null));const p=jc(a,l),g=a.injectorIndex;if(ao(p)){const b=fn(p),C=ct(p,l),I=C[1].data;for(let x=0;x<8;x++)l[g+x]=C[b+x]|I[b+x]}return l[g+8]=p,g}function wa(a,l){a.push(0,0,0,0,0,0,0,0,l)}function lo(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function jc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,h=null,p=l;for(;null!==p;){const g=p[1],b=g.type;if(h=2===b?g.declTNode:1===b?p[6]:null,null===h)return-1;if(u++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|u<<16}return-1}function Wo(a,l,u){!function Ms(a,l,u){let h;"string"==typeof u?h=u.charCodeAt(0)||0:u.hasOwnProperty(Y)&&(h=u[Y]),null==h&&(h=u[Y]=Hc++);const p=255&h;l.data[a+(p>>5)]|=1<<p}(a,l,u)}function ks(a,l,u){if(u&It.Optional)return a;ke(l,"NodeInjector")}function co(a,l,u,h){if(u&It.Optional&&void 0===h&&(h=null),0==(u&(It.Self|It.Host))){const p=a[9],g=vn(void 0);try{return p?p.get(l,h,u&It.Optional):wi(l,h,u&It.Optional)}finally{vn(g)}}return ks(h,l,u)}function Ca(a,l,u,h=It.Default,p){if(null!==a){const g=function gh(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Y)?a[Y]:void 0;return"number"==typeof l?l>=0?255&l:uo:l}(u);if("function"==typeof g){if(!ql(l,a,h))return h&It.Host?ks(p,u,h):co(l,u,h,p);try{const b=g(h);if(null!=b||h&It.Optional)return b;ke(u)}finally{Lc()}}else if("number"==typeof g){let b=null,C=lo(a,l),I=-1,x=h&It.Host?l[16][6]:null;for((-1===C||h&It.SkipSelf)&&(I=-1===C?jc(a,l):l[C+8],-1!==I&&Wu(h,!1)?(b=l[1],C=fn(I),l=ct(I,l)):C=-1);-1!==C;){const O=l[1];if(Kl(g,C,O.data)){const U=mh(C,l,u,b,h,x);if(U!==Qn)return U}I=l[C+8],-1!==I&&Wu(h,l[1].data[C+8]===x)&&Kl(g,C,l)?(b=O,C=fn(I),l=ct(I,l)):C=-1}}}return co(l,u,h,p)}const Qn={};function uo(){return new ji(Pn(),Be())}function mh(a,l,u,h,p,g){const b=l[1],C=b.data[a+8],O=kt(C,b,u,null==h?Tc(C)&&Uc:h!=b&&0!=(3&C.type),p&It.Host&&g===C);return null!==O?ho(l,b,O,C):Qn}function kt(a,l,u,h,p){const g=a.providerIndexes,b=l.data,C=1048575&g,I=a.directiveStart,O=g>>20,K=p?C+O:a.directiveEnd;for(let ie=h?C:C+O;ie<K;ie++){const _e=b[ie];if(ie<I&&u===_e||ie>=I&&_e.type===u)return ie}if(p){const ie=b[I];if(ie&&jr(ie)&&ie.type===u)return I}return null}function ho(a,l,u,h){let p=a[u];const g=l.data;if(function hh(a){return a instanceof rl}(p)){const b=p;b.resolving&&function Xe(a,l){const u=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new He(-200,`Circular dependency in DI detected for ${a}${u}`)}(Te(g[u]));const C=Zo(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?vn(b.injectImpl):null;ql(a,h,It.Default);try{p=a[u]=b.factory(void 0,g,a,h),l.firstCreatePass&&u>=h.directiveStart&&function uh(a,l,u){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:g}=l.type.prototype;if(h){const b=Bl(l);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,b),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,b)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],l)}finally{null!==I&&vn(I),Zo(C),b.resolving=!1,Lc()}}return p}function Kl(a,l,u){return!!(u[l+(a>>5)]&1<<a)}function Wu(a,l){return!(a&It.Self||a&It.Host&&l)}class ji{constructor(l,u){this._tNode=l,this._lView=u}get(l,u,h){return Ca(this._tNode,this._lView,l,h,u)}}function Gc(a){return Ci(()=>{const l=a.prototype.constructor,u=l[z]||al(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const g=p[z]||al(p);if(g&&g!==u)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function al(a){return Ye(a)?()=>{const l=al(ce(a));return l&&l()}:Gr(a)}function Yo(a){return function ph(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const u=a.attrs;if(u){const h=u.length;let p=0;for(;p<h;){const g=u[p];if(Bc(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<h&&"string"==typeof u[p];)p++;else{if(g===l)return u[p+1];p+=2}}}return null}(Pn(),a)}const Ko="__parameters__";function ll(a,l,u){return Ci(()=>{const h=function Yu(a){return function(...u){if(a){const h=a(...u);for(const p in h)this[p]=h[p]}}}(l);function p(...g){if(this instanceof p)return h.apply(this,g),this;const b=new p(...g);return C.annotation=b,C;function C(I,x,O){const U=I.hasOwnProperty(Ko)?I[Ko]:Object.defineProperty(I,Ko,{value:[]})[Ko];for(;U.length<=O;)U.push(null);return(U[O]=U[O]||[]).push(b),I}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class jn{constructor(l,u){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=dn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const _h=new jn("AnalyzeForEntryComponents");function Ir(a,l){void 0===l&&(l=a);for(let u=0;u<a.length;u++){let h=a[u];Array.isArray(h)?(l===a&&(l=a.slice(0,u)),Ir(h,l)):l!==a&&l.push(h)}return l}function Sr(a,l){a.forEach(u=>Array.isArray(u)?Sr(u,l):l(u))}function cl(a,l,u){l>=a.length?a.push(u):a.splice(l,0,u)}function Ea(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Jo(a,l){const u=[];for(let h=0;h<a;h++)u.push(l);return u}function dr(a,l,u){let h=Da(a,l);return h>=0?a[1|h]=u:(h=~h,function ip(a,l,u,h){let p=a.length;if(p==l)a.push(u,h);else if(1===p)a.push(h,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=u,a[l+1]=h}}(a,h,l,u)),h}function qc(a,l){const u=Da(a,l);if(u>=0)return a[1|u]}function Da(a,l){return function Xl(a,l,u){let h=0,p=a.length>>u;for(;p!==h;){const g=h+(p-h>>1),b=a[g<<u];if(l===b)return g<<u;b>l?p=g:h=g+1}return~(p<<u)}(a,l,1)}const tr={},tc="__NG_DI_FLAG__",Os="ngTempTokenPath",sp=/\n/gm,Ch="__source",Dg=we({provide:String,useValue:we});let hl;function S(a){const l=hl;return hl=a,l}function T(a,l=It.Default){if(void 0===hl)throw new He(203,"");return null===hl?wi(a,void 0,l):hl.get(a,l&It.Optional?null:void 0,l)}function R(a,l=It.Default){return(function Un(){return ar}()||T)(ce(a),l)}const te=R;function he(a){const l=[];for(let u=0;u<a.length;u++){const h=ce(a[u]);if(Array.isArray(h)){if(0===h.length)throw new He(900,"");let p,g=It.Default;for(let b=0;b<h.length;b++){const C=h[b],I=nt(C);"number"==typeof I?-1===I?p=C.token:g|=I:p=C}l.push(R(p,g))}else l.push(R(h))}return l}function Fe(a,l){return a[tc]=l,a.prototype[tc]=l,a}function nt(a){return a[tc]}const Ft=Fe(ll("Inject",a=>({token:a})),-1),ht=Fe(ll("Optional"),8),Ai=Fe(ll("SkipSelf"),4);let go;function td(a){return function Eh(){if(void 0===go&&(go=null,Wt.trustedTypes))try{go=Wt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return go}()?.createHTML(a)||a}class Fs{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class tv extends Fs{getTypeName(){return"HTML"}}class Tg extends Fs{getTypeName(){return"Style"}}class nv extends Fs{getTypeName(){return"Script"}}class nC extends Fs{getTypeName(){return"URL"}}class Th extends Fs{getTypeName(){return"ResourceURL"}}function Ta(a){return a instanceof Fs?a.changingThisBreaksApplicationSecurity:a}function Aa(a,l){const u=Ag(a);if(null!=u&&u!==l){if("ResourceURL"===u&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===l}function Ag(a){return a instanceof Fs&&a.getTypeName()||null}function ap(a){return new tv(a)}function lp(a){return new Tg(a)}function cp(a){return new nv(a)}function xg(a){return new nC(a)}function Mg(a){return new Th(a)}class iv{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const u=(new window.DOMParser).parseFromString(td(l),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(l):(u.removeChild(u.firstChild),u)}catch{return null}}}class Ah{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const h=this.inertDocument.createElement("body");u.appendChild(h)}}getInertBodyElement(l){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=td(l),u;const h=this.inertDocument.createElement("body");return h.innerHTML=td(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(l){const u=l.attributes;for(let p=u.length-1;0<p;p--){const b=u.item(p).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let h=l.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const up=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,_=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function y(a){return(a=String(a)).match(up)||a.match(_)?a:"unsafe:"+a}function k(a){const l={};for(const u of a.split(","))l[u]=!0;return l}function N(...a){const l={};for(const u of a)for(const h in u)u.hasOwnProperty(h)&&(l[h]=!0);return l}const re=k("area,br,col,hr,img,wbr"),Oe=k("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ot=k("rp,rt"),zr=N(re,N(Oe,k("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),N(ot,k("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N(ot,Oe)),ta=k("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ic=k("srcset"),xa=N(ta,ic,k("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),k("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),kg=k("script,style,template");class xh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let u=l.firstChild,h=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?h=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,h&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(l){const u=l.nodeName.toLowerCase();if(!zr.hasOwnProperty(u))return this.sanitizedSomething=!0,!kg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const h=l.attributes;for(let p=0;p<h.length;p++){const g=h.item(p),b=g.name,C=b.toLowerCase();if(!xa.hasOwnProperty(C)){this.sanitizedSomething=!0;continue}let I=g.value;ta[C]&&(I=y(I)),ic[C]&&(a=I,I=(a=String(a)).split(",").map(l=>y(l.trim())).join(", ")),this.buf.push(" ",b,'="',Mh(I),'"')}var a;return this.buf.push(">"),!0}endElement(l){const u=l.nodeName.toLowerCase();zr.hasOwnProperty(u)&&!re.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(l){this.buf.push(Mh(l))}checkClobberedElement(l,u){if(u&&(l.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return u}}const Rg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hp=/([^\#-~ |!])/g;function Mh(a){return a.replace(/&/g,"&amp;").replace(Rg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(hp,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let nd;function Qc(a,l){let u=null;try{nd=nd||function ml(a){const l=new Ah(a);return function rv(){try{return!!(new window.DOMParser).parseFromString(td(""),"text/html")}catch{return!1}}()?new iv(l):l}(a);let h=l?String(l):"";u=nd.getInertBodyElement(h);let p=5,g=h;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,h=g,g=u.innerHTML,u=nd.getInertBodyElement(h)}while(h!==g);return td((new xh).sanitizeChildren(rc(u)||u))}finally{if(u){const h=rc(u)||u;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function rc(a){return"content"in a&&function ov(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var xi=(()=>((xi=xi||{})[xi.NONE=0]="NONE",xi[xi.HTML=1]="HTML",xi[xi.STYLE=2]="STYLE",xi[xi.SCRIPT=3]="SCRIPT",xi[xi.URL=4]="URL",xi[xi.RESOURCE_URL=5]="RESOURCE_URL",xi))();function av(a){const l=function fp(){const a=Be();return a&&a[12]}();return l?l.sanitize(xi.URL,a)||"":Aa(a,"URL")?Ta(a):y(ve(a))}const Og="__ngContext__";function bn(a,l){a[Og]=l}function Jc(a){const l=function Pg(a){return a[Og]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function id(a){return a.ngOriginalError}function cv(a,...l){a.error(...l)}class Dt{constructor(){this._console=console}handleError(l){const u=this._findOriginalError(l),h=function rd(a){return a&&a.ngErrorLogger||cv}(l);h(this._console,"ERROR",l),u&&h(this._console,"ORIGINAL ERROR",u)}_findOriginalError(l){let u=l&&id(l);for(;u&&id(u);)u=id(u);return u||null}}const PA=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Wt))();function Ls(a){return a instanceof Function?a():a}var hr=(()=>((hr=hr||{})[hr.Important=1]="Important",hr[hr.DashCase=2]="DashCase",hr))();function na(a,l){return undefined(a,l)}function Vg(a){const l=a[3];return cr(l)?l[3]:l}function uC(a){return LA(a[13])}function dC(a){return LA(a[4])}function LA(a){for(;null!==a&&!cr(a);)a=a[4];return a}function gp(a,l,u,h,p){if(null!=h){let g,b=!1;cr(h)?g=h:Dr(h)&&(b=!0,h=h[0]);const C=Sn(h);0===a&&null!==u?null==p?jA(l,u,C):Oh(l,u,C,p||null,!0):1===a&&null!==u?Oh(l,u,C,p||null,!0):2===a?function yC(a,l,u){const h=dv(a,l);h&&function RL(a,l,u,h){Mn(a)?a.removeChild(l,u,h):l.removeChild(u)}(a,h,l,u)}(l,C,b):3===a&&l.destroyNode(C),null!=g&&function FL(a,l,u,h,p){const g=u[7];g!==Sn(u)&&gp(l,a,h,g,p);for(let C=10;C<u.length;C++){const I=u[C];Bg(I[1],I,a,l,h,g)}}(l,a,g,u,p)}}function uv(a,l,u){if(Mn(a))return a.createElement(l,u);{const h=null!==u?function kc(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(u):null;return null===h?a.createElement(l):a.createElementNS(h,l)}}function BA(a,l){const u=a[9],h=u.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,Go(p,-1)),u.splice(h,1)}function pC(a,l){if(a.length<=10)return;const u=10+l,h=a[u];if(h){const p=h[17];null!==p&&p!==a&&BA(p,h),l>0&&(a[u-1][4]=h[4]);const g=Ea(a,10+l);!function IL(a,l){Bg(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const b=g[19];null!==b&&b.detachView(g[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function UA(a,l){if(!(256&l[2])){const u=l[11];Mn(u)&&u.destroyNode&&Bg(a,l,u,3,null,null),function AL(a){let l=a[13];if(!l)return mC(a[1],a);for(;l;){let u=null;if(Dr(l))u=l[13];else{const h=l[10];h&&(u=h)}if(!u){for(;l&&!l[4]&&l!==a;)Dr(l)&&mC(l[1],l),l=l[3];null===l&&(l=a),Dr(l)&&mC(l[1],l),u=l&&l[4]}l=u}}(l)}}function mC(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function kL(a,l){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let h=0;h<u.length;h+=2){const p=l[u[h]];if(!(p instanceof rl)){const g=u[h+1];if(Array.isArray(g))for(let b=0;b<g.length;b+=2){const C=p[g[b]],I=g[b+1];try{I.call(C)}finally{}}else try{g.call(p)}finally{}}}}(a,l),function ML(a,l){const u=a.cleanup,h=l[7];let p=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const b=u[g+1],C="function"==typeof b?b(l):Sn(l[b]),I=h[p=u[g+2]],x=u[g+3];"boolean"==typeof x?C.removeEventListener(u[g],I,x):x>=0?h[p=x]():h[p=-x].unsubscribe(),g+=2}else{const b=h[p=u[g+1]];u[g].call(b)}if(null!==h){for(let g=p+1;g<h.length;g++)h[g]();l[7]=null}}(a,l),1===l[1].type&&Mn(l[11])&&l[11].destroy();const u=l[17];if(null!==u&&cr(l[3])){u!==l[3]&&BA(u,l);const h=l[19];null!==h&&h.detachView(a)}}}function $A(a,l,u){return function HA(a,l,u){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return u[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===Zt.None||p===Zt.Emulated)return null}return Bi(h,u)}(a,l.parent,u)}function Oh(a,l,u,h,p){Mn(a)?a.insertBefore(l,u,h,p):l.insertBefore(u,h,p)}function jA(a,l,u){Mn(a)?a.appendChild(l,u):l.appendChild(u)}function GA(a,l,u,h,p){null!==h?Oh(a,l,u,h,p):jA(a,l,u)}function dv(a,l){return Mn(a)?a.parentNode(l):l.parentNode}function zA(a,l,u){return ZA(a,l,u)}let ZA=function qA(a,l,u){return 40&a.type?Bi(a,u):null};function hv(a,l,u,h){const p=$A(a,h,l),g=l[11],C=zA(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(u))for(let I=0;I<u.length;I++)GA(g,p,u[I],C,!1);else GA(g,p,u,C,!1)}function fv(a,l){if(null!==l){const u=l.type;if(3&u)return Bi(l,a);if(4&u)return _C(-1,a[l.index]);if(8&u){const h=l.child;if(null!==h)return fv(a,h);{const p=a[l.index];return cr(p)?_C(-1,p):Sn(p)}}if(32&u)return na(l,a)()||Sn(a[l.index]);{const h=YA(a,l);return null!==h?Array.isArray(h)?h[0]:fv(Vg(a[16]),h):fv(a,l.next)}}return null}function YA(a,l){return null!==l?a[16][6].projection[l.projection]:null}function _C(a,l){const u=10+a+1;if(u<l.length){const h=l[u],p=h[1].firstChild;if(null!==p)return fv(h,p)}return l[7]}function pv(a,l,u,h,p,g,b){for(;null!=u;){const C=h[u.index],I=u.type;if(b&&0===l&&(C&&bn(Sn(C),h),u.flags|=4),64!=(64&u.flags))if(8&I)pv(a,l,u.child,h,p,g,!1),gp(l,a,p,C,g);else if(32&I){const x=na(u,h);let O;for(;O=x();)gp(l,a,p,O,g);gp(l,a,p,C,g)}else 16&I?KA(a,l,h,u,p,g):gp(l,a,p,C,g);u=b?u.projectionNext:u.next}}function Bg(a,l,u,h,p,g){pv(u,h,a.firstChild,l,p,g,!1)}function KA(a,l,u,h,p,g){const b=u[16],I=b[6].projection[h.projection];if(Array.isArray(I))for(let x=0;x<I.length;x++)gp(l,a,p,I[x],g);else pv(a,l,I,b[3],p,g,!0)}function QA(a,l,u){Mn(a)?a.setAttribute(l,"style",u):l.style.cssText=u}function vC(a,l,u){Mn(a)?""===u?a.removeAttribute(l,"class"):a.setAttribute(l,"class",u):l.className=u}function JA(a,l,u){let h=a.length;for(;;){const p=a.indexOf(l,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=l.length;if(p+g===h||a.charCodeAt(p+g)<=32)return p}u=p+1}}const XA="ng-template";function LL(a,l,u){let h=0;for(;h<a.length;){let p=a[h++];if(u&&"class"===p){if(p=a[h],-1!==JA(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function ex(a){return 4===a.type&&a.value!==XA}function VL(a,l,u){return l===(4!==a.type||u?a.value:XA)}function BL(a,l,u){let h=4;const p=a.attrs||[],g=function HL(a){for(let l=0;l<a.length;l++)if(Bc(a[l]))return l;return a.length}(p);let b=!1;for(let C=0;C<l.length;C++){const I=l[C];if("number"!=typeof I){if(!b)if(4&h){if(h=2|1&h,""!==I&&!VL(a,I,u)||""===I&&1===l.length){if(_l(h))return!1;b=!0}}else{const x=8&h?I:l[++C];if(8&h&&null!==a.attrs){if(!LL(a.attrs,x,u)){if(_l(h))return!1;b=!0}continue}const U=UL(8&h?"class":I,p,ex(a),u);if(-1===U){if(_l(h))return!1;b=!0;continue}if(""!==x){let K;K=U>g?"":p[U+1].toLowerCase();const ie=8&h?K:null;if(ie&&-1!==JA(ie,x,0)||2&h&&x!==K){if(_l(h))return!1;b=!0}}}}else{if(!b&&!_l(h)&&!_l(I))return!1;if(b&&_l(I))continue;b=!1,h=I|1&h}}return _l(h)||b}function _l(a){return 0==(1&a)}function UL(a,l,u,h){if(null===l)return-1;let p=0;if(h||!u){let g=!1;for(;p<l.length;){const b=l[p];if(b===a)return p;if(3===b||6===b)g=!0;else{if(1===b||2===b){let C=l[++p];for(;"string"==typeof C;)C=l[++p];continue}if(4===b)break;if(0===b){p+=4;continue}}p+=g?1:2}return-1}return function jL(a,l){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const h=a[u];if("number"==typeof h)return-1;if(h===l)return u;u++}return-1}(l,a)}function tx(a,l,u=!1){for(let h=0;h<l.length;h++)if(BL(a,l[h],u))return!0;return!1}function GL(a,l){e:for(let u=0;u<l.length;u++){const h=l[u];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function nx(a,l){return a?":not("+l.trim()+")":l}function zL(a){let l=a[0],u=1,h=2,p="",g=!1;for(;u<a.length;){let b=a[u];if("string"==typeof b)if(2&h){const C=a[++u];p+="["+b+(C.length>0?'="'+C+'"':"")+"]"}else 8&h?p+="."+b:4&h&&(p+=" "+b);else""!==p&&!_l(b)&&(l+=nx(g,p),p=""),h=b,g=g||!_l(h);u++}return""!==p&&(l+=nx(g,p)),l}const $t={};function ix(a){rx(Yt(),Be(),Xi()+a,!1)}function rx(a,l,u,h){if(!h)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&Wl(l,g,u)}else{const g=a.preOrderHooks;null!==g&&Yl(l,g,0,u)}va(u)}function mv(a,l){return a<<17|l<<2}function yl(a){return a>>17&32767}function bC(a){return 2|a}function nu(a){return(131068&a)>>2}function wC(a,l){return-131069&a|l<<2}function CC(a){return 1|a}function vv(a,l){const u=a.contentQueries;if(null!==u)for(let h=0;h<u.length;h+=2){const p=u[h],g=u[h+1];if(-1!==g){const b=a.data[g];oh(p),b.contentQueries(2,l[g],g)}}}function Gg(a,l,u,h,p,g,b,C,I,x){const O=l.blueprint.slice();return O[0]=p,O[2]=140|h,jo(O),O[3]=O[15]=a,O[8]=u,O[10]=b||a&&a[10],O[11]=C||a&&a[11],O[12]=I||a&&a[12]||null,O[9]=x||a&&a[9]||null,O[6]=g,O[16]=2==l.type?a[16]:O,O}function Fh(a,l,u,h,p){let g=a.data[l];if(null===g)g=function MC(a,l,u,h,p){const g=th(),b=Hu(),I=a.data[l]=function FC(a,l,u,h,p,g){return{type:u,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?g:g&&g.parent,u,l,h,p);return null===a.firstChild&&(a.firstChild=I),null!==g&&(b?null==g.child&&null!==I.parent&&(g.child=I):null===g.next&&(g.next=I)),I}(a,l,u,h,p),function Kf(){return xt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=h,g.attrs=p;const b=function ro(){const a=xt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===b?-1:b.injectorIndex}return As(g,!0),g}function yp(a,l,u,h){if(0===u)return-1;const p=l.length;for(let g=0;g<u;g++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function zg(a,l,u){Zl(l);try{const h=a.viewQuery;null!==h&&Zr(1,h,u);const p=a.template;null!==p&&kC(a,l,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&vv(a,l),a.staticViewQueries&&Zr(2,a.viewQuery,u);const g=a.components;null!==g&&function fx(a,l){for(let u=0;u<l.length;u++)Rx(a,l[u])}(l,g)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Pr()}}function ad(a,l,u,h){const p=l[2];if(256!=(256&p)){Zl(l);try{jo(l),function el(a){return xt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&kC(a,l,u,2,h);const b=3==(3&p);if(b){const x=a.preOrderCheckHooks;null!==x&&Wl(l,x,null)}else{const x=a.preOrderHooks;null!==x&&Yl(l,x,0,null),Ii(l,0)}if(function Mx(a){for(let l=uC(a);null!==l;l=dC(l)){if(!l[2])continue;const u=l[9];for(let h=0;h<u.length;h++){const p=u[h],g=p[3];0==(1024&p[2])&&Go(g,1),p[2]|=1024}}}(l),function $C(a){for(let l=uC(a);null!==l;l=dC(l))for(let u=10;u<l.length;u++){const h=l[u],p=h[1];Ts(h)&&ad(p,h,p.template,h[8])}}(l),null!==a.contentQueries&&vv(a,l),b){const x=a.contentCheckHooks;null!==x&&Wl(l,x)}else{const x=a.contentHooks;null!==x&&Yl(l,x,1),Ii(l,1)}!function e2(a,l){const u=a.hostBindingOpCodes;if(null!==u)try{for(let h=0;h<u.length;h++){const p=u[h];if(p<0)va(~p);else{const g=p,b=u[++h],C=u[++h];rh(b,g),C(2,l[g])}}}finally{va(-1)}}(a,l);const C=a.components;null!==C&&function t2(a,l){for(let u=0;u<l.length;u++)kx(a,l[u])}(l,C);const I=a.viewQuery;if(null!==I&&Zr(2,I,h),b){const x=a.viewCheckHooks;null!==x&&Wl(l,x)}else{const x=a.viewHooks;null!==x&&Yl(l,x,2),Ii(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-73,1024&l[2]&&(l[2]&=-1025,Go(l[3],-1))}finally{Pr()}}}function px(a,l,u,h){const p=l[10],b=Ja(l);try{!b&&p.begin&&p.begin(),b&&zg(a,l,h),ad(a,l,u,h)}finally{!b&&p.end&&p.end()}}function kC(a,l,u,h,p){const g=Xi(),b=2&h;try{va(-1),b&&l.length>20&&rx(a,l,20,!1),u(h,p)}finally{va(g)}}function mx(a,l,u){if(Vu(l)){const p=l.directiveEnd;for(let g=l.directiveStart;g<p;g++){const b=a.data[g];b.contentQueries&&b.contentQueries(1,u[g],g)}}}function qg(a,l,u){!Xa()||(function Cx(a,l,u,h){const p=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||li(u,l),bn(h,l);const b=u.initialInputs;for(let C=p;C<g;C++){const I=a.data[C],x=jr(I);x&&Tx(l,u,I);const O=ho(l,a,C,u);bn(O,l),null!==b&&Ax(0,C-p,O,I,0,b),x&&(Ui(u.index,l)[8]=O)}}(a,l,u,Bi(u,l)),128==(128&u.flags)&&function VC(a,l,u){const h=u.directiveStart,p=u.directiveEnd,b=u.index,C=function zl(){return xt.lFrame.currentDirectiveIndex}();try{va(b);for(let I=h;I<p;I++){const x=a.data[I],O=l[I];Nc(I),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&ld(x,O)}}finally{va(-1),Nc(C)}}(a,l,u))}function bv(a,l,u=Bi){const h=l.localNames;if(null!==h){let p=l.index+1;for(let g=0;g<h.length;g+=2){const b=h[g+1],C=-1===b?u(l,a):a[b];a[p++]=C}}}function RC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Zg(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Zg(a,l,u,h,p,g,b,C,I,x){const O=20+h,U=O+p,K=function gx(a,l){const u=[];for(let h=0;h<l;h++)u.push(h<a?null:$t);return u}(O,U),ie="function"==typeof x?x():x;return K[1]={type:a,blueprint:K,template:u,queries:null,viewQuery:C,declTNode:l,data:K.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:ie,incompleteFirstPass:!1}}function wv(a,l,u,h){const p=zn(l);null===u?p.push(h):(p.push(u),a.firstCreatePass&&vo(a).push(h,p.length-1))}function NC(a,l,u){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(u=null===u?{}:u).hasOwnProperty(h)?u[h].push(l,p):u[h]=[l,p]}return u}function _o(a,l,u,h,p,g,b,C){const I=Bi(l,u);let O,x=l.inputs;!C&&null!=x&&(O=x[h])?(Fx(a,u,O,h,p),Tc(l)&&function LC(a,l){const u=Ui(l,a);16&u[2]||(u[2]|=64)}(u,l.index)):3&l.type&&(h=function yx(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=b?b(p,l.value||"",h):p,Mn(g)?g.setProperty(I,h,p):qu(h)||(I.setProperty?I.setProperty(h,p):I[h]=p))}function vp(a,l,u,h){let p=!1;if(Xa()){const g=function Ex(a,l,u){const h=a.directiveRegistry;let p=null;if(h)for(let g=0;g<h.length;g++){const b=h[g];tx(u,b.selectors,!1)&&(p||(p=[]),Wo(li(u,l),a,b.type),jr(b)?(BC(a,u),p.unshift(b)):p.push(b))}return p}(a,l,u),b=null===h?null:{"":-1};if(null!==g){p=!0,Yg(u,a.data.length,g.length);for(let O=0;O<g.length;O++){const U=g[O];U.providersResolver&&U.providersResolver(U)}let C=!1,I=!1,x=yp(a,l,g.length,null);for(let O=0;O<g.length;O++){const U=g[O];u.mergedAttrs=sl(u.mergedAttrs,U.hostAttrs),Sx(a,u,l,x,U),Ix(x,U,b),null!==U.contentQueries&&(u.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(u.flags|=128);const K=U.type.prototype;!C&&(K.ngOnChanges||K.ngOnInit||K.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),C=!0),!I&&(K.ngOnChanges||K.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),I=!0),x++}!function _x(a,l){const h=l.directiveEnd,p=a.data,g=l.attrs,b=[];let C=null,I=null;for(let x=l.directiveStart;x<h;x++){const O=p[x],U=O.inputs,K=null===g||ex(l)?null:UC(U,g);b.push(K),C=NC(U,x,C),I=NC(O.outputs,x,I)}null!==C&&(C.hasOwnProperty("class")&&(l.flags|=16),C.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=C,l.outputs=I}(a,u)}b&&function Dx(a,l,u){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const g=u[l[p+1]];if(null==g)throw new He(-301,!1);h.push(l[p],g)}}}(u,h,b)}return u.mergedAttrs=sl(u.mergedAttrs,u.attrs),p}function Wg(a,l,u,h,p,g){const b=g.hostBindings;if(b){let C=a.hostBindingOpCodes;null===C&&(C=a.hostBindingOpCodes=[]);const I=~l.index;(function wx(a){let l=a.length;for(;l>0;){const u=a[--l];if("number"==typeof u&&u<0)return u}return 0})(C)!=I&&C.push(I),C.push(h,p,b)}}function ld(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function BC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Ix(a,l,u){if(u){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)u[l.exportAs[h]]=a;jr(l)&&(u[""]=a)}}function Yg(a,l,u){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+u,a.providerIndexes=l}function Sx(a,l,u,h,p){a.data[h]=p;const g=p.factory||(p.factory=Gr(p.type)),b=new rl(g,jr(p),null);a.blueprint[h]=b,u[h]=b,Wg(a,l,0,h,yp(a,u,p.hostVars,$t),p)}function Tx(a,l,u){const h=Bi(l,a),p=RC(u),g=a[10],b=Vs(a,Gg(a,p,null,u.onPush?64:16,h,l,g,g.createRenderer(h,u),null,null));a[l.index]=b}function yo(a,l,u,h,p,g){const b=Bi(a,l);!function oc(a,l,u,h,p,g,b){if(null==g)Mn(a)?a.removeAttribute(l,p,u):l.removeAttribute(p);else{const C=null==b?ve(g):b(g,h||"",p);Mn(a)?a.setAttribute(l,p,C,u):u?l.setAttributeNS(u,p,C):l.setAttribute(p,C)}}(l[11],b,g,a.value,u,h,p)}function Ax(a,l,u,h,p,g){const b=g[l];if(null!==b){const C=h.setInput;for(let I=0;I<b.length;){const x=b[I++],O=b[I++],U=b[I++];null!==C?h.setInput(u,U,x,O):u[O]=U}}}function UC(a,l){let u=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],l[h+1])),h+=2}else h+=2;else h+=4}return u}function Kg(a,l,u,h){return new Array(a,!0,!1,l,null,0,h,u,null,null)}function kx(a,l){const u=Ui(l,a);if(Ts(u)){const h=u[1];80&u[2]?ad(h,u,h.template,u[8]):u[5]>0&&Cv(u)}}function Cv(a){for(let h=uC(a);null!==h;h=dC(h))for(let p=10;p<h.length;p++){const g=h[p];if(1024&g[2]){const b=g[1];ad(b,g,b.template,g[8])}else g[5]>0&&Cv(g)}const u=a[1].components;if(null!==u)for(let h=0;h<u.length;h++){const p=Ui(u[h],a);Ts(p)&&p[5]>0&&Cv(p)}}function Rx(a,l){const u=Ui(l,a),h=u[1];(function Ox(a,l){for(let u=l.length;u<a.blueprint.length;u++)l.push(a.blueprint[u])})(h,u),zg(h,u,u[8])}function Vs(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function HC(a){for(;a;){a[2]|=64;const l=Vg(a);if(Ac(a)&&!l)return a;a=l}return null}function jC(a){!function Qg(a){for(let l=0;l<a.components.length;l++){const u=a.components[l],h=Jc(u),p=h[1];px(p,h,p.template,u)}}(a[8])}function Zr(a,l,u){oh(0),l(a,u)}const GC=(()=>Promise.resolve(null))();function zn(a){return a[7]||(a[7]=[])}function vo(a){return a.cleanup||(a.cleanup=[])}function Ev(a,l,u){return(null===a||jr(a))&&(u=function Oc(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(u[l.index])),u[11]}function Wr(a,l){const u=a[9],h=u?u.get(Dt,null):null;h&&h.handleError(l)}function Fx(a,l,u,h,p){for(let g=0;g<u.length;){const b=u[g++],C=u[g++],I=l[b],x=a.data[b];null!==x.setInput?x.setInput(I,p,h,C):I[C]=p}}function Ra(a,l,u){const h=ma(l,a);!function VA(a,l,u){Mn(a)?a.setValue(l,u):l.textContent=u}(a[11],h,u)}function Dv(a,l,u){let h=u?a.styles:null,p=u?a.classes:null,g=0;if(null!==l)for(let b=0;b<l.length;b++){const C=l[b];"number"==typeof C?g=C:1==g?p=De(p,C):2==g&&(h=De(h,C+": "+l[++b]+";"))}u?a.styles=h:a.stylesWithoutHost=h,u?a.classes=p:a.classesWithoutHost=p}const cd=new jn("INJECTOR",-1);class Sv{get(l,u=tr){if(u===tr){const h=new Error(`NullInjectorError: No provider for ${pe(l)}!`);throw h.name="NullInjectorError",h}return u}}const wp=new jn("Set Injector scope."),en={},Xg={};let e_;function zC(){return void 0===e_&&(e_=new Sv),e_}function qC(a,l=null,u=null,h){const p=ZC(a,l,u,h);return p._resolveInjectorDefTypes(),p}function ZC(a,l=null,u=null,h){return new Lx(a,u,l||zC(),h)}class Lx{constructor(l,u,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&Sr(u,C=>this.processProvider(C,l,u)),Sr([l],C=>this.processInjectorType(C,[],g)),this.records.set(cd,Nh(void 0,this));const b=this.records.get(wp);this.scope=null!=b?b.value:null,this.source=p||("object"==typeof l?null:pe(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,u=tr,h=It.Default){this.assertNotDestroyed();const p=S(this),g=vn(void 0);try{if(!(h&It.SkipSelf)){let C=this.records.get(l);if(void 0===C){const I=function Gx(a){return"function"==typeof a||"object"==typeof a&&a instanceof jn}(l)&&Bn(l);C=I&&this.injectableDefInScope(I)?Nh(Tv(l),en):null,this.records.set(l,C)}if(null!=C)return this.hydrate(l,C)}return(h&It.Self?zC():this.parent).get(l,u=h&It.Optional&&u===tr?null:u)}catch(b){if("NullInjectorError"===b.name){if((b[Os]=b[Os]||[]).unshift(pe(l)),p)throw b;return function Et(a,l,u,h){const p=a[Os];throw l[Ch]&&p.unshift(l[Ch]),a.message=function Rt(a,l,u,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=pe(l);if(Array.isArray(l))p=l.map(pe).join(" -> ");else if("object"==typeof l){let g=[];for(let b in l)if(l.hasOwnProperty(b)){let C=l[b];g.push(b+":"+("string"==typeof C?JSON.stringify(C):pe(C)))}p=`{${g.join(", ")}}`}return`${u}${h?"("+h+")":""}[${p}]: ${a.replace(sp,"\n  ")}`}("\n"+a.message,p,u,h),a.ngTokenPath=p,a[Os]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{vn(g),S(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,p)=>l.push(pe(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new He(205,!1)}processInjectorType(l,u,h){if(!(l=ce(l)))return!1;let p=Ks(l);const g=null==p&&l.ngModule||void 0,b=void 0===g?l:g,C=-1!==h.indexOf(b);if(void 0!==g&&(p=Ks(g)),null==p)return!1;if(null!=p.imports&&!C){let O;h.push(b);try{Sr(p.imports,U=>{this.processInjectorType(U,u,h)&&(void 0===O&&(O=[]),O.push(U))})}finally{}if(void 0!==O)for(let U=0;U<O.length;U++){const{ngModule:K,providers:ie}=O[U];Sr(ie,_e=>this.processProvider(_e,K,ie||bt))}}this.injectorDefTypes.add(b);const I=Gr(b)||(()=>new b);this.records.set(b,Nh(I,en));const x=p.providers;if(null!=x&&!C){const O=l;Sr(x,U=>this.processProvider(U,O,x))}return void 0!==g&&void 0!==l.providers}processProvider(l,u,h){let p=Lh(l=ce(l))?l:ce(l&&l.provide);const g=function Bx(a,l,u){return YC(a)?Nh(void 0,a.useValue):Nh(WC(a),en)}(l);if(Lh(l)||!0!==l.multi)this.records.get(p);else{let b=this.records.get(p);b||(b=Nh(void 0,en,!0),b.factory=()=>he(b.multi),this.records.set(p,b)),p=l,b.multi.push(l)}this.records.set(p,g)}hydrate(l,u){return u.value===en&&(u.value=Xg,u.value=u.factory()),"object"==typeof u.value&&u.value&&function jx(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(l){if(!l.providedIn)return!1;const u=ce(l.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Tv(a){const l=Bn(a),u=null!==l?l.factory:Gr(a);if(null!==u)return u;if(a instanceof jn)throw new He(204,!1);if(a instanceof Function)return function Vx(a){const l=a.length;if(l>0)throw Jo(l,"?"),new He(204,!1);const u=function or(a){const l=a&&(a[Ur]||a[ni]);if(l){const u=function Zn(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),l}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new He(204,!1)}function WC(a,l,u){let h;if(Lh(a)){const p=ce(a);return Gr(p)||Tv(p)}if(YC(a))h=()=>ce(a.useValue);else if(function Ux(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...he(a.deps||[]));else if(function o2(a){return!(!a||!a.useExisting)}(a))h=()=>R(ce(a.useExisting));else{const p=ce(a&&(a.useClass||a.provide));if(!function Hx(a){return!!a.deps}(a))return Gr(p)||Tv(p);h=()=>new p(...he(a.deps))}return h}function Nh(a,l,u=!1){return{factory:a,value:l,multi:u?[]:void 0}}function YC(a){return null!==a&&"object"==typeof a&&Dg in a}function Lh(a){return"function"==typeof a}let bl=(()=>{class a{static create(u,h){if(Array.isArray(u))return qC({name:""},h,u,"");{const p=u.name??"";return qC({name:p},u.parent,u.providers,p)}}}return a.THROW_IF_NOT_FOUND=tr,a.NULL=new Sv,a.\u0275prov=dn({token:a,providedIn:"any",factory:()=>R(cd)}),a.__NG_ELEMENT_ID__=-1,a})();function rE(a,l){so(Jc(a)[1],Pn())}function sE(a){let l=function i_(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const h=[a];for(;l;){let p;if(jr(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new He(903,"");p=l.\u0275dir}if(p){if(u){h.push(p);const b=a;b.inputs=lc(a.inputs),b.declaredInputs=lc(a.declaredInputs),b.outputs=lc(a.outputs);const C=p.hostBindings;C&&tM(a,C);const I=p.viewQuery,x=p.contentQueries;if(I&&oE(a,I),x&&aE(a,x),se(a.inputs,p.inputs),se(a.declaredInputs,p.declaredInputs),se(a.outputs,p.outputs),jr(p)&&p.data.animation){const O=a.data;O.animation=(O.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let b=0;b<g.length;b++){const C=g[b];C&&C.ngInherit&&C(a),C===sE&&(u=!1)}}l=Object.getPrototypeOf(l)}!function eM(a){let l=0,u=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=sl(p.hostAttrs,u=sl(u,p.hostAttrs))}}(h)}function lc(a){return a===xn?{}:a===bt?[]:a}function oE(a,l){const u=a.viewQuery;a.viewQuery=u?(h,p)=>{l(h,p),u(h,p)}:l}function aE(a,l){const u=a.contentQueries;a.contentQueries=u?(h,p,g)=>{l(h,p,g),u(h,p,g)}:l}function tM(a,l){const u=a.hostBindings;a.hostBindings=u?(h,p)=>{l(h,p),u(h,p)}:l}let Cp=null;function su(){if(!Cp){const a=Wt.Symbol;if(a&&a.iterator)Cp=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<l.length;++u){const h=l[u];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Cp=h)}}}return Cp}function Vh(a){return!!Bh(a)&&(Array.isArray(a)||!(a instanceof Map)&&su()in a)}function Bh(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function wo(a,l,u){return a[l]=u}function Nr(a,l,u){return!Object.is(a[l],u)&&(a[l]=u,!0)}function Uh(a,l,u,h){const p=Be();return Nr(p,tl(),l)&&(Yt(),yo(mi(),p,a,l,u,h)),Uh}function Oa(a,l,u,h){return Nr(a,tl(),u)?l+ve(u)+h:$t}function $s(a,l,u,h,p,g,b,C){const I=Be(),x=Yt(),O=a+20,U=x.firstCreatePass?function rM(a,l,u,h,p,g,b,C,I){const x=l.consts,O=Fh(l,a,4,b||null,Rr(x,C));vp(l,u,O,Rr(x,I)),so(l,O);const U=O.tViews=Zg(2,O,h,p,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,x);return null!==l.queries&&(l.queries.template(l,O),U.queries=l.queries.embeddedTView(O)),O}(O,x,I,l,u,h,p,g,b):x.data[O];As(U,!1);const K=I[11].createComment("");hv(x,I,K,U),bn(K,I),Vs(I,I[O]=Kg(K,I,K,U)),Uo(U)&&qg(x,I,U),null!=b&&bv(I,U,C)}function Ip(a){return io(function nh(){return xt.lFrame.contextLView}(),20+a)}function fd(a,l=It.Default){const u=Be();return null===u?R(a,l):Ca(Pn(),u,ce(a),l)}function wM(){throw new Error("invalid")}function Pv(a,l,u){const h=Be();return Nr(h,tl(),l)&&_o(Yt(),mi(),h,a,l,h[11],u,!1),Pv}function Fv(a,l,u,h,p){const b=p?"class":"style";Fx(a,u,l.inputs[b],b,h)}function Mp(a,l,u,h){const p=Be(),g=Yt(),b=20+a,C=p[11],I=p[b]=uv(C,l,function _g(){return xt.lFrame.currentNamespace}()),x=g.firstCreatePass?function CM(a,l,u,h,p,g,b){const C=l.consts,x=Fh(l,a,2,p,Rr(C,g));return vp(l,u,x,Rr(C,b)),null!==x.attrs&&Dv(x,x.attrs,!1),null!==x.mergedAttrs&&Dv(x,x.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,x),x}(b,g,p,0,l,u,h):g.data[b];As(x,!0);const O=x.mergedAttrs;null!==O&&zu(C,I,O);const U=x.classes;null!==U&&vC(C,I,U);const K=x.styles;return null!==K&&QA(C,I,K),64!=(64&x.flags)&&hv(g,p,I,x),0===function Xd(){return xt.lFrame.elementDepthCount}()&&bn(I,p),function Hl(){xt.lFrame.elementDepthCount++}(),Uo(x)&&(qg(g,p,x),mx(g,x,p)),null!==h&&bv(p,x),Mp}function Zh(){let a=Pn();Hu()?Gl():(a=a.parent,As(a,!1));const l=a;!function eh(){xt.lFrame.elementDepthCount--}();const u=Yt();return u.firstCreatePass&&(so(u,a),Vu(a)&&u.queries.elementEnd(a)),null!=l.classesWithoutHost&&function vg(a){return 0!=(16&a.flags)}(l)&&Fv(u,l,Be(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function kn(a){return 0!=(32&a.flags)}(l)&&Fv(u,l,Be(),l.stylesWithoutHost,!1),Zh}function u_(a,l,u,h){return Mp(a,l,u,h),Zh(),u_}function d_(a,l,u){const h=Be(),p=Yt(),g=a+20,b=p.firstCreatePass?function EM(a,l,u,h,p){const g=l.consts,b=Rr(g,h),C=Fh(l,a,8,"ng-container",b);return null!==b&&Dv(C,b,!0),vp(l,u,C,Rr(g,p)),null!==l.queries&&l.queries.elementStart(l,C),C}(g,p,h,l,u):p.data[g];As(b,!0);const C=h[g]=h[11].createComment("");return hv(p,h,C,b),bn(C,h),Uo(b)&&(qg(p,h,b),mx(p,b,h)),null!=u&&bv(h,b),d_}function h_(){let a=Pn();const l=Yt();return Hu()?Gl():(a=a.parent,As(a,!1)),l.firstCreatePass&&(so(l,a),Vu(a)&&l.queries.elementEnd(a)),h_}function Nv(){return Be()}function Lv(a){return!!a&&"function"==typeof a.then}function wE(a){return!!a&&"function"==typeof a.subscribe}const Vv=wE;function Bv(a,l,u,h){const p=Be(),g=Yt(),b=Pn();return CE(g,p,p[11],b,a,l,!!u,h),Bv}function kp(a,l){const u=Pn(),h=Be(),p=Yt();return CE(p,h,Ev(il(p.data),u,h),u,a,l,!1),kp}function CE(a,l,u,h,p,g,b,C){const I=Uo(h),O=a.firstCreatePass&&vo(a),U=l[8],K=zn(l);let ie=!0;if(3&h.type||C){const it=Bi(h,l),ft=C?C(it):it,Le=K.length,At=C?ln=>C(Sn(ln[h.index])):h.index;if(Mn(u)){let ln=null;if(!C&&I&&(ln=function DM(a,l,u,h){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const b=p[g];if(b===u&&p[g+1]===h){const C=l[7],I=p[g+2];return C.length>I?C[I]:null}"string"==typeof b&&(g+=2)}return null}(a,l,p,h.index)),null!==ln)(ln.__ngLastListenerFn__||ln).__ngNextListenerFn__=g,ln.__ngLastListenerFn__=g,ie=!1;else{g=Uv(h,l,U,g,!1);const Nn=u.listen(ft,p,g);K.push(g,Nn),O&&O.push(p,At,Le,Le+1)}}else g=Uv(h,l,U,g,!0),ft.addEventListener(p,g,b),K.push(g),O&&O.push(p,At,Le,b)}else g=Uv(h,l,U,g,!1);const _e=h.outputs;let Ge;if(ie&&null!==_e&&(Ge=_e[p])){const it=Ge.length;if(it)for(let ft=0;ft<it;ft+=2){const Qr=l[Ge[ft]][Ge[ft+1]].subscribe(g),Sd=K.length;K.push(g,Qr),O&&O.push(p,h.index,Sd,-(Sd+1))}}}function EE(a,l,u,h){try{return!1!==u(h)}catch(p){return Wr(a,p),!1}}function Uv(a,l,u,h,p){return function g(b){if(b===Function)return h;const C=2&a.flags?Ui(a.index,l):l;0==(32&l[2])&&HC(C);let I=EE(l,0,h,b),x=g.__ngNextListenerFn__;for(;x;)I=EE(l,0,x,b)&&I,x=x.__ngNextListenerFn__;return p&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function $v(a=1){return function Jf(a){return(xt.lFrame.contextLView=function Gu(a,l){for(;a>0;)l=l[15],a--;return l}(a,xt.lFrame.contextLView))[8]}(a)}function IM(a,l){let u=null;const h=function $L(a){const l=a.attrs;if(null!=l){const u=l.indexOf(5);if(0==(1&u))return l[u+1]}return null}(a);for(let p=0;p<l.length;p++){const g=l[p];if("*"!==g){if(null===h?tx(a,g,!0):GL(h,g))return p}else u=p}return u}function Eo(a){const l=Be()[16][6];if(!l.projection){const h=l.projection=Jo(a?a.length:1,null),p=h.slice();let g=l.child;for(;null!==g;){const b=a?IM(g,a):0;null!==b&&(p[b]?p[b].projectionNext=g:h[b]=g,p[b]=g),g=g.next}}}function f_(a,l=0,u){const h=Be(),p=Yt(),g=Fh(p,20+a,16,null,u||null);null===g.projection&&(g.projection=l),Gl(),64!=(64&g.flags)&&function PL(a,l,u){KA(l[11],0,l,u,$A(a,u,l),zA(u.parent||l[6],u,l))}(p,h,g)}function Yh(a,l,u,h,p){const g=Be(),b=Oa(g,l,u,h);return b!==$t&&_o(Yt(),mi(),g,a,b,g[11],p,!1),Yh}function pd(a,l,u,h,p){const g=a[u+1],b=null===l;let C=h?yl(g):nu(g),I=!1;for(;0!==C&&(!1===I||b);){const O=a[C+1];TM(a[C],l)&&(I=!0,a[C+1]=h?CC(O):bC(O)),C=h?yl(O):nu(O)}I&&(a[u+1]=h?bC(g):CC(g))}function TM(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Da(a,l)>=0}const pr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function jv(a){return a.substring(pr.key,pr.keyEnd)}function Op(a,l){const u=pr.textEnd;return u===l?-1:(l=pr.keyEnd=function RE(a,l,u){for(;l<u&&a.charCodeAt(l)>32;)l++;return l}(a,pr.key=l,u),Kh(a,l,u))}function Kh(a,l,u){for(;l<u&&a.charCodeAt(l)<=32;)l++;return l}function Qh(a,l,u){return Pa(a,l,u,!1),Qh}function g_(a,l){return Pa(a,l,null,!0),g_}function NE(a){Fa(dr,Dl,a,!0)}function Dl(a,l){for(let u=function ME(a){return function m_(a){pr.key=0,pr.keyEnd=0,pr.value=0,pr.valueEnd=0,pr.textEnd=a.length}(a),Op(a,Kh(a,0,pr.textEnd))}(l);u>=0;u=Op(l,u))dr(a,jv(l),!0)}function Pa(a,l,u,h){const p=Be(),g=Yt(),b=Or(2);g.firstUpdatePass&&VE(g,a,b,h),l!==$t&&Nr(p,b,l)&&$E(g,g.data[Xi()],p,p[11],a,p[b+1]=function _2(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=pe(Ta(a)))),a}(l,u),h,b)}function Fa(a,l,u,h){const p=Yt(),g=Or(2);p.firstUpdatePass&&VE(p,null,g,h);const b=Be();if(u!==$t&&Nr(b,g,u)){const C=p.data[Xi()];if(NM(C,h)&&!LE(p,g)){let I=h?C.classesWithoutHost:C.stylesWithoutHost;null!==I&&(u=De(I,u||"")),Fv(p,C,b,u,h)}else!function FM(a,l,u,h,p,g,b,C){p===$t&&(p=bt);let I=0,x=0,O=0<p.length?p[0]:null,U=0<g.length?g[0]:null;for(;null!==O||null!==U;){const K=I<p.length?p[I+1]:void 0,ie=x<g.length?g[x+1]:void 0;let Ge,_e=null;O===U?(I+=2,x+=2,K!==ie&&(_e=U,Ge=ie)):null===U||null!==O&&O<U?(I+=2,_e=O):(x+=2,_e=U,Ge=ie),null!==_e&&$E(a,l,u,h,_e,Ge,b,C),O=I<p.length?p[I]:null,U=x<g.length?g[x]:null}}(p,C,b,b[11],b[g+1],b[g+1]=function g2(a,l,u){if(null==u||""===u)return bt;const h=[],p=Ta(u);if(Array.isArray(p))for(let g=0;g<p.length;g++)a(h,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&a(h,g,p[g]);else"string"==typeof p&&l(h,p);return h}(a,l,u),h,g)}}function LE(a,l){return l>=a.expandoStartIndex}function VE(a,l,u,h){const p=a.data;if(null===p[u+1]){const g=p[Xi()],b=LE(a,u);NM(g,h)&&null===l&&!b&&(l=!1),l=function uc(a,l,u,h){const p=il(a);let g=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(u=__(u=Gv(null,a,l,u,h),l.attrs,h),g=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==p)if(u=Gv(p,a,l,u,h),null===g){let I=function BE(a,l,u){const h=u?l.classBindings:l.styleBindings;if(0!==nu(h))return a[yl(h)]}(a,l,h);void 0!==I&&Array.isArray(I)&&(I=Gv(null,a,l,I[1],h),I=__(I,l.attrs,h),function UE(a,l,u,h){a[yl(u?l.classBindings:l.styleBindings)]=h}(a,l,h,I))}else g=function OM(a,l,u){let h;const p=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<p;g++)h=__(h,a[g].hostAttrs,u);return __(h,l.attrs,u)}(a,l,h)}return void 0!==g&&(h?l.residualClasses=g:l.residualStyles=g),u}(p,g,l,h),function xE(a,l,u,h,p,g){let b=g?l.classBindings:l.styleBindings,C=yl(b),I=nu(b);a[h]=u;let O,x=!1;if(Array.isArray(u)){const U=u;O=U[1],(null===O||Da(U,O)>0)&&(x=!0)}else O=u;if(p)if(0!==I){const K=yl(a[C+1]);a[h+1]=mv(K,C),0!==K&&(a[K+1]=wC(a[K+1],h)),a[C+1]=function WL(a,l){return 131071&a|l<<17}(a[C+1],h)}else a[h+1]=mv(C,0),0!==C&&(a[C+1]=wC(a[C+1],h)),C=h;else a[h+1]=mv(I,0),0===C?C=h:a[I+1]=wC(a[I+1],h),I=h;x&&(a[h+1]=bC(a[h+1])),pd(a,O,h,!0),pd(a,O,h,!1),function ra(a,l,u,h,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Da(g,l)>=0&&(u[h+1]=CC(u[h+1]))}(l,O,a,h,g),b=mv(C,I),g?l.classBindings=b:l.styleBindings=b}(p,g,l,u,b,h)}}function Gv(a,l,u,h,p){let g=null;const b=u.directiveEnd;let C=u.directiveStylingLast;for(-1===C?C=u.directiveStart:C++;C<b&&(g=l[C],h=__(h,g.hostAttrs,p),g!==a);)C++;return null!==a&&(u.directiveStylingLast=C),h}function __(a,l,u){const h=u?1:2;let p=-1;if(null!==l)for(let g=0;g<l.length;g++){const b=l[g];"number"==typeof b?p=b:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),dr(a,b,!!u||l[++g]))}return void 0===a?null:a}function $E(a,l,u,h,p,g,b,C){if(!(3&l.type))return;const I=a.data,x=I[C+1];Pp(function ax(a){return 1==(1&a)}(x)?HE(I,l,u,p,nu(x),b):void 0)||(Pp(g)||function ox(a){return 2==(2&a)}(x)&&(g=HE(I,null,u,p,C,b)),function NL(a,l,u,h,p){const g=Mn(a);if(l)p?g?a.addClass(u,h):u.classList.add(h):g?a.removeClass(u,h):u.classList.remove(h);else{let b=-1===h.indexOf("-")?void 0:hr.DashCase;if(null==p)g?a.removeStyle(u,h,b):u.style.removeProperty(h);else{const C="string"==typeof p&&p.endsWith("!important");C&&(p=p.slice(0,-10),b|=hr.Important),g?a.setStyle(u,h,p,b):u.style.setProperty(h,p,C?"important":"")}}}(h,b,ma(Xi(),u),p,g))}function HE(a,l,u,h,p,g){const b=null===l;let C;for(;p>0;){const I=a[p],x=Array.isArray(I),O=x?I[1]:I,U=null===O;let K=u[p+1];K===$t&&(K=U?bt:void 0);let ie=U?qc(K,h):O===h?K:void 0;if(x&&!Pp(ie)&&(ie=qc(I,h)),Pp(ie)&&(C=ie,b))return C;const _e=a[p+1];p=b?yl(_e):nu(_e)}if(null!==l){let I=g?l.residualClasses:l.residualStyles;null!=I&&(C=qc(I,h))}return C}function Pp(a){return void 0!==a}function NM(a,l){return 0!=(a.flags&(l?16:32))}function jE(a,l=""){const u=Be(),h=Yt(),p=a+20,g=h.firstCreatePass?Fh(h,p,1,l,null):h.data[p],b=u[p]=function hC(a,l){return Mn(a)?a.createText(l):a.createTextNode(l)}(u[11],l);hv(h,u,b,g),As(g,!1)}function zv(a){return Fn("",a,""),zv}function Fn(a,l,u){const h=Be(),p=Oa(h,a,l,u);return p!==$t&&Ra(h,Xi(),p),Fn}function UM(a,l,u){Fa(dr,Dl,Oa(Be(),a,l,u),!0)}function uu(a,l,u){const h=Be();return Nr(h,tl(),l)&&_o(Yt(),mi(),h,a,l,h[11],u,!0),uu}function Jh(a,l,u){const h=Be();if(Nr(h,tl(),l)){const g=Yt(),b=mi();_o(g,b,h,a,l,Ev(il(g.data),b,h),u,!0)}return Jh}const md=void 0;var QE=["en",[["a","p"],["AM","PM"],md],[["AM","PM"],md,md],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],md,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],md,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",md,"{1} 'at' {0}",md],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZM(a){const u=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===h?1:5}];let Vp={};function C2(a,l,u){"string"!=typeof l&&(u=l,l=a[Ot.LocaleId]),l=l.toLowerCase().replace(/_/g,"-"),Vp[l]=a,u&&(Vp[l][Ot.ExtraData]=u)}function JE(a){const l=function eD(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=XE(l);if(u)return u;const h=l.split("-")[0];if(u=XE(h),u)return u;if("en"===h)return QE;throw new Error(`Missing locale data for the locale "${a}".`)}function YM(a){return JE(a)[Ot.PluralCase]}function XE(a){return a in Vp||(Vp[a]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[a]),Vp[a]}var Ot=(()=>((Ot=Ot||{})[Ot.LocaleId=0]="LocaleId",Ot[Ot.DayPeriodsFormat=1]="DayPeriodsFormat",Ot[Ot.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ot[Ot.DaysFormat=3]="DaysFormat",Ot[Ot.DaysStandalone=4]="DaysStandalone",Ot[Ot.MonthsFormat=5]="MonthsFormat",Ot[Ot.MonthsStandalone=6]="MonthsStandalone",Ot[Ot.Eras=7]="Eras",Ot[Ot.FirstDayOfWeek=8]="FirstDayOfWeek",Ot[Ot.WeekendRange=9]="WeekendRange",Ot[Ot.DateFormat=10]="DateFormat",Ot[Ot.TimeFormat=11]="TimeFormat",Ot[Ot.DateTimeFormat=12]="DateTimeFormat",Ot[Ot.NumberSymbols=13]="NumberSymbols",Ot[Ot.NumberFormats=14]="NumberFormats",Ot[Ot.CurrencyCode=15]="CurrencyCode",Ot[Ot.CurrencySymbol=16]="CurrencySymbol",Ot[Ot.CurrencyName=17]="CurrencyName",Ot[Ot.Currencies=18]="Currencies",Ot[Ot.Directionality=19]="Directionality",Ot[Ot.PluralCase=20]="PluralCase",Ot[Ot.ExtraData=21]="ExtraData",Ot))();const Bp="en-US";let JM=Bp;function Wp(a,l,u,h,p){if(a=ce(a),Array.isArray(a))for(let g=0;g<a.length;g++)Wp(a[g],l,u,h,p);else{const g=Yt(),b=Be();let C=Lh(a)?a:ce(a.provide),I=WC(a);const x=Pn(),O=1048575&x.providerIndexes,U=x.directiveStart,K=x.providerIndexes>>20;if(Lh(a)||!a.multi){const ie=new rl(I,p,fd),_e=I_(C,l,p?O:O+K,U);-1===_e?(Wo(li(x,b),g,C),hu(g,a,l.length),l.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),u.push(ie),b.push(ie)):(u[_e]=ie,b[_e]=ie)}else{const ie=I_(C,l,O+K,U),_e=I_(C,l,O,O+K),Ge=ie>=0&&u[ie],it=_e>=0&&u[_e];if(p&&!it||!p&&!Ge){Wo(li(x,b),g,C);const ft=function Sk(a,l,u,h,p){const g=new rl(a,u,fd);return g.multi=[],g.index=l,g.componentProviders=0,rb(g,p,h&&!u),g}(p?Ik:hc,u.length,p,h,I);!p&&it&&(u[_e].providerFactory=ft),hu(g,a,l.length,0),l.push(C),x.directiveStart++,x.directiveEnd++,p&&(x.providerIndexes+=1048576),u.push(ft),b.push(ft)}else hu(g,a,ie>-1?ie:_e,rb(u[p?_e:ie],I,!p&&h));!p&&h&&it&&u[_e].componentProviders++}}}function hu(a,l,u,h){const p=Lh(l),g=function $x(a){return!!a.useClass}(l);if(p||g){const I=(g?ce(l.useClass):l).prototype.ngOnDestroy;if(I){const x=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const O=x.indexOf(u);-1===O?x.push(u,[h,I]):x[O+1].push(h,I)}else x.push(u,I)}}}function rb(a,l,u){return u&&a.componentProviders++,a.multi.push(l)-1}function I_(a,l,u,h){for(let p=u;p<h;p++)if(l[p]===a)return p;return-1}function hc(a,l,u,h){return sb(this.multi,[])}function Ik(a,l,u,h){const p=this.multi;let g;if(this.providerFactory){const b=this.providerFactory.componentProviders,C=ho(u,u[1],this.providerFactory.index,h);g=C.slice(0,b),sb(p,g);for(let I=b;I<C.length;I++)g.push(C[I])}else g=[],sb(p,g);return g}function sb(a,l){for(let u=0;u<a.length;u++)l.push((0,a[u])());return l}function CD(a,l=[]){return u=>{u.providersResolver=(h,p)=>function wD(a,l,u){const h=Yt();if(h.firstCreatePass){const p=jr(a);Wp(u,h.data,h.blueprint,p,!0),Wp(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class ob{}class Ak{resolveComponentFactory(l){throw function fu(a){const l=Error(`No component factory found for ${pe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let Yp=(()=>{class a{}return a.NULL=new Ak,a})();function DD(){return _d(Pn(),Be())}function _d(a,l){return new Kp(Bi(a,l))}let Kp=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=DD,a})();function Qp(a){return a instanceof Kp?a.nativeElement:a}class S_{}let ab=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function ID(){const a=Be(),u=Ui(Pn().index,a);return function T_(a){return a[11]}(Dr(u)?u:a)}(),a})(),lb=(()=>{class a{}return a.\u0275prov=dn({token:a,providedIn:"root",factory:()=>null}),a})();class Jp{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const cb=new Jp("13.3.11"),A_={};function x_(a,l,u,h,p=!1){for(;null!==u;){const g=l[u.index];if(null!==g&&h.push(Sn(g)),cr(g))for(let C=10;C<g.length;C++){const I=g[C],x=I[1].firstChild;null!==x&&x_(I[1],I,x,h)}const b=u.type;if(8&b)x_(a,l,u.child,h);else if(32&b){const C=na(u,l);let I;for(;I=C();)h.push(I)}else if(16&b){const C=YA(l,u);if(Array.isArray(C))h.push(...C);else{const I=Vg(l[16]);x_(I[1],I,C,h,!0)}}u=p?u.projectionNext:u.next}return h}class M_{constructor(l,u){this._lView=l,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,u=l[1];return x_(u,l,u.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(cr(l)){const u=l[8],h=u?u.indexOf(this):-1;h>-1&&(pC(l,h),Ea(u,h))}this._attachedToViewContainer=!1}UA(this._lView[1],this._lView)}onDestroy(l){wv(this._lView[1],this._lView,null,l)}markForCheck(){HC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){!function Jg(a,l,u){const h=l[10];h.begin&&h.begin();try{ad(a,l,a.template,u)}catch(p){throw Wr(l,p),p}finally{h.end&&h.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new He(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function TL(a,l){Bg(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new He(902,"");this._appRef=l}}class N2 extends M_{constructor(l){super(l),this._view=l}detectChanges(){jC(this._view)}checkNoChanges(){}get context(){return null}}class xk extends Yp{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const u=mt(l);return new SD(u,this.ngModule)}}function Mk(a){const l=[];for(let u in a)a.hasOwnProperty(u)&&l.push({propName:a[u],templateName:u});return l}class SD extends ob{constructor(l,u){super(),this.componentDef=l,this.ngModule=u,this.componentType=l.type,this.selector=function qL(a){return a.map(zL).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Mk(this.componentDef.inputs)}get outputs(){return Mk(this.componentDef.outputs)}create(l,u,h,p){const g=(p=p||this.ngModule)?function V2(a,l){return{get:(u,h,p)=>{const g=a.get(u,A_,p);return g!==A_||h===A_?g:l.get(u,h,p)}}}(l,p.injector):l,b=g.get(S_,Ul),C=g.get(lb,null),I=b.createRenderer(null,this.componentDef),x=this.componentDef.selectors[0][0]||"div",O=h?function PC(a,l,u){if(Mn(a))return a.selectRootElement(l,u===Zt.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(I,h,this.componentDef.encapsulation):uv(b.createRenderer(null,this.componentDef),x,function L2(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(x)),U=this.componentDef.onPush?576:528,K=function n_(a,l){return{components:[],scheduler:a||PA,clean:GC,playerHandler:l||null,flags:0}}(),ie=Zg(0,null,null,1,0,null,null,null,null,null),_e=Gg(null,ie,K,U,null,null,b,I,C,g);let Ge,it;Zl(_e);try{const ft=function Bs(a,l,u,h,p,g){const b=u[1];u[20]=a;const I=Fh(b,20,2,"#host",null),x=I.mergedAttrs=l.hostAttrs;null!==x&&(Dv(I,x,!0),null!==a&&(zu(p,a,x),null!==I.classes&&vC(p,a,I.classes),null!==I.styles&&QA(p,a,I.styles)));const O=h.createRenderer(a,l),U=Gg(u,RC(l),null,l.onPush?64:16,u[20],I,h,O,g||null,null);return b.firstCreatePass&&(Wo(li(I,u),b,l.type),BC(b,I),Yg(I,u.length,1)),Vs(u,U),u[20]=U}(O,this.componentDef,_e,b,I);if(O)if(h)zu(I,O,["ng-version",cb.full]);else{const{attrs:Le,classes:At}=function ZL(a){const l=[],u=[];let h=1,p=2;for(;h<a.length;){let g=a[h];if("string"==typeof g)2===p?""!==g&&l.push(g,a[++h]):8===p&&u.push(g);else{if(!_l(p))break;p=g}h++}return{attrs:l,classes:u}}(this.componentDef.selectors[0]);Le&&zu(I,O,Le),At&&At.length>0&&vC(I,O,At.join(" "))}if(it=ri(ie,20),void 0!==u){const Le=it.projection=[];for(let At=0;At<this.ngContentSelectors.length;At++){const ln=u[At];Le.push(null!=ln?Array.from(ln):null)}}Ge=function Mv(a,l,u,h,p){const g=u[1],b=function r2(a,l,u){const h=Pn();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Sx(a,h,l,yp(a,l,1,null),u));const p=ho(l,a,h.directiveStart,h);bn(p,l);const g=Bi(h,l);return g&&bn(g,l),p}(g,u,l);if(h.components.push(b),a[8]=b,p&&p.forEach(I=>I(b,l)),l.contentQueries){const I=Pn();l.contentQueries(1,b,I.directiveStart)}const C=Pn();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(va(C.index),Wg(u[1],C,0,C.directiveStart,C.directiveEnd,l),ld(l,b)),b}(ft,this.componentDef,_e,K,[rE]),zg(ie,_e,null)}finally{Pr()}return new kk(this.componentType,Ge,_d(it,_e),_e,it)}}class kk extends class ED{}{constructor(l,u,h,p,g){super(),this.location=h,this._rootLView=p,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new N2(p),this.componentType=l}get injector(){return new ji(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class pu{}class k_{}const yd=new Map;class AD extends pu{constructor(l,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new xk(this);const h=qt(l);this._bootstrapComponents=Ls(h.bootstrap),this._r3Injector=ZC(l,u,[{provide:pu,useValue:this},{provide:Yp,useValue:this.componentFactoryResolver}],pe(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,u=bl.THROW_IF_NOT_FOUND,h=It.Default){return l===bl||l===pu||l===cd?this:this._r3Injector.get(l,u,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class xD extends k_{constructor(l){super(),this.moduleType=l,null!==qt(l)&&function Rk(a){const l=new Set;!function u(h){const p=qt(h,!0),g=p.id;null!==g&&(function R_(a,l,u){if(l&&l!==u)throw new Error(`Duplicate module registered for ${a} - ${pe(l)} vs ${pe(l.name)}`)}(g,yd.get(g),h),yd.set(g,h));const b=Ls(p.imports);for(const C of b)l.has(C)||(l.add(C),u(C))}(a)}(l)}create(l){return new AD(this.moduleType,l)}}function MD(a,l,u,h){return PD(Be(),$i(),a,l,u,h)}function Xp(a,l,u,h,p){return function Nk(a,l,u,h,p,g,b){const C=l+u;return function cc(a,l,u,h){const p=Nr(a,l,u);return Nr(a,l+1,h)||p}(a,C,p,g)?wo(a,C+2,b?h.call(b,p,g):h(p,g)):fc(a,C+2)}(Be(),$i(),a,l,u,h,p)}function fc(a,l){const u=a[l];return u===$t?void 0:u}function PD(a,l,u,h,p,g){const b=l+u;return Nr(a,b,p)?wo(a,b+1,g?h.call(g,p):h(p)):fc(a,b+1)}function ND(a,l){const u=Yt();let h;const p=a+20;u.firstCreatePass?(h=function Lk(a,l){if(l)for(let u=l.length-1;u>=0;u--){const h=l[u];if(a===h.name)return h}}(l,u.pipeRegistry),u.data[p]=h,h.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,h.onDestroy)):h=u.data[p];const g=h.factory||(h.factory=Gr(h.type)),b=vn(fd);try{const C=Zo(!1),I=g();return Zo(C),function pE(a,l,u,h){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),l[u]=h}(u,Be(),p,I),I}finally{vn(b)}}function LD(a,l,u){const h=a+20,p=Be(),g=io(p,h);return function nm(a,l){return a[1].data[l].pure}(p,h)?PD(p,$i(),l,g.transform,u,g):g.transform(u)}function bd(a){return l=>{setTimeout(a,void 0,l)}}const Il=class BD extends o.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,u,h){let p=l,g=u||(()=>null),b=h;if(l&&"object"==typeof l){const I=l;p=I.next?.bind(I),g=I.error?.bind(I),b=I.complete?.bind(I)}this.__isAsync&&(g=bd(g),p&&(p=bd(p)),b&&(b=bd(b)));const C=super.subscribe({next:p,error:g,complete:b});return l instanceof H.w0&&l.add(C),C}};function UD(){return this._results[su()]()}class O_{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=su(),h=O_.prototype;h[u]||(h[u]=UD)}get changes(){return this._changes||(this._changes=new Il)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,u){return this._results.reduce(l,u)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,u){const h=this;h.dirty=!1;const p=Ir(l);(this._changesDetected=!function vh(a,l,u){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],g=l[h];if(u&&(p=u(p),g=u(g)),g!==p)return!1}return!0}(h._results,p,u))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let im=(()=>{class a{}return a.__NG_ELEMENT_ID__=db,a})();const G2=im,Uk=class extends G2{constructor(l,u,h){super(),this._declarationLView=l,this._declarationTContainer=u,this.elementRef=h}createEmbeddedView(l){const u=this._declarationTContainer.tViews,h=Gg(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(h[19]=g.createEmbeddedView(u)),zg(u,h,l),new M_(h)}};function db(){return wd(Pn(),Be())}function wd(a,l){return 4&a.type?new Uk(l,a,_d(a,l)):null}let rm=(()=>{class a{}return a.__NG_ELEMENT_ID__=$k,a})();function $k(){return jD(Pn(),Be())}const z2=rm,$D=class extends z2{constructor(l,u,h){super(),this._lContainer=l,this._hostTNode=u,this._hostLView=h}get element(){return _d(this._hostTNode,this._hostLView)}get injector(){return new ji(this._hostTNode,this._hostLView)}get parentInjector(){const l=jc(this._hostTNode,this._hostLView);if(ao(l)){const u=ct(l,this._hostLView),h=fn(l);return new ji(u[1].data[h+8],u)}return new ji(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const u=HD(this._lContainer);return null!==u&&u[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,u,h){const p=l.createEmbeddedView(u||{});return this.insert(p,h),p}createComponent(l,u,h,p,g){const b=l&&!function er(a){return"function"==typeof a}(l);let C;if(b)C=u;else{const U=u||{};C=U.index,h=U.injector,p=U.projectableNodes,g=U.ngModuleRef}const I=b?l:new SD(mt(l)),x=h||this.parentInjector;if(!g&&null==I.ngModule){const K=(b?x:this.parentInjector).get(pu,null);K&&(g=K)}const O=I.create(x,p,void 0,g);return this.insert(O.hostView,C),O}insert(l,u){const h=l._lView,p=h[1];if(function $u(a){return cr(a[3])}(h)){const O=this.indexOf(l);if(-1!==O)this.detach(O);else{const U=h[3],K=new $D(U,U[6],U[3]);K.detach(K.indexOf(l))}}const g=this._adjustIndex(u),b=this._lContainer;!function fC(a,l,u,h){const p=10+h,g=u.length;h>0&&(u[p-1][4]=l),h<g-10?(l[4]=u[p],cl(u,10+h,l)):(u.push(l),l[4]=null),l[3]=u;const b=l[17];null!==b&&u!==b&&function xL(a,l){const u=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===u?a[9]=[l]:u.push(l)}(b,l);const C=l[19];null!==C&&C.insertView(a),l[2]|=128}(p,h,b,g);const C=_C(g,b),I=h[11],x=dv(I,b[7]);return null!==x&&function SL(a,l,u,h,p,g){h[0]=p,h[6]=l,Bg(a,h,u,1,p,g)}(p,b[6],I,h,x,C),l.attachToViewContainerRef(),cl(ef(b),g,l),l}move(l,u){return this.insert(l,u)}indexOf(l){const u=HD(this._lContainer);return null!==u?u.indexOf(l):-1}remove(l){const u=this._adjustIndex(l,-1),h=pC(this._lContainer,u);h&&(Ea(ef(this._lContainer),u),UA(h[1],h))}detach(l){const u=this._adjustIndex(l,-1),h=pC(this._lContainer,u);return h&&null!=Ea(ef(this._lContainer),u)?new M_(h):null}_adjustIndex(l,u=0){return l??this.length+u}};function HD(a){return a[8]}function ef(a){return a[8]||(a[8]=[])}function jD(a,l){let u;const h=l[a.index];if(cr(h))u=h;else{let p;if(8&a.type)p=Sn(h);else{const g=l[11];p=g.createComment("");const b=Bi(a,l);Oh(g,dv(g,b),p,function OL(a,l){return Mn(a)?a.nextSibling(l):l.nextSibling}(g,b),!1)}l[a.index]=u=Kg(h,l,p,a),Vs(l,u)}return new $D(u,a,l)}class fb{constructor(l){this.queryList=l,this.matches=null}clone(){return new fb(this.queryList)}setDirty(){this.queryList.setDirty()}}class pb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const u=l.queries;if(null!==u){const h=null!==l.contentQueries?l.contentQueries[0]:u.length,p=[];for(let g=0;g<h;g++){const b=u.getByIndex(g);p.push(this.queries[b.indexInDeclarationView].clone())}return new pb(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let u=0;u<this.queries.length;u++)null!==Zk(l,u).matches&&this.queries[u].setDirty()}}class GD{constructor(l,u,h=null){this.predicate=l,this.flags=u,this.read=h}}class P_{constructor(l=[]){this.queries=l}elementStart(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,u)}elementEnd(l){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(l)}embeddedTView(l){let u=null;for(let h=0;h<this.length;h++){const p=null!==u?u.length:0,g=this.getByIndex(h).embeddedTView(l,p);g&&(g.indexInDeclarationView=h,null!==u?u.push(g):u=[g])}return null!==u?new P_(u):null}template(l,u){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,u)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class F_{constructor(l,u=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(l,u){this.isApplyingToNode(u)&&this.matchTNode(l,u)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,u){this.elementStart(l,u)}embeddedTView(l,u){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,u),new F_(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==u;)h=h.parent;return u===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,u){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const g=h[p];this.matchTNodeWithReadOption(l,u,q2(u,g)),this.matchTNodeWithReadOption(l,u,kt(u,l,g,!1,!1))}else h===im?4&u.type&&this.matchTNodeWithReadOption(l,u,-1):this.matchTNodeWithReadOption(l,u,kt(u,l,h,!1,!1))}matchTNodeWithReadOption(l,u,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===Kp||p===rm||p===im&&4&u.type)this.addMatch(u.index,-2);else{const g=kt(u,l,p,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,h)}}addMatch(l,u){null===this.matches?this.matches=[l,u]:this.matches.push(l,u)}}function q2(a,l){const u=a.localNames;if(null!==u)for(let h=0;h<u.length;h+=2)if(u[h]===l)return u[h+1];return null}function W2(a,l,u,h){return-1===u?function Z2(a,l){return 11&a.type?_d(a,l):4&a.type?wd(a,l):null}(l,a):-2===u?function Y2(a,l,u){return u===Kp?_d(l,a):u===im?wd(l,a):u===rm?jD(l,a):void 0}(a,l,h):ho(a,a[1],u,l)}function jk(a,l,u,h){const p=l[19].queries[h];if(null===p.matches){const g=a.data,b=u.matches,C=[];for(let I=0;I<b.length;I+=2){const x=b[I];C.push(x<0?null:W2(l,g[x],b[I+1],u.metadata.read))}p.matches=C}return p.matches}function zD(a,l,u,h){const p=a.queries.getByIndex(u),g=p.matches;if(null!==g){const b=jk(a,l,p,u);for(let C=0;C<g.length;C+=2){const I=g[C];if(I>0)h.push(b[C/2]);else{const x=g[C+1],O=l[-I];for(let U=10;U<O.length;U++){const K=O[U];K[17]===K[3]&&zD(K[1],K,x,h)}if(null!==O[9]){const U=O[9];for(let K=0;K<U.length;K++){const ie=U[K];zD(ie[1],ie,x,h)}}}}}return h}function qD(a){const l=Be(),u=Yt(),h=sh();oh(h+1);const p=Zk(u,h);if(a.dirty&&Ja(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?zD(u,l,h,[]):jk(u,l,p,h);a.reset(g,Qp),a.notifyOnChanges()}return!0}return!1}function ZD(a,l,u){const h=Yt();h.firstCreatePass&&(qk(h,new GD(a,l,u),-1),2==(2&l)&&(h.staticViewQueries=!0)),zk(h,Be(),l)}function Gk(a,l,u,h){const p=Yt();if(p.firstCreatePass){const g=Pn();qk(p,new GD(l,u,h),g.index),function K2(a,l){const u=a.contentQueries||(a.contentQueries=[]);l!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,l)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}zk(p,Be(),u)}function WD(){return function N_(a,l){return a[19].queries[l].queryList}(Be(),sh())}function zk(a,l,u){const h=new O_(4==(4&u));wv(a,l,h,h.destroy),null===l[19]&&(l[19]=new pb),l[19].queries.push(new fb(h))}function qk(a,l,u){null===a.queries&&(a.queries=new P_),a.queries.track(new F_(l,u))}function Zk(a,l){return a.queries.getByIndex(l)}function Wk(a,l){return wd(a,l)}function B_(...a){}const Eb=new jn("Application Initializer");let U_=(()=>{class a{constructor(u){this.appInits=u,this.resolve=B_,this.reject=B_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Lv(g))u.push(g);else if(Vv(g)){const b=new Promise((C,I)=>{g.subscribe({complete:C,error:I})});u.push(b)}}Promise.all(u).then(()=>{h()}).catch(p=>{this.reject(p)}),0===u.length&&h(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(R(Eb,8))},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const oI=new jn("AppId",{providedIn:"root",factory:function aI(){return`${lI()}${lI()}${lI()}`}});function lI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cI=new jn("Platform Initializer"),uI=new jn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),dI=new jn("appBootstrapListener");let lV=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const _u=new jn("LocaleId",{providedIn:"root",factory:()=>te(_u,It.Optional|It.SkipSelf)||function hI(){return typeof $localize<"u"&&$localize.locale||Bp}()}),aR=new jn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class fI{constructor(l,u){this.ngModuleFactory=l,this.componentFactories=u}}let cR=(()=>{class a{compileModuleSync(u){return new xD(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const h=this.compileModuleSync(u),g=Ls(qt(u).declarations).reduce((b,C)=>{const I=mt(C);return I&&b.push(new SD(I)),b},[]);return new fI(h,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const pI=(()=>Promise.resolve(0))();function rf(a){typeof Zone>"u"?pI.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Do{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Il(!1),this.onMicrotaskEmpty=new Il(!1),this.onStable=new Il(!1),this.onError=new Il(!1),typeof Zone>"u")throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&u,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function dR(){let a=Wt.requestAnimationFrame,l=Wt.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function mI(a){const l=()=>{!function fR(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Wt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,H_(a),a.isCheckStableRunning=!0,Db(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),H_(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,h,p,g,b,C)=>{try{return gI(a),u.invokeTask(p,g,b,C)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),_I(a)}},onInvoke:(u,h,p,g,b,C,I)=>{try{return gI(a),u.invoke(p,g,b,C,I)}finally{a.shouldCoalesceRunChangeDetection&&l(),_I(a)}},onHasTask:(u,h,p,g)=>{u.hasTask(p,g),h===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,H_(a),Db(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,h,p,g)=>(u.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Do.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Do.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,u,h){return this._inner.run(l,u,h)}runTask(l,u,h,p){const g=this._inner,b=g.scheduleEventTask("NgZoneEvent: "+p,l,hR,B_,B_);try{return g.runTask(b,u,h)}finally{g.cancelTask(b)}}runGuarded(l,u,h){return this._inner.runGuarded(l,u,h)}runOutsideAngular(l){return this._outer.run(l)}}const hR={};function Db(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function H_(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function gI(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function _I(a){a._nesting--,Db(a)}class Ib{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Il,this.onMicrotaskEmpty=new Il,this.onStable=new Il,this.onError=new Il}run(l,u,h){return l.apply(u,h)}runGuarded(l,u,h){return l.apply(u,h)}runOutsideAngular(l){return l()}runTask(l,u,h,p){return l.apply(u,h)}}let _i=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Do.assertNotInAngularZone(),rf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rf(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(u)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,h,p){let g=-1;h&&h>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==g),u(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:p})}whenStable(u,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,h,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(R(Do))},a.\u0275prov=dn({token:a,factory:a.\u0275fac}),a})(),pR=(()=>{class a{constructor(){this._applications=new Map,j_.addToWindow(this)}registerApplication(u,h){this._applications.set(u,h)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,h=!0){return j_.findTestabilityInTree(this,u,h)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();class mR{addToWindow(l){}findTestabilityInTree(l,u,h){return null}}function yI(a){j_=a}let j_=new mR,am=null;const vI=new jn("AllowMultipleToken"),Sb=new jn("PlatformOnDestroy");class fV{constructor(l,u){this.name=l,this.token=u}}function yR(a,l,u=[]){const h=`Platform: ${l}`,p=new jn(h);return(g=[])=>{let b=bI();if(!b||b.injector.get(vI,!1)){const C=[...u,...g,{provide:p,useValue:!0}];a?a(C):function _R(a){if(am&&!am.get(vI,!1))throw new He(400,"");am=a;const l=a.get(vR),u=a.get(cI,null);u&&u.forEach(h=>h())}(function mV(a=[],l){return bl.create({name:l,providers:[{provide:wp,useValue:"platform"},{provide:Sb,useValue:()=>am=null},...a]})}(C,h))}return function pV(a){const l=bI();if(!l)throw new He(401,"");return l}()}}function bI(){return am?.get(vR)??null}let vR=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,h){const C=function Ab(a,l){let u;return u="noop"===a?new Ib:("zone.js"===a?void 0:a)||new Do({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!l?.ngZoneEventCoalescing,shouldCoalesceRunChangeDetection:!!l?.ngZoneRunCoalescing}),u}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),I=[{provide:Do,useValue:C}];return C.run(()=>{const x=bl.create({providers:I,parent:this.injector,name:u.moduleType.name}),O=u.create(x),U=O.injector.get(Dt,null);if(!U)throw new He(402,"");return C.runOutsideAngular(()=>{const K=C.onError.subscribe({next:ie=>{U.handleError(ie)}});O.onDestroy(()=>{xb(this._modules,O),K.unsubscribe()})}),function bR(a,l,u){try{const h=u();return Lv(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(U,C,()=>{const K=O.injector.get(U_);return K.runInitializers(),K.donePromise.then(()=>(function XM(a){Gt(a,"Expected localeId to be defined"),"string"==typeof a&&(JM=a.toLowerCase().replace(/_/g,"-"))}(O.injector.get(_u,Bp)||Bp),this._moduleDoBootstrap(O),O))})})}bootstrapModule(u,h=[]){const p=lm({},h);return function gR(a,l,u){const h=new xD(u);return Promise.resolve(h)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(u){const h=u.injector.get(G_);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new He(403,"");u.instance.ngDoBootstrap(h)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new He(404,"");this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h()),this._injector.get(Sb,null)?.(),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(R(bl))},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function lm(a,l){return Array.isArray(l)?l.reduce(lm,a):{...a,...l}}let G_=(()=>{class a{constructor(u,h,p,g){this._zone=u,this._injector=h,this._exceptionHandler=p,this._initStatus=g,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new F.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new F.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Do.assertNotInAngularZone(),rf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Do.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),O.unsubscribe()}});this.isStable=(0,de.T)(b,C.pipe((0,fe.B)()))}bootstrap(u,h){if(!this._initStatus.done)throw new He(405,"");let p;p=u instanceof ob?u:this._injector.get(Yp).resolveComponentFactory(u),this.componentTypes.push(p.componentType);const g=function hV(a){return a.isBoundToModule}(p)?void 0:this._injector.get(pu),C=p.create(bl.NULL,[],h||p.selector,g),I=C.location.nativeElement,x=C.injector.get(_i,null),O=x&&C.injector.get(pR);return x&&O&&O.registerApplication(I,x),C.onDestroy(()=>{this.detachView(C.hostView),xb(this.components,C),O&&O.unregisterApplication(I)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new He(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const h=u;this._views.push(h),h.attachToAppRef(this)}detachView(u){const h=u;xb(this._views,h),h.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dI,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(R(Do),R(bl),R(Dt),R(U_))},a.\u0275prov=dn({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function xb(a,l){const u=a.indexOf(l);u>-1&&a.splice(u,1)}let CI=!0,Mb=!1;function wR(){return Mb=!0,CI}function CR(){if(Mb)throw new Error("Cannot enable prod mode after platform setup.");CI=!1}let IR=(()=>{class a{}return a.__NG_ELEMENT_ID__=SR,a})();function SR(a){return function gV(a,l,u){if(Tc(a)&&!u){const h=Ui(a.index,l);return new M_(h,h)}return 47&a.type?new M_(l[16],l):null}(Pn(),Be(),16==(16&a))}class Nb{constructor(){}supports(l){return Vh(l)}create(l){return new sf(l)}}const um=(a,l)=>l;class sf{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||um}forEachItem(l){let u;for(u=this._itHead;null!==u;u=u._next)l(u)}forEachOperation(l){let u=this._itHead,h=this._removalsHead,p=0,g=null;for(;u||h;){const b=!h||u&&u.currentIndex<dm(h,p,g)?u:h,C=dm(b,p,g),I=b.currentIndex;if(b===h)p--,h=h._nextRemoved;else if(u=u._next,null==b.previousIndex)p++;else{g||(g=[]);const x=C-p,O=I-p;if(x!=O){for(let K=0;K<x;K++){const ie=K<g.length?g[K]:g[K]=0,_e=ie+K;O<=_e&&_e<x&&(g[K]=ie+1)}g[b.previousIndex]=O-x}}C!==I&&l(b,C,I)}}forEachPreviousItem(l){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachMovedItem(l){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}forEachIdentityChange(l){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)l(u)}diff(l){if(null==l&&(l=[]),!Vh(l))throw new He(900,"");return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,g,b,u=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let C=0;C<this.length;C++)g=l[C],b=this._trackByFn(C,g),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,g,b,C)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,b,C),h=!0),u=u._next}else p=0,function kv(a,l){if(Array.isArray(a))for(let u=0;u<a.length;u++)l(a[u]);else{const u=a[su()]();let h;for(;!(h=u.next()).done;)l(h.value)}}(l,C=>{b=this._trackByFn(p,C),null!==u&&Object.is(u.trackById,b)?(h&&(u=this._verifyReinsertion(u,C,b,p)),Object.is(u.item,C)||this._addIdentityChange(u,C)):(u=this._mismatch(u,C,b,p),h=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,u,h,p){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._reinsertAfter(l,g,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,u)||this._addIdentityChange(l,u),this._moveAfter(l,g,p)):l=this._addAfter(new xR(u,h),g,p),l}_verifyReinsertion(l,u,h,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==g?l=this._reinsertAfter(g,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const u=l._next;this._addToRemovals(this._unlink(l)),l=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,u,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,g=l._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(l,u,h),this._addToMoves(l,h),l}_moveAfter(l,u,h){return this._unlink(l),this._insertAfter(l,u,h),this._addToMoves(l,h),l}_addAfter(l,u,h){return this._insertAfter(l,u,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,u,h){const p=null===u?this._itHead:u._next;return l._next=p,l._prev=u,null===p?this._itTail=l:p._prev=l,null===u?this._itHead=l:u._next=l,null===this._linkedRecords&&(this._linkedRecords=new Lb),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const u=l._prev,h=l._next;return null===u?this._itHead=h:u._next=h,null===h?this._itTail=u:h._prev=u,l}_addToMoves(l,u){return l.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Lb),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,u){return l.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class xR{constructor(l,u){this.item=l,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MR{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,u){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===u||u<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const u=l._prevDup,h=l._nextDup;return null===u?this._head=h:u._nextDup=h,null===h?this._tail=u:h._prevDup=u,null===this._head}}class Lb{constructor(){this.map=new Map}put(l){const u=l.trackById;let h=this.map.get(u);h||(h=new MR,this.map.set(u,h)),h.add(l)}get(l,u){const p=this.map.get(l);return p?p.get(l,u):null}remove(l){const u=l.trackById;return this.map.get(u).remove(l)&&this.map.delete(u),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function dm(a,l,u){const h=a.previousIndex;if(null===h)return h;let p=0;return u&&h<u.length&&(p=u[h]),h+l+p}class Vb{constructor(){}supports(l){return l instanceof Map||Bh(l)}create(){return new kR}}class kR{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let u;for(u=this._mapHead;null!==u;u=u._next)l(u)}forEachPreviousItem(l){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)l(u)}forEachChangedItem(l){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)l(u)}forEachAddedItem(l){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)l(u)}forEachRemovedItem(l){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)l(u)}diff(l){if(l){if(!(l instanceof Map||Bh(l)))throw new He(900,"")}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,h),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(p,h);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let h=u;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,u){if(l){const h=l._prev;return u._next=l,u._prev=h,l._prev=u,h&&(h._next=u),l===this._mapHead&&(this._mapHead=u),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(l,u){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,u);const g=p._prev,b=p._next;return g&&(g._next=b),b&&(b._prev=g),p._next=null,p._prev=null,p}const h=new RR(l);return this._records.set(l,h),h.currentValue=u,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,u){Object.is(u,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=u,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,u){l instanceof Map?l.forEach(u):Object.keys(l).forEach(h=>u(l[h],h))}}class RR{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function SI(){return new Bb([new Nb])}let Bb=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(null!=h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||SI()),deps:[[a,new Ai,new ht]]}}find(u){const h=this.factories.find(p=>p.supports(u));if(null!=h)return h;throw new He(901,"")}}return a.\u0275prov=dn({token:a,providedIn:"root",factory:SI}),a})();function TI(){return new AI([new Vb])}let AI=(()=>{class a{constructor(u){this.factories=u}static create(u,h){if(h){const p=h.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:h=>a.create(u,h||TI()),deps:[[a,new Ai,new ht]]}}find(u){const h=this.factories.find(g=>g.supports(u));if(h)return h;throw new He(901,"")}}return a.\u0275prov=dn({token:a,providedIn:"root",factory:TI}),a})();const FR=yR(null,"core",[]);let NR=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(R(G_))},a.\u0275mod=ne({type:a}),a.\u0275inj=on({}),a})()},3942:(yt,Pe,V)=>{V.d(Pe,{Z:()=>He});var o=V(2090),H=V(4859),F=V(9681),de=V(1877);class fe{constructor(ve,Te){this._delegate=ve,this.firebase=Te,(0,F._addComponent)(ve,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,F.deleteApp)(this._delegate)))}_getService(ve,Te=F._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(ve);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Xe=Qe.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Te})}_removeServiceInstance(ve,Te=F._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Te)}_addComponent(ve){(0,F._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,F._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new o.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function De(){const We=function pe(We){const ve={},Te={__esModule:!0,initializeApp:function Ue(ae,ye={}){const Se=F.initializeApp(ae,ye);if((0,o.r3)(ve,Se.name))return ve[Se.name];const ee=new We(Se,Te);return ve[Se.name]=ee,ee},app:Qe,registerVersion:F.registerVersion,setLogLevel:F.setLogLevel,onLog:F.onLog,apps:null,SDK_VERSION:F.SDK_VERSION,INTERNAL:{registerComponent:function Ae(ae){const ye=ae.name,Se=ye.replace("-compat","");if(F._registerComponent(ae)&&"PUBLIC"===ae.type){const ee=(le=Qe())=>{if("function"!=typeof le[Se])throw se.create("invalid-app-argument",{appName:ye});return le[Se]()};void 0!==ae.serviceProps&&(0,o.ZB)(ee,ae.serviceProps),Te[Se]=ee,We.prototype[Se]=function(...le){return this._getService.bind(this,ye).apply(this,ae.multipleInstances?le:[])}}return"PUBLIC"===ae.type?Te[Se]:null},removeApp:function Xe(ae){delete ve[ae]},useAsService:function Je(ae,ye){return"serverAuth"===ye?null:ye},modularAPIs:F}};function Qe(ae){if(!(0,o.r3)(ve,ae=ae||F._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:ae});return ve[ae]}return Te.default=Te,Object.defineProperty(Te,"apps",{get:function ke(){return Object.keys(ve).map(ae=>ve[ae])}}),Qe.App=We,Te}(fe);return We.INTERNAL=Object.assign(Object.assign({},We.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ve(Te){(0,o.ZB)(We,Te)},createSubscribe:o.ne,ErrorFactory:o.LL,deepExtend:o.ZB}),We}(),Z=new de.Yd("@firebase/app-compat");if((0,o.jU)()&&void 0!==self.firebase){Z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const We=self.firebase.SDK_VERSION;We&&We.indexOf("LITE")>=0&&Z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const He=q;!function Ne(We){(0,F.registerVersion)("@firebase/app-compat","0.1.34",We)}()},9681:(yt,Pe,V)=>{V.r(Pe),V.d(Pe,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Ur,_DEFAULT_ENTRY_NAME:()=>Gt,_addComponent:()=>Dn,_addOrOverwriteComponent:()=>dn,_apps:()=>En,_clearComponents:()=>as,_components:()=>ti,_getProvider:()=>on,_registerComponent:()=>zt,_removeServiceInstance:()=>Bn,deleteApp:()=>It,getApp:()=>ni,getApps:()=>Ss,initializeApp:()=>ls,onLog:()=>vn,registerVersion:()=>Un,setLogLevel:()=>wi});var o=V(5861),H=V(4859),F=V(1877),de=V(2090),fe=V(8766);class we{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(Y=>{if(function se(j){const z=j.getComponent();return"VERSION"===(null==z?void 0:z.type)}(Y)){const Re=Y.getImmediate();return`${Re.library}/${Re.version}`}return null}).filter(Y=>Y).join(" ")}}const pe="@firebase/app",q=new F.Yd("@firebase/app"),Gt="[DEFAULT]",et={[pe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},En=new Map,ti=new Map;function Dn(j,z){try{j.container.addComponent(z)}catch(Y){q.debug(`Component ${z.name} failed to register with FirebaseApp ${j.name}`,Y)}}function dn(j,z){j.container.addOrOverwriteComponent(z)}function zt(j){const z=j.name;if(ti.has(z))return q.debug(`There were multiple attempts to register component ${z}.`),!1;ti.set(z,j);for(const Y of En.values())Dn(Y,j);return!0}function on(j,z){const Y=j.container.getProvider("heartbeat").getImmediate({optional:!0});return Y&&Y.triggerHeartbeat(),j.container.getProvider(z)}function Bn(j,z,Y=Gt){on(j,z).clearInstance(Y)}function as(){ti.clear()}const Zn=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ks{constructor(z,Y,Re){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},Y),this._name=Y.name,this._automaticDataCollectionEnabled=Y.automaticDataCollectionEnabled,this._container=Re,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw Zn.create("app-deleted",{appName:this._name})}}const Ur="9.10.0";function ls(j,z={}){"object"!=typeof z&&(z={name:z});const Y=Object.assign({name:Gt,automaticDataCollectionEnabled:!1},z),Re=Y.name;if("string"!=typeof Re||!Re)throw Zn.create("bad-app-name",{appName:String(Re)});const Ze=En.get(Re);if(Ze){if((0,de.vZ)(j,Ze.options)&&(0,de.vZ)(Y,Ze.config))return Ze;throw Zn.create("duplicate-app",{appName:Re})}const Mt=new H.H0(Re);for(const an of ti.values())Mt.addComponent(an);const hn=new Ks(j,Y,Mt);return En.set(Re,hn),hn}function ni(j=Gt){const z=En.get(j);if(!z)throw Zn.create("no-app",{appName:j});return z}function Ss(){return Array.from(En.values())}function It(j){return ar.apply(this,arguments)}function ar(){return(ar=(0,o.Z)(function*(j){const z=j.name;En.has(z)&&(En.delete(z),yield Promise.all(j.container.getProviders().map(Y=>Y.delete())),j.isDeleted=!0)})).apply(this,arguments)}function Un(j,z,Y){var Re;let Ze=null!==(Re=et[j])&&void 0!==Re?Re:j;Y&&(Ze+=`-${Y}`);const Mt=Ze.match(/\s|\//),hn=z.match(/\s|\//);if(Mt||hn){const an=[`Unable to register library "${Ze}" with version "${z}":`];return Mt&&an.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),Mt&&hn&&an.push("and"),hn&&an.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void q.warn(an.join(" "))}zt(new H.wA(`${Ze}-version`,()=>({library:Ze,version:z}),"VERSION"))}function vn(j,z){if(null!==j&&"function"!=typeof j)throw Zn.create("invalid-log-argument");(0,F.Am)(j,z)}function wi(j){(0,F.Ub)(j)}const $n="firebase-heartbeat-store";let Ei=null;function Qs(){return Ei||(Ei=(0,fe.X3)("firebase-heartbeat-database",1,{upgrade:(j,z)=>{0===z&&j.createObjectStore($n)}}).catch(j=>{throw Zn.create("idb-open",{originalErrorMessage:j.message})})),Ei}function vt(){return(vt=(0,o.Z)(function*(j){var z;try{return(yield Qs()).transaction($n).objectStore($n).get(Hr(j))}catch(Y){if(Y instanceof de.ZR)q.warn(Y.message);else{const Re=Zn.create("idb-get",{originalErrorMessage:null===(z=Y)||void 0===z?void 0:z.message});q.warn(Re.message)}}})).apply(this,arguments)}function dt(j,z){return $r.apply(this,arguments)}function $r(){return($r=(0,o.Z)(function*(j,z){var Y;try{const Ze=(yield Qs()).transaction($n,"readwrite");return yield Ze.objectStore($n).put(z,Hr(j)),Ze.done}catch(Re){if(Re instanceof de.ZR)q.warn(Re.message);else{const Ze=Zn.create("idb-set",{originalErrorMessage:null===(Y=Re)||void 0===Y?void 0:Y.message});q.warn(Ze.message)}}})).apply(this,arguments)}function Hr(j){return`${j.name}!${j.options.appId}`}class ii{constructor(z){this.container=z,this._heartbeatsCache=null;const Y=this.container.getProvider("app").getImmediate();this._storage=new wr(Y),this._heartbeatsCachePromise=this._storage.read().then(Re=>(this._heartbeatsCache=Re,Re))}triggerHeartbeat(){var z=this;return(0,o.Z)(function*(){const Re=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ze=xn();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==Ze&&!z._heartbeatsCache.heartbeats.some(Mt=>Mt.date===Ze))return z._heartbeatsCache.heartbeats.push({date:Ze,agent:Re}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(Mt=>{const hn=new Date(Mt.date).valueOf();return Date.now()-hn<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,o.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const Y=xn(),{heartbeatsToSend:Re,unsentEntries:Ze}=function bt(j,z=1024){const Y=[];let Re=j.slice();for(const Ze of j){const Mt=Y.find(hn=>hn.agent===Ze.agent);if(Mt){if(Mt.dates.push(Ze.date),W(Y)>z){Mt.dates.pop();break}}else if(Y.push({agent:Ze.agent,dates:[Ze.date]}),W(Y)>z){Y.pop();break}Re=Re.slice(1)}return{heartbeatsToSend:Y,unsentEntries:Re}}(z._heartbeatsCache.heartbeats),Mt=(0,de.L)(JSON.stringify({version:2,heartbeats:Re}));return z._heartbeatsCache.lastSentHeartbeatDate=Y,Ze.length>0?(z._heartbeatsCache.heartbeats=Ze,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),Mt})()}}function xn(){return(new Date).toISOString().substring(0,10)}class wr{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,o.Z)(function*(){return!!(0,de.hl)()&&(0,de.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,o.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function Zt(j){return vt.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var Y=this;return(0,o.Z)(function*(){var Re;if(yield Y._canUseIndexedDBPromise){const Mt=yield Y.read();return dt(Y.app,{lastSentHeartbeatDate:null!==(Re=z.lastSentHeartbeatDate)&&void 0!==Re?Re:Mt.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var Y=this;return(0,o.Z)(function*(){var Re;if(yield Y._canUseIndexedDBPromise){const Mt=yield Y.read();return dt(Y.app,{lastSentHeartbeatDate:null!==(Re=z.lastSentHeartbeatDate)&&void 0!==Re?Re:Mt.lastSentHeartbeatDate,heartbeats:[...Mt.heartbeats,...z.heartbeats]})}})()}}function W(j){return(0,de.L)(JSON.stringify({version:2,heartbeats:j})).length}!function G(j){zt(new H.wA("platform-logger",z=>new we(z),"PRIVATE")),zt(new H.wA("heartbeat",z=>new ii(z),"PRIVATE")),Un(pe,"0.7.33",j),Un(pe,"0.7.33","esm2017"),Un("fire-js","")}("")},4859:(yt,Pe,V)=>{V.d(Pe,{H0:()=>pe,wA:()=>F,zt:()=>fe});var o=V(5861),H=V(2090);class F{constructor(q,Z,ce){this.name=q,this.instanceFactory=Z,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const de="[DEFAULT]";class fe{constructor(q,Z){this.name=q,this.container=Z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const Z=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(Z)){const ce=new H.BH;if(this.instancesDeferred.set(Z,ce),this.isInitialized(Z)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:Z});Ye&&ce.resolve(Ye)}catch{}}return this.instancesDeferred.get(Z).promise}getImmediate(q){var Z;const ce=this.normalizeInstanceIdentifier(null==q?void 0:q.identifier),Ye=null!==(Z=null==q?void 0:q.optional)&&void 0!==Z&&Z;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(Ne){if(Ye)return null;throw Ne}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function se(De){return"EAGER"===De.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:de})}catch{}for(const[Z,ce]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(Z);try{const Ne=this.getOrInitializeService({instanceIdentifier:Ye});ce.resolve(Ne)}catch{}}}}clearInstance(q=de){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,o.Z)(function*(){const Z=Array.from(q.instances.values());yield Promise.all([...Z.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...Z.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=de){return this.instances.has(q)}getOptions(q=de){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:Z={}}=q,ce=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ce,options:Z});for(const[Ne,He]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier(Ne)&&He.resolve(Ye);return Ye}onInit(q,Z){var ce;const Ye=this.normalizeInstanceIdentifier(Z),Ne=null!==(ce=this.onInitCallbacks.get(Ye))&&void 0!==ce?ce:new Set;Ne.add(q),this.onInitCallbacks.set(Ye,Ne);const He=this.instances.get(Ye);return He&&q(He,Ye),()=>{Ne.delete(q)}}invokeOnInitCallbacks(q,Z){const ce=this.onInitCallbacks.get(Z);if(ce)for(const Ye of ce)try{Ye(q,Z)}catch{}}getOrInitializeService({instanceIdentifier:q,options:Z={}}){let ce=this.instances.get(q);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(De=q,De===de?void 0:De),options:Z}),this.instances.set(q,ce),this.instancesOptions.set(q,Z),this.invokeOnInitCallbacks(ce,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,ce)}catch{}var De;return ce||null}normalizeInstanceIdentifier(q=de){return this.component?this.component.multipleInstances?q:de:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const Z=this.getProvider(q.name);if(Z.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);Z.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const Z=new fe(q,this);return this.providers.set(q,Z),Z}getProviders(){return Array.from(this.providers.values())}}},1877:(yt,Pe,V)=>{V.d(Pe,{Am:()=>De,Ub:()=>pe,Yd:()=>se,in:()=>H});const o=[];var H=(()=>{return(q=H||(H={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",H;var q})();const F={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},de=H.INFO,fe={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},we=(q,Z,...ce)=>{if(Z<q.logLevel)return;const Ye=(new Date).toISOString(),Ne=fe[Z];if(!Ne)throw new Error(`Attempted to log a message with an invalid logType (value: ${Z})`);console[Ne](`[${Ye}]  ${q.name}:`,...ce)};class se{constructor(Z){this.name=Z,this._logLevel=de,this._logHandler=we,this._userLogHandler=null,o.push(this)}get logLevel(){return this._logLevel}set logLevel(Z){if(!(Z in H))throw new TypeError(`Invalid value "${Z}" assigned to \`logLevel\``);this._logLevel=Z}setLogLevel(Z){this._logLevel="string"==typeof Z?F[Z]:Z}get logHandler(){return this._logHandler}set logHandler(Z){if("function"!=typeof Z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Z}get userLogHandler(){return this._userLogHandler}set userLogHandler(Z){this._userLogHandler=Z}debug(...Z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...Z),this._logHandler(this,H.DEBUG,...Z)}log(...Z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...Z),this._logHandler(this,H.VERBOSE,...Z)}info(...Z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...Z),this._logHandler(this,H.INFO,...Z)}warn(...Z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...Z),this._logHandler(this,H.WARN,...Z)}error(...Z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...Z),this._logHandler(this,H.ERROR,...Z)}}function pe(q){o.forEach(Z=>{Z.setLogLevel(q)})}function De(q,Z){for(const ce of o){let Ye=null;Z&&Z.level&&(Ye=F[Z.level]),ce.userLogHandler=null===q?null:(Ne,He,...We)=>{const ve=We.map(Te=>{if(null==Te)return null;if("string"==typeof Te)return Te;if("number"==typeof Te||"boolean"==typeof Te)return Te.toString();if(Te instanceof Error)return Te.message;try{return JSON.stringify(Te)}catch{return null}}).filter(Te=>Te).join(" ");He>=(Ye??Ne.logLevel)&&q({level:H[He].toLowerCase(),message:ve,args:We,type:Ne.name})}}}},8766:(yt,Pe,V)=>{V.d(Pe,{Lj:()=>Ue,X3:()=>Qe});var o=V(5861);let F,de;const se=new WeakMap,pe=new WeakMap,De=new WeakMap,q=new WeakMap,Z=new WeakMap;let Ne={get(ye,Se,ee){if(ye instanceof IDBTransaction){if("done"===Se)return pe.get(ye);if("objectStoreNames"===Se)return ye.objectStoreNames||De.get(ye);if("store"===Se)return ee.objectStoreNames[1]?void 0:ee.objectStore(ee.objectStoreNames[0])}return Te(ye[Se])},set:(ye,Se,ee)=>(ye[Se]=ee,!0),has:(ye,Se)=>ye instanceof IDBTransaction&&("done"===Se||"store"===Se)||Se in ye};function ve(ye){return"function"==typeof ye?function We(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function we(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...Se){return ye.apply(Xe(this),Se),Te(se.get(this))}:function(...Se){return Te(ye.apply(Xe(this),Se))}:function(Se,...ee){const le=ye.call(Xe(this),Se,...ee);return De.set(le,Se.sort?Se.sort():[Se]),Te(le)}}(ye):(ye instanceof IDBTransaction&&function Ye(ye){if(pe.has(ye))return;const Se=new Promise((ee,le)=>{const ue=()=>{ye.removeEventListener("complete",Ee),ye.removeEventListener("error",me),ye.removeEventListener("abort",me)},Ee=()=>{ee(),ue()},me=()=>{le(ye.error||new DOMException("AbortError","AbortError")),ue()};ye.addEventListener("complete",Ee),ye.addEventListener("error",me),ye.addEventListener("abort",me)});pe.set(ye,Se)}(ye),((ye,Se)=>Se.some(ee=>ye instanceof ee))(ye,function fe(){return F||(F=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,Ne):ye)}function Te(ye){if(ye instanceof IDBRequest)return function ce(ye){const Se=new Promise((ee,le)=>{const ue=()=>{ye.removeEventListener("success",Ee),ye.removeEventListener("error",me)},Ee=()=>{ee(Te(ye.result)),ue()},me=()=>{le(ye.error),ue()};ye.addEventListener("success",Ee),ye.addEventListener("error",me)});return Se.then(ee=>{ee instanceof IDBCursor&&se.set(ee,ye)}).catch(()=>{}),Z.set(Se,ye),Se}(ye);if(q.has(ye))return q.get(ye);const Se=ve(ye);return Se!==ye&&(q.set(ye,Se),Z.set(Se,ye)),Se}const Xe=ye=>Z.get(ye);function Qe(ye,Se,{blocked:ee,upgrade:le,blocking:ue,terminated:Ee}={}){const me=indexedDB.open(ye,Se),je=Te(me);return le&&me.addEventListener("upgradeneeded",Ct=>{le(Te(me.result),Ct.oldVersion,Ct.newVersion,Te(me.transaction))}),ee&&me.addEventListener("blocked",()=>ee()),je.then(Ct=>{Ee&&Ct.addEventListener("close",()=>Ee()),ue&&Ct.addEventListener("versionchange",()=>ue())}).catch(()=>{}),je}function Ue(ye,{blocked:Se}={}){const ee=indexedDB.deleteDatabase(ye);return Se&&ee.addEventListener("blocked",()=>Se()),Te(ee).then(()=>{})}const ke=["get","getKey","getAll","getAllKeys","count"],Ae=["put","add","delete","clear"],Je=new Map;function ae(ye,Se){if(!(ye instanceof IDBDatabase)||Se in ye||"string"!=typeof Se)return;if(Je.get(Se))return Je.get(Se);const ee=Se.replace(/FromIndex$/,""),le=Se!==ee,ue=Ae.includes(ee);if(!(ee in(le?IDBIndex:IDBObjectStore).prototype)||!ue&&!ke.includes(ee))return;const Ee=function(){var me=(0,o.Z)(function*(je,...Ct){const rn=this.transaction(je,ue?"readwrite":"readonly");let Gt=rn.store;return le&&(Gt=Gt.index(Ct.shift())),(yield Promise.all([Gt[ee](...Ct),ue&&rn.done]))[0]});return function(Ct){return me.apply(this,arguments)}}();return Je.set(Se,Ee),Ee}!function He(ye){Ne=ye(Ne)}(ye=>({...ye,get:(Se,ee,le)=>ae(Se,ee)||ye.get(Se,ee,le),has:(Se,ee)=>!!ae(Se,ee)||ye.has(Se,ee)}))},5861:(yt,Pe,V)=>{function o(F,de,fe,we,se,pe,De){try{var q=F[pe](De),Z=q.value}catch(ce){return void fe(ce)}q.done?de(Z):Promise.resolve(Z).then(we,se)}function H(F){return function(){var de=this,fe=arguments;return new Promise(function(we,se){var pe=F.apply(de,fe);function De(Z){o(pe,we,se,De,q,"next",Z)}function q(Z){o(pe,we,se,De,q,"throw",Z)}De(void 0)})}}V.d(Pe,{Z:()=>H})}},yt=>{yt(yt.s=5279)}]);